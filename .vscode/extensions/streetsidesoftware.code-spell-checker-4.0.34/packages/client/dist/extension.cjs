"use strict";var Xj=Object.create;var yd=Object.defineProperty;var Yj=Object.getOwnPropertyDescriptor;var Qj=Object.getOwnPropertyNames;var Zj=Object.getPrototypeOf,eB=Object.prototype.hasOwnProperty;var F=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),HE=(t,e)=>{for(var n in e)yd(t,n,{get:e[n],enumerable:!0})},md=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Qj(e))!eB.call(t,r)&&r!==n&&yd(t,r,{get:()=>e[r],enumerable:!(i=Yj(e,r))||i.enumerable});return t},zE=(t,e,n)=>(md(t,e,"default"),n&&md(n,e,"default")),De=(t,e,n)=>(n=t!=null?Xj(Zj(t)):{},md(e||!t||!t.__esModule?yd(n,"default",{value:t,enumerable:!0}):n,t)),tB=t=>md(yd({},"__esModule",{value:!0}),t);var gk=F(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.ConfigFields=void 0;xd.ConfigFields={allowCompoundWords:"allowCompoundWords",cache:"cache",caseSensitive:"caseSensitive",description:"description",dictionaries:"dictionaries",dictionaryDefinitions:"dictionaryDefinitions",enabled:"enabled",enabledLanguageIds:"enabledLanguageIds",enableFiletypes:"enableFiletypes",enabledFileTypes:"enabledFileTypes",enableGlobDot:"enableGlobDot",failFast:"failFast",features:"features",files:"files",flagWords:"flagWords",gitignoreRoot:"gitignoreRoot",globRoot:"globRoot",ignorePaths:"ignorePaths",ignoreRegExpList:"ignoreRegExpList",ignoreWords:"ignoreWords",ignoreRandomStrings:"ignoreRandomStrings",import:"import",includeRegExpList:"includeRegExpList",language:"language",languageId:"languageId",languageSettings:"languageSettings",loadDefaultConfiguration:"loadDefaultConfiguration",maxDuplicateProblems:"maxDuplicateProblems",maxNumberOfProblems:"maxNumberOfProblems",minWordLength:"minWordLength",minRandomLength:"minRandomLength",name:"name",noConfigSearch:"noConfigSearch",noSuggestDictionaries:"noSuggestDictionaries",numSuggestions:"numSuggestions",overrides:"overrides",patterns:"patterns",pnpFiles:"pnpFiles",readonly:"readonly",reporters:"reporters",showStatus:"showStatus",spellCheckDelayMs:"spellCheckDelayMs",suggestionNumChanges:"suggestionNumChanges",suggestionsTimeout:"suggestionsTimeout",suggestWords:"suggestWords",useGitignore:"useGitignore",usePnP:"usePnP",userWords:"userWords",validateDirectives:"validateDirectives",words:"words",parser:"parser"}});var yk=F(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.MessageTypes=da.IssueType=void 0;var mk;(function(t){t[t.spelling=0]="spelling",t[t.directive=1]="directive"})(mk||(da.IssueType=mk={}));da.MessageTypes={Debug:"Debug",Info:"Info",Warning:"Warning"}});var Ck=F(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.defaultCSpellSettings=void 0;Ed.defaultCSpellSettings={ignoreRandomStrings:!0,minRandomLength:40}});var vk=F(ty=>{"use strict";Object.defineProperty(ty,"__esModule",{value:!0});ty.defineConfig=_B;function _B(t){return t}});var bk=F(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.defineConfig=_i.defaultCSpellSettings=_i.MessageTypes=_i.IssueType=_i.ConfigFields=void 0;var NB=gk();Object.defineProperty(_i,"ConfigFields",{enumerable:!0,get:function(){return NB.ConfigFields}});var Sk=yk();Object.defineProperty(_i,"IssueType",{enumerable:!0,get:function(){return Sk.IssueType}});Object.defineProperty(_i,"MessageTypes",{enumerable:!0,get:function(){return Sk.MessageTypes}});var OB=Ck();Object.defineProperty(_i,"defaultCSpellSettings",{enumerable:!0,get:function(){return OB.defaultCSpellSettings}});var LB=vk();Object.defineProperty(_i,"defineConfig",{enumerable:!0,get:function(){return LB.defineConfig}})});var $k=F((nu,my)=>{(function(e,n){typeof nu=="object"&&typeof my=="object"?my.exports=n():typeof define=="function"&&define.amd?define([],n):typeof nu=="object"?nu.esprima=n():e.esprima=n()})(nu,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(3),s=n(8),o=n(15);function a(p,l,d){var h=null,m=function(U,ee){d&&d(U,ee),h&&h.visit(U,ee)},C=typeof d=="function"?m:null,D=!1;if(l){D=typeof l.comment=="boolean"&&l.comment;var w=typeof l.attachComment=="boolean"&&l.attachComment;(D||w)&&(h=new i.CommentHandler,h.attach=w,l.comment=!0,C=m)}var k=!1;l&&typeof l.sourceType=="string"&&(k=l.sourceType==="module");var A;l&&typeof l.jsx=="boolean"&&l.jsx?A=new r.JSXParser(p,l,C):A=new s.Parser(p,l,C);var B=k?A.parseModule():A.parseScript(),W=B;return D&&h&&(W.comments=h.comments),A.config.tokens&&(W.tokens=A.tokens),A.config.tolerant&&(W.errors=A.errorHandler.errors),W}e.parse=a;function c(p,l,d){var h=l||{};return h.sourceType="module",a(p,h,d)}e.parseModule=c;function u(p,l,d){var h=l||{};return h.sourceType="script",a(p,h,d)}e.parseScript=u;function f(p,l,d){var h=new o.Tokenizer(p,l),m;m=[];try{for(;;){var C=h.getNextToken();if(!C)break;d&&(C=d(C)),m.push(C)}}catch(D){h.errorHandler.tolerate(D)}return h.errorHandler.tolerant&&(m.errors=h.errors()),m}e.tokenize=f;var g=n(2);e.Syntax=g.Syntax,e.version="4.0.1"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(){function s(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return s.prototype.insertInnerComments=function(o,a){if(o.type===i.Syntax.BlockStatement&&o.body.length===0){for(var c=[],u=this.leading.length-1;u>=0;--u){var f=this.leading[u];a.end.offset>=f.start&&(c.unshift(f.comment),this.leading.splice(u,1),this.trailing.splice(u,1))}c.length&&(o.innerComments=c)}},s.prototype.findTrailingComments=function(o){var a=[];if(this.trailing.length>0){for(var c=this.trailing.length-1;c>=0;--c){var u=this.trailing[c];u.start>=o.end.offset&&a.unshift(u.comment)}return this.trailing.length=0,a}var f=this.stack[this.stack.length-1];if(f&&f.node.trailingComments){var g=f.node.trailingComments[0];g&&g.range[0]>=o.end.offset&&(a=f.node.trailingComments,delete f.node.trailingComments)}return a},s.prototype.findLeadingComments=function(o){for(var a=[],c;this.stack.length>0;){var u=this.stack[this.stack.length-1];if(u&&u.start>=o.start.offset)c=u.node,this.stack.pop();else break}if(c){for(var f=c.leadingComments?c.leadingComments.length:0,g=f-1;g>=0;--g){var p=c.leadingComments[g];p.range[1]<=o.start.offset&&(a.unshift(p),c.leadingComments.splice(g,1))}return c.leadingComments&&c.leadingComments.length===0&&delete c.leadingComments,a}for(var g=this.leading.length-1;g>=0;--g){var u=this.leading[g];u.start<=o.start.offset&&(a.unshift(u.comment),this.leading.splice(g,1))}return a},s.prototype.visitNode=function(o,a){if(!(o.type===i.Syntax.Program&&o.body.length>0)){this.insertInnerComments(o,a);var c=this.findTrailingComments(a),u=this.findLeadingComments(a);u.length>0&&(o.leadingComments=u),c.length>0&&(o.trailingComments=c),this.stack.push({node:o,start:a.start.offset})}},s.prototype.visitComment=function(o,a){var c=o.type[0]==="L"?"Line":"Block",u={type:c,value:o.value};if(o.range&&(u.range=o.range),o.loc&&(u.loc=o.loc),this.comments.push(u),this.attach){var f={comment:{type:c,value:o.value,range:[a.start.offset,a.end.offset]},start:a.start.offset};o.loc&&(f.comment.loc=o.loc),o.type=c,this.leading.push(f),this.trailing.push(f)}},s.prototype.visit=function(o,a){o.type==="LineComment"?this.visitComment(o,a):o.type==="BlockComment"?this.visitComment(o,a):this.attach&&this.visitNode(o,a)},s}();e.CommentHandler=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){l(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),s=n(5),o=n(6),a=n(7),c=n(8),u=n(13),f=n(14);u.TokenName[100]="JSXIdentifier",u.TokenName[101]="JSXText";function g(l){var d;switch(l.type){case o.JSXSyntax.JSXIdentifier:var h=l;d=h.name;break;case o.JSXSyntax.JSXNamespacedName:var m=l;d=g(m.namespace)+":"+g(m.name);break;case o.JSXSyntax.JSXMemberExpression:var C=l;d=g(C.object)+"."+g(C.property);break;default:break}return d}var p=function(l){i(d,l);function d(h,m,C){return l.call(this,h,m,C)||this}return d.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():l.prototype.parsePrimaryExpression.call(this)},d.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},d.prototype.finishJSX=function(){this.nextToken()},d.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},d.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},d.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},d.prototype.scanXHTMLEntity=function(h){for(var m="&",C=!0,D=!1,w=!1,k=!1;!this.scanner.eof()&&C&&!D;){var A=this.scanner.source[this.scanner.index];if(A===h)break;if(D=A===";",m+=A,++this.scanner.index,!D)switch(m.length){case 2:w=A==="#";break;case 3:w&&(k=A==="x",C=k||r.Character.isDecimalDigit(A.charCodeAt(0)),w=w&&!k);break;default:C=C&&!(w&&!r.Character.isDecimalDigit(A.charCodeAt(0))),C=C&&!(k&&!r.Character.isHexDigit(A.charCodeAt(0)));break}}if(C&&D&&m.length>2){var B=m.substr(1,m.length-2);w&&B.length>1?m=String.fromCharCode(parseInt(B.substr(1),10)):k&&B.length>2?m=String.fromCharCode(parseInt("0"+B.substr(1),16)):!w&&!k&&f.XHTMLEntities[B]&&(m=f.XHTMLEntities[B])}return m},d.prototype.lexJSX=function(){var h=this.scanner.source.charCodeAt(this.scanner.index);if(h===60||h===62||h===47||h===58||h===61||h===123||h===125){var m=this.scanner.source[this.scanner.index++];return{type:7,value:m,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index}}if(h===34||h===39){for(var C=this.scanner.index,D=this.scanner.source[this.scanner.index++],w="";!this.scanner.eof();){var k=this.scanner.source[this.scanner.index++];if(k===D)break;k==="&"?w+=this.scanXHTMLEntity(D):w+=k}return{type:8,value:w,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:C,end:this.scanner.index}}if(h===46){var A=this.scanner.source.charCodeAt(this.scanner.index+1),B=this.scanner.source.charCodeAt(this.scanner.index+2),m=A===46&&B===46?"...":".",C=this.scanner.index;return this.scanner.index+=m.length,{type:7,value:m,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:C,end:this.scanner.index}}if(h===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(r.Character.isIdentifierStart(h)&&h!==92){var C=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var k=this.scanner.source.charCodeAt(this.scanner.index);if(r.Character.isIdentifierPart(k)&&k!==92)++this.scanner.index;else if(k===45)++this.scanner.index;else break}var W=this.scanner.source.slice(C,this.scanner.index);return{type:100,value:W,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:C,end:this.scanner.index}}return this.scanner.lex()},d.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var h=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(h)),h},d.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var h=this.scanner.index,m="";!this.scanner.eof();){var C=this.scanner.source[this.scanner.index];if(C==="{"||C==="<")break;++this.scanner.index,m+=C,r.Character.isLineTerminator(C.charCodeAt(0))&&(++this.scanner.lineNumber,C==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var D={type:101,value:m,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:h,end:this.scanner.index};return m.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(D)),D},d.prototype.peekJSXToken=function(){var h=this.scanner.saveState();this.scanner.scanComments();var m=this.lexJSX();return this.scanner.restoreState(h),m},d.prototype.expectJSX=function(h){var m=this.nextJSXToken();(m.type!==7||m.value!==h)&&this.throwUnexpectedToken(m)},d.prototype.matchJSX=function(h){var m=this.peekJSXToken();return m.type===7&&m.value===h},d.prototype.parseJSXIdentifier=function(){var h=this.createJSXNode(),m=this.nextJSXToken();return m.type!==100&&this.throwUnexpectedToken(m),this.finalize(h,new s.JSXIdentifier(m.value))},d.prototype.parseJSXElementName=function(){var h=this.createJSXNode(),m=this.parseJSXIdentifier();if(this.matchJSX(":")){var C=m;this.expectJSX(":");var D=this.parseJSXIdentifier();m=this.finalize(h,new s.JSXNamespacedName(C,D))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var w=m;this.expectJSX(".");var k=this.parseJSXIdentifier();m=this.finalize(h,new s.JSXMemberExpression(w,k))}return m},d.prototype.parseJSXAttributeName=function(){var h=this.createJSXNode(),m,C=this.parseJSXIdentifier();if(this.matchJSX(":")){var D=C;this.expectJSX(":");var w=this.parseJSXIdentifier();m=this.finalize(h,new s.JSXNamespacedName(D,w))}else m=C;return m},d.prototype.parseJSXStringLiteralAttribute=function(){var h=this.createJSXNode(),m=this.nextJSXToken();m.type!==8&&this.throwUnexpectedToken(m);var C=this.getTokenRaw(m);return this.finalize(h,new a.Literal(m.value,C))},d.prototype.parseJSXExpressionAttribute=function(){var h=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var m=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(h,new s.JSXExpressionContainer(m))},d.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},d.prototype.parseJSXNameValueAttribute=function(){var h=this.createJSXNode(),m=this.parseJSXAttributeName(),C=null;return this.matchJSX("=")&&(this.expectJSX("="),C=this.parseJSXAttributeValue()),this.finalize(h,new s.JSXAttribute(m,C))},d.prototype.parseJSXSpreadAttribute=function(){var h=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var m=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(h,new s.JSXSpreadAttribute(m))},d.prototype.parseJSXAttributes=function(){for(var h=[];!this.matchJSX("/")&&!this.matchJSX(">");){var m=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();h.push(m)}return h},d.prototype.parseJSXOpeningElement=function(){var h=this.createJSXNode();this.expectJSX("<");var m=this.parseJSXElementName(),C=this.parseJSXAttributes(),D=this.matchJSX("/");return D&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(h,new s.JSXOpeningElement(m,D,C))},d.prototype.parseJSXBoundaryElement=function(){var h=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var m=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(h,new s.JSXClosingElement(m))}var C=this.parseJSXElementName(),D=this.parseJSXAttributes(),w=this.matchJSX("/");return w&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(h,new s.JSXOpeningElement(C,w,D))},d.prototype.parseJSXEmptyExpression=function(){var h=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(h,new s.JSXEmptyExpression)},d.prototype.parseJSXExpressionContainer=function(){var h=this.createJSXNode();this.expectJSX("{");var m;return this.matchJSX("}")?(m=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),m=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(h,new s.JSXExpressionContainer(m))},d.prototype.parseJSXChildren=function(){for(var h=[];!this.scanner.eof();){var m=this.createJSXChildNode(),C=this.nextJSXText();if(C.start<C.end){var D=this.getTokenRaw(C),w=this.finalize(m,new s.JSXText(C.value,D));h.push(w)}if(this.scanner.source[this.scanner.index]==="{"){var k=this.parseJSXExpressionContainer();h.push(k)}else break}return h},d.prototype.parseComplexJSXElement=function(h){for(var m=[];!this.scanner.eof();){h.children=h.children.concat(this.parseJSXChildren());var C=this.createJSXChildNode(),D=this.parseJSXBoundaryElement();if(D.type===o.JSXSyntax.JSXOpeningElement){var w=D;if(w.selfClosing){var k=this.finalize(C,new s.JSXElement(w,[],null));h.children.push(k)}else m.push(h),h={node:C,opening:w,closing:null,children:[]}}if(D.type===o.JSXSyntax.JSXClosingElement){h.closing=D;var A=g(h.opening.name),B=g(h.closing.name);if(A!==B&&this.tolerateError("Expected corresponding JSX closing tag for %0",A),m.length>0){var k=this.finalize(h.node,new s.JSXElement(h.opening,h.children,h.closing));h=m[m.length-1],h.children.push(k),m.pop()}else break}}return h},d.prototype.parseJSXElement=function(){var h=this.createJSXNode(),m=this.parseJSXOpeningElement(),C=[],D=null;if(!m.selfClosing){var w=this.parseComplexJSXElement({node:h,opening:m,closing:D,children:C});C=w.children,D=w.closing}return this.finalize(h,new s.JSXElement(m,C,D))},d.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var h=this.parseJSXElement();return this.finishJSX(),h},d.prototype.isStartOfExpression=function(){return l.prototype.isStartOfExpression.call(this)||this.match("<")},d}(c.Parser);e.JSXParser=p},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};e.Character={fromCodePoint:function(i){return i<65536?String.fromCharCode(i):String.fromCharCode(55296+(i-65536>>10))+String.fromCharCode(56320+(i-65536&1023))},isWhiteSpace:function(i){return i===32||i===9||i===11||i===12||i===160||i>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(i)>=0},isLineTerminator:function(i){return i===10||i===13||i===8232||i===8233},isIdentifierStart:function(i){return i===36||i===95||i>=65&&i<=90||i>=97&&i<=122||i===92||i>=128&&n.NonAsciiIdentifierStart.test(e.Character.fromCodePoint(i))},isIdentifierPart:function(i){return i===36||i===95||i>=65&&i<=90||i>=97&&i<=122||i>=48&&i<=57||i===92||i>=128&&n.NonAsciiIdentifierPart.test(e.Character.fromCodePoint(i))},isDecimalDigit:function(i){return i>=48&&i<=57},isHexDigit:function(i){return i>=48&&i<=57||i>=65&&i<=70||i>=97&&i<=102},isOctalDigit:function(i){return i>=48&&i<=55}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=function(){function h(m){this.type=i.JSXSyntax.JSXClosingElement,this.name=m}return h}();e.JSXClosingElement=r;var s=function(){function h(m,C,D){this.type=i.JSXSyntax.JSXElement,this.openingElement=m,this.children=C,this.closingElement=D}return h}();e.JSXElement=s;var o=function(){function h(){this.type=i.JSXSyntax.JSXEmptyExpression}return h}();e.JSXEmptyExpression=o;var a=function(){function h(m){this.type=i.JSXSyntax.JSXExpressionContainer,this.expression=m}return h}();e.JSXExpressionContainer=a;var c=function(){function h(m){this.type=i.JSXSyntax.JSXIdentifier,this.name=m}return h}();e.JSXIdentifier=c;var u=function(){function h(m,C){this.type=i.JSXSyntax.JSXMemberExpression,this.object=m,this.property=C}return h}();e.JSXMemberExpression=u;var f=function(){function h(m,C){this.type=i.JSXSyntax.JSXAttribute,this.name=m,this.value=C}return h}();e.JSXAttribute=f;var g=function(){function h(m,C){this.type=i.JSXSyntax.JSXNamespacedName,this.namespace=m,this.name=C}return h}();e.JSXNamespacedName=g;var p=function(){function h(m,C,D){this.type=i.JSXSyntax.JSXOpeningElement,this.name=m,this.selfClosing=C,this.attributes=D}return h}();e.JSXOpeningElement=p;var l=function(){function h(m){this.type=i.JSXSyntax.JSXSpreadAttribute,this.argument=m}return h}();e.JSXSpreadAttribute=l;var d=function(){function h(m,C){this.type=i.JSXSyntax.JSXText,this.value=m,this.raw=C}return h}();e.JSXText=d},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(){function N(L){this.type=i.Syntax.ArrayExpression,this.elements=L}return N}();e.ArrayExpression=r;var s=function(){function N(L){this.type=i.Syntax.ArrayPattern,this.elements=L}return N}();e.ArrayPattern=s;var o=function(){function N(L,J,be){this.type=i.Syntax.ArrowFunctionExpression,this.id=null,this.params=L,this.body=J,this.generator=!1,this.expression=be,this.async=!1}return N}();e.ArrowFunctionExpression=o;var a=function(){function N(L,J,be){this.type=i.Syntax.AssignmentExpression,this.operator=L,this.left=J,this.right=be}return N}();e.AssignmentExpression=a;var c=function(){function N(L,J){this.type=i.Syntax.AssignmentPattern,this.left=L,this.right=J}return N}();e.AssignmentPattern=c;var u=function(){function N(L,J,be){this.type=i.Syntax.ArrowFunctionExpression,this.id=null,this.params=L,this.body=J,this.generator=!1,this.expression=be,this.async=!0}return N}();e.AsyncArrowFunctionExpression=u;var f=function(){function N(L,J,be){this.type=i.Syntax.FunctionDeclaration,this.id=L,this.params=J,this.body=be,this.generator=!1,this.expression=!1,this.async=!0}return N}();e.AsyncFunctionDeclaration=f;var g=function(){function N(L,J,be){this.type=i.Syntax.FunctionExpression,this.id=L,this.params=J,this.body=be,this.generator=!1,this.expression=!1,this.async=!0}return N}();e.AsyncFunctionExpression=g;var p=function(){function N(L){this.type=i.Syntax.AwaitExpression,this.argument=L}return N}();e.AwaitExpression=p;var l=function(){function N(L,J,be){var jt=L==="||"||L==="&&";this.type=jt?i.Syntax.LogicalExpression:i.Syntax.BinaryExpression,this.operator=L,this.left=J,this.right=be}return N}();e.BinaryExpression=l;var d=function(){function N(L){this.type=i.Syntax.BlockStatement,this.body=L}return N}();e.BlockStatement=d;var h=function(){function N(L){this.type=i.Syntax.BreakStatement,this.label=L}return N}();e.BreakStatement=h;var m=function(){function N(L,J){this.type=i.Syntax.CallExpression,this.callee=L,this.arguments=J}return N}();e.CallExpression=m;var C=function(){function N(L,J){this.type=i.Syntax.CatchClause,this.param=L,this.body=J}return N}();e.CatchClause=C;var D=function(){function N(L){this.type=i.Syntax.ClassBody,this.body=L}return N}();e.ClassBody=D;var w=function(){function N(L,J,be){this.type=i.Syntax.ClassDeclaration,this.id=L,this.superClass=J,this.body=be}return N}();e.ClassDeclaration=w;var k=function(){function N(L,J,be){this.type=i.Syntax.ClassExpression,this.id=L,this.superClass=J,this.body=be}return N}();e.ClassExpression=k;var A=function(){function N(L,J){this.type=i.Syntax.MemberExpression,this.computed=!0,this.object=L,this.property=J}return N}();e.ComputedMemberExpression=A;var B=function(){function N(L,J,be){this.type=i.Syntax.ConditionalExpression,this.test=L,this.consequent=J,this.alternate=be}return N}();e.ConditionalExpression=B;var W=function(){function N(L){this.type=i.Syntax.ContinueStatement,this.label=L}return N}();e.ContinueStatement=W;var U=function(){function N(){this.type=i.Syntax.DebuggerStatement}return N}();e.DebuggerStatement=U;var ee=function(){function N(L,J){this.type=i.Syntax.ExpressionStatement,this.expression=L,this.directive=J}return N}();e.Directive=ee;var Z=function(){function N(L,J){this.type=i.Syntax.DoWhileStatement,this.body=L,this.test=J}return N}();e.DoWhileStatement=Z;var H=function(){function N(){this.type=i.Syntax.EmptyStatement}return N}();e.EmptyStatement=H;var M=function(){function N(L){this.type=i.Syntax.ExportAllDeclaration,this.source=L}return N}();e.ExportAllDeclaration=M;var V=function(){function N(L){this.type=i.Syntax.ExportDefaultDeclaration,this.declaration=L}return N}();e.ExportDefaultDeclaration=V;var Q=function(){function N(L,J,be){this.type=i.Syntax.ExportNamedDeclaration,this.declaration=L,this.specifiers=J,this.source=be}return N}();e.ExportNamedDeclaration=Q;var he=function(){function N(L,J){this.type=i.Syntax.ExportSpecifier,this.exported=J,this.local=L}return N}();e.ExportSpecifier=he;var de=function(){function N(L){this.type=i.Syntax.ExpressionStatement,this.expression=L}return N}();e.ExpressionStatement=de;var ge=function(){function N(L,J,be){this.type=i.Syntax.ForInStatement,this.left=L,this.right=J,this.body=be,this.each=!1}return N}();e.ForInStatement=ge;var Ge=function(){function N(L,J,be){this.type=i.Syntax.ForOfStatement,this.left=L,this.right=J,this.body=be}return N}();e.ForOfStatement=Ge;var Ee=function(){function N(L,J,be,jt){this.type=i.Syntax.ForStatement,this.init=L,this.test=J,this.update=be,this.body=jt}return N}();e.ForStatement=Ee;var ke=function(){function N(L,J,be,jt){this.type=i.Syntax.FunctionDeclaration,this.id=L,this.params=J,this.body=be,this.generator=jt,this.expression=!1,this.async=!1}return N}();e.FunctionDeclaration=ke;var ht=function(){function N(L,J,be,jt){this.type=i.Syntax.FunctionExpression,this.id=L,this.params=J,this.body=be,this.generator=jt,this.expression=!1,this.async=!1}return N}();e.FunctionExpression=ht;var At=function(){function N(L){this.type=i.Syntax.Identifier,this.name=L}return N}();e.Identifier=At;var tn=function(){function N(L,J,be){this.type=i.Syntax.IfStatement,this.test=L,this.consequent=J,this.alternate=be}return N}();e.IfStatement=tn;var St=function(){function N(L,J){this.type=i.Syntax.ImportDeclaration,this.specifiers=L,this.source=J}return N}();e.ImportDeclaration=St;var Jt=function(){function N(L){this.type=i.Syntax.ImportDefaultSpecifier,this.local=L}return N}();e.ImportDefaultSpecifier=Jt;var an=function(){function N(L){this.type=i.Syntax.ImportNamespaceSpecifier,this.local=L}return N}();e.ImportNamespaceSpecifier=an;var Jn=function(){function N(L,J){this.type=i.Syntax.ImportSpecifier,this.local=L,this.imported=J}return N}();e.ImportSpecifier=Jn;var qn=function(){function N(L,J){this.type=i.Syntax.LabeledStatement,this.label=L,this.body=J}return N}();e.LabeledStatement=qn;var Un=function(){function N(L,J){this.type=i.Syntax.Literal,this.value=L,this.raw=J}return N}();e.Literal=Un;var jn=function(){function N(L,J){this.type=i.Syntax.MetaProperty,this.meta=L,this.property=J}return N}();e.MetaProperty=jn;var Xn=function(){function N(L,J,be,jt,b){this.type=i.Syntax.MethodDefinition,this.key=L,this.computed=J,this.value=be,this.kind=jt,this.static=b}return N}();e.MethodDefinition=Xn;var Qe=function(){function N(L){this.type=i.Syntax.Program,this.body=L,this.sourceType="module"}return N}();e.Module=Qe;var pi=function(){function N(L,J){this.type=i.Syntax.NewExpression,this.callee=L,this.arguments=J}return N}();e.NewExpression=pi;var Bn=function(){function N(L){this.type=i.Syntax.ObjectExpression,this.properties=L}return N}();e.ObjectExpression=Bn;var nn=function(){function N(L){this.type=i.Syntax.ObjectPattern,this.properties=L}return N}();e.ObjectPattern=nn;var Ai=function(){function N(L,J,be,jt,b,K){this.type=i.Syntax.Property,this.key=J,this.computed=be,this.value=jt,this.kind=L,this.method=b,this.shorthand=K}return N}();e.Property=Ai;var cn=function(){function N(L,J,be,jt){this.type=i.Syntax.Literal,this.value=L,this.raw=J,this.regex={pattern:be,flags:jt}}return N}();e.RegexLiteral=cn;var Yn=function(){function N(L){this.type=i.Syntax.RestElement,this.argument=L}return N}();e.RestElement=Yn;var ot=function(){function N(L){this.type=i.Syntax.ReturnStatement,this.argument=L}return N}();e.ReturnStatement=ot;var bt=function(){function N(L){this.type=i.Syntax.Program,this.body=L,this.sourceType="script"}return N}();e.Script=bt;var Vt=function(){function N(L){this.type=i.Syntax.SequenceExpression,this.expressions=L}return N}();e.SequenceExpression=Vt;var mn=function(){function N(L){this.type=i.Syntax.SpreadElement,this.argument=L}return N}();e.SpreadElement=mn;var Ut=function(){function N(L,J){this.type=i.Syntax.MemberExpression,this.computed=!1,this.object=L,this.property=J}return N}();e.StaticMemberExpression=Ut;var Wn=function(){function N(){this.type=i.Syntax.Super}return N}();e.Super=Wn;var Qn=function(){function N(L,J){this.type=i.Syntax.SwitchCase,this.test=L,this.consequent=J}return N}();e.SwitchCase=Qn;var yn=function(){function N(L,J){this.type=i.Syntax.SwitchStatement,this.discriminant=L,this.cases=J}return N}();e.SwitchStatement=yn;var Zn=function(){function N(L,J){this.type=i.Syntax.TaggedTemplateExpression,this.tag=L,this.quasi=J}return N}();e.TaggedTemplateExpression=Zn;var Dt=function(){function N(L,J){this.type=i.Syntax.TemplateElement,this.value=L,this.tail=J}return N}();e.TemplateElement=Dt;var v=function(){function N(L,J){this.type=i.Syntax.TemplateLiteral,this.quasis=L,this.expressions=J}return N}();e.TemplateLiteral=v;var P=function(){function N(){this.type=i.Syntax.ThisExpression}return N}();e.ThisExpression=P;var q=function(){function N(L){this.type=i.Syntax.ThrowStatement,this.argument=L}return N}();e.ThrowStatement=q;var $=function(){function N(L,J,be){this.type=i.Syntax.TryStatement,this.block=L,this.handler=J,this.finalizer=be}return N}();e.TryStatement=$;var fe=function(){function N(L,J){this.type=i.Syntax.UnaryExpression,this.operator=L,this.argument=J,this.prefix=!0}return N}();e.UnaryExpression=fe;var ue=function(){function N(L,J,be){this.type=i.Syntax.UpdateExpression,this.operator=L,this.argument=J,this.prefix=be}return N}();e.UpdateExpression=ue;var ve=function(){function N(L,J){this.type=i.Syntax.VariableDeclaration,this.declarations=L,this.kind=J}return N}();e.VariableDeclaration=ve;var Se=function(){function N(L,J){this.type=i.Syntax.VariableDeclarator,this.id=L,this.init=J}return N}();e.VariableDeclarator=Se;var ie=function(){function N(L,J){this.type=i.Syntax.WhileStatement,this.test=L,this.body=J}return N}();e.WhileStatement=ie;var pe=function(){function N(L,J){this.type=i.Syntax.WithStatement,this.object=L,this.body=J}return N}();e.WithStatement=pe;var se=function(){function N(L,J){this.type=i.Syntax.YieldExpression,this.argument=L,this.delegate=J}return N}();e.YieldExpression=se},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=n(10),s=n(11),o=n(7),a=n(12),c=n(2),u=n(13),f="ArrowParameterPlaceHolder",g=function(){function p(l,d,h){d===void 0&&(d={}),this.config={range:typeof d.range=="boolean"&&d.range,loc:typeof d.loc=="boolean"&&d.loc,source:null,tokens:typeof d.tokens=="boolean"&&d.tokens,comment:typeof d.comment=="boolean"&&d.comment,tolerant:typeof d.tolerant=="boolean"&&d.tolerant},this.config.loc&&d.source&&d.source!==null&&(this.config.source=String(d.source)),this.delegate=h,this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new a.Scanner(l,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return p.prototype.throwError=function(l){for(var d=[],h=1;h<arguments.length;h++)d[h-1]=arguments[h];var m=Array.prototype.slice.call(arguments,1),C=l.replace(/%(\d)/g,function(A,B){return i.assert(B<m.length,"Message reference must be in range"),m[B]}),D=this.lastMarker.index,w=this.lastMarker.line,k=this.lastMarker.column+1;throw this.errorHandler.createError(D,w,k,C)},p.prototype.tolerateError=function(l){for(var d=[],h=1;h<arguments.length;h++)d[h-1]=arguments[h];var m=Array.prototype.slice.call(arguments,1),C=l.replace(/%(\d)/g,function(A,B){return i.assert(B<m.length,"Message reference must be in range"),m[B]}),D=this.lastMarker.index,w=this.scanner.lineNumber,k=this.lastMarker.column+1;this.errorHandler.tolerateError(D,w,k,C)},p.prototype.unexpectedTokenError=function(l,d){var h=d||s.Messages.UnexpectedToken,m;if(l?(d||(h=l.type===2?s.Messages.UnexpectedEOS:l.type===3?s.Messages.UnexpectedIdentifier:l.type===6?s.Messages.UnexpectedNumber:l.type===8?s.Messages.UnexpectedString:l.type===10?s.Messages.UnexpectedTemplate:s.Messages.UnexpectedToken,l.type===4&&(this.scanner.isFutureReservedWord(l.value)?h=s.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(l.value)&&(h=s.Messages.StrictReservedWord))),m=l.value):m="ILLEGAL",h=h.replace("%0",m),l&&typeof l.lineNumber=="number"){var C=l.start,D=l.lineNumber,w=this.lastMarker.index-this.lastMarker.column,k=l.start-w+1;return this.errorHandler.createError(C,D,k,h)}else{var C=this.lastMarker.index,D=this.lastMarker.line,k=this.lastMarker.column+1;return this.errorHandler.createError(C,D,k,h)}},p.prototype.throwUnexpectedToken=function(l,d){throw this.unexpectedTokenError(l,d)},p.prototype.tolerateUnexpectedToken=function(l,d){this.errorHandler.tolerate(this.unexpectedTokenError(l,d))},p.prototype.collectComments=function(){if(!this.config.comment)this.scanner.scanComments();else{var l=this.scanner.scanComments();if(l.length>0&&this.delegate)for(var d=0;d<l.length;++d){var h=l[d],m=void 0;m={type:h.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(h.slice[0],h.slice[1])},this.config.range&&(m.range=h.range),this.config.loc&&(m.loc=h.loc);var C={start:{line:h.loc.start.line,column:h.loc.start.column,offset:h.range[0]},end:{line:h.loc.end.line,column:h.loc.end.column,offset:h.range[1]}};this.delegate(m,C)}}},p.prototype.getTokenRaw=function(l){return this.scanner.source.slice(l.start,l.end)},p.prototype.convertToken=function(l){var d={type:u.TokenName[l.type],value:this.getTokenRaw(l)};if(this.config.range&&(d.range=[l.start,l.end]),this.config.loc&&(d.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),l.type===9){var h=l.pattern,m=l.flags;d.regex={pattern:h,flags:m}}return d},p.prototype.nextToken=function(){var l=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var d=this.scanner.lex();return this.hasLineTerminator=l.lineNumber!==d.lineNumber,d&&this.context.strict&&d.type===3&&this.scanner.isStrictModeReservedWord(d.value)&&(d.type=4),this.lookahead=d,this.config.tokens&&d.type!==2&&this.tokens.push(this.convertToken(d)),l},p.prototype.nextRegexToken=function(){this.collectComments();var l=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(l))),this.lookahead=l,this.nextToken(),l},p.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},p.prototype.startNode=function(l,d){d===void 0&&(d=0);var h=l.start-l.lineStart,m=l.lineNumber;return h<0&&(h+=d,m--),{index:l.start,line:m,column:h}},p.prototype.finalize=function(l,d){if(this.config.range&&(d.range=[l.index,this.lastMarker.index]),this.config.loc&&(d.loc={start:{line:l.line,column:l.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(d.loc.source=this.config.source)),this.delegate){var h={start:{line:l.line,column:l.column,offset:l.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(d,h)}return d},p.prototype.expect=function(l){var d=this.nextToken();(d.type!==7||d.value!==l)&&this.throwUnexpectedToken(d)},p.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var l=this.lookahead;l.type===7&&l.value===","?this.nextToken():l.type===7&&l.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(l)):this.tolerateUnexpectedToken(l,s.Messages.UnexpectedToken)}else this.expect(",")},p.prototype.expectKeyword=function(l){var d=this.nextToken();(d.type!==4||d.value!==l)&&this.throwUnexpectedToken(d)},p.prototype.match=function(l){return this.lookahead.type===7&&this.lookahead.value===l},p.prototype.matchKeyword=function(l){return this.lookahead.type===4&&this.lookahead.value===l},p.prototype.matchContextualKeyword=function(l){return this.lookahead.type===3&&this.lookahead.value===l},p.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var l=this.lookahead.value;return l==="="||l==="*="||l==="**="||l==="/="||l==="%="||l==="+="||l==="-="||l==="<<="||l===">>="||l===">>>="||l==="&="||l==="^="||l==="|="},p.prototype.isolateCoverGrammar=function(l){var d=this.context.isBindingElement,h=this.context.isAssignmentTarget,m=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var C=l.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=d,this.context.isAssignmentTarget=h,this.context.firstCoverInitializedNameError=m,C},p.prototype.inheritCoverGrammar=function(l){var d=this.context.isBindingElement,h=this.context.isAssignmentTarget,m=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var C=l.call(this);return this.context.isBindingElement=this.context.isBindingElement&&d,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&h,this.context.firstCoverInitializedNameError=m||this.context.firstCoverInitializedNameError,C},p.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type!==2&&!this.match("}")&&this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},p.prototype.parsePrimaryExpression=function(){var l=this.createNode(),d,h,m;switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),d=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(l,new o.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,s.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.nextToken(),m=this.getTokenRaw(h),d=this.finalize(l,new o.Literal(h.value,m));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.nextToken(),m=this.getTokenRaw(h),d=this.finalize(l,new o.Literal(h.value==="true",m));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.nextToken(),m=this.getTokenRaw(h),d=this.finalize(l,new o.Literal(null,m));break;case 10:d=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,d=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":d=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":d=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,h=this.nextRegexToken(),m=this.getTokenRaw(h),d=this.finalize(l,new o.RegexLiteral(h.regex,m,h.pattern,h.flags));break;default:d=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?d=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?d=this.finalize(l,new o.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?d=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),d=this.finalize(l,new o.ThisExpression)):this.matchKeyword("class")?d=this.parseClassExpression():d=this.throwUnexpectedToken(this.nextToken()));break;default:d=this.throwUnexpectedToken(this.nextToken())}return d},p.prototype.parseSpreadElement=function(){var l=this.createNode();this.expect("...");var d=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(l,new o.SpreadElement(d))},p.prototype.parseArrayInitializer=function(){var l=this.createNode(),d=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),d.push(null);else if(this.match("...")){var h=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),d.push(h)}else d.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(l,new o.ArrayExpression(d))},p.prototype.parsePropertyMethod=function(l){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var d=this.context.strict,h=this.context.allowStrictDirective;this.context.allowStrictDirective=l.simple;var m=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&l.firstRestricted&&this.tolerateUnexpectedToken(l.firstRestricted,l.message),this.context.strict&&l.stricted&&this.tolerateUnexpectedToken(l.stricted,l.message),this.context.strict=d,this.context.allowStrictDirective=h,m},p.prototype.parsePropertyMethodFunction=function(){var l=!1,d=this.createNode(),h=this.context.allowYield;this.context.allowYield=!0;var m=this.parseFormalParameters(),C=this.parsePropertyMethod(m);return this.context.allowYield=h,this.finalize(d,new o.FunctionExpression(null,m.params,C,l))},p.prototype.parsePropertyMethodAsyncFunction=function(){var l=this.createNode(),d=this.context.allowYield,h=this.context.await;this.context.allowYield=!1,this.context.await=!0;var m=this.parseFormalParameters(),C=this.parsePropertyMethod(m);return this.context.allowYield=d,this.context.await=h,this.finalize(l,new o.AsyncFunctionExpression(null,m.params,C))},p.prototype.parseObjectPropertyKey=function(){var l=this.createNode(),d=this.nextToken(),h;switch(d.type){case 8:case 6:this.context.strict&&d.octal&&this.tolerateUnexpectedToken(d,s.Messages.StrictOctalLiteral);var m=this.getTokenRaw(d);h=this.finalize(l,new o.Literal(d.value,m));break;case 3:case 1:case 5:case 4:h=this.finalize(l,new o.Identifier(d.value));break;case 7:d.value==="["?(h=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):h=this.throwUnexpectedToken(d);break;default:h=this.throwUnexpectedToken(d)}return h},p.prototype.isPropertyKey=function(l,d){return l.type===c.Syntax.Identifier&&l.name===d||l.type===c.Syntax.Literal&&l.value===d},p.prototype.parseObjectProperty=function(l){var d=this.createNode(),h=this.lookahead,m,C=null,D=null,w=!1,k=!1,A=!1,B=!1;if(h.type===3){var W=h.value;this.nextToken(),w=this.match("["),B=!this.hasLineTerminator&&W==="async"&&!this.match(":")&&!this.match("(")&&!this.match("*")&&!this.match(","),C=B?this.parseObjectPropertyKey():this.finalize(d,new o.Identifier(W))}else this.match("*")?this.nextToken():(w=this.match("["),C=this.parseObjectPropertyKey());var U=this.qualifiedPropertyName(this.lookahead);if(h.type===3&&!B&&h.value==="get"&&U)m="get",w=this.match("["),C=this.parseObjectPropertyKey(),this.context.allowYield=!1,D=this.parseGetterMethod();else if(h.type===3&&!B&&h.value==="set"&&U)m="set",w=this.match("["),C=this.parseObjectPropertyKey(),D=this.parseSetterMethod();else if(h.type===7&&h.value==="*"&&U)m="init",w=this.match("["),C=this.parseObjectPropertyKey(),D=this.parseGeneratorMethod(),k=!0;else if(C||this.throwUnexpectedToken(this.lookahead),m="init",this.match(":")&&!B)!w&&this.isPropertyKey(C,"__proto__")&&(l.value&&this.tolerateError(s.Messages.DuplicateProtoProperty),l.value=!0),this.nextToken(),D=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))D=B?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),k=!0;else if(h.type===3){var W=this.finalize(d,new o.Identifier(h.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),A=!0;var ee=this.isolateCoverGrammar(this.parseAssignmentExpression);D=this.finalize(d,new o.AssignmentPattern(W,ee))}else A=!0,D=W}else this.throwUnexpectedToken(this.nextToken());return this.finalize(d,new o.Property(m,C,w,D,k,A))},p.prototype.parseObjectInitializer=function(){var l=this.createNode();this.expect("{");for(var d=[],h={value:!1};!this.match("}");)d.push(this.parseObjectProperty(h)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(l,new o.ObjectExpression(d))},p.prototype.parseTemplateHead=function(){i.assert(this.lookahead.head,"Template literal must start with a template head");var l=this.createNode(),d=this.nextToken(),h=d.value,m=d.cooked;return this.finalize(l,new o.TemplateElement({raw:h,cooked:m},d.tail))},p.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var l=this.createNode(),d=this.nextToken(),h=d.value,m=d.cooked;return this.finalize(l,new o.TemplateElement({raw:h,cooked:m},d.tail))},p.prototype.parseTemplateLiteral=function(){var l=this.createNode(),d=[],h=[],m=this.parseTemplateHead();for(h.push(m);!m.tail;)d.push(this.parseExpression()),m=this.parseTemplateElement(),h.push(m);return this.finalize(l,new o.TemplateLiteral(h,d))},p.prototype.reinterpretExpressionAsPattern=function(l){switch(l.type){case c.Syntax.Identifier:case c.Syntax.MemberExpression:case c.Syntax.RestElement:case c.Syntax.AssignmentPattern:break;case c.Syntax.SpreadElement:l.type=c.Syntax.RestElement,this.reinterpretExpressionAsPattern(l.argument);break;case c.Syntax.ArrayExpression:l.type=c.Syntax.ArrayPattern;for(var d=0;d<l.elements.length;d++)l.elements[d]!==null&&this.reinterpretExpressionAsPattern(l.elements[d]);break;case c.Syntax.ObjectExpression:l.type=c.Syntax.ObjectPattern;for(var d=0;d<l.properties.length;d++)this.reinterpretExpressionAsPattern(l.properties[d].value);break;case c.Syntax.AssignmentExpression:l.type=c.Syntax.AssignmentPattern,delete l.operator,this.reinterpretExpressionAsPattern(l.left);break;default:break}},p.prototype.parseGroupExpression=function(){var l;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),l={type:f,params:[],async:!1};else{var d=this.lookahead,h=[];if(this.match("..."))l=this.parseRestElement(h),this.expect(")"),this.match("=>")||this.expect("=>"),l={type:f,params:[l],async:!1};else{var m=!1;if(this.context.isBindingElement=!0,l=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var C=[];for(this.context.isAssignmentTarget=!1,C.push(l);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var D=0;D<C.length;D++)this.reinterpretExpressionAsPattern(C[D]);m=!0,l={type:f,params:C,async:!1}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),C.push(this.parseRestElement(h)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(var D=0;D<C.length;D++)this.reinterpretExpressionAsPattern(C[D]);m=!0,l={type:f,params:C,async:!1}}else C.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(m)break}m||(l=this.finalize(this.startNode(d),new o.SequenceExpression(C)))}if(!m){if(this.expect(")"),this.match("=>")&&(l.type===c.Syntax.Identifier&&l.name==="yield"&&(m=!0,l={type:f,params:[l],async:!1}),!m)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),l.type===c.Syntax.SequenceExpression)for(var D=0;D<l.expressions.length;D++)this.reinterpretExpressionAsPattern(l.expressions[D]);else this.reinterpretExpressionAsPattern(l);var w=l.type===c.Syntax.SequenceExpression?l.expressions:[l];l={type:f,params:w,async:!1}}this.context.isBindingElement=!1}}}return l},p.prototype.parseArguments=function(){this.expect("(");var l=[];if(!this.match(")"))for(;;){var d=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(l.push(d),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),l},p.prototype.isIdentifierName=function(l){return l.type===3||l.type===4||l.type===1||l.type===5},p.prototype.parseIdentifierName=function(){var l=this.createNode(),d=this.nextToken();return this.isIdentifierName(d)||this.throwUnexpectedToken(d),this.finalize(l,new o.Identifier(d.value))},p.prototype.parseNewExpression=function(){var l=this.createNode(),d=this.parseIdentifierName();i.assert(d.name==="new","New expression must start with `new`");var h;if(this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var m=this.parseIdentifierName();h=new o.MetaProperty(d,m)}else this.throwUnexpectedToken(this.lookahead);else{var C=this.isolateCoverGrammar(this.parseLeftHandSideExpression),D=this.match("(")?this.parseArguments():[];h=new o.NewExpression(C,D),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(l,h)},p.prototype.parseAsyncArgument=function(){var l=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,l},p.prototype.parseAsyncArguments=function(){this.expect("(");var l=[];if(!this.match(")"))for(;;){var d=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(l.push(d),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),l},p.prototype.parseLeftHandSideExpressionAllowCall=function(){var l=this.lookahead,d=this.matchContextualKeyword("async"),h=this.context.allowIn;this.context.allowIn=!0;var m;for(this.matchKeyword("super")&&this.context.inFunctionBody?(m=this.createNode(),this.nextToken(),m=this.finalize(m,new o.Super),!this.match("(")&&!this.match(".")&&!this.match("[")&&this.throwUnexpectedToken(this.lookahead)):m=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var C=this.parseIdentifierName();m=this.finalize(this.startNode(l),new o.StaticMemberExpression(m,C))}else if(this.match("(")){var D=d&&l.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var w=D?this.parseAsyncArguments():this.parseArguments();if(m=this.finalize(this.startNode(l),new o.CallExpression(m,w)),D&&this.match("=>")){for(var k=0;k<w.length;++k)this.reinterpretExpressionAsPattern(w[k]);m={type:f,params:w,async:!0}}}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var C=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),m=this.finalize(this.startNode(l),new o.ComputedMemberExpression(m,C))}else if(this.lookahead.type===10&&this.lookahead.head){var A=this.parseTemplateLiteral();m=this.finalize(this.startNode(l),new o.TaggedTemplateExpression(m,A))}else break;return this.context.allowIn=h,m},p.prototype.parseSuper=function(){var l=this.createNode();return this.expectKeyword("super"),!this.match("[")&&!this.match(".")&&this.throwUnexpectedToken(this.lookahead),this.finalize(l,new o.Super)},p.prototype.parseLeftHandSideExpression=function(){i.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var l=this.startNode(this.lookahead),d=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var h=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),d=this.finalize(l,new o.ComputedMemberExpression(d,h))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var h=this.parseIdentifierName();d=this.finalize(l,new o.StaticMemberExpression(d,h))}else if(this.lookahead.type===10&&this.lookahead.head){var m=this.parseTemplateLiteral();d=this.finalize(l,new o.TaggedTemplateExpression(d,m))}else break;return d},p.prototype.parseUpdateExpression=function(){var l,d=this.lookahead;if(this.match("++")||this.match("--")){var h=this.startNode(d),m=this.nextToken();l=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&l.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(l.name)&&this.tolerateError(s.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment);var C=!0;l=this.finalize(h,new o.UpdateExpression(m.value,l,C)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(l=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&l.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(l.name)&&this.tolerateError(s.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var D=this.nextToken().value,C=!1;l=this.finalize(this.startNode(d),new o.UpdateExpression(D,l,C))}return l},p.prototype.parseAwaitExpression=function(){var l=this.createNode();this.nextToken();var d=this.parseUnaryExpression();return this.finalize(l,new o.AwaitExpression(d))},p.prototype.parseUnaryExpression=function(){var l;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var d=this.startNode(this.lookahead),h=this.nextToken();l=this.inheritCoverGrammar(this.parseUnaryExpression),l=this.finalize(d,new o.UnaryExpression(h.value,l)),this.context.strict&&l.operator==="delete"&&l.argument.type===c.Syntax.Identifier&&this.tolerateError(s.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else this.context.await&&this.matchContextualKeyword("await")?l=this.parseAwaitExpression():l=this.parseUpdateExpression();return l},p.prototype.parseExponentiationExpression=function(){var l=this.lookahead,d=this.inheritCoverGrammar(this.parseUnaryExpression);if(d.type!==c.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var h=d,m=this.isolateCoverGrammar(this.parseExponentiationExpression);d=this.finalize(this.startNode(l),new o.BinaryExpression("**",h,m))}return d},p.prototype.binaryPrecedence=function(l){var d=l.value,h;return l.type===7?h=this.operatorPrecedence[d]||0:l.type===4?h=d==="instanceof"||this.context.allowIn&&d==="in"?7:0:h=0,h},p.prototype.parseBinaryExpression=function(){var l=this.lookahead,d=this.inheritCoverGrammar(this.parseExponentiationExpression),h=this.lookahead,m=this.binaryPrecedence(h);if(m>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var C=[l,this.lookahead],D=d,w=this.isolateCoverGrammar(this.parseExponentiationExpression),k=[D,h.value,w],A=[m];m=this.binaryPrecedence(this.lookahead),!(m<=0);){for(;k.length>2&&m<=A[A.length-1];){w=k.pop();var B=k.pop();A.pop(),D=k.pop(),C.pop();var W=this.startNode(C[C.length-1]);k.push(this.finalize(W,new o.BinaryExpression(B,D,w)))}k.push(this.nextToken().value),A.push(m),C.push(this.lookahead),k.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var U=k.length-1;d=k[U];for(var ee=C.pop();U>1;){var Z=C.pop(),H=ee&&ee.lineStart,W=this.startNode(Z,H),B=k[U-1];d=this.finalize(W,new o.BinaryExpression(B,k[U-2],d)),U-=2,ee=Z}}return d},p.prototype.parseConditionalExpression=function(){var l=this.lookahead,d=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var h=this.context.allowIn;this.context.allowIn=!0;var m=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=h,this.expect(":");var C=this.isolateCoverGrammar(this.parseAssignmentExpression);d=this.finalize(this.startNode(l),new o.ConditionalExpression(d,m,C)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return d},p.prototype.checkPatternParam=function(l,d){switch(d.type){case c.Syntax.Identifier:this.validateParam(l,d,d.name);break;case c.Syntax.RestElement:this.checkPatternParam(l,d.argument);break;case c.Syntax.AssignmentPattern:this.checkPatternParam(l,d.left);break;case c.Syntax.ArrayPattern:for(var h=0;h<d.elements.length;h++)d.elements[h]!==null&&this.checkPatternParam(l,d.elements[h]);break;case c.Syntax.ObjectPattern:for(var h=0;h<d.properties.length;h++)this.checkPatternParam(l,d.properties[h].value);break;default:break}l.simple=l.simple&&d instanceof o.Identifier},p.prototype.reinterpretAsCoverFormalsList=function(l){var d=[l],h,m=!1;switch(l.type){case c.Syntax.Identifier:break;case f:d=l.params,m=l.async;break;default:return null}h={simple:!0,paramSet:{}};for(var C=0;C<d.length;++C){var D=d[C];D.type===c.Syntax.AssignmentPattern?D.right.type===c.Syntax.YieldExpression&&(D.right.argument&&this.throwUnexpectedToken(this.lookahead),D.right.type=c.Syntax.Identifier,D.right.name="yield",delete D.right.argument,delete D.right.delegate):m&&D.type===c.Syntax.Identifier&&D.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(h,D),d[C]=D}if(this.context.strict||!this.context.allowYield)for(var C=0;C<d.length;++C){var D=d[C];D.type===c.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(h.message===s.Messages.StrictParamDupe){var w=this.context.strict?h.stricted:h.firstRestricted;this.throwUnexpectedToken(w,h.message)}return{simple:h.simple,params:d,stricted:h.stricted,firstRestricted:h.firstRestricted,message:h.message}},p.prototype.parseAssignmentExpression=function(){var l;if(!this.context.allowYield&&this.matchKeyword("yield"))l=this.parseYieldExpression();else{var d=this.lookahead,h=d;if(l=this.parseConditionalExpression(),h.type===3&&h.lineNumber===this.lookahead.lineNumber&&h.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var m=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(m),l={type:f,params:[m],async:!0}}if(l.type===f||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var C=l.async,D=this.reinterpretAsCoverFormalsList(l);if(D){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var w=this.context.strict,k=this.context.allowStrictDirective;this.context.allowStrictDirective=D.simple;var A=this.context.allowYield,B=this.context.await;this.context.allowYield=!0,this.context.await=C;var W=this.startNode(d);this.expect("=>");var U=void 0;if(this.match("{")){var ee=this.context.allowIn;this.context.allowIn=!0,U=this.parseFunctionSourceElements(),this.context.allowIn=ee}else U=this.isolateCoverGrammar(this.parseAssignmentExpression);var Z=U.type!==c.Syntax.BlockStatement;this.context.strict&&D.firstRestricted&&this.throwUnexpectedToken(D.firstRestricted,D.message),this.context.strict&&D.stricted&&this.tolerateUnexpectedToken(D.stricted,D.message),l=C?this.finalize(W,new o.AsyncArrowFunctionExpression(D.params,U,Z)):this.finalize(W,new o.ArrowFunctionExpression(D.params,U,Z)),this.context.strict=w,this.context.allowStrictDirective=k,this.context.allowYield=A,this.context.await=B}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.strict&&l.type===c.Syntax.Identifier){var H=l;this.scanner.isRestrictedWord(H.name)&&this.tolerateUnexpectedToken(h,s.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(H.name)&&this.tolerateUnexpectedToken(h,s.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(l):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),h=this.nextToken();var M=h.value,V=this.isolateCoverGrammar(this.parseAssignmentExpression);l=this.finalize(this.startNode(d),new o.AssignmentExpression(M,l,V)),this.context.firstCoverInitializedNameError=null}}return l},p.prototype.parseExpression=function(){var l=this.lookahead,d=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var h=[];for(h.push(d);this.lookahead.type!==2&&this.match(",");)this.nextToken(),h.push(this.isolateCoverGrammar(this.parseAssignmentExpression));d=this.finalize(this.startNode(l),new o.SequenceExpression(h))}return d},p.prototype.parseStatementListItem=function(){var l;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalExportDeclaration),l=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalImportDeclaration),l=this.parseImportDeclaration();break;case"const":l=this.parseLexicalDeclaration({inFor:!1});break;case"function":l=this.parseFunctionDeclaration();break;case"class":l=this.parseClassDeclaration();break;case"let":l=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:l=this.parseStatement();break}else l=this.parseStatement();return l},p.prototype.parseBlock=function(){var l=this.createNode();this.expect("{");for(var d=[];!this.match("}");)d.push(this.parseStatementListItem());return this.expect("}"),this.finalize(l,new o.BlockStatement(d))},p.prototype.parseLexicalBinding=function(l,d){var h=this.createNode(),m=[],C=this.parsePattern(m,l);this.context.strict&&C.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(C.name)&&this.tolerateError(s.Messages.StrictVarName);var D=null;return l==="const"?!this.matchKeyword("in")&&!this.matchContextualKeyword("of")&&(this.match("=")?(this.nextToken(),D=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(s.Messages.DeclarationMissingInitializer,"const")):(!d.inFor&&C.type!==c.Syntax.Identifier||this.match("="))&&(this.expect("="),D=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(h,new o.VariableDeclarator(C,D))},p.prototype.parseBindingList=function(l,d){for(var h=[this.parseLexicalBinding(l,d)];this.match(",");)this.nextToken(),h.push(this.parseLexicalBinding(l,d));return h},p.prototype.isLexicalDeclaration=function(){var l=this.scanner.saveState();this.scanner.scanComments();var d=this.scanner.lex();return this.scanner.restoreState(l),d.type===3||d.type===7&&d.value==="["||d.type===7&&d.value==="{"||d.type===4&&d.value==="let"||d.type===4&&d.value==="yield"},p.prototype.parseLexicalDeclaration=function(l){var d=this.createNode(),h=this.nextToken().value;i.assert(h==="let"||h==="const","Lexical declaration must be either let or const");var m=this.parseBindingList(h,l);return this.consumeSemicolon(),this.finalize(d,new o.VariableDeclaration(m,h))},p.prototype.parseBindingRestElement=function(l,d){var h=this.createNode();this.expect("...");var m=this.parsePattern(l,d);return this.finalize(h,new o.RestElement(m))},p.prototype.parseArrayPattern=function(l,d){var h=this.createNode();this.expect("[");for(var m=[];!this.match("]");)if(this.match(","))this.nextToken(),m.push(null);else{if(this.match("...")){m.push(this.parseBindingRestElement(l,d));break}else m.push(this.parsePatternWithDefault(l,d));this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(h,new o.ArrayPattern(m))},p.prototype.parsePropertyPattern=function(l,d){var h=this.createNode(),m=!1,C=!1,D=!1,w,k;if(this.lookahead.type===3){var A=this.lookahead;w=this.parseVariableIdentifier();var B=this.finalize(h,new o.Identifier(A.value));if(this.match("=")){l.push(A),C=!0,this.nextToken();var W=this.parseAssignmentExpression();k=this.finalize(this.startNode(A),new o.AssignmentPattern(B,W))}else this.match(":")?(this.expect(":"),k=this.parsePatternWithDefault(l,d)):(l.push(A),C=!0,k=B)}else m=this.match("["),w=this.parseObjectPropertyKey(),this.expect(":"),k=this.parsePatternWithDefault(l,d);return this.finalize(h,new o.Property("init",w,m,k,D,C))},p.prototype.parseObjectPattern=function(l,d){var h=this.createNode(),m=[];for(this.expect("{");!this.match("}");)m.push(this.parsePropertyPattern(l,d)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(h,new o.ObjectPattern(m))},p.prototype.parsePattern=function(l,d){var h;return this.match("[")?h=this.parseArrayPattern(l,d):this.match("{")?h=this.parseObjectPattern(l,d):(this.matchKeyword("let")&&(d==="const"||d==="let")&&this.tolerateUnexpectedToken(this.lookahead,s.Messages.LetInLexicalBinding),l.push(this.lookahead),h=this.parseVariableIdentifier(d)),h},p.prototype.parsePatternWithDefault=function(l,d){var h=this.lookahead,m=this.parsePattern(l,d);if(this.match("=")){this.nextToken();var C=this.context.allowYield;this.context.allowYield=!0;var D=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=C,m=this.finalize(this.startNode(h),new o.AssignmentPattern(m,D))}return m},p.prototype.parseVariableIdentifier=function(l){var d=this.createNode(),h=this.nextToken();return h.type===4&&h.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(h,s.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(h):h.type!==3?this.context.strict&&h.type===4&&this.scanner.isStrictModeReservedWord(h.value)?this.tolerateUnexpectedToken(h,s.Messages.StrictReservedWord):(this.context.strict||h.value!=="let"||l!=="var")&&this.throwUnexpectedToken(h):(this.context.isModule||this.context.await)&&h.type===3&&h.value==="await"&&this.tolerateUnexpectedToken(h),this.finalize(d,new o.Identifier(h.value))},p.prototype.parseVariableDeclaration=function(l){var d=this.createNode(),h=[],m=this.parsePattern(h,"var");this.context.strict&&m.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(m.name)&&this.tolerateError(s.Messages.StrictVarName);var C=null;return this.match("=")?(this.nextToken(),C=this.isolateCoverGrammar(this.parseAssignmentExpression)):m.type!==c.Syntax.Identifier&&!l.inFor&&this.expect("="),this.finalize(d,new o.VariableDeclarator(m,C))},p.prototype.parseVariableDeclarationList=function(l){var d={inFor:l.inFor},h=[];for(h.push(this.parseVariableDeclaration(d));this.match(",");)this.nextToken(),h.push(this.parseVariableDeclaration(d));return h},p.prototype.parseVariableStatement=function(){var l=this.createNode();this.expectKeyword("var");var d=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(l,new o.VariableDeclaration(d,"var"))},p.prototype.parseEmptyStatement=function(){var l=this.createNode();return this.expect(";"),this.finalize(l,new o.EmptyStatement)},p.prototype.parseExpressionStatement=function(){var l=this.createNode(),d=this.parseExpression();return this.consumeSemicolon(),this.finalize(l,new o.ExpressionStatement(d))},p.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(s.Messages.StrictFunction),this.parseStatement()},p.prototype.parseIfStatement=function(){var l=this.createNode(),d,h=null;this.expectKeyword("if"),this.expect("(");var m=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new o.EmptyStatement)):(this.expect(")"),d=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),h=this.parseIfClause())),this.finalize(l,new o.IfStatement(m,d,h))},p.prototype.parseDoWhileStatement=function(){var l=this.createNode();this.expectKeyword("do");var d=this.context.inIteration;this.context.inIteration=!0;var h=this.parseStatement();this.context.inIteration=d,this.expectKeyword("while"),this.expect("(");var m=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(l,new o.DoWhileStatement(h,m))},p.prototype.parseWhileStatement=function(){var l=this.createNode(),d;this.expectKeyword("while"),this.expect("(");var h=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new o.EmptyStatement);else{this.expect(")");var m=this.context.inIteration;this.context.inIteration=!0,d=this.parseStatement(),this.context.inIteration=m}return this.finalize(l,new o.WhileStatement(h,d))},p.prototype.parseForStatement=function(){var l=null,d=null,h=null,m=!0,C,D,w=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){l=this.createNode(),this.nextToken();var k=this.context.allowIn;this.context.allowIn=!1;var A=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=k,A.length===1&&this.matchKeyword("in")){var B=A[0];B.init&&(B.id.type===c.Syntax.ArrayPattern||B.id.type===c.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(s.Messages.ForInOfLoopInitializer,"for-in"),l=this.finalize(l,new o.VariableDeclaration(A,"var")),this.nextToken(),C=l,D=this.parseExpression(),l=null}else A.length===1&&A[0].init===null&&this.matchContextualKeyword("of")?(l=this.finalize(l,new o.VariableDeclaration(A,"var")),this.nextToken(),C=l,D=this.parseAssignmentExpression(),l=null,m=!1):(l=this.finalize(l,new o.VariableDeclaration(A,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){l=this.createNode();var W=this.nextToken().value;if(!this.context.strict&&this.lookahead.value==="in")l=this.finalize(l,new o.Identifier(W)),this.nextToken(),C=l,D=this.parseExpression(),l=null;else{var k=this.context.allowIn;this.context.allowIn=!1;var A=this.parseBindingList(W,{inFor:!0});this.context.allowIn=k,A.length===1&&A[0].init===null&&this.matchKeyword("in")?(l=this.finalize(l,new o.VariableDeclaration(A,W)),this.nextToken(),C=l,D=this.parseExpression(),l=null):A.length===1&&A[0].init===null&&this.matchContextualKeyword("of")?(l=this.finalize(l,new o.VariableDeclaration(A,W)),this.nextToken(),C=l,D=this.parseAssignmentExpression(),l=null,m=!1):(this.consumeSemicolon(),l=this.finalize(l,new o.VariableDeclaration(A,W)))}}else{var U=this.lookahead,k=this.context.allowIn;if(this.context.allowIn=!1,l=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=k,this.matchKeyword("in"))(!this.context.isAssignmentTarget||l.type===c.Syntax.AssignmentExpression)&&this.tolerateError(s.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(l),C=l,D=this.parseExpression(),l=null;else if(this.matchContextualKeyword("of"))(!this.context.isAssignmentTarget||l.type===c.Syntax.AssignmentExpression)&&this.tolerateError(s.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(l),C=l,D=this.parseAssignmentExpression(),l=null,m=!1;else{if(this.match(",")){for(var ee=[l];this.match(",");)this.nextToken(),ee.push(this.isolateCoverGrammar(this.parseAssignmentExpression));l=this.finalize(this.startNode(U),new o.SequenceExpression(ee))}this.expect(";")}}typeof C>"u"&&(this.match(";")||(d=this.parseExpression()),this.expect(";"),this.match(")")||(h=this.parseExpression()));var Z;if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),Z=this.finalize(this.createNode(),new o.EmptyStatement);else{this.expect(")");var H=this.context.inIteration;this.context.inIteration=!0,Z=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=H}return typeof C>"u"?this.finalize(w,new o.ForStatement(l,d,h,Z)):m?this.finalize(w,new o.ForInStatement(C,D,Z)):this.finalize(w,new o.ForOfStatement(C,D,Z))},p.prototype.parseContinueStatement=function(){var l=this.createNode();this.expectKeyword("continue");var d=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var h=this.parseVariableIdentifier();d=h;var m="$"+h.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,m)||this.throwError(s.Messages.UnknownLabel,h.name)}return this.consumeSemicolon(),d===null&&!this.context.inIteration&&this.throwError(s.Messages.IllegalContinue),this.finalize(l,new o.ContinueStatement(d))},p.prototype.parseBreakStatement=function(){var l=this.createNode();this.expectKeyword("break");var d=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var h=this.parseVariableIdentifier(),m="$"+h.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,m)||this.throwError(s.Messages.UnknownLabel,h.name),d=h}return this.consumeSemicolon(),d===null&&!this.context.inIteration&&!this.context.inSwitch&&this.throwError(s.Messages.IllegalBreak),this.finalize(l,new o.BreakStatement(d))},p.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(s.Messages.IllegalReturn);var l=this.createNode();this.expectKeyword("return");var d=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&this.lookahead.type!==2||this.lookahead.type===8||this.lookahead.type===10,h=d?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(l,new o.ReturnStatement(h))},p.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(s.Messages.StrictModeWith);var l=this.createNode(),d;this.expectKeyword("with"),this.expect("(");var h=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new o.EmptyStatement)):(this.expect(")"),d=this.parseStatement()),this.finalize(l,new o.WithStatement(h,d))},p.prototype.parseSwitchCase=function(){var l=this.createNode(),d;this.matchKeyword("default")?(this.nextToken(),d=null):(this.expectKeyword("case"),d=this.parseExpression()),this.expect(":");for(var h=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)h.push(this.parseStatementListItem());return this.finalize(l,new o.SwitchCase(d,h))},p.prototype.parseSwitchStatement=function(){var l=this.createNode();this.expectKeyword("switch"),this.expect("(");var d=this.parseExpression();this.expect(")");var h=this.context.inSwitch;this.context.inSwitch=!0;var m=[],C=!1;for(this.expect("{");!this.match("}");){var D=this.parseSwitchCase();D.test===null&&(C&&this.throwError(s.Messages.MultipleDefaultsInSwitch),C=!0),m.push(D)}return this.expect("}"),this.context.inSwitch=h,this.finalize(l,new o.SwitchStatement(d,m))},p.prototype.parseLabelledStatement=function(){var l=this.createNode(),d=this.parseExpression(),h;if(d.type===c.Syntax.Identifier&&this.match(":")){this.nextToken();var m=d,C="$"+m.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,C)&&this.throwError(s.Messages.Redeclaration,"Label",m.name),this.context.labelSet[C]=!0;var D=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),D=this.parseClassDeclaration();else if(this.matchKeyword("function")){var w=this.lookahead,k=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(w,s.Messages.StrictFunction):k.generator&&this.tolerateUnexpectedToken(w,s.Messages.GeneratorInLegacyContext),D=k}else D=this.parseStatement();delete this.context.labelSet[C],h=new o.LabeledStatement(m,D)}else this.consumeSemicolon(),h=new o.ExpressionStatement(d);return this.finalize(l,h)},p.prototype.parseThrowStatement=function(){var l=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(s.Messages.NewlineAfterThrow);var d=this.parseExpression();return this.consumeSemicolon(),this.finalize(l,new o.ThrowStatement(d))},p.prototype.parseCatchClause=function(){var l=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var d=[],h=this.parsePattern(d),m={},C=0;C<d.length;C++){var D="$"+d[C].value;Object.prototype.hasOwnProperty.call(m,D)&&this.tolerateError(s.Messages.DuplicateBinding,d[C].value),m[D]=!0}this.context.strict&&h.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(h.name)&&this.tolerateError(s.Messages.StrictCatchVariable),this.expect(")");var w=this.parseBlock();return this.finalize(l,new o.CatchClause(h,w))},p.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},p.prototype.parseTryStatement=function(){var l=this.createNode();this.expectKeyword("try");var d=this.parseBlock(),h=this.matchKeyword("catch")?this.parseCatchClause():null,m=this.matchKeyword("finally")?this.parseFinallyClause():null;return!h&&!m&&this.throwError(s.Messages.NoCatchOrFinally),this.finalize(l,new o.TryStatement(d,h,m))},p.prototype.parseDebuggerStatement=function(){var l=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(l,new o.DebuggerStatement)},p.prototype.parseStatement=function(){var l;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:l=this.parseExpressionStatement();break;case 7:var d=this.lookahead.value;d==="{"?l=this.parseBlock():d==="("?l=this.parseExpressionStatement():d===";"?l=this.parseEmptyStatement():l=this.parseExpressionStatement();break;case 3:l=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":l=this.parseBreakStatement();break;case"continue":l=this.parseContinueStatement();break;case"debugger":l=this.parseDebuggerStatement();break;case"do":l=this.parseDoWhileStatement();break;case"for":l=this.parseForStatement();break;case"function":l=this.parseFunctionDeclaration();break;case"if":l=this.parseIfStatement();break;case"return":l=this.parseReturnStatement();break;case"switch":l=this.parseSwitchStatement();break;case"throw":l=this.parseThrowStatement();break;case"try":l=this.parseTryStatement();break;case"var":l=this.parseVariableStatement();break;case"while":l=this.parseWhileStatement();break;case"with":l=this.parseWithStatement();break;default:l=this.parseExpressionStatement();break}break;default:l=this.throwUnexpectedToken(this.lookahead)}return l},p.prototype.parseFunctionSourceElements=function(){var l=this.createNode();this.expect("{");var d=this.parseDirectivePrologues(),h=this.context.labelSet,m=this.context.inIteration,C=this.context.inSwitch,D=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)d.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=h,this.context.inIteration=m,this.context.inSwitch=C,this.context.inFunctionBody=D,this.finalize(l,new o.BlockStatement(d))},p.prototype.validateParam=function(l,d,h){var m="$"+h;this.context.strict?(this.scanner.isRestrictedWord(h)&&(l.stricted=d,l.message=s.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(l.paramSet,m)&&(l.stricted=d,l.message=s.Messages.StrictParamDupe)):l.firstRestricted||(this.scanner.isRestrictedWord(h)?(l.firstRestricted=d,l.message=s.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(h)?(l.firstRestricted=d,l.message=s.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(l.paramSet,m)&&(l.stricted=d,l.message=s.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(l.paramSet,m,{value:!0,enumerable:!0,writable:!0,configurable:!0}):l.paramSet[m]=!0},p.prototype.parseRestElement=function(l){var d=this.createNode();this.expect("...");var h=this.parsePattern(l);return this.match("=")&&this.throwError(s.Messages.DefaultRestParameter),this.match(")")||this.throwError(s.Messages.ParameterAfterRestParameter),this.finalize(d,new o.RestElement(h))},p.prototype.parseFormalParameter=function(l){for(var d=[],h=this.match("...")?this.parseRestElement(d):this.parsePatternWithDefault(d),m=0;m<d.length;m++)this.validateParam(l,d[m],d[m].value);l.simple=l.simple&&h instanceof o.Identifier,l.params.push(h)},p.prototype.parseFormalParameters=function(l){var d;if(d={simple:!0,params:[],firstRestricted:l},this.expect("("),!this.match(")"))for(d.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(d),!(this.match(")")||(this.expect(","),this.match(")")))););return this.expect(")"),{simple:d.simple,params:d.params,stricted:d.stricted,firstRestricted:d.firstRestricted,message:d.message}},p.prototype.matchAsyncFunction=function(){var l=this.matchContextualKeyword("async");if(l){var d=this.scanner.saveState();this.scanner.scanComments();var h=this.scanner.lex();this.scanner.restoreState(d),l=d.lineNumber===h.lineNumber&&h.type===4&&h.value==="function"}return l},p.prototype.parseFunctionDeclaration=function(l){var d=this.createNode(),h=this.matchContextualKeyword("async");h&&this.nextToken(),this.expectKeyword("function");var m=h?!1:this.match("*");m&&this.nextToken();var C,D=null,w=null;if(!l||!this.match("(")){var k=this.lookahead;D=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(k.value)&&this.tolerateUnexpectedToken(k,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(k.value)?(w=k,C=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(k.value)&&(w=k,C=s.Messages.StrictReservedWord)}var A=this.context.await,B=this.context.allowYield;this.context.await=h,this.context.allowYield=!m;var W=this.parseFormalParameters(w),U=W.params,ee=W.stricted;w=W.firstRestricted,W.message&&(C=W.message);var Z=this.context.strict,H=this.context.allowStrictDirective;this.context.allowStrictDirective=W.simple;var M=this.parseFunctionSourceElements();return this.context.strict&&w&&this.throwUnexpectedToken(w,C),this.context.strict&&ee&&this.tolerateUnexpectedToken(ee,C),this.context.strict=Z,this.context.allowStrictDirective=H,this.context.await=A,this.context.allowYield=B,h?this.finalize(d,new o.AsyncFunctionDeclaration(D,U,M)):this.finalize(d,new o.FunctionDeclaration(D,U,M,m))},p.prototype.parseFunctionExpression=function(){var l=this.createNode(),d=this.matchContextualKeyword("async");d&&this.nextToken(),this.expectKeyword("function");var h=d?!1:this.match("*");h&&this.nextToken();var m,C=null,D,w=this.context.await,k=this.context.allowYield;if(this.context.await=d,this.context.allowYield=!h,!this.match("(")){var A=this.lookahead;C=!this.context.strict&&!h&&this.matchKeyword("yield")?this.parseIdentifierName():this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(A.value)&&this.tolerateUnexpectedToken(A,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(A.value)?(D=A,m=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(A.value)&&(D=A,m=s.Messages.StrictReservedWord)}var B=this.parseFormalParameters(D),W=B.params,U=B.stricted;D=B.firstRestricted,B.message&&(m=B.message);var ee=this.context.strict,Z=this.context.allowStrictDirective;this.context.allowStrictDirective=B.simple;var H=this.parseFunctionSourceElements();return this.context.strict&&D&&this.throwUnexpectedToken(D,m),this.context.strict&&U&&this.tolerateUnexpectedToken(U,m),this.context.strict=ee,this.context.allowStrictDirective=Z,this.context.await=w,this.context.allowYield=k,d?this.finalize(l,new o.AsyncFunctionExpression(C,W,H)):this.finalize(l,new o.FunctionExpression(C,W,H,h))},p.prototype.parseDirective=function(){var l=this.lookahead,d=this.createNode(),h=this.parseExpression(),m=h.type===c.Syntax.Literal?this.getTokenRaw(l).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(d,m?new o.Directive(h,m):new o.ExpressionStatement(h))},p.prototype.parseDirectivePrologues=function(){for(var l=null,d=[];;){var h=this.lookahead;if(h.type!==8)break;var m=this.parseDirective();d.push(m);var C=m.directive;if(typeof C!="string")break;C==="use strict"?(this.context.strict=!0,l&&this.tolerateUnexpectedToken(l,s.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(h,s.Messages.IllegalLanguageModeDirective)):!l&&h.octal&&(l=h)}return d},p.prototype.qualifiedPropertyName=function(l){switch(l.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return l.value==="[";default:break}return!1},p.prototype.parseGetterMethod=function(){var l=this.createNode(),d=!1,h=this.context.allowYield;this.context.allowYield=!d;var m=this.parseFormalParameters();m.params.length>0&&this.tolerateError(s.Messages.BadGetterArity);var C=this.parsePropertyMethod(m);return this.context.allowYield=h,this.finalize(l,new o.FunctionExpression(null,m.params,C,d))},p.prototype.parseSetterMethod=function(){var l=this.createNode(),d=!1,h=this.context.allowYield;this.context.allowYield=!d;var m=this.parseFormalParameters();m.params.length!==1?this.tolerateError(s.Messages.BadSetterArity):m.params[0]instanceof o.RestElement&&this.tolerateError(s.Messages.BadSetterRestParameter);var C=this.parsePropertyMethod(m);return this.context.allowYield=h,this.finalize(l,new o.FunctionExpression(null,m.params,C,d))},p.prototype.parseGeneratorMethod=function(){var l=this.createNode(),d=!0,h=this.context.allowYield;this.context.allowYield=!0;var m=this.parseFormalParameters();this.context.allowYield=!1;var C=this.parsePropertyMethod(m);return this.context.allowYield=h,this.finalize(l,new o.FunctionExpression(null,m.params,C,d))},p.prototype.isStartOfExpression=function(){var l=!0,d=this.lookahead.value;switch(this.lookahead.type){case 7:l=d==="["||d==="("||d==="{"||d==="+"||d==="-"||d==="!"||d==="~"||d==="++"||d==="--"||d==="/"||d==="/=";break;case 4:l=d==="class"||d==="delete"||d==="function"||d==="let"||d==="new"||d==="super"||d==="this"||d==="typeof"||d==="void"||d==="yield";break;default:break}return l},p.prototype.parseYieldExpression=function(){var l=this.createNode();this.expectKeyword("yield");var d=null,h=!1;if(!this.hasLineTerminator){var m=this.context.allowYield;this.context.allowYield=!1,h=this.match("*"),h?(this.nextToken(),d=this.parseAssignmentExpression()):this.isStartOfExpression()&&(d=this.parseAssignmentExpression()),this.context.allowYield=m}return this.finalize(l,new o.YieldExpression(d,h))},p.prototype.parseClassElement=function(l){var d=this.lookahead,h=this.createNode(),m="",C=null,D=null,w=!1,k=!1,A=!1,B=!1;if(this.match("*"))this.nextToken();else{w=this.match("["),C=this.parseObjectPropertyKey();var W=C;if(W.name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(d=this.lookahead,A=!0,w=this.match("["),this.match("*")?this.nextToken():C=this.parseObjectPropertyKey()),d.type===3&&!this.hasLineTerminator&&d.value==="async"){var U=this.lookahead.value;U!==":"&&U!=="("&&U!=="*"&&(B=!0,d=this.lookahead,C=this.parseObjectPropertyKey(),d.type===3&&d.value==="constructor"&&this.tolerateUnexpectedToken(d,s.Messages.ConstructorIsAsync))}}var ee=this.qualifiedPropertyName(this.lookahead);return d.type===3?d.value==="get"&&ee?(m="get",w=this.match("["),C=this.parseObjectPropertyKey(),this.context.allowYield=!1,D=this.parseGetterMethod()):d.value==="set"&&ee&&(m="set",w=this.match("["),C=this.parseObjectPropertyKey(),D=this.parseSetterMethod()):d.type===7&&d.value==="*"&&ee&&(m="init",w=this.match("["),C=this.parseObjectPropertyKey(),D=this.parseGeneratorMethod(),k=!0),!m&&C&&this.match("(")&&(m="init",D=B?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),k=!0),m||this.throwUnexpectedToken(this.lookahead),m==="init"&&(m="method"),w||(A&&this.isPropertyKey(C,"prototype")&&this.throwUnexpectedToken(d,s.Messages.StaticPrototype),!A&&this.isPropertyKey(C,"constructor")&&((m!=="method"||!k||D&&D.generator)&&this.throwUnexpectedToken(d,s.Messages.ConstructorSpecialMethod),l.value?this.throwUnexpectedToken(d,s.Messages.DuplicateConstructor):l.value=!0,m="constructor")),this.finalize(h,new o.MethodDefinition(C,w,D,m,A))},p.prototype.parseClassElementList=function(){var l=[],d={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():l.push(this.parseClassElement(d));return this.expect("}"),l},p.prototype.parseClassBody=function(){var l=this.createNode(),d=this.parseClassElementList();return this.finalize(l,new o.ClassBody(d))},p.prototype.parseClassDeclaration=function(l){var d=this.createNode(),h=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var m=l&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),C=null;this.matchKeyword("extends")&&(this.nextToken(),C=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var D=this.parseClassBody();return this.context.strict=h,this.finalize(d,new o.ClassDeclaration(m,C,D))},p.prototype.parseClassExpression=function(){var l=this.createNode(),d=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var h=this.lookahead.type===3?this.parseVariableIdentifier():null,m=null;this.matchKeyword("extends")&&(this.nextToken(),m=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var C=this.parseClassBody();return this.context.strict=d,this.finalize(l,new o.ClassExpression(h,m,C))},p.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var l=this.createNode(),d=this.parseDirectivePrologues();this.lookahead.type!==2;)d.push(this.parseStatementListItem());return this.finalize(l,new o.Module(d))},p.prototype.parseScript=function(){for(var l=this.createNode(),d=this.parseDirectivePrologues();this.lookahead.type!==2;)d.push(this.parseStatementListItem());return this.finalize(l,new o.Script(d))},p.prototype.parseModuleSpecifier=function(){var l=this.createNode();this.lookahead.type!==8&&this.throwError(s.Messages.InvalidModuleSpecifier);var d=this.nextToken(),h=this.getTokenRaw(d);return this.finalize(l,new o.Literal(d.value,h))},p.prototype.parseImportSpecifier=function(){var l=this.createNode(),d,h;return this.lookahead.type===3?(d=this.parseVariableIdentifier(),h=d,this.matchContextualKeyword("as")&&(this.nextToken(),h=this.parseVariableIdentifier())):(d=this.parseIdentifierName(),h=d,this.matchContextualKeyword("as")?(this.nextToken(),h=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(l,new o.ImportSpecifier(h,d))},p.prototype.parseNamedImports=function(){this.expect("{");for(var l=[];!this.match("}");)l.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),l},p.prototype.parseImportDefaultSpecifier=function(){var l=this.createNode(),d=this.parseIdentifierName();return this.finalize(l,new o.ImportDefaultSpecifier(d))},p.prototype.parseImportNamespaceSpecifier=function(){var l=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(s.Messages.NoAsAfterImportNamespace),this.nextToken();var d=this.parseIdentifierName();return this.finalize(l,new o.ImportNamespaceSpecifier(d))},p.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalImportDeclaration);var l=this.createNode();this.expectKeyword("import");var d,h=[];if(this.lookahead.type===8)d=this.parseModuleSpecifier();else{if(this.match("{")?h=h.concat(this.parseNamedImports()):this.match("*")?h.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(h.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?h.push(this.parseImportNamespaceSpecifier()):this.match("{")?h=h.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var m=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(m,this.lookahead.value)}this.nextToken(),d=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(l,new o.ImportDeclaration(h,d))},p.prototype.parseExportSpecifier=function(){var l=this.createNode(),d=this.parseIdentifierName(),h=d;return this.matchContextualKeyword("as")&&(this.nextToken(),h=this.parseIdentifierName()),this.finalize(l,new o.ExportSpecifier(d,h))},p.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalExportDeclaration);var l=this.createNode();this.expectKeyword("export");var d;if(this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var h=this.parseFunctionDeclaration(!0);d=this.finalize(l,new o.ExportDefaultDeclaration(h))}else if(this.matchKeyword("class")){var h=this.parseClassDeclaration(!0);d=this.finalize(l,new o.ExportDefaultDeclaration(h))}else if(this.matchContextualKeyword("async")){var h=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression();d=this.finalize(l,new o.ExportDefaultDeclaration(h))}else{this.matchContextualKeyword("from")&&this.throwError(s.Messages.UnexpectedToken,this.lookahead.value);var h=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),d=this.finalize(l,new o.ExportDefaultDeclaration(h))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var m=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(m,this.lookahead.value)}this.nextToken();var C=this.parseModuleSpecifier();this.consumeSemicolon(),d=this.finalize(l,new o.ExportAllDeclaration(C))}else if(this.lookahead.type===4){var h=void 0;switch(this.lookahead.value){case"let":case"const":h=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":h=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}d=this.finalize(l,new o.ExportNamedDeclaration(h,[],null))}else if(this.matchAsyncFunction()){var h=this.parseFunctionDeclaration();d=this.finalize(l,new o.ExportNamedDeclaration(h,[],null))}else{var D=[],w=null,k=!1;for(this.expect("{");!this.match("}");)k=k||this.matchKeyword("default"),D.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),w=this.parseModuleSpecifier(),this.consumeSemicolon();else if(k){var m=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(m,this.lookahead.value)}else this.consumeSemicolon();d=this.finalize(l,new o.ExportNamedDeclaration(null,D,w))}return d},p}();e.Parser=g},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(i,r){if(!i)throw new Error("ASSERT: "+r)}e.assert=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function i(){this.errors=[],this.tolerant=!1}return i.prototype.recordError=function(r){this.errors.push(r)},i.prototype.tolerate=function(r){if(this.tolerant)this.recordError(r);else throw r},i.prototype.constructError=function(r,s){var o=new Error(r);try{throw o}catch(a){Object.create&&Object.defineProperty&&(o=Object.create(a),Object.defineProperty(o,"column",{value:s}))}return o},i.prototype.createError=function(r,s,o,a){var c="Line "+s+": "+a,u=this.constructError(c,o);return u.index=r,u.lineNumber=s,u.description=a,u},i.prototype.throwError=function(r,s,o,a){throw this.createError(r,s,o,a)},i.prototype.tolerateError=function(r,s,o,a){var c=this.createError(r,s,o,a);if(this.tolerant)this.recordError(c);else throw c},i}();e.ErrorHandler=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=n(4),s=n(11);function o(u){return"0123456789abcdef".indexOf(u.toLowerCase())}function a(u){return"01234567".indexOf(u)}var c=function(){function u(f,g){this.source=f,this.errorHandler=g,this.trackComment=!1,this.isModule=!1,this.length=f.length,this.index=0,this.lineNumber=f.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return u.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},u.prototype.restoreState=function(f){this.index=f.index,this.lineNumber=f.lineNumber,this.lineStart=f.lineStart},u.prototype.eof=function(){return this.index>=this.length},u.prototype.throwUnexpectedToken=function(f){return f===void 0&&(f=s.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,f)},u.prototype.tolerateUnexpectedToken=function(f){f===void 0&&(f=s.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,f)},u.prototype.skipSingleLineComment=function(f){var g=[],p,l;for(this.trackComment&&(g=[],p=this.index-f,l={start:{line:this.lineNumber,column:this.index-this.lineStart-f},end:{}});!this.eof();){var d=this.source.charCodeAt(this.index);if(++this.index,r.Character.isLineTerminator(d)){if(this.trackComment){l.end={line:this.lineNumber,column:this.index-this.lineStart-1};var h={multiLine:!1,slice:[p+f,this.index-1],range:[p,this.index-1],loc:l};g.push(h)}return d===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,g}}if(this.trackComment){l.end={line:this.lineNumber,column:this.index-this.lineStart};var h={multiLine:!1,slice:[p+f,this.index],range:[p,this.index],loc:l};g.push(h)}return g},u.prototype.skipMultiLineComment=function(){var f=[],g,p;for(this.trackComment&&(f=[],g=this.index-2,p={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var l=this.source.charCodeAt(this.index);if(r.Character.isLineTerminator(l))l===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(l===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){p.end={line:this.lineNumber,column:this.index-this.lineStart};var d={multiLine:!0,slice:[g+2,this.index-2],range:[g,this.index],loc:p};f.push(d)}return f}++this.index}else++this.index}if(this.trackComment){p.end={line:this.lineNumber,column:this.index-this.lineStart};var d={multiLine:!0,slice:[g+2,this.index],range:[g,this.index],loc:p};f.push(d)}return this.tolerateUnexpectedToken(),f},u.prototype.scanComments=function(){var f;this.trackComment&&(f=[]);for(var g=this.index===0;!this.eof();){var p=this.source.charCodeAt(this.index);if(r.Character.isWhiteSpace(p))++this.index;else if(r.Character.isLineTerminator(p))++this.index,p===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,g=!0;else if(p===47)if(p=this.source.charCodeAt(this.index+1),p===47){this.index+=2;var l=this.skipSingleLineComment(2);this.trackComment&&(f=f.concat(l)),g=!0}else if(p===42){this.index+=2;var l=this.skipMultiLineComment();this.trackComment&&(f=f.concat(l))}else break;else if(g&&p===45)if(this.source.charCodeAt(this.index+1)===45&&this.source.charCodeAt(this.index+2)===62){this.index+=3;var l=this.skipSingleLineComment(3);this.trackComment&&(f=f.concat(l))}else break;else if(p===60&&!this.isModule)if(this.source.slice(this.index+1,this.index+4)==="!--"){this.index+=4;var l=this.skipSingleLineComment(4);this.trackComment&&(f=f.concat(l))}else break;else break}return f},u.prototype.isFutureReservedWord=function(f){switch(f){case"enum":case"export":case"import":case"super":return!0;default:return!1}},u.prototype.isStrictModeReservedWord=function(f){switch(f){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},u.prototype.isRestrictedWord=function(f){return f==="eval"||f==="arguments"},u.prototype.isKeyword=function(f){switch(f.length){case 2:return f==="if"||f==="in"||f==="do";case 3:return f==="var"||f==="for"||f==="new"||f==="try"||f==="let";case 4:return f==="this"||f==="else"||f==="case"||f==="void"||f==="with"||f==="enum";case 5:return f==="while"||f==="break"||f==="catch"||f==="throw"||f==="const"||f==="yield"||f==="class"||f==="super";case 6:return f==="return"||f==="typeof"||f==="delete"||f==="switch"||f==="export"||f==="import";case 7:return f==="default"||f==="finally"||f==="extends";case 8:return f==="function"||f==="continue"||f==="debugger";case 10:return f==="instanceof";default:return!1}},u.prototype.codePointAt=function(f){var g=this.source.charCodeAt(f);if(g>=55296&&g<=56319){var p=this.source.charCodeAt(f+1);if(p>=56320&&p<=57343){var l=g;g=(l-55296)*1024+p-56320+65536}}return g},u.prototype.scanHexEscape=function(f){for(var g=f==="u"?4:2,p=0,l=0;l<g;++l)if(!this.eof()&&r.Character.isHexDigit(this.source.charCodeAt(this.index)))p=p*16+o(this.source[this.index++]);else return null;return String.fromCharCode(p)},u.prototype.scanUnicodeCodePointEscape=function(){var f=this.source[this.index],g=0;for(f==="}"&&this.throwUnexpectedToken();!this.eof()&&(f=this.source[this.index++],!!r.Character.isHexDigit(f.charCodeAt(0)));)g=g*16+o(f);return(g>1114111||f!=="}")&&this.throwUnexpectedToken(),r.Character.fromCodePoint(g)},u.prototype.getIdentifier=function(){for(var f=this.index++;!this.eof();){var g=this.source.charCodeAt(this.index);if(g===92)return this.index=f,this.getComplexIdentifier();if(g>=55296&&g<57343)return this.index=f,this.getComplexIdentifier();if(r.Character.isIdentifierPart(g))++this.index;else break}return this.source.slice(f,this.index)},u.prototype.getComplexIdentifier=function(){var f=this.codePointAt(this.index),g=r.Character.fromCodePoint(f);this.index+=g.length;var p;for(f===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,p=this.scanUnicodeCodePointEscape()):(p=this.scanHexEscape("u"),(p===null||p==="\\"||!r.Character.isIdentifierStart(p.charCodeAt(0)))&&this.throwUnexpectedToken()),g=p);!this.eof()&&(f=this.codePointAt(this.index),!!r.Character.isIdentifierPart(f));)p=r.Character.fromCodePoint(f),g+=p,this.index+=p.length,f===92&&(g=g.substr(0,g.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,p=this.scanUnicodeCodePointEscape()):(p=this.scanHexEscape("u"),(p===null||p==="\\"||!r.Character.isIdentifierPart(p.charCodeAt(0)))&&this.throwUnexpectedToken()),g+=p);return g},u.prototype.octalToDecimal=function(f){var g=f!=="0",p=a(f);return!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(g=!0,p=p*8+a(this.source[this.index++]),"0123".indexOf(f)>=0&&!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(p=p*8+a(this.source[this.index++]))),{code:p,octal:g}},u.prototype.scanIdentifier=function(){var f,g=this.index,p=this.source.charCodeAt(g)===92?this.getComplexIdentifier():this.getIdentifier();if(p.length===1?f=3:this.isKeyword(p)?f=4:p==="null"?f=5:p==="true"||p==="false"?f=1:f=3,f!==3&&g+p.length!==this.index){var l=this.index;this.index=g,this.tolerateUnexpectedToken(s.Messages.InvalidEscapedReservedWord),this.index=l}return{type:f,value:p,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}},u.prototype.scanPunctuator=function(){var f=this.index,g=this.source[this.index];switch(g){case"(":case"{":g==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,g="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:g=this.source.substr(this.index,4),g===">>>="?this.index+=4:(g=g.substr(0,3),g==="==="||g==="!=="||g===">>>"||g==="<<="||g===">>="||g==="**="?this.index+=3:(g=g.substr(0,2),g==="&&"||g==="||"||g==="=="||g==="!="||g==="+="||g==="-="||g==="*="||g==="/="||g==="++"||g==="--"||g==="<<"||g===">>"||g==="&="||g==="|="||g==="^="||g==="%="||g==="<="||g===">="||g==="=>"||g==="**"?this.index+=2:(g=this.source[this.index],"<>=!+-*%&|^/".indexOf(g)>=0&&++this.index)))}return this.index===f&&this.throwUnexpectedToken(),{type:7,value:g,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},u.prototype.scanHexLiteral=function(f){for(var g="";!this.eof()&&r.Character.isHexDigit(this.source.charCodeAt(this.index));)g+=this.source[this.index++];return g.length===0&&this.throwUnexpectedToken(),r.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+g,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},u.prototype.scanBinaryLiteral=function(f){for(var g="",p;!this.eof()&&(p=this.source[this.index],!(p!=="0"&&p!=="1"));)g+=this.source[this.index++];return g.length===0&&this.throwUnexpectedToken(),this.eof()||(p=this.source.charCodeAt(this.index),(r.Character.isIdentifierStart(p)||r.Character.isDecimalDigit(p))&&this.throwUnexpectedToken()),{type:6,value:parseInt(g,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},u.prototype.scanOctalLiteral=function(f,g){var p="",l=!1;for(r.Character.isOctalDigit(f.charCodeAt(0))?(l=!0,p="0"+this.source[this.index++]):++this.index;!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];return!l&&p.length===0&&this.throwUnexpectedToken(),(r.Character.isIdentifierStart(this.source.charCodeAt(this.index))||r.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(p,8),octal:l,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}},u.prototype.isImplicitOctalLiteral=function(){for(var f=this.index+1;f<this.length;++f){var g=this.source[f];if(g==="8"||g==="9")return!1;if(!r.Character.isOctalDigit(g.charCodeAt(0)))return!0}return!0},u.prototype.scanNumericLiteral=function(){var f=this.index,g=this.source[f];i.assert(r.Character.isDecimalDigit(g.charCodeAt(0))||g===".","Numeric literal must start with a decimal digit or a decimal point");var p="";if(g!=="."){if(p=this.source[this.index++],g=this.source[this.index],p==="0"){if(g==="x"||g==="X")return++this.index,this.scanHexLiteral(f);if(g==="b"||g==="B")return++this.index,this.scanBinaryLiteral(f);if(g==="o"||g==="O")return this.scanOctalLiteral(g,f);if(g&&r.Character.isOctalDigit(g.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(g,f)}for(;r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];g=this.source[this.index]}if(g==="."){for(p+=this.source[this.index++];r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];g=this.source[this.index]}if(g==="e"||g==="E")if(p+=this.source[this.index++],g=this.source[this.index],(g==="+"||g==="-")&&(p+=this.source[this.index++]),r.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];else this.throwUnexpectedToken();return r.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(p),lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},u.prototype.scanStringLiteral=function(){var f=this.index,g=this.source[f];i.assert(g==="'"||g==='"',"String literal must starts with a quote"),++this.index;for(var p=!1,l="";!this.eof();){var d=this.source[this.index++];if(d===g){g="";break}else if(d==="\\")if(d=this.source[this.index++],!d||!r.Character.isLineTerminator(d.charCodeAt(0)))switch(d){case"u":if(this.source[this.index]==="{")++this.index,l+=this.scanUnicodeCodePointEscape();else{var h=this.scanHexEscape(d);h===null&&this.throwUnexpectedToken(),l+=h}break;case"x":var m=this.scanHexEscape(d);m===null&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),l+=m;break;case"n":l+=`
`;break;case"r":l+="\r";break;case"t":l+="	";break;case"b":l+="\b";break;case"f":l+="\f";break;case"v":l+="\v";break;case"8":case"9":l+=d,this.tolerateUnexpectedToken();break;default:if(d&&r.Character.isOctalDigit(d.charCodeAt(0))){var C=this.octalToDecimal(d);p=C.octal||p,l+=String.fromCharCode(C.code)}else l+=d;break}else++this.lineNumber,d==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else{if(r.Character.isLineTerminator(d.charCodeAt(0)))break;l+=d}}return g!==""&&(this.index=f,this.throwUnexpectedToken()),{type:8,value:l,octal:p,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},u.prototype.scanTemplate=function(){var f="",g=!1,p=this.index,l=this.source[p]==="`",d=!1,h=2;for(++this.index;!this.eof();){var m=this.source[this.index++];if(m==="`"){h=1,d=!0,g=!0;break}else if(m==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,g=!0;break}f+=m}else if(m==="\\")if(m=this.source[this.index++],r.Character.isLineTerminator(m.charCodeAt(0)))++this.lineNumber,m==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(m){case"n":f+=`
`;break;case"r":f+="\r";break;case"t":f+="	";break;case"u":if(this.source[this.index]==="{")++this.index,f+=this.scanUnicodeCodePointEscape();else{var C=this.index,D=this.scanHexEscape(m);D!==null?f+=D:(this.index=C,f+=m)}break;case"x":var w=this.scanHexEscape(m);w===null&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),f+=w;break;case"b":f+="\b";break;case"f":f+="\f";break;case"v":f+="\v";break;default:m==="0"?(r.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral),f+="\0"):r.Character.isOctalDigit(m.charCodeAt(0))?this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral):f+=m;break}else r.Character.isLineTerminator(m.charCodeAt(0))?(++this.lineNumber,m==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,f+=`
`):f+=m}return g||this.throwUnexpectedToken(),l||this.curlyStack.pop(),{type:10,value:this.source.slice(p+1,this.index-h),cooked:f,head:l,tail:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:p,end:this.index}},u.prototype.testRegExp=function(f,g){var p="\uFFFF",l=f,d=this;g.indexOf("u")>=0&&(l=l.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(h,m,C){var D=parseInt(m||C,16);return D>1114111&&d.throwUnexpectedToken(s.Messages.InvalidRegExp),D<=65535?String.fromCharCode(D):p}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p));try{RegExp(l)}catch{this.throwUnexpectedToken(s.Messages.InvalidRegExp)}try{return new RegExp(f,g)}catch{return null}},u.prototype.scanRegExpBody=function(){var f=this.source[this.index];i.assert(f==="/","Regular expression literal must start with a slash");for(var g=this.source[this.index++],p=!1,l=!1;!this.eof();)if(f=this.source[this.index++],g+=f,f==="\\")f=this.source[this.index++],r.Character.isLineTerminator(f.charCodeAt(0))&&this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),g+=f;else if(r.Character.isLineTerminator(f.charCodeAt(0)))this.throwUnexpectedToken(s.Messages.UnterminatedRegExp);else if(p)f==="]"&&(p=!1);else if(f==="/"){l=!0;break}else f==="["&&(p=!0);return l||this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),g.substr(1,g.length-2)},u.prototype.scanRegExpFlags=function(){for(var f="",g="";!this.eof();){var p=this.source[this.index];if(!r.Character.isIdentifierPart(p.charCodeAt(0)))break;if(++this.index,p==="\\"&&!this.eof())if(p=this.source[this.index],p==="u"){++this.index;var l=this.index,d=this.scanHexEscape("u");if(d!==null)for(g+=d,f+="\\u";l<this.index;++l)f+=this.source[l];else this.index=l,g+="u",f+="\\u";this.tolerateUnexpectedToken()}else f+="\\",this.tolerateUnexpectedToken();else g+=p,f+=p}return g},u.prototype.scanRegExp=function(){var f=this.index,g=this.scanRegExpBody(),p=this.scanRegExpFlags(),l=this.testRegExp(g,p);return{type:9,value:"",pattern:g,flags:p,regex:l,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},u.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var f=this.source.charCodeAt(this.index);return r.Character.isIdentifierStart(f)?this.scanIdentifier():f===40||f===41||f===59?this.scanPunctuator():f===39||f===34?this.scanStringLiteral():f===46?r.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():r.Character.isDecimalDigit(f)?this.scanNumericLiteral():f===96||f===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():f>=55296&&f<57343&&r.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},u}();e.Scanner=c},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenName={},e.TokenName[1]="Boolean",e.TokenName[2]="<end>",e.TokenName[3]="Identifier",e.TokenName[4]="Keyword",e.TokenName[5]="Null",e.TokenName[6]="Numeric",e.TokenName[7]="Punctuator",e.TokenName[8]="String",e.TokenName[9]="RegularExpression",e.TokenName[10]="Template"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",lang:"\u27E8",rang:"\u27E9"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(12),s=n(13),o=function(){function c(){this.values=[],this.curly=this.paren=-1}return c.prototype.beforeFunctionExpression=function(u){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(u)>=0},c.prototype.isRegexStart=function(){var u=this.values[this.values.length-1],f=u!==null;switch(u){case"this":case"]":f=!1;break;case")":var g=this.values[this.paren-1];f=g==="if"||g==="while"||g==="for"||g==="with";break;case"}":if(f=!1,this.values[this.curly-3]==="function"){var p=this.values[this.curly-4];f=p?!this.beforeFunctionExpression(p):!1}else if(this.values[this.curly-4]==="function"){var p=this.values[this.curly-5];f=p?!this.beforeFunctionExpression(p):!0}break;default:break}return f},c.prototype.push=function(u){u.type===7||u.type===4?(u.value==="{"?this.curly=this.values.length:u.value==="("&&(this.paren=this.values.length),this.values.push(u.value)):this.values.push(null)},c}(),a=function(){function c(u,f){this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=f?typeof f.tolerant=="boolean"&&f.tolerant:!1,this.scanner=new r.Scanner(u,this.errorHandler),this.scanner.trackComment=f?typeof f.comment=="boolean"&&f.comment:!1,this.trackRange=f?typeof f.range=="boolean"&&f.range:!1,this.trackLoc=f?typeof f.loc=="boolean"&&f.loc:!1,this.buffer=[],this.reader=new o}return c.prototype.errors=function(){return this.errorHandler.errors},c.prototype.getNextToken=function(){if(this.buffer.length===0){var u=this.scanner.scanComments();if(this.scanner.trackComment)for(var f=0;f<u.length;++f){var g=u[f],p=this.scanner.source.slice(g.slice[0],g.slice[1]),l={type:g.multiLine?"BlockComment":"LineComment",value:p};this.trackRange&&(l.range=g.range),this.trackLoc&&(l.loc=g.loc),this.buffer.push(l)}if(!this.scanner.eof()){var d=void 0;this.trackLoc&&(d={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var h=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart(),m=h?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(m);var C={type:s.TokenName[m.type],value:this.scanner.source.slice(m.start,m.end)};if(this.trackRange&&(C.range=[m.start,m.end]),this.trackLoc&&(d.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},C.loc=d),m.type===9){var D=m.pattern,w=m.flags;C.regex={pattern:D,flags:w}}this.buffer.push(C)}}return this.buffer.shift()},c}();e.Tokenizer=a}])})});var qd=F(Tn=>{function hW(t){return Array.isArray?Array.isArray(t):Md(t)==="[object Array]"}Tn.isArray=hW;function gW(t){return typeof t=="boolean"}Tn.isBoolean=gW;function mW(t){return t===null}Tn.isNull=mW;function yW(t){return t==null}Tn.isNullOrUndefined=yW;function CW(t){return typeof t=="number"}Tn.isNumber=CW;function vW(t){return typeof t=="string"}Tn.isString=vW;function SW(t){return typeof t=="symbol"}Tn.isSymbol=SW;function bW(t){return t===void 0}Tn.isUndefined=bW;function DW(t){return Md(t)==="[object RegExp]"}Tn.isRegExp=DW;function TW(t){return typeof t=="object"&&t!==null}Tn.isObject=TW;function wW(t){return Md(t)==="[object Date]"}Tn.isDate=wW;function xW(t){return Md(t)==="[object Error]"||t instanceof Error}Tn.isError=xW;function EW(t){return typeof t=="function"}Tn.isFunction=EW;function kW(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}Tn.isPrimitive=kW;Tn.isBuffer=require("buffer").Buffer.isBuffer;function Md(t){return Object.prototype.toString.call(t)}});var Qk=F((ene,Yk)=>{var Vk=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],me,Hk=t=>t<1e5?t<100?t<10?0:1:t<1e4?t<1e3?2:3:4:t<1e7?t<1e6?5:6:t<1e9?t<1e8?7:8:9;function zk(t,e){if(t===e)return 0;if(~~t===t&&~~e===e){if(t===0||e===0)return t<e?-1:1;if(t<0||e<0){if(e>=0)return-1;if(t>=0)return 1;t=-t,e=-e}let r=Hk(t),s=Hk(e),o=0;return r<s?(t*=Vk[s-r-1],e/=10,o=-1):r>s&&(e*=Vk[r-s-1],t/=10,o=1),t===e?o:t<e?-1:1}let n=String(t),i=String(e);return n===i?0:n<i?-1:1}function FW(t){let e=0;for(;t>=32;)e|=t&1,t>>=1;return t+e}function Gk(t,e,n,i){let r=e+1;if(r===n)return 1;if(i(t[r++],t[e])<0){for(;r<n&&i(t[r],t[r-1])<0;)r++;Jk(t,e,r),Jk(me,e,r)}else for(;r<n&&i(t[r],t[r-1])>=0;)r++;return r-e}function Jk(t,e,n){for(n--;e<n;){let i=t[e];t[e++]=t[n],t[n--]=i}}function Xk(t,e,n,i,r){for(i===e&&i++;i<n;i++){let s=t[i],o=me[i],a=e,c=i;for(;a<c;){let f=a+c>>>1;r(s,t[f])<0?c=f:a=f+1}let u=i-a;switch(u){case 3:t[a+3]=t[a+2],me[a+3]=me[a+2];case 2:t[a+2]=t[a+1],me[a+2]=me[a+1];case 1:t[a+1]=t[a],me[a+1]=me[a];break;default:for(;u>0;)t[a+u]=t[a+u-1],me[a+u]=me[a+u-1],u--}t[a]=s,me[a]=o}}function yy(t,e,n,i,r,s){let o=0,a=0,c=1;if(s(t,e[n+r])>0){for(a=i-r;c<a&&s(t,e[n+r+c])>0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a),o+=r,c+=r}else{for(a=r+1;c<a&&s(t,e[n+r-c])<=0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a);let u=o;o=r-c,c=r-u}for(o++;o<c;){let u=o+(c-o>>>1);s(t,e[n+u])>0?o=u+1:c=u}return c}function Cy(t,e,n,i,r,s){let o=0,a=0,c=1;if(s(t,e[n+r])<0){for(a=r+1;c<a&&s(t,e[n+r-c])<0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a);let u=o;o=r-c,c=r-u}else{for(a=i-r;c<a&&s(t,e[n+r+c])>=0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a),o+=r,c+=r}for(o++;o<c;){let u=o+(c-o>>>1);s(t,e[n+u])<0?c=u:o=u+1}return c}var vy=class{constructor(e,n){this.array=e,this.compare=n;let{length:i}=e;this.length=i,this.minGallop=7,this.tmpStorageLength=i<2*256?i>>>1:256,this.tmp=new Array(this.tmpStorageLength),this.tmpIndex=new Array(this.tmpStorageLength),this.stackLength=i<120?5:i<1542?10:i<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength),this.stackSize=0}pushRun(e,n){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=n,this.stackSize+=1}mergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;if(e>=1&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||e>=2&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}}forceMergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;e>0&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}}mergeAt(e){let{compare:n}=this,{array:i}=this,r=this.runStart[e],s=this.runLength[e],o=this.runStart[e+1],a=this.runLength[e+1];this.runLength[e]=s+a,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;let c=Cy(i[o],i,r,s,0,n);r+=c,s-=c,s!==0&&(a=yy(i[r+s-1],i,o,a,a-1,n),a!==0&&(s<=a?this.mergeLow(r,s,o,a):this.mergeHigh(r,s,o,a)))}mergeLow(e,n,i,r){let{compare:s}=this,{array:o}=this,{tmp:a}=this,{tmpIndex:c}=this,u=0;for(u=0;u<n;u++)a[u]=o[e+u],c[u]=me[e+u];let f=0,g=i,p=e;if(o[p]=o[g],me[p]=me[g],p++,g++,--r===0){for(u=0;u<n;u++)o[p+u]=a[f+u],me[p+u]=c[f+u];return}if(n===1){for(u=0;u<r;u++)o[p+u]=o[g+u],me[p+u]=me[g+u];o[p+r]=a[f],me[p+r]=c[f];return}let{minGallop:l}=this;for(;;){let d=0,h=0,m=!1;do if(s(o[g],a[f])<0){if(o[p]=o[g],me[p]=me[g],p++,g++,h++,d=0,--r===0){m=!0;break}}else if(o[p]=a[f],me[p]=c[f],p++,f++,d++,h=0,--n===1){m=!0;break}while((d|h)<l);if(m)break;do{if(d=Cy(o[g],a,f,n,0,s),d!==0){for(u=0;u<d;u++)o[p+u]=a[f+u],me[p+u]=c[f+u];if(p+=d,f+=d,n-=d,n<=1){m=!0;break}}if(o[p]=o[g],me[p]=me[g],p++,g++,--r===0){m=!0;break}if(h=yy(a[f],o,g,r,0,s),h!==0){for(u=0;u<h;u++)o[p+u]=o[g+u],me[p+u]=me[g+u];if(p+=h,g+=h,r-=h,r===0){m=!0;break}}if(o[p]=a[f],me[p]=c[f],p++,f++,--n===1){m=!0;break}l--}while(d>=7||h>=7);if(m)break;l<0&&(l=0),l+=2}if(this.minGallop=l,l<1&&(this.minGallop=1),n===1){for(u=0;u<r;u++)o[p+u]=o[g+u],me[p+u]=me[g+u];o[p+r]=a[f],me[p+r]=c[f]}else{if(n===0)throw new Error("mergeLow preconditions were not respected");for(u=0;u<n;u++)o[p+u]=a[f+u],me[p+u]=c[f+u]}}mergeHigh(e,n,i,r){let{compare:s}=this,{array:o}=this,{tmp:a}=this,{tmpIndex:c}=this,u=0;for(u=0;u<r;u++)a[u]=o[i+u],c[u]=me[i+u];let f=e+n-1,g=r-1,p=i+r-1,l=0,d=0;if(o[p]=o[f],me[p]=me[f],p--,f--,--n===0){for(l=p-(r-1),u=0;u<r;u++)o[l+u]=a[u],me[l+u]=c[u];return}if(r===1){for(p-=n,f-=n,d=p+1,l=f+1,u=n-1;u>=0;u--)o[d+u]=o[l+u],me[d+u]=me[l+u];o[p]=a[g],me[p]=c[g];return}let{minGallop:h}=this;for(;;){let m=0,C=0,D=!1;do if(s(a[g],o[f])<0){if(o[p]=o[f],me[p]=me[f],p--,f--,m++,C=0,--n===0){D=!0;break}}else if(o[p]=a[g],me[p]=c[g],p--,g--,C++,m=0,--r===1){D=!0;break}while((m|C)<h);if(D)break;do{if(m=n-Cy(a[g],o,e,n,n-1,s),m!==0){for(p-=m,f-=m,n-=m,d=p+1,l=f+1,u=m-1;u>=0;u--)o[d+u]=o[l+u],me[d+u]=me[l+u];if(n===0){D=!0;break}}if(o[p]=a[g],me[p]=c[g],p--,g--,--r===1){D=!0;break}if(C=r-yy(o[f],a,0,r,r-1,s),C!==0){for(p-=C,g-=C,r-=C,d=p+1,l=g+1,u=0;u<C;u++)o[d+u]=a[l+u],me[d+u]=c[l+u];if(r<=1){D=!0;break}}if(o[p]=o[f],me[p]=me[f],p--,f--,--n===0){D=!0;break}h--}while(m>=7||C>=7);if(D)break;h<0&&(h=0),h+=2}if(this.minGallop=h,h<1&&(this.minGallop=1),r===1){for(p-=n,f-=n,d=p+1,l=f+1,u=n-1;u>=0;u--)o[d+u]=o[l+u],me[d+u]=me[l+u];o[p]=a[g],me[p]=c[g]}else{if(r===0)throw new Error("mergeHigh preconditions were not respected");for(l=p-(r-1),u=0;u<r;u++)o[l+u]=a[u],me[l+u]=c[u]}}};function PW(t,e,n,i){if(!Array.isArray(t))throw new TypeError(`The "array" argument must be an array. Received ${t}`);me=[];let{length:r}=t,s=0;for(;s<r;)me[s]=s++;e?typeof e!="function"&&(i=n,n=e,e=zk):e=zk,n||(n=0),i||(i=r);let o=i-n;if(o<2)return me;let a=0;if(o<32)return a=Gk(t,n,i,e),Xk(t,n,i,n+a,e),me;let c=new vy(t,e),u=FW(o);do{if(a=Gk(t,n,i,e),a<u){let f=o;f>u&&(f=u),Xk(t,n,n+f,n+a,e),a=f}c.pushRun(n,a),c.mergeRuns(),o-=a,n+=a}while(o!==0);return c.forceMergeRuns(),me}Yk.exports={sort:PW}});var eF=F((tne,Zk)=>{"use strict";var RW=Object.prototype.hasOwnProperty;Zk.exports=(t,e)=>RW.call(t,e)});var ru=F((nne,dF)=>{var Dy=eF(),{isObject:tF,isArray:AW,isString:IW,isNumber:_W}=qd(),Ty="before",iF="after-prop",rF="after-colon",sF="after-value",oF="after",aF="before-all",cF="after-all",NW="[",OW="]",LW="{",MW="}",qW=",",UW="",jW="-",wy=[Ty,iF,rF,sF,oF],BW=[Ty,aF,cF].map(Symbol.for),uF=":",nF=void 0,iu=(t,e)=>Symbol.for(t+uF+e),Ud=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),by=(t,e,n,i,r,s)=>{let o=iu(r,i);if(!Dy(e,o))return;let a=n===i?o:iu(r,n);Ud(t,a,e[o]),s&&delete e[o]},lF=(t,e,n,i,r)=>{wy.forEach(s=>{by(t,e,n,i,s,r)})},WW=(t,e,n)=>{e!==n&&wy.forEach(i=>{let r=iu(i,n);if(!Dy(t,r)){by(t,t,n,e,i,!0);return}let s=t[r];delete t[r],by(t,t,n,e,i,!0),Ud(t,iu(i,e),s)})},Sy=(t,e)=>{BW.forEach(n=>{let i=e[n];i&&Ud(t,n,i)})},KW=(t,e,n)=>(n.forEach(i=>{!IW(i)&&!_W(i)||Dy(e,i)&&(t[i]=e[i],lF(t,e,i,i))}),t);dF.exports={SYMBOL_PREFIXES:wy,PREFIX_BEFORE:Ty,PREFIX_AFTER_PROP:iF,PREFIX_AFTER_COLON:rF,PREFIX_AFTER_VALUE:sF,PREFIX_AFTER:oF,PREFIX_BEFORE_ALL:aF,PREFIX_AFTER_ALL:cF,BRACKET_OPEN:NW,BRACKET_CLOSE:OW,CURLY_BRACKET_OPEN:LW,CURLY_BRACKET_CLOSE:MW,COLON:uF,COMMA:qW,MINUS:jW,EMPTY:UW,UNDEFINED:nF,symbol:iu,define:Ud,copy_comments:lF,swap_comments:WW,assign_non_prop_comments:Sy,assign(t,e,n){if(!tF(t))throw new TypeError("Cannot convert undefined or null to object");if(!tF(e))return t;if(n===nF)n=Object.keys(e),Sy(t,e);else if(AW(n))n.length===0&&Sy(t,e);else throw new TypeError("keys must be array or undefined");return KW(t,e,n)}}});var Ey=F((ine,mF)=>{var{isArray:$W}=qd(),{sort:VW}=Qk(),{SYMBOL_PREFIXES:HW,UNDEFINED:fF,symbol:zW,copy_comments:GW,swap_comments:gF}=ru(),JW=t=>{let{length:e}=t,n=0,i=e/2;for(;n<i;n++)gF(t,n,e-n-1)},pF=(t,e,n,i,r)=>{GW(t,e,n+i,n,r)},ha=(t,e,n,i,r,s)=>{if(r>0){let a=i;for(;a-- >0;)pF(t,e,n+a,r,s);return}let o=0;for(;o<i;){let a=o++;pF(t,e,n+a,r,s)}},hF=(t,e)=>{HW.forEach(n=>{let i=zW(n,e);delete t[i]})},XW=(t,e)=>{let n=e;for(;n in t;)n=t[n];return n},xy=class t extends Array{splice(...e){let{length:n}=this,i=super.splice(...e),[r,s,...o]=e;r<0&&(r+=n),arguments.length===1?s=n-r:s=Math.min(n-r,s);let{length:a}=o,c=a-s,u=r+s,f=n-u;return ha(this,this,u,f,c,!0),i}slice(...e){let{length:n}=this,i=super.slice(...e);if(!i.length)return new t;let[r,s]=e;return s===fF?s=n:s<0&&(s+=n),r<0?r+=n:r===fF&&(r=0),ha(i,this,r,s-r,-r),i}unshift(...e){let{length:n}=this,i=super.unshift(...e),{length:r}=e;return r>0&&ha(this,this,0,n,r,!0),i}shift(){let e=super.shift(),{length:n}=this;return hF(this,0),ha(this,this,1,n,-1,!0),e}reverse(){return super.reverse(),JW(this),this}pop(){let e=super.pop();return hF(this,this.length),e}concat(...e){let{length:n}=this,i=super.concat(...e);return e.length&&(ha(i,this,0,this.length,0),e.forEach(r=>{let s=n;n+=$W(r)?r.length:1,r instanceof t&&ha(i,r,0,r.length,s)})),i}sort(...e){let n=VW(this,...e.slice(0,1)),i=Object.create(null);return n.forEach((r,s)=>{if(r===s)return;let o=XW(i,r);o!==s&&(i[s]=o,gF(this,s,o))}),this}};mF.exports={CommentArray:xy}});var _F=F((rne,IF)=>{var YW=$k(),{CommentArray:QW}=Ey(),{PREFIX_BEFORE:Bd,PREFIX_AFTER_PROP:ZW,PREFIX_AFTER_COLON:eK,PREFIX_AFTER_VALUE:SF,PREFIX_AFTER:Fy,PREFIX_BEFORE_ALL:tK,PREFIX_AFTER_ALL:nK,BRACKET_OPEN:iK,BRACKET_CLOSE:yF,CURLY_BRACKET_OPEN:rK,CURLY_BRACKET_CLOSE:CF,COLON:bF,COMMA:DF,MINUS:vF,EMPTY:sK,UNDEFINED:$d,define:Py,assign_non_prop_comments:oK}=ru(),TF=t=>YW.tokenize(t,{comment:!0,loc:!0}),Ry=[],ls=null,Tr=null,Ay=[],ds,wF=!1,xF=!1,su=null,ou=null,wn=null,EF,Wd=null,kF=()=>{Ay.length=Ry.length=0,ou=null,ds=$d},aK=()=>{kF(),su.length=0,Tr=ls=su=ou=wn=Wd=null},Iy=t=>Symbol.for(ds!==$d?t+bF+ds:t),_y=(t,e)=>Wd?Wd(t,e):e,FF=()=>{let t=new SyntaxError(`Unexpected token ${wn.value.slice(0,1)}`);throw Object.assign(t,wn.loc.start),t},PF=()=>{let t=new SyntaxError("Unexpected end of JSON input");throw Object.assign(t,ou?ou.loc.end:{line:1,column:0}),t},Li=()=>{let t=su[++EF];xF=wn&&t&&wn.loc.end.line===t.loc.start.line||!1,ou=wn,wn=t},ky=()=>(wn||PF(),wn.type==="Punctuator"?wn.value:wn.type),ho=t=>ky()===t,jd=t=>{ho(t)||FF()},Ny=t=>{Ry.push(ls),ls=t},Oy=()=>{ls=Ry.pop()},RF=()=>{if(!Tr)return;let t=[];for(let n of Tr)if(n.inline)t.push(n);else break;let{length:e}=t;e&&(e===Tr.length?Tr=null:Tr.splice(0,e),Py(ls,Iy(Fy),t))},us=t=>{Tr&&(Py(ls,Iy(t),Tr),Tr=null)},wr=t=>{let e=[];for(;wn&&(ho("LineComment")||ho("BlockComment"));){let n={...wn,inline:xF};e.push(n),Li()}if(!wF&&e.length){if(t){Py(ls,Iy(t),e);return}Tr=e}},Kd=(t,e)=>{e&&Ay.push(ds),ds=t},AF=()=>{ds=Ay.pop()},cK=()=>{let t={};Ny(t),Kd($d,!0);let e=!1,n;for(wr();!ho(CF)&&!(e&&(us(SF),jd(DF),Li(),wr(),RF(),ho(CF)));)e=!0,jd("String"),n=JSON.parse(wn.value),Kd(n),us(Bd),Li(),wr(ZW),jd(bF),Li(),wr(eK),t[n]=_y(n,Ly()),wr();return e&&us(Fy),Li(),ds=void 0,e||us(Bd),Oy(),AF(),t},uK=()=>{let t=new QW;Ny(t),Kd($d,!0);let e=!1,n=0;for(wr();!ho(yF)&&!(e&&(us(SF),jd(DF),Li(),wr(),RF(),ho(yF)));)e=!0,Kd(n),us(Bd),t[n]=_y(n,Ly()),n++,wr();return e&&us(Fy),Li(),ds=void 0,e||us(Bd),Oy(),AF(),t};function Ly(){let t=ky();if(t===rK)return Li(),cK();if(t===iK)return Li(),uK();let e=sK;t===vF&&(Li(),t=ky(),e=vF);let n;switch(t){case"String":case"Boolean":case"Null":case"Numeric":return n=wn.value,Li(),JSON.parse(e+n);default:}}var lK=t=>Object(t)===t,dK=(t,e,n)=>{kF(),su=TF(t),Wd=e,wF=n,su.length||PF(),EF=-1,Li(),Ny({}),wr(tK);let i=Ly();return wr(nK),wn&&FF(),!n&&i!==null&&(lK(i)||(i=new Object(i)),oK(i,ls)),Oy(),i=_y("",i),aK(),i};IF.exports={parse:dK,tokenize:TF}});var OF=F((sne,NF)=>{"use strict";var Br="",My;NF.exports=fK;function fK(t,e){if(typeof t!="string")throw new TypeError("expected a string");if(e===1)return t;if(e===2)return t+t;var n=t.length*e;if(My!==t||typeof My>"u")My=t,Br="";else if(Br.length>=n)return Br.substr(0,n);for(;n>Br.length&&e>1;)e&1&&(Br+=t),e>>=1,t+=t;return Br+=t,Br=Br.substr(0,n),Br}});var HF=F((one,VF)=>{var{isArray:jy,isObject:LF,isFunction:Uy,isNumber:pK,isString:hK}=qd(),gK=OF(),{PREFIX_BEFORE_ALL:mK,PREFIX_BEFORE:MF,PREFIX_AFTER_PROP:yK,PREFIX_AFTER_COLON:CK,PREFIX_AFTER_VALUE:vK,PREFIX_AFTER:By,PREFIX_AFTER_ALL:SK,BRACKET_OPEN:bK,BRACKET_CLOSE:DK,CURLY_BRACKET_OPEN:TK,CURLY_BRACKET_CLOSE:wK,COLON:xK,COMMA:qF,EMPTY:Ci,UNDEFINED:EK}=ru(),qy=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Wy=" ",go=`
`,UF="null",jF=t=>`${MF}:${t}`,kK=t=>`${yK}:${t}`,FK=t=>`${CK}:${t}`,BF=t=>`${vK}:${t}`,WF=t=>`${By}:${t}`,PK={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},RK=t=>(qy.lastIndex=0,qy.test(t)?t.replace(qy,e=>{let n=PK[e];return typeof n=="string"?n:e}):t),KF=t=>`"${RK(t)}"`,AK=(t,e)=>e?`//${t}`:`/*${t}*/`,yi=(t,e,n,i)=>{let r=t[Symbol.for(e)];if(!r||!r.length)return Ci;let s=!1,o=r.reduce((a,{inline:c,type:u,value:f})=>{let g=c?Wy:go+n;return s=u==="LineComment",a+g+AK(f,s)},Ci);return i||s?o+go+n:o},ga=null,cu=Ci,IK=()=>{ga=null,cu=Ci},au=(t,e,n)=>t?e?t+e.trim()+go+n:t.trimRight()+go+n:e?e.trimRight()+go+n:Ci,$F=(t,e,n)=>{let i=yi(e,MF,n+cu,!0);return au(i,t,n)},_K=(t,e)=>{let n=e+cu,{length:i}=t,r=Ci,s=Ci;for(let o=0;o<i;o++){o!==0&&(r+=qF);let a=au(s,yi(t,jF(o),n),n);r+=a||go+n,r+=Ky(o,t,n)||UF,r+=yi(t,BF(o),n),s=yi(t,WF(o),n)}return r+=au(s,yi(t,By,n),n),bK+$F(r,t,e)+DK},NK=(t,e)=>{if(!t)return"null";let n=e+cu,i=Ci,r=Ci,s=!0,o=jy(ga)?ga:Object.keys(t),a=c=>{let u=Ky(c,t,n);if(u===EK)return;s||(i+=qF),s=!1;let f=au(r,yi(t,jF(c),n),n);i+=f||go+n,i+=KF(c)+yi(t,kK(c),n)+xK+yi(t,FK(c),n)+Wy+u+yi(t,BF(c),n),r=yi(t,WF(c),n)};return o.forEach(a),i+=au(r,yi(t,By,n),n),TK+$F(i,t,e)+wK};function Ky(t,e,n){let i=e[t];switch(LF(i)&&Uy(i.toJSON)&&(i=i.toJSON(t)),Uy(ga)&&(i=ga.call(e,t,i)),typeof i){case"string":return KF(i);case"number":return Number.isFinite(i)?String(i):UF;case"boolean":case"null":return String(i);case"object":return jy(i)?_K(i,n):NK(i,n);default:}}var OK=t=>hK(t)?t:pK(t)?gK(Wy,t):Ci,{toString:LK}=Object.prototype,MK=["[object Number]","[object String]","[object Boolean]"],qK=t=>{if(typeof t!="object")return!1;let e=LK.call(t);return MK.includes(e)};VF.exports=(t,e,n)=>{let i=OK(n);if(!i)return JSON.stringify(t,e);!Uy(e)&&!jy(e)&&(e=null),ga=e,cu=i;let r=qK(t)?JSON.stringify(t):Ky("",{"":t},Ci);return IK(),LF(t)?yi(t,mK,Ci).trimLeft()+r+yi(t,SK,Ci).trimRight():r}});var GF=F((ane,zF)=>{var{parse:UK,tokenize:jK}=_F(),BK=HF(),{CommentArray:WK}=Ey(),{assign:KK}=ru();zF.exports={parse:UK,stringify:BK,tokenize:jK,CommentArray:WK,assign:KK}});var He=F(Sn=>{"use strict";var $y=Symbol.for("yaml.alias"),JF=Symbol.for("yaml.document"),Vd=Symbol.for("yaml.map"),XF=Symbol.for("yaml.pair"),Vy=Symbol.for("yaml.scalar"),Hd=Symbol.for("yaml.seq"),Wr=Symbol.for("yaml.node.type"),$K=t=>!!t&&typeof t=="object"&&t[Wr]===$y,VK=t=>!!t&&typeof t=="object"&&t[Wr]===JF,HK=t=>!!t&&typeof t=="object"&&t[Wr]===Vd,zK=t=>!!t&&typeof t=="object"&&t[Wr]===XF,YF=t=>!!t&&typeof t=="object"&&t[Wr]===Vy,GK=t=>!!t&&typeof t=="object"&&t[Wr]===Hd;function QF(t){if(t&&typeof t=="object")switch(t[Wr]){case Vd:case Hd:return!0}return!1}function JK(t){if(t&&typeof t=="object")switch(t[Wr]){case $y:case Vd:case Vy:case Hd:return!0}return!1}var XK=t=>(YF(t)||QF(t))&&!!t.anchor;Sn.ALIAS=$y;Sn.DOC=JF;Sn.MAP=Vd;Sn.NODE_TYPE=Wr;Sn.PAIR=XF;Sn.SCALAR=Vy;Sn.SEQ=Hd;Sn.hasAnchor=XK;Sn.isAlias=$K;Sn.isCollection=QF;Sn.isDocument=VK;Sn.isMap=HK;Sn.isNode=JK;Sn.isPair=zK;Sn.isScalar=YF;Sn.isSeq=GK});var uu=F(Hy=>{"use strict";var rn=He(),ti=Symbol("break visit"),ZF=Symbol("skip children"),xr=Symbol("remove node");function zd(t,e){let n=eP(e);rn.isDocument(t)?ma(null,t.contents,n,Object.freeze([t]))===xr&&(t.contents=null):ma(null,t,n,Object.freeze([]))}zd.BREAK=ti;zd.SKIP=ZF;zd.REMOVE=xr;function ma(t,e,n,i){let r=tP(t,e,n,i);if(rn.isNode(r)||rn.isPair(r))return nP(t,i,r),ma(t,r,n,i);if(typeof r!="symbol"){if(rn.isCollection(e)){i=Object.freeze(i.concat(e));for(let s=0;s<e.items.length;++s){let o=ma(s,e.items[s],n,i);if(typeof o=="number")s=o-1;else{if(o===ti)return ti;o===xr&&(e.items.splice(s,1),s-=1)}}}else if(rn.isPair(e)){i=Object.freeze(i.concat(e));let s=ma("key",e.key,n,i);if(s===ti)return ti;s===xr&&(e.key=null);let o=ma("value",e.value,n,i);if(o===ti)return ti;o===xr&&(e.value=null)}}return r}async function Gd(t,e){let n=eP(e);rn.isDocument(t)?await ya(null,t.contents,n,Object.freeze([t]))===xr&&(t.contents=null):await ya(null,t,n,Object.freeze([]))}Gd.BREAK=ti;Gd.SKIP=ZF;Gd.REMOVE=xr;async function ya(t,e,n,i){let r=await tP(t,e,n,i);if(rn.isNode(r)||rn.isPair(r))return nP(t,i,r),ya(t,r,n,i);if(typeof r!="symbol"){if(rn.isCollection(e)){i=Object.freeze(i.concat(e));for(let s=0;s<e.items.length;++s){let o=await ya(s,e.items[s],n,i);if(typeof o=="number")s=o-1;else{if(o===ti)return ti;o===xr&&(e.items.splice(s,1),s-=1)}}}else if(rn.isPair(e)){i=Object.freeze(i.concat(e));let s=await ya("key",e.key,n,i);if(s===ti)return ti;s===xr&&(e.key=null);let o=await ya("value",e.value,n,i);if(o===ti)return ti;o===xr&&(e.value=null)}}return r}function eP(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function tP(t,e,n,i){if(typeof n=="function")return n(t,e,i);if(rn.isMap(e))return n.Map?.(t,e,i);if(rn.isSeq(e))return n.Seq?.(t,e,i);if(rn.isPair(e))return n.Pair?.(t,e,i);if(rn.isScalar(e))return n.Scalar?.(t,e,i);if(rn.isAlias(e))return n.Alias?.(t,e,i)}function nP(t,e,n){let i=e[e.length-1];if(rn.isCollection(i))i.items[t]=n;else if(rn.isPair(i))t==="key"?i.key=n:i.value=n;else if(rn.isDocument(i))i.contents=n;else{let r=rn.isAlias(i)?"alias":"scalar";throw new Error(`Cannot replace node with ${r} parent`)}}Hy.visit=zd;Hy.visitAsync=Gd});var zy=F(rP=>{"use strict";var iP=He(),YK=uu(),QK={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},ZK=t=>t.replace(/[!,[\]{}]/g,e=>QK[e]),lu=class t{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},t.defaultYaml,e),this.tags=Object.assign({},t.defaultTags,n)}clone(){let e=new t(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){let e=new t(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:t.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},t.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:t.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},t.defaultTags),this.atNextDocument=!1);let i=e.trim().split(/[ \t]+/),r=i.shift();switch(r){case"%TAG":{if(i.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),i.length<2))return!1;let[s,o]=i;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,i.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;let[s]=i;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{let o=/^\d+\.\d+$/.test(s);return n(6,`Unsupported YAML version ${s}`,o),!1}}default:return n(0,`Unknown directive ${r}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){let o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}let[,i,r]=e.match(/^(.*!)([^!]*)$/s);r||n(`The ${e} tag has no suffix`);let s=this.tags[i];if(s)try{return s+decodeURIComponent(r)}catch(o){return n(String(o)),null}return i==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(let[n,i]of Object.entries(this.tags))if(e.startsWith(i))return n+ZK(e.substring(i.length));return e[0]==="!"?e:`!<${e}>`}toString(e){let n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],i=Object.entries(this.tags),r;if(e&&i.length>0&&iP.isNode(e.contents)){let s={};YK.visit(e.contents,(o,a)=>{iP.isNode(a)&&a.tag&&(s[a.tag]=!0)}),r=Object.keys(s)}else r=[];for(let[s,o]of i)s==="!!"&&o==="tag:yaml.org,2002:"||(!e||r.some(a=>a.startsWith(o)))&&n.push(`%TAG ${s} ${o}`);return n.join(`
`)}};lu.defaultYaml={explicit:!1,version:"1.2"};lu.defaultTags={"!!":"tag:yaml.org,2002:"};rP.Directives=lu});var Jd=F(du=>{"use strict";var sP=He(),e$=uu();function t$(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){let n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function oP(t){let e=new Set;return e$.visit(t,{Value(n,i){i.anchor&&e.add(i.anchor)}}),e}function aP(t,e){for(let n=1;;++n){let i=`${t}${n}`;if(!e.has(i))return i}}function n$(t,e){let n=[],i=new Map,r=null;return{onAnchor:s=>{n.push(s),r||(r=oP(t));let o=aP(e,r);return r.add(o),o},setAnchors:()=>{for(let s of n){let o=i.get(s);if(typeof o=="object"&&o.anchor&&(sP.isScalar(o.node)||sP.isCollection(o.node)))o.node.anchor=o.anchor;else{let a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=s,a}}},sourceObjects:i}}du.anchorIsValid=t$;du.anchorNames=oP;du.createNodeAnchors=n$;du.findNewAnchor=aP});var Gy=F(cP=>{"use strict";function fu(t,e,n,i){if(i&&typeof i=="object")if(Array.isArray(i))for(let r=0,s=i.length;r<s;++r){let o=i[r],a=fu(t,i,String(r),o);a===void 0?delete i[r]:a!==o&&(i[r]=a)}else if(i instanceof Map)for(let r of Array.from(i.keys())){let s=i.get(r),o=fu(t,i,r,s);o===void 0?i.delete(r):o!==s&&i.set(r,o)}else if(i instanceof Set)for(let r of Array.from(i)){let s=fu(t,i,r,r);s===void 0?i.delete(r):s!==r&&(i.delete(r),i.add(s))}else for(let[r,s]of Object.entries(i)){let o=fu(t,i,r,s);o===void 0?delete i[r]:o!==s&&(i[r]=o)}return t.call(e,n,i)}cP.applyReviver=fu});var fs=F(lP=>{"use strict";var i$=He();function uP(t,e,n){if(Array.isArray(t))return t.map((i,r)=>uP(i,String(r),n));if(t&&typeof t.toJSON=="function"){if(!n||!i$.hasAnchor(t))return t.toJSON(e,n);let i={aliasCount:0,count:1,res:void 0};n.anchors.set(t,i),n.onCreate=s=>{i.res=s,delete n.onCreate};let r=t.toJSON(e,n);return n.onCreate&&n.onCreate(r),r}return typeof t=="bigint"&&!n?.keep?Number(t):t}lP.toJS=uP});var Xd=F(fP=>{"use strict";var r$=Gy(),dP=He(),s$=fs(),Jy=class{constructor(e){Object.defineProperty(this,dP.NODE_TYPE,{value:e})}clone(){let e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:i,onAnchor:r,reviver:s}={}){if(!dP.isDocument(e))throw new TypeError("A document argument is required");let o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},a=s$.toJS(this,"",o);if(typeof r=="function")for(let{count:c,res:u}of o.anchors.values())r(u,c);return typeof s=="function"?r$.applyReviver(s,{"":a},"",a):a}};fP.NodeBase=Jy});var pu=F(hP=>{"use strict";var o$=Jd(),pP=uu(),Yd=He(),a$=Xd(),c$=fs(),Xy=class extends a$.NodeBase{constructor(e){super(Yd.ALIAS),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return pP.visit(e,{Node:(i,r)=>{if(r===this)return pP.visit.BREAK;r.anchor===this.source&&(n=r)}}),n}toJSON(e,n){if(!n)return{source:this.source};let{anchors:i,doc:r,maxAliasCount:s}=n,o=this.resolve(r);if(!o){let c=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(c)}let a=i.get(o);if(a||(c$.toJS(o,null,n),a=i.get(o)),!a||a.res===void 0){let c="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(c)}if(s>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Qd(r,o,i)),a.count*a.aliasCount>s)){let c="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(c)}return a.res}toString(e,n,i){let r=`*${this.source}`;if(e){if(o$.anchorIsValid(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){let s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(e.implicitKey)return`${r} `}return r}};function Qd(t,e,n){if(Yd.isAlias(e)){let i=e.resolve(t),r=n&&i&&n.get(i);return r?r.count*r.aliasCount:0}else if(Yd.isCollection(e)){let i=0;for(let r of e.items){let s=Qd(t,r,n);s>i&&(i=s)}return i}else if(Yd.isPair(e)){let i=Qd(t,e.key,n),r=Qd(t,e.value,n);return Math.max(i,r)}return 1}hP.Alias=Xy});var Xt=F(Yy=>{"use strict";var u$=He(),l$=Xd(),d$=fs(),f$=t=>!t||typeof t!="function"&&typeof t!="object",ps=class extends l$.NodeBase{constructor(e){super(u$.SCALAR),this.value=e}toJSON(e,n){return n?.keep?this.value:d$.toJS(this.value,e,n)}toString(){return String(this.value)}};ps.BLOCK_FOLDED="BLOCK_FOLDED";ps.BLOCK_LITERAL="BLOCK_LITERAL";ps.PLAIN="PLAIN";ps.QUOTE_DOUBLE="QUOTE_DOUBLE";ps.QUOTE_SINGLE="QUOTE_SINGLE";Yy.Scalar=ps;Yy.isScalarValue=f$});var hu=F(mP=>{"use strict";var p$=pu(),mo=He(),gP=Xt(),h$="tag:yaml.org,2002:";function g$(t,e,n){if(e){let i=n.filter(s=>s.tag===e),r=i.find(s=>!s.format)??i[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return n.find(i=>i.identify?.(t)&&!i.format)}function m$(t,e,n){if(mo.isDocument(t)&&(t=t.contents),mo.isNode(t))return t;if(mo.isPair(t)){let g=n.schema[mo.MAP].createNode?.(n.schema,null,n);return g.items.push(t),g}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());let{aliasDuplicateObjects:i,onAnchor:r,onTagObj:s,schema:o,sourceObjects:a}=n,c;if(i&&t&&typeof t=="object"){if(c=a.get(t),c)return c.anchor||(c.anchor=r(t)),new p$.Alias(c.anchor);c={anchor:null,node:null},a.set(t,c)}e?.startsWith("!!")&&(e=h$+e.slice(2));let u=g$(t,e,o.tags);if(!u){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){let g=new gP.Scalar(t);return c&&(c.node=g),g}u=t instanceof Map?o[mo.MAP]:Symbol.iterator in Object(t)?o[mo.SEQ]:o[mo.MAP]}s&&(s(u),delete n.onTagObj);let f=u?.createNode?u.createNode(n.schema,t,n):typeof u?.nodeClass?.from=="function"?u.nodeClass.from(n.schema,t,n):new gP.Scalar(t);return e?f.tag=e:u.default||(f.tag=u.tag),c&&(c.node=f),f}mP.createNode=m$});var ef=F(Zd=>{"use strict";var y$=hu(),Er=He(),C$=Xd();function Qy(t,e,n){let i=n;for(let r=e.length-1;r>=0;--r){let s=e[r];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){let o=[];o[s]=i,i=o}else i=new Map([[s,i]])}return y$.createNode(i,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}var yP=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done,Zy=class extends C$.NodeBase{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){let n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(i=>Er.isNode(i)||Er.isPair(i)?i.clone(e):i),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(yP(e))this.add(n);else{let[i,...r]=e,s=this.get(i,!0);if(Er.isCollection(s))s.addIn(r,n);else if(s===void 0&&this.schema)this.set(i,Qy(this.schema,r,n));else throw new Error(`Expected YAML collection at ${i}. Remaining path: ${r}`)}}deleteIn(e){let[n,...i]=e;if(i.length===0)return this.delete(n);let r=this.get(n,!0);if(Er.isCollection(r))return r.deleteIn(i);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}getIn(e,n){let[i,...r]=e,s=this.get(i,!0);return r.length===0?!n&&Er.isScalar(s)?s.value:s:Er.isCollection(s)?s.getIn(r,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!Er.isPair(n))return!1;let i=n.value;return i==null||e&&Er.isScalar(i)&&i.value==null&&!i.commentBefore&&!i.comment&&!i.tag})}hasIn(e){let[n,...i]=e;if(i.length===0)return this.has(n);let r=this.get(n,!0);return Er.isCollection(r)?r.hasIn(i):!1}setIn(e,n){let[i,...r]=e;if(r.length===0)this.set(i,n);else{let s=this.get(i,!0);if(Er.isCollection(s))s.setIn(r,n);else if(s===void 0&&this.schema)this.set(i,Qy(this.schema,r,n));else throw new Error(`Expected YAML collection at ${i}. Remaining path: ${r}`)}}};Zd.Collection=Zy;Zd.collectionFromPath=Qy;Zd.isEmptyPath=yP});var gu=F(tf=>{"use strict";var v$=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function eC(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}var S$=(t,e,n)=>t.endsWith(`
`)?eC(n,e):n.includes(`
`)?`
`+eC(n,e):(t.endsWith(" ")?"":" ")+n;tf.indentComment=eC;tf.lineComment=S$;tf.stringifyComment=v$});var vP=F(mu=>{"use strict";var b$="flow",tC="block",nf="quoted";function D$(t,e,n="flow",{indentAtStart:i,lineWidth:r=80,minContentWidth:s=20,onFold:o,onOverflow:a}={}){if(!r||r<0)return t;r<s&&(s=0);let c=Math.max(1+s,1+r-e.length);if(t.length<=c)return t;let u=[],f={},g=r-e.length;typeof i=="number"&&(i>r-Math.max(2,s)?u.push(0):g=r-i);let p,l,d=!1,h=-1,m=-1,C=-1;n===tC&&(h=CP(t,h,e.length),h!==-1&&(g=h+c));for(let w;w=t[h+=1];){if(n===nf&&w==="\\"){switch(m=h,t[h+1]){case"x":h+=3;break;case"u":h+=5;break;case"U":h+=9;break;default:h+=1}C=h}if(w===`
`)n===tC&&(h=CP(t,h,e.length)),g=h+e.length+c,p=void 0;else{if(w===" "&&l&&l!==" "&&l!==`
`&&l!=="	"){let k=t[h+1];k&&k!==" "&&k!==`
`&&k!=="	"&&(p=h)}if(h>=g)if(p)u.push(p),g=p+c,p=void 0;else if(n===nf){for(;l===" "||l==="	";)l=w,w=t[h+=1],d=!0;let k=h>C+1?h-2:m-1;if(f[k])return t;u.push(k),f[k]=!0,g=k+c,p=void 0}else d=!0}l=w}if(d&&a&&a(),u.length===0)return t;o&&o();let D=t.slice(0,u[0]);for(let w=0;w<u.length;++w){let k=u[w],A=u[w+1]||t.length;k===0?D=`
${e}${t.slice(0,A)}`:(n===nf&&f[k]&&(D+=`${t[k]}\\`),D+=`
${e}${t.slice(k+1,A)}`)}return D}function CP(t,e,n){let i=e,r=e+1,s=t[r];for(;s===" "||s==="	";)if(e<r+n)s=t[++e];else{do s=t[++e];while(s&&s!==`
`);i=e,r=e+1,s=t[r]}return i}mu.FOLD_BLOCK=tC;mu.FOLD_FLOW=b$;mu.FOLD_QUOTED=nf;mu.foldFlowLines=D$});var Cu=F(SP=>{"use strict";var er=Xt(),hs=vP(),sf=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),of=t=>/^(%|---|\.\.\.)/m.test(t);function T$(t,e,n){if(!e||e<0)return!1;let i=e-n,r=t.length;if(r<=i)return!1;for(let s=0,o=0;s<r;++s)if(t[s]===`
`){if(s-o>i)return!0;if(o=s+1,r-o<=i)return!1}return!0}function yu(t,e){let n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;let{implicitKey:i}=e,r=e.options.doubleQuotedMinMultiLineLength,s=e.indent||(of(t)?"  ":""),o="",a=0;for(let c=0,u=n[c];u;u=n[++c])if(u===" "&&n[c+1]==="\\"&&n[c+2]==="n"&&(o+=n.slice(a,c)+"\\ ",c+=1,a=c,u="\\"),u==="\\")switch(n[c+1]){case"u":{o+=n.slice(a,c);let f=n.substr(c+2,4);switch(f){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:f.substr(0,2)==="00"?o+="\\x"+f.substr(2):o+=n.substr(c,6)}c+=5,a=c+1}break;case"n":if(i||n[c+2]==='"'||n.length<r)c+=1;else{for(o+=n.slice(a,c)+`

`;n[c+2]==="\\"&&n[c+3]==="n"&&n[c+4]!=='"';)o+=`
`,c+=2;o+=s,n[c+2]===" "&&(o+="\\"),c+=1,a=c+1}break;default:c+=1}return o=a?o+n.slice(a):n,i?o:hs.foldFlowLines(o,s,hs.FOLD_QUOTED,sf(e,!1))}function nC(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return yu(t,e);let n=e.indent||(of(t)?"  ":""),i="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?i:hs.foldFlowLines(i,n,hs.FOLD_FLOW,sf(e,!1))}function Ca(t,e){let{singleQuote:n}=e.options,i;if(n===!1)i=yu;else{let r=t.includes('"'),s=t.includes("'");r&&!s?i=nC:s&&!r?i=yu:i=n?nC:yu}return i(t,e)}var iC;try{iC=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{iC=/\n+(?!\n|$)/g}function rf({comment:t,type:e,value:n},i,r,s){let{blockQuote:o,commentString:a,lineWidth:c}=i.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Ca(n,i);let u=i.indent||(i.forceBlockIndent||of(n)?"  ":""),f=o==="literal"?!0:o==="folded"||e===er.Scalar.BLOCK_FOLDED?!1:e===er.Scalar.BLOCK_LITERAL?!0:!T$(n,c,u.length);if(!n)return f?`|
`:`>
`;let g,p;for(p=n.length;p>0;--p){let A=n[p-1];if(A!==`
`&&A!=="	"&&A!==" ")break}let l=n.substring(p),d=l.indexOf(`
`);d===-1?g="-":n===l||d!==l.length-1?(g="+",s&&s()):g="",l&&(n=n.slice(0,-l.length),l[l.length-1]===`
`&&(l=l.slice(0,-1)),l=l.replace(iC,`$&${u}`));let h=!1,m,C=-1;for(m=0;m<n.length;++m){let A=n[m];if(A===" ")h=!0;else if(A===`
`)C=m;else break}let D=n.substring(0,C<m?C+1:m);D&&(n=n.substring(D.length),D=D.replace(/\n+/g,`$&${u}`));let k=(h?u?"2":"1":"")+g;if(t&&(k+=" "+a(t.replace(/ ?[\r\n]+/g," ")),r&&r()),!f){let A=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`),B=!1,W=sf(i,!0);o!=="folded"&&e!==er.Scalar.BLOCK_FOLDED&&(W.onOverflow=()=>{B=!0});let U=hs.foldFlowLines(`${D}${A}${l}`,u,hs.FOLD_BLOCK,W);if(!B)return`>${k}
${u}${U}`}return n=n.replace(/\n+/g,`$&${u}`),`|${k}
${u}${D}${n}${l}`}function w$(t,e,n,i){let{type:r,value:s}=t,{actualString:o,implicitKey:a,indent:c,indentStep:u,inFlow:f}=e;if(a&&s.includes(`
`)||f&&/[[\]{},]/.test(s))return Ca(s,e);if(!s||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return a||f||!s.includes(`
`)?Ca(s,e):rf(t,e,n,i);if(!a&&!f&&r!==er.Scalar.PLAIN&&s.includes(`
`))return rf(t,e,n,i);if(of(s)){if(c==="")return e.forceBlockIndent=!0,rf(t,e,n,i);if(a&&c===u)return Ca(s,e)}let g=s.replace(/\n+/g,`$&
${c}`);if(o){let p=h=>h.default&&h.tag!=="tag:yaml.org,2002:str"&&h.test?.test(g),{compat:l,tags:d}=e.doc.schema;if(d.some(p)||l?.some(p))return Ca(s,e)}return a?g:hs.foldFlowLines(g,c,hs.FOLD_FLOW,sf(e,!1))}function x$(t,e,n,i){let{implicitKey:r,inFlow:s}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)}),{type:a}=t;a!==er.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=er.Scalar.QUOTE_DOUBLE);let c=f=>{switch(f){case er.Scalar.BLOCK_FOLDED:case er.Scalar.BLOCK_LITERAL:return r||s?Ca(o.value,e):rf(o,e,n,i);case er.Scalar.QUOTE_DOUBLE:return yu(o.value,e);case er.Scalar.QUOTE_SINGLE:return nC(o.value,e);case er.Scalar.PLAIN:return w$(o,e,n,i);default:return null}},u=c(a);if(u===null){let{defaultKeyType:f,defaultStringType:g}=e.options,p=r&&f||g;if(u=c(p),u===null)throw new Error(`Unsupported default string type ${p}`)}return u}SP.stringifyString=x$});var vu=F(rC=>{"use strict";var E$=Jd(),gs=He(),k$=gu(),F$=Cu();function P$(t,e){let n=Object.assign({blockQuote:!0,commentString:k$.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e),i;switch(n.collectionStyle){case"block":i=!1;break;case"flow":i=!0;break;default:i=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:i,options:n}}function R$(t,e){if(e.tag){let r=t.filter(s=>s.tag===e.tag);if(r.length>0)return r.find(s=>s.format===e.format)??r[0]}let n,i;if(gs.isScalar(e)){i=e.value;let r=t.filter(s=>s.identify?.(i));if(r.length>1){let s=r.filter(o=>o.test);s.length>0&&(r=s)}n=r.find(s=>s.format===e.format)??r.find(s=>!s.format)}else i=e,n=t.find(r=>r.nodeClass&&i instanceof r.nodeClass);if(!n){let r=i?.constructor?.name??typeof i;throw new Error(`Tag not resolved for ${r} value`)}return n}function A$(t,e,{anchors:n,doc:i}){if(!i.directives)return"";let r=[],s=(gs.isScalar(t)||gs.isCollection(t))&&t.anchor;s&&E$.anchorIsValid(s)&&(n.add(s),r.push(`&${s}`));let o=t.tag?t.tag:e.default?null:e.tag;return o&&r.push(i.directives.tagString(o)),r.join(" ")}function I$(t,e,n,i){if(gs.isPair(t))return t.toString(e,n,i);if(gs.isAlias(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let r,s=gs.isNode(t)?t:e.doc.createNode(t,{onTagObj:c=>r=c});r||(r=R$(e.doc.schema.tags,s));let o=A$(s,r,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);let a=typeof r.stringify=="function"?r.stringify(s,e,n,i):gs.isScalar(s)?F$.stringifyString(s,e,n,i):s.toString(e,n,i);return o?gs.isScalar(s)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}rC.createStringifyContext=P$;rC.stringify=I$});var wP=F(TP=>{"use strict";var Kr=He(),bP=Xt(),DP=vu(),Su=gu();function _$({key:t,value:e},n,i,r){let{allNullValues:s,doc:o,indent:a,indentStep:c,options:{commentString:u,indentSeq:f,simpleKeys:g}}=n,p=Kr.isNode(t)&&t.comment||null;if(g){if(p)throw new Error("With simple keys, key nodes cannot have comments");if(Kr.isCollection(t)||!Kr.isNode(t)&&typeof t=="object"){let W="With simple keys, collection cannot be used as a key value";throw new Error(W)}}let l=!g&&(!t||p&&e==null&&!n.inFlow||Kr.isCollection(t)||(Kr.isScalar(t)?t.type===bP.Scalar.BLOCK_FOLDED||t.type===bP.Scalar.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!l&&(g||!s),indent:a+c});let d=!1,h=!1,m=DP.stringify(t,n,()=>d=!0,()=>h=!0);if(!l&&!n.inFlow&&m.length>1024){if(g)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");l=!0}if(n.inFlow){if(s||e==null)return d&&i&&i(),m===""?"?":l?`? ${m}`:m}else if(s&&!g||e==null&&l)return m=`? ${m}`,p&&!d?m+=Su.lineComment(m,n.indent,u(p)):h&&r&&r(),m;d&&(p=null),l?(p&&(m+=Su.lineComment(m,n.indent,u(p))),m=`? ${m}
${a}:`):(m=`${m}:`,p&&(m+=Su.lineComment(m,n.indent,u(p))));let C,D,w;Kr.isNode(e)?(C=!!e.spaceBefore,D=e.commentBefore,w=e.comment):(C=!1,D=null,w=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!l&&!p&&Kr.isScalar(e)&&(n.indentAtStart=m.length+1),h=!1,!f&&c.length>=2&&!n.inFlow&&!l&&Kr.isSeq(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let k=!1,A=DP.stringify(e,n,()=>k=!0,()=>h=!0),B=" ";if(p||C||D){if(B=C?`
`:"",D){let W=u(D);B+=`
${Su.indentComment(W,n.indent)}`}A===""&&!n.inFlow?B===`
`&&(B=`

`):B+=`
${n.indent}`}else if(!l&&Kr.isCollection(e)){let W=A[0],U=A.indexOf(`
`),ee=U!==-1,Z=n.inFlow??e.flow??e.items.length===0;if(ee||!Z){let H=!1;if(ee&&(W==="&"||W==="!")){let M=A.indexOf(" ");W==="&"&&M!==-1&&M<U&&A[M+1]==="!"&&(M=A.indexOf(" ",M+1)),(M===-1||U<M)&&(H=!0)}H||(B=`
${n.indent}`)}}else(A===""||A[0]===`
`)&&(B="");return m+=B+A,n.inFlow?k&&i&&i():w&&!k?m+=Su.lineComment(m,n.indent,u(w)):h&&r&&r(),m}TP.stringifyPair=_$});var oC=F(sC=>{"use strict";var xP=require("node:process");function N$(t,...e){t==="debug"&&console.log(...e)}function O$(t,e){(t==="debug"||t==="warn")&&(typeof xP.emitWarning=="function"?xP.emitWarning(e):console.warn(e))}sC.debug=N$;sC.warn=O$});var lf=F(uf=>{"use strict";var bu=He(),EP=Xt(),af="<<",cf={identify:t=>t===af||typeof t=="symbol"&&t.description===af,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new EP.Scalar(Symbol(af)),{addToJSMap:kP}),stringify:()=>af},L$=(t,e)=>(cf.identify(e)||bu.isScalar(e)&&(!e.type||e.type===EP.Scalar.PLAIN)&&cf.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===cf.tag&&n.default);function kP(t,e,n){if(n=t&&bu.isAlias(n)?n.resolve(t.doc):n,bu.isSeq(n))for(let i of n.items)aC(t,e,i);else if(Array.isArray(n))for(let i of n)aC(t,e,i);else aC(t,e,n)}function aC(t,e,n){let i=t&&bu.isAlias(n)?n.resolve(t.doc):n;if(!bu.isMap(i))throw new Error("Merge sources must be maps or map aliases");let r=i.toJSON(null,t,Map);for(let[s,o]of r)e instanceof Map?e.has(s)||e.set(s,o):e instanceof Set?e.add(s):Object.prototype.hasOwnProperty.call(e,s)||Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}uf.addMergeToJSMap=kP;uf.isMergeKey=L$;uf.merge=cf});var uC=F(RP=>{"use strict";var M$=oC(),FP=lf(),q$=vu(),PP=He(),cC=fs();function U$(t,e,{key:n,value:i}){if(PP.isNode(n)&&n.addToJSMap)n.addToJSMap(t,e,i);else if(FP.isMergeKey(t,n))FP.addMergeToJSMap(t,e,i);else{let r=cC.toJS(n,"",t);if(e instanceof Map)e.set(r,cC.toJS(i,r,t));else if(e instanceof Set)e.add(r);else{let s=j$(n,r,t),o=cC.toJS(i,s,t);s in e?Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[s]=o}}return e}function j$(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(PP.isNode(t)&&n?.doc){let i=q$.createStringifyContext(n.doc,{});i.anchors=new Set;for(let s of n.anchors.keys())i.anchors.add(s.anchor);i.inFlow=!0,i.inStringifyKey=!0;let r=t.toString(i);if(!n.mapKeyWarned){let s=JSON.stringify(r);s.length>40&&(s=s.substring(0,36)+'..."'),M$.warn(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return r}return JSON.stringify(e)}RP.addPairToJSMap=U$});var ms=F(lC=>{"use strict";var AP=hu(),B$=wP(),W$=uC(),df=He();function K$(t,e,n){let i=AP.createNode(t,void 0,n),r=AP.createNode(e,void 0,n);return new ff(i,r)}var ff=class t{constructor(e,n=null){Object.defineProperty(this,df.NODE_TYPE,{value:df.PAIR}),this.key=e,this.value=n}clone(e){let{key:n,value:i}=this;return df.isNode(n)&&(n=n.clone(e)),df.isNode(i)&&(i=i.clone(e)),new t(n,i)}toJSON(e,n){let i=n?.mapAsMap?new Map:{};return W$.addPairToJSMap(n,i,this)}toString(e,n,i){return e?.doc?B$.stringifyPair(this,e,n,i):JSON.stringify(this)}};lC.Pair=ff;lC.createPair=K$});var dC=F(_P=>{"use strict";var yo=He(),IP=vu(),pf=gu();function $$(t,e,n){return(e.inFlow??t.flow?H$:V$)(t,e,n)}function V$({comment:t,items:e},n,{blockItemPrefix:i,flowChars:r,itemIndent:s,onChompKeep:o,onComment:a}){let{indent:c,options:{commentString:u}}=n,f=Object.assign({},n,{indent:s,type:null}),g=!1,p=[];for(let d=0;d<e.length;++d){let h=e[d],m=null;if(yo.isNode(h))!g&&h.spaceBefore&&p.push(""),hf(n,p,h.commentBefore,g),h.comment&&(m=h.comment);else if(yo.isPair(h)){let D=yo.isNode(h.key)?h.key:null;D&&(!g&&D.spaceBefore&&p.push(""),hf(n,p,D.commentBefore,g))}g=!1;let C=IP.stringify(h,f,()=>m=null,()=>g=!0);m&&(C+=pf.lineComment(C,s,u(m))),g&&m&&(g=!1),p.push(i+C)}let l;if(p.length===0)l=r.start+r.end;else{l=p[0];for(let d=1;d<p.length;++d){let h=p[d];l+=h?`
${c}${h}`:`
`}}return t?(l+=`
`+pf.indentComment(u(t),c),a&&a()):g&&o&&o(),l}function H$({items:t},e,{flowChars:n,itemIndent:i}){let{indent:r,indentStep:s,flowCollectionPadding:o,options:{commentString:a}}=e;i+=s;let c=Object.assign({},e,{indent:i,inFlow:!0,type:null}),u=!1,f=0,g=[];for(let d=0;d<t.length;++d){let h=t[d],m=null;if(yo.isNode(h))h.spaceBefore&&g.push(""),hf(e,g,h.commentBefore,!1),h.comment&&(m=h.comment);else if(yo.isPair(h)){let D=yo.isNode(h.key)?h.key:null;D&&(D.spaceBefore&&g.push(""),hf(e,g,D.commentBefore,!1),D.comment&&(u=!0));let w=yo.isNode(h.value)?h.value:null;w?(w.comment&&(m=w.comment),w.commentBefore&&(u=!0)):h.value==null&&D?.comment&&(m=D.comment)}m&&(u=!0);let C=IP.stringify(h,c,()=>m=null);d<t.length-1&&(C+=","),m&&(C+=pf.lineComment(C,i,a(m))),!u&&(g.length>f||C.includes(`
`))&&(u=!0),g.push(C),f=g.length}let{start:p,end:l}=n;if(g.length===0)return p+l;if(!u){let d=g.reduce((h,m)=>h+m.length+2,2);u=e.options.lineWidth>0&&d>e.options.lineWidth}if(u){let d=p;for(let h of g)d+=h?`
${s}${r}${h}`:`
`;return`${d}
${r}${l}`}else return`${p}${o}${g.join(" ")}${o}${l}`}function hf({indent:t,options:{commentString:e}},n,i,r){if(i&&r&&(i=i.replace(/^\n+/,"")),i){let s=pf.indentComment(e(i),t);n.push(s.trimStart())}}_P.stringifyCollection=$$});var Cs=F(pC=>{"use strict";var z$=dC(),G$=uC(),J$=ef(),ys=He(),gf=ms(),X$=Xt();function Du(t,e){let n=ys.isScalar(e)?e.value:e;for(let i of t)if(ys.isPair(i)&&(i.key===e||i.key===n||ys.isScalar(i.key)&&i.key.value===n))return i}var fC=class extends J$.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(ys.MAP,e),this.items=[]}static from(e,n,i){let{keepUndefined:r,replacer:s}=i,o=new this(e),a=(c,u)=>{if(typeof s=="function")u=s.call(n,c,u);else if(Array.isArray(s)&&!s.includes(c))return;(u!==void 0||r)&&o.items.push(gf.createPair(c,u,i))};if(n instanceof Map)for(let[c,u]of n)a(c,u);else if(n&&typeof n=="object")for(let c of Object.keys(n))a(c,n[c]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){let i;ys.isPair(e)?i=e:!e||typeof e!="object"||!("key"in e)?i=new gf.Pair(e,e?.value):i=new gf.Pair(e.key,e.value);let r=Du(this.items,i.key),s=this.schema?.sortMapEntries;if(r){if(!n)throw new Error(`Key ${i.key} already set`);ys.isScalar(r.value)&&X$.isScalarValue(i.value)?r.value.value=i.value:r.value=i.value}else if(s){let o=this.items.findIndex(a=>s(i,a)<0);o===-1?this.items.push(i):this.items.splice(o,0,i)}else this.items.push(i)}delete(e){let n=Du(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){let r=Du(this.items,e)?.value;return(!n&&ys.isScalar(r)?r.value:r)??void 0}has(e){return!!Du(this.items,e)}set(e,n){this.add(new gf.Pair(e,n),!0)}toJSON(e,n,i){let r=i?new i:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(r);for(let s of this.items)G$.addPairToJSMap(n,r,s);return r}toString(e,n,i){if(!e)return JSON.stringify(this);for(let r of this.items)if(!ys.isPair(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),z$.stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:i,onComment:n})}};pC.YAMLMap=fC;pC.findPair=Du});var va=F(OP=>{"use strict";var Y$=He(),NP=Cs(),Q$={collection:"map",default:!0,nodeClass:NP.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(t,e){return Y$.isMap(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>NP.YAMLMap.from(t,e,n)};OP.map=Q$});var vs=F(LP=>{"use strict";var Z$=hu(),e3=dC(),t3=ef(),yf=He(),n3=Xt(),i3=fs(),hC=class extends t3.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(yf.SEQ,e),this.items=[]}add(e){this.items.push(e)}delete(e){let n=mf(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){let i=mf(e);if(typeof i!="number")return;let r=this.items[i];return!n&&yf.isScalar(r)?r.value:r}has(e){let n=mf(e);return typeof n=="number"&&n<this.items.length}set(e,n){let i=mf(e);if(typeof i!="number")throw new Error(`Expected a valid index, not ${e}.`);let r=this.items[i];yf.isScalar(r)&&n3.isScalarValue(n)?r.value=n:this.items[i]=n}toJSON(e,n){let i=[];n?.onCreate&&n.onCreate(i);let r=0;for(let s of this.items)i.push(i3.toJS(s,String(r++),n));return i}toString(e,n,i){return e?e3.stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:i,onComment:n}):JSON.stringify(this)}static from(e,n,i){let{replacer:r}=i,s=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof r=="function"){let c=n instanceof Set?a:String(o++);a=r.call(n,c,a)}s.items.push(Z$.createNode(a,void 0,i))}}return s}};function mf(t){let e=yf.isScalar(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}LP.YAMLSeq=hC});var Sa=F(qP=>{"use strict";var r3=He(),MP=vs(),s3={collection:"seq",default:!0,nodeClass:MP.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(t,e){return r3.isSeq(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>MP.YAMLSeq.from(t,e,n)};qP.seq=s3});var Tu=F(UP=>{"use strict";var o3=Cu(),a3={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,i){return e=Object.assign({actualString:!0},e),o3.stringifyString(t,e,n,i)}};UP.string=a3});var Cf=F(WP=>{"use strict";var jP=Xt(),BP={identify:t=>t==null,createNode:()=>new jP.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new jP.Scalar(null),stringify:({source:t},e)=>typeof t=="string"&&BP.test.test(t)?t:e.options.nullStr};WP.nullTag=BP});var gC=F($P=>{"use strict";var c3=Xt(),KP={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new c3.Scalar(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&KP.test.test(t)){let i=t[0]==="t"||t[0]==="T";if(e===i)return t}return e?n.options.trueStr:n.options.falseStr}};$P.boolTag=KP});var ba=F(VP=>{"use strict";function u3({format:t,minFractionDigits:e,tag:n,value:i}){if(typeof i=="bigint")return String(i);let r=typeof i=="number"?i:Number(i);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let s=JSON.stringify(i);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let a=e-(s.length-o-1);for(;a-- >0;)s+="0"}return s}VP.stringifyNumber=u3});var yC=F(vf=>{"use strict";var l3=Xt(),mC=ba(),d3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:mC.stringifyNumber},f3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():mC.stringifyNumber(t)}},p3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){let e=new l3.Scalar(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:mC.stringifyNumber};vf.float=p3;vf.floatExp=f3;vf.floatNaN=d3});var vC=F(bf=>{"use strict";var HP=ba(),Sf=t=>typeof t=="bigint"||Number.isInteger(t),CC=(t,e,n,{intAsBigInt:i})=>i?BigInt(t):parseInt(t.substring(e),n);function zP(t,e,n){let{value:i}=t;return Sf(i)&&i>=0?n+i.toString(e):HP.stringifyNumber(t)}var h3={identify:t=>Sf(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>CC(t,2,8,n),stringify:t=>zP(t,8,"0o")},g3={identify:Sf,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>CC(t,0,10,n),stringify:HP.stringifyNumber},m3={identify:t=>Sf(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>CC(t,2,16,n),stringify:t=>zP(t,16,"0x")};bf.int=g3;bf.intHex=m3;bf.intOct=h3});var JP=F(GP=>{"use strict";var y3=va(),C3=Cf(),v3=Sa(),S3=Tu(),b3=gC(),SC=yC(),bC=vC(),D3=[y3.map,v3.seq,S3.string,C3.nullTag,b3.boolTag,bC.intOct,bC.int,bC.intHex,SC.floatNaN,SC.floatExp,SC.float];GP.schema=D3});var QP=F(YP=>{"use strict";var T3=Xt(),w3=va(),x3=Sa();function XP(t){return typeof t=="bigint"||Number.isInteger(t)}var Df=({value:t})=>JSON.stringify(t),E3=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:Df},{identify:t=>t==null,createNode:()=>new T3.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Df},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:Df},{identify:XP,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>XP(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Df}],k3={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},F3=[w3.map,x3.seq].concat(E3,k3);YP.schema=F3});var TC=F(ZP=>{"use strict";var wu=require("node:buffer"),DC=Xt(),P3=Cu(),R3={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof wu.Buffer=="function")return wu.Buffer.from(t,"base64");if(typeof atob=="function"){let n=atob(t.replace(/[\n\r]/g,"")),i=new Uint8Array(n.length);for(let r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},i,r,s){let o=n,a;if(typeof wu.Buffer=="function")a=o instanceof wu.Buffer?o.toString("base64"):wu.Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);a=btoa(c)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=DC.Scalar.BLOCK_LITERAL),e!==DC.Scalar.QUOTE_DOUBLE){let c=Math.max(i.options.lineWidth-i.indent.length,i.options.minContentWidth),u=Math.ceil(a.length/c),f=new Array(u);for(let g=0,p=0;g<u;++g,p+=c)f[g]=a.substr(p,c);a=f.join(e===DC.Scalar.BLOCK_LITERAL?`
`:" ")}return P3.stringifyString({comment:t,type:e,value:a},i,r,s)}};ZP.binary=R3});var xf=F(wf=>{"use strict";var Tf=He(),wC=ms(),A3=Xt(),I3=vs();function eR(t,e){if(Tf.isSeq(t))for(let n=0;n<t.items.length;++n){let i=t.items[n];if(!Tf.isPair(i)){if(Tf.isMap(i)){i.items.length>1&&e("Each pair must have its own sequence indicator");let r=i.items[0]||new wC.Pair(new A3.Scalar(null));if(i.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${i.commentBefore}
${r.key.commentBefore}`:i.commentBefore),i.comment){let s=r.value??r.key;s.comment=s.comment?`${i.comment}
${s.comment}`:i.comment}i=r}t.items[n]=Tf.isPair(i)?i:new wC.Pair(i)}}else e("Expected a sequence for this tag");return t}function tR(t,e,n){let{replacer:i}=n,r=new I3.YAMLSeq(t);r.tag="tag:yaml.org,2002:pairs";let s=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof i=="function"&&(o=i.call(e,String(s++),o));let a,c;if(Array.isArray(o))if(o.length===2)a=o[0],c=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){let u=Object.keys(o);if(u.length===1)a=u[0],c=o[a];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else a=o;r.items.push(wC.createPair(a,c,n))}return r}var _3={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:eR,createNode:tR};wf.createPairs=tR;wf.pairs=_3;wf.resolvePairs=eR});var kC=F(EC=>{"use strict";var nR=He(),xC=fs(),xu=Cs(),N3=vs(),iR=xf(),Co=class t extends N3.YAMLSeq{constructor(){super(),this.add=xu.YAMLMap.prototype.add.bind(this),this.delete=xu.YAMLMap.prototype.delete.bind(this),this.get=xu.YAMLMap.prototype.get.bind(this),this.has=xu.YAMLMap.prototype.has.bind(this),this.set=xu.YAMLMap.prototype.set.bind(this),this.tag=t.tag}toJSON(e,n){if(!n)return super.toJSON(e);let i=new Map;n?.onCreate&&n.onCreate(i);for(let r of this.items){let s,o;if(nR.isPair(r)?(s=xC.toJS(r.key,"",n),o=xC.toJS(r.value,s,n)):s=xC.toJS(r,"",n),i.has(s))throw new Error("Ordered maps must not include duplicate keys");i.set(s,o)}return i}static from(e,n,i){let r=iR.createPairs(e,n,i),s=new this;return s.items=r.items,s}};Co.tag="tag:yaml.org,2002:omap";var O3={collection:"seq",identify:t=>t instanceof Map,nodeClass:Co,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){let n=iR.resolvePairs(t,e),i=[];for(let{key:r}of n.items)nR.isScalar(r)&&(i.includes(r.value)?e(`Ordered maps must not include duplicate keys: ${r.value}`):i.push(r.value));return Object.assign(new Co,n)},createNode:(t,e,n)=>Co.from(t,e,n)};EC.YAMLOMap=Co;EC.omap=O3});var cR=F(FC=>{"use strict";var rR=Xt();function sR({value:t,source:e},n){return e&&(t?oR:aR).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}var oR={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new rR.Scalar(!0),stringify:sR},aR={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new rR.Scalar(!1),stringify:sR};FC.falseTag=aR;FC.trueTag=oR});var uR=F(Ef=>{"use strict";var L3=Xt(),PC=ba(),M3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:PC.stringifyNumber},q3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():PC.stringifyNumber(t)}},U3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){let e=new L3.Scalar(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){let i=t.substring(n+1).replace(/_/g,"");i[i.length-1]==="0"&&(e.minFractionDigits=i.length)}return e},stringify:PC.stringifyNumber};Ef.float=U3;Ef.floatExp=q3;Ef.floatNaN=M3});var dR=F(ku=>{"use strict";var lR=ba(),Eu=t=>typeof t=="bigint"||Number.isInteger(t);function kf(t,e,n,{intAsBigInt:i}){let r=t[0];if((r==="-"||r==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),i){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}let o=BigInt(t);return r==="-"?BigInt(-1)*o:o}let s=parseInt(t,n);return r==="-"?-1*s:s}function RC(t,e,n){let{value:i}=t;if(Eu(i)){let r=i.toString(e);return i<0?"-"+n+r.substr(1):n+r}return lR.stringifyNumber(t)}var j3={identify:Eu,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>kf(t,2,2,n),stringify:t=>RC(t,2,"0b")},B3={identify:Eu,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>kf(t,1,8,n),stringify:t=>RC(t,8,"0")},W3={identify:Eu,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>kf(t,0,10,n),stringify:lR.stringifyNumber},K3={identify:Eu,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>kf(t,2,16,n),stringify:t=>RC(t,16,"0x")};ku.int=W3;ku.intBin=j3;ku.intHex=K3;ku.intOct=B3});var IC=F(AC=>{"use strict";var Rf=He(),Ff=ms(),Pf=Cs(),vo=class t extends Pf.YAMLMap{constructor(e){super(e),this.tag=t.tag}add(e){let n;Rf.isPair(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Ff.Pair(e.key,null):n=new Ff.Pair(e,null),Pf.findPair(this.items,n.key)||this.items.push(n)}get(e,n){let i=Pf.findPair(this.items,e);return!n&&Rf.isPair(i)?Rf.isScalar(i.key)?i.key.value:i.key:i}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);let i=Pf.findPair(this.items,e);i&&!n?this.items.splice(this.items.indexOf(i),1):!i&&n&&this.items.push(new Ff.Pair(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,i){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,i);throw new Error("Set items must all have null values")}static from(e,n,i){let{replacer:r}=i,s=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof r=="function"&&(o=r.call(n,o,o)),s.items.push(Ff.createPair(o,null,i));return s}};vo.tag="tag:yaml.org,2002:set";var $3={collection:"map",identify:t=>t instanceof Set,nodeClass:vo,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>vo.from(t,e,n),resolve(t,e){if(Rf.isMap(t)){if(t.hasAllNullValues(!0))return Object.assign(new vo,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};AC.YAMLSet=vo;AC.set=$3});var NC=F(Af=>{"use strict";var V3=ba();function _C(t,e){let n=t[0],i=n==="-"||n==="+"?t.substring(1):t,r=o=>e?BigInt(o):Number(o),s=i.replace(/_/g,"").split(":").reduce((o,a)=>o*r(60)+r(a),r(0));return n==="-"?r(-1)*s:s}function fR(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return V3.stringifyNumber(t);let i="";e<0&&(i="-",e*=n(-1));let r=n(60),s=[e%r];return e<60?s.unshift(0):(e=(e-s[0])/r,s.unshift(e%r),e>=60&&(e=(e-s[0])/r,s.unshift(e))),i+s.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var H3={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>_C(t,n),stringify:fR},z3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>_C(t,!1),stringify:fR},pR={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){let e=t.match(pR.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,n,i,r,s,o,a]=e.map(Number),c=e[7]?Number((e[7]+"00").substr(1,3)):0,u=Date.UTC(n,i-1,r,s||0,o||0,a||0,c),f=e[8];if(f&&f!=="Z"){let g=_C(f,!1);Math.abs(g)<30&&(g*=60),u-=6e4*g}return new Date(u)},stringify:({value:t})=>t.toISOString().replace(/(T00:00:00)?\.000Z$/,"")};Af.floatTime=z3;Af.intTime=H3;Af.timestamp=pR});var mR=F(gR=>{"use strict";var G3=va(),J3=Cf(),X3=Sa(),Y3=Tu(),Q3=TC(),hR=cR(),OC=uR(),If=dR(),Z3=lf(),eV=kC(),tV=xf(),nV=IC(),LC=NC(),iV=[G3.map,X3.seq,Y3.string,J3.nullTag,hR.trueTag,hR.falseTag,If.intBin,If.intOct,If.int,If.intHex,OC.floatNaN,OC.floatExp,OC.float,Q3.binary,Z3.merge,eV.omap,tV.pairs,nV.set,LC.intTime,LC.floatTime,LC.timestamp];gR.schema=iV});var ER=F(UC=>{"use strict";var SR=va(),rV=Cf(),bR=Sa(),sV=Tu(),oV=gC(),MC=yC(),qC=vC(),aV=JP(),cV=QP(),DR=TC(),Fu=lf(),TR=kC(),wR=xf(),yR=mR(),xR=IC(),_f=NC(),CR=new Map([["core",aV.schema],["failsafe",[SR.map,bR.seq,sV.string]],["json",cV.schema],["yaml11",yR.schema],["yaml-1.1",yR.schema]]),vR={binary:DR.binary,bool:oV.boolTag,float:MC.float,floatExp:MC.floatExp,floatNaN:MC.floatNaN,floatTime:_f.floatTime,int:qC.int,intHex:qC.intHex,intOct:qC.intOct,intTime:_f.intTime,map:SR.map,merge:Fu.merge,null:rV.nullTag,omap:TR.omap,pairs:wR.pairs,seq:bR.seq,set:xR.set,timestamp:_f.timestamp},uV={"tag:yaml.org,2002:binary":DR.binary,"tag:yaml.org,2002:merge":Fu.merge,"tag:yaml.org,2002:omap":TR.omap,"tag:yaml.org,2002:pairs":wR.pairs,"tag:yaml.org,2002:set":xR.set,"tag:yaml.org,2002:timestamp":_f.timestamp};function lV(t,e,n){let i=CR.get(e);if(i&&!t)return n&&!i.includes(Fu.merge)?i.concat(Fu.merge):i.slice();let r=i;if(!r)if(Array.isArray(t))r=[];else{let s=Array.from(CR.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`)}if(Array.isArray(t))for(let s of t)r=r.concat(s);else typeof t=="function"&&(r=t(r.slice()));return n&&(r=r.concat(Fu.merge)),r.reduce((s,o)=>{let a=typeof o=="string"?vR[o]:o;if(!a){let c=JSON.stringify(o),u=Object.keys(vR).map(f=>JSON.stringify(f)).join(", ");throw new Error(`Unknown custom tag ${c}; use one of ${u}`)}return s.includes(a)||s.push(a),s},[])}UC.coreKnownTags=uV;UC.getTags=lV});var WC=F(kR=>{"use strict";var jC=He(),dV=va(),fV=Sa(),pV=Tu(),Nf=ER(),hV=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,BC=class t{constructor({compat:e,customTags:n,merge:i,resolveKnownTags:r,schema:s,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?Nf.getTags(e,"compat"):e?Nf.getTags(null,e):null,this.name=typeof s=="string"&&s||"core",this.knownTags=r?Nf.coreKnownTags:{},this.tags=Nf.getTags(n,this.name,i),this.toStringOptions=a??null,Object.defineProperty(this,jC.MAP,{value:dV.map}),Object.defineProperty(this,jC.SCALAR,{value:pV.string}),Object.defineProperty(this,jC.SEQ,{value:fV.seq}),this.sortMapEntries=typeof o=="function"?o:o===!0?hV:null}clone(){let e=Object.create(t.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}};kR.Schema=BC});var PR=F(FR=>{"use strict";var gV=He(),KC=vu(),Pu=gu();function mV(t,e){let n=[],i=e.directives===!0;if(e.directives!==!1&&t.directives){let c=t.directives.toString(t);c?(n.push(c),i=!0):t.directives.docStart&&(i=!0)}i&&n.push("---");let r=KC.createStringifyContext(t,e),{commentString:s}=r.options;if(t.commentBefore){n.length!==1&&n.unshift("");let c=s(t.commentBefore);n.unshift(Pu.indentComment(c,""))}let o=!1,a=null;if(t.contents){if(gV.isNode(t.contents)){if(t.contents.spaceBefore&&i&&n.push(""),t.contents.commentBefore){let f=s(t.contents.commentBefore);n.push(Pu.indentComment(f,""))}r.forceBlockIndent=!!t.comment,a=t.contents.comment}let c=a?void 0:()=>o=!0,u=KC.stringify(t.contents,r,()=>a=null,c);a&&(u+=Pu.lineComment(u,"",s(a))),(u[0]==="|"||u[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${u}`:n.push(u)}else n.push(KC.stringify(t.contents,r));if(t.directives?.docEnd)if(t.comment){let c=s(t.comment);c.includes(`
`)?(n.push("..."),n.push(Pu.indentComment(c,""))):n.push(`... ${c}`)}else n.push("...");else{let c=t.comment;c&&o&&(c=c.replace(/^\n+/,"")),c&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(Pu.indentComment(s(c),"")))}return n.join(`
`)+`
`}FR.stringifyDocument=mV});var Ru=F(RR=>{"use strict";var yV=pu(),Da=ef(),Mi=He(),CV=ms(),vV=fs(),SV=WC(),bV=PR(),$C=Jd(),DV=Gy(),TV=hu(),VC=zy(),HC=class t{constructor(e,n,i){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Mi.NODE_TYPE,{value:Mi.DOC});let r=null;typeof n=="function"||Array.isArray(n)?r=n:i===void 0&&n&&(i=n,n=void 0);let s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},i);this.options=s;let{version:o}=s;i?._directives?(this.directives=i._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new VC.Directives({version:o}),this.setSchema(o,i),this.contents=e===void 0?null:this.createNode(e,r,i)}clone(){let e=Object.create(t.prototype,{[Mi.NODE_TYPE]:{value:Mi.DOC}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=Mi.isNode(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Ta(this.contents)&&this.contents.add(e)}addIn(e,n){Ta(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){let i=$C.anchorNames(this);e.anchor=!n||i.has(n)?$C.findNewAnchor(n||"a",i):n}return new yV.Alias(e.anchor)}createNode(e,n,i){let r;if(typeof n=="function")e=n.call({"":e},"",e),r=n;else if(Array.isArray(n)){let m=D=>typeof D=="number"||D instanceof String||D instanceof Number,C=n.filter(m).map(String);C.length>0&&(n=n.concat(C)),r=n}else i===void 0&&n&&(i=n,n=void 0);let{aliasDuplicateObjects:s,anchorPrefix:o,flow:a,keepUndefined:c,onTagObj:u,tag:f}=i??{},{onAnchor:g,setAnchors:p,sourceObjects:l}=$C.createNodeAnchors(this,o||"a"),d={aliasDuplicateObjects:s??!0,keepUndefined:c??!1,onAnchor:g,onTagObj:u,replacer:r,schema:this.schema,sourceObjects:l},h=TV.createNode(e,f,d);return a&&Mi.isCollection(h)&&(h.flow=!0),p(),h}createPair(e,n,i={}){let r=this.createNode(e,null,i),s=this.createNode(n,null,i);return new CV.Pair(r,s)}delete(e){return Ta(this.contents)?this.contents.delete(e):!1}deleteIn(e){return Da.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):Ta(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return Mi.isCollection(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return Da.isEmptyPath(e)?!n&&Mi.isScalar(this.contents)?this.contents.value:this.contents:Mi.isCollection(this.contents)?this.contents.getIn(e,n):void 0}has(e){return Mi.isCollection(this.contents)?this.contents.has(e):!1}hasIn(e){return Da.isEmptyPath(e)?this.contents!==void 0:Mi.isCollection(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=Da.collectionFromPath(this.schema,[e],n):Ta(this.contents)&&this.contents.set(e,n)}setIn(e,n){Da.isEmptyPath(e)?this.contents=n:this.contents==null?this.contents=Da.collectionFromPath(this.schema,Array.from(e),n):Ta(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let i;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new VC.Directives({version:"1.1"}),i={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new VC.Directives({version:e}),i={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,i=null;break;default:{let r=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${r}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(i)this.schema=new SV.Schema(Object.assign(i,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:i,maxAliasCount:r,onAnchor:s,reviver:o}={}){let a={anchors:new Map,doc:this,keep:!e,mapAsMap:i===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},c=vV.toJS(this.contents,n??"",a);if(typeof s=="function")for(let{count:u,res:f}of a.anchors.values())s(f,u);return typeof o=="function"?DV.applyReviver(o,{"":c},"",c):c}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){let n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return bV.stringifyDocument(this,e)}};function Ta(t){if(Mi.isCollection(t))return!0;throw new Error("Expected a YAML collection as document contents")}RR.Document=HC});var _u=F(Iu=>{"use strict";var Au=class extends Error{constructor(e,n,i,r){super(),this.name=e,this.code=i,this.message=r,this.pos=n}},zC=class extends Au{constructor(e,n,i){super("YAMLParseError",e,n,i)}},GC=class extends Au{constructor(e,n,i){super("YAMLWarning",e,n,i)}},wV=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>e.linePos(a));let{line:i,col:r}=n.linePos[0];n.message+=` at line ${i}, column ${r}`;let s=r-1,o=t.substring(e.lineStarts[i-1],e.lineStarts[i]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){let a=Math.min(s-39,o.length-79);o="\u2026"+o.substring(a),s-=a-1}if(o.length>80&&(o=o.substring(0,79)+"\u2026"),i>1&&/^ *$/.test(o.substring(0,s))){let a=t.substring(e.lineStarts[i-2],e.lineStarts[i-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
`),o=a+o}if(/[^ ]/.test(o)){let a=1,c=n.linePos[1];c&&c.line===i&&c.col>r&&(a=Math.max(1,Math.min(c.col-r,80-s)));let u=" ".repeat(s)+"^".repeat(a);n.message+=`:

${o}
${u}
`}};Iu.YAMLError=Au;Iu.YAMLParseError=zC;Iu.YAMLWarning=GC;Iu.prettifyError=wV});var Nu=F(AR=>{"use strict";function xV(t,{flow:e,indicator:n,next:i,offset:r,onError:s,parentIndent:o,startOnNewline:a}){let c=!1,u=a,f=a,g="",p="",l=!1,d=!1,h=null,m=null,C=null,D=null,w=null,k=null,A=null;for(let U of t)switch(d&&(U.type!=="space"&&U.type!=="newline"&&U.type!=="comma"&&s(U.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),d=!1),h&&(u&&U.type!=="comment"&&U.type!=="newline"&&s(h,"TAB_AS_INDENT","Tabs are not allowed as indentation"),h=null),U.type){case"space":!e&&(n!=="doc-start"||i?.type!=="flow-collection")&&U.source.includes("	")&&(h=U),f=!0;break;case"comment":{f||s(U,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let ee=U.source.substring(1)||" ";g?g+=p+ee:g=ee,p="",u=!1;break}case"newline":u?g?g+=U.source:(!k||n!=="seq-item-ind")&&(c=!0):p+=U.source,u=!0,l=!0,(m||C)&&(D=U),f=!0;break;case"anchor":m&&s(U,"MULTIPLE_ANCHORS","A node can have at most one anchor"),U.source.endsWith(":")&&s(U.offset+U.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),m=U,A===null&&(A=U.offset),u=!1,f=!1,d=!0;break;case"tag":{C&&s(U,"MULTIPLE_TAGS","A node can have at most one tag"),C=U,A===null&&(A=U.offset),u=!1,f=!1,d=!0;break}case n:(m||C)&&s(U,"BAD_PROP_ORDER",`Anchors and tags must be after the ${U.source} indicator`),k&&s(U,"UNEXPECTED_TOKEN",`Unexpected ${U.source} in ${e??"collection"}`),k=U,u=n==="seq-item-ind"||n==="explicit-key-ind",f=!1;break;case"comma":if(e){w&&s(U,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),w=U,u=!1,f=!1;break}default:s(U,"UNEXPECTED_TOKEN",`Unexpected ${U.type} token`),u=!1,f=!1}let B=t[t.length-1],W=B?B.offset+B.source.length:r;return d&&i&&i.type!=="space"&&i.type!=="newline"&&i.type!=="comma"&&(i.type!=="scalar"||i.source!=="")&&s(i.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),h&&(u&&h.indent<=o||i?.type==="block-map"||i?.type==="block-seq")&&s(h,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:w,found:k,spaceBefore:c,comment:g,hasNewline:l,anchor:m,tag:C,newlineAfterProp:D,end:W,start:A??W}}AR.resolveProps=xV});var Of=F(IR=>{"use strict";function JC(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(let e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(let e of t.items){for(let n of e.start)if(n.type==="newline")return!0;if(e.sep){for(let n of e.sep)if(n.type==="newline")return!0}if(JC(e.key)||JC(e.value))return!0}return!1;default:return!0}}IR.containsNewline=JC});var XC=F(_R=>{"use strict";var EV=Of();function kV(t,e,n){if(e?.type==="flow-collection"){let i=e.end[0];i.indent===t&&(i.source==="]"||i.source==="}")&&EV.containsNewline(e)&&n(i,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}_R.flowIndentCheck=kV});var YC=F(OR=>{"use strict";var NR=He();function FV(t,e,n){let{uniqueKeys:i}=t.options;if(i===!1)return!1;let r=typeof i=="function"?i:(s,o)=>s===o||NR.isScalar(s)&&NR.isScalar(o)&&s.value===o.value;return e.some(s=>r(s.key,n))}OR.mapIncludes=FV});var BR=F(jR=>{"use strict";var LR=ms(),PV=Cs(),MR=Nu(),RV=Of(),qR=XC(),AV=YC(),UR="All mapping items must start at the same column";function IV({composeNode:t,composeEmptyNode:e},n,i,r,s){let o=s?.nodeClass??PV.YAMLMap,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let c=i.offset,u=null;for(let f of i.items){let{start:g,key:p,sep:l,value:d}=f,h=MR.resolveProps(g,{indicator:"explicit-key-ind",next:p??l?.[0],offset:c,onError:r,parentIndent:i.indent,startOnNewline:!0}),m=!h.found;if(m){if(p&&(p.type==="block-seq"?r(c,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in p&&p.indent!==i.indent&&r(c,"BAD_INDENT",UR)),!h.anchor&&!h.tag&&!l){u=h.end,h.comment&&(a.comment?a.comment+=`
`+h.comment:a.comment=h.comment);continue}(h.newlineAfterProp||RV.containsNewline(p))&&r(p??g[g.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else h.found?.indent!==i.indent&&r(c,"BAD_INDENT",UR);n.atKey=!0;let C=h.end,D=p?t(n,p,h,r):e(n,C,g,null,h,r);n.schema.compat&&qR.flowIndentCheck(i.indent,p,r),n.atKey=!1,AV.mapIncludes(n,a.items,D)&&r(C,"DUPLICATE_KEY","Map keys must be unique");let w=MR.resolveProps(l??[],{indicator:"map-value-ind",next:d,offset:D.range[2],onError:r,parentIndent:i.indent,startOnNewline:!p||p.type==="block-scalar"});if(c=w.end,w.found){m&&(d?.type==="block-map"&&!w.hasNewline&&r(c,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&h.start<w.found.offset-1024&&r(D.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let k=d?t(n,d,w,r):e(n,c,l,null,w,r);n.schema.compat&&qR.flowIndentCheck(i.indent,d,r),c=k.range[2];let A=new LR.Pair(D,k);n.options.keepSourceTokens&&(A.srcToken=f),a.items.push(A)}else{m&&r(D.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),w.comment&&(D.comment?D.comment+=`
`+w.comment:D.comment=w.comment);let k=new LR.Pair(D);n.options.keepSourceTokens&&(k.srcToken=f),a.items.push(k)}}return u&&u<c&&r(u,"IMPOSSIBLE","Map comment with trailing content"),a.range=[i.offset,c,u??c],a}jR.resolveBlockMap=IV});var KR=F(WR=>{"use strict";var _V=vs(),NV=Nu(),OV=XC();function LV({composeNode:t,composeEmptyNode:e},n,i,r,s){let o=s?.nodeClass??_V.YAMLSeq,a=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let c=i.offset,u=null;for(let{start:f,value:g}of i.items){let p=NV.resolveProps(f,{indicator:"seq-item-ind",next:g,offset:c,onError:r,parentIndent:i.indent,startOnNewline:!0});if(!p.found)if(p.anchor||p.tag||g)g&&g.type==="block-seq"?r(p.end,"BAD_INDENT","All sequence items must start at the same column"):r(c,"MISSING_CHAR","Sequence item without - indicator");else{u=p.end,p.comment&&(a.comment=p.comment);continue}let l=g?t(n,g,p,r):e(n,p.end,f,null,p,r);n.schema.compat&&OV.flowIndentCheck(i.indent,g,r),c=l.range[2],a.items.push(l)}return a.range=[i.offset,c,u??c],a}WR.resolveBlockSeq=LV});var wa=F($R=>{"use strict";function MV(t,e,n,i){let r="";if(t){let s=!1,o="";for(let a of t){let{source:c,type:u}=a;switch(u){case"space":s=!0;break;case"comment":{n&&!s&&i(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let f=c.substring(1)||" ";r?r+=o+f:r=f,o="";break}case"newline":r&&(o+=c),s=!0;break;default:i(a,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}e+=c.length}}return{comment:r,offset:e}}$R.resolveEnd=MV});var GR=F(zR=>{"use strict";var qV=He(),UV=ms(),VR=Cs(),jV=vs(),BV=wa(),HR=Nu(),WV=Of(),KV=YC(),QC="Block collections are not allowed within flow collections",ZC=t=>t&&(t.type==="block-map"||t.type==="block-seq");function $V({composeNode:t,composeEmptyNode:e},n,i,r,s){let o=i.start.source==="{",a=o?"flow map":"flow sequence",c=s?.nodeClass??(o?VR.YAMLMap:jV.YAMLSeq),u=new c(n.schema);u.flow=!0;let f=n.atRoot;f&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let g=i.offset+i.start.source.length;for(let m=0;m<i.items.length;++m){let C=i.items[m],{start:D,key:w,sep:k,value:A}=C,B=HR.resolveProps(D,{flow:a,indicator:"explicit-key-ind",next:w??k?.[0],offset:g,onError:r,parentIndent:i.indent,startOnNewline:!1});if(!B.found){if(!B.anchor&&!B.tag&&!k&&!A){m===0&&B.comma?r(B.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):m<i.items.length-1&&r(B.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),B.comment&&(u.comment?u.comment+=`
`+B.comment:u.comment=B.comment),g=B.end;continue}!o&&n.options.strict&&WV.containsNewline(w)&&r(w,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(m===0)B.comma&&r(B.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(B.comma||r(B.start,"MISSING_CHAR",`Missing , between ${a} items`),B.comment){let W="";e:for(let U of D)switch(U.type){case"comma":case"space":break;case"comment":W=U.source.substring(1);break e;default:break e}if(W){let U=u.items[u.items.length-1];qV.isPair(U)&&(U=U.value??U.key),U.comment?U.comment+=`
`+W:U.comment=W,B.comment=B.comment.substring(W.length+1)}}if(!o&&!k&&!B.found){let W=A?t(n,A,B,r):e(n,B.end,k,null,B,r);u.items.push(W),g=W.range[2],ZC(A)&&r(W.range,"BLOCK_IN_FLOW",QC)}else{n.atKey=!0;let W=B.end,U=w?t(n,w,B,r):e(n,W,D,null,B,r);ZC(w)&&r(U.range,"BLOCK_IN_FLOW",QC),n.atKey=!1;let ee=HR.resolveProps(k??[],{flow:a,indicator:"map-value-ind",next:A,offset:U.range[2],onError:r,parentIndent:i.indent,startOnNewline:!1});if(ee.found){if(!o&&!B.found&&n.options.strict){if(k)for(let M of k){if(M===ee.found)break;if(M.type==="newline"){r(M,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}B.start<ee.found.offset-1024&&r(ee.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else A&&("source"in A&&A.source&&A.source[0]===":"?r(A,"MISSING_CHAR",`Missing space after : in ${a}`):r(ee.start,"MISSING_CHAR",`Missing , or : between ${a} items`));let Z=A?t(n,A,ee,r):ee.found?e(n,ee.end,k,null,ee,r):null;Z?ZC(A)&&r(Z.range,"BLOCK_IN_FLOW",QC):ee.comment&&(U.comment?U.comment+=`
`+ee.comment:U.comment=ee.comment);let H=new UV.Pair(U,Z);if(n.options.keepSourceTokens&&(H.srcToken=C),o){let M=u;KV.mapIncludes(n,M.items,U)&&r(W,"DUPLICATE_KEY","Map keys must be unique"),M.items.push(H)}else{let M=new VR.YAMLMap(n.schema);M.flow=!0,M.items.push(H);let V=(Z??U).range;M.range=[U.range[0],V[1],V[2]],u.items.push(M)}g=Z?Z.range[2]:ee.end}}let p=o?"}":"]",[l,...d]=i.end,h=g;if(l&&l.source===p)h=l.offset+l.source.length;else{let m=a[0].toUpperCase()+a.substring(1),C=f?`${m} must end with a ${p}`:`${m} in block collection must be sufficiently indented and end with a ${p}`;r(g,f?"MISSING_CHAR":"BAD_INDENT",C),l&&l.source.length!==1&&d.unshift(l)}if(d.length>0){let m=BV.resolveEnd(d,h,n.options.strict,r);m.comment&&(u.comment?u.comment+=`
`+m.comment:u.comment=m.comment),u.range=[i.offset,h,m.offset]}else u.range=[i.offset,h,h];return u}zR.resolveFlowCollection=$V});var XR=F(JR=>{"use strict";var VV=He(),HV=Xt(),zV=Cs(),GV=vs(),JV=BR(),XV=KR(),YV=GR();function ev(t,e,n,i,r,s){let o=n.type==="block-map"?JV.resolveBlockMap(t,e,n,i,s):n.type==="block-seq"?XV.resolveBlockSeq(t,e,n,i,s):YV.resolveFlowCollection(t,e,n,i,s),a=o.constructor;return r==="!"||r===a.tagName?(o.tag=a.tagName,o):(r&&(o.tag=r),o)}function QV(t,e,n,i,r){let s=i.tag,o=s?e.directives.tagName(s.source,p=>r(s,"TAG_RESOLVE_FAILED",p)):null;if(n.type==="block-seq"){let{anchor:p,newlineAfterProp:l}=i,d=p&&s?p.offset>s.offset?p:s:p??s;d&&(!l||l.offset<d.offset)&&r(d,"MISSING_CHAR","Missing newline after block sequence props")}let a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!s||!o||o==="!"||o===zV.YAMLMap.tagName&&a==="map"||o===GV.YAMLSeq.tagName&&a==="seq")return ev(t,e,n,r,o);let c=e.schema.tags.find(p=>p.tag===o&&p.collection===a);if(!c){let p=e.schema.knownTags[o];if(p&&p.collection===a)e.schema.tags.push(Object.assign({},p,{default:!1})),c=p;else return p?.collection?r(s,"BAD_COLLECTION_TYPE",`${p.tag} used for ${a} collection, but expects ${p.collection}`,!0):r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),ev(t,e,n,r,o)}let u=ev(t,e,n,r,o,c),f=c.resolve?.(u,p=>r(s,"TAG_RESOLVE_FAILED",p),e.options)??u,g=VV.isNode(f)?f:new HV.Scalar(f);return g.range=u.range,g.tag=o,c?.format&&(g.format=c.format),g}JR.composeCollection=QV});var nv=F(YR=>{"use strict";var tv=Xt();function ZV(t,e,n){let i=e.offset,r=eH(e,t.options.strict,n);if(!r)return{value:"",type:null,comment:"",range:[i,i,i]};let s=r.mode===">"?tv.Scalar.BLOCK_FOLDED:tv.Scalar.BLOCK_LITERAL,o=e.source?tH(e.source):[],a=o.length;for(let h=o.length-1;h>=0;--h){let m=o[h][1];if(m===""||m==="\r")a=h;else break}if(a===0){let h=r.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"",m=i+r.length;return e.source&&(m+=e.source.length),{value:h,type:s,comment:r.comment,range:[i,m,m]}}let c=e.indent+r.indent,u=e.offset+r.length,f=0;for(let h=0;h<a;++h){let[m,C]=o[h];if(C===""||C==="\r")r.indent===0&&m.length>c&&(c=m.length);else{m.length<c&&n(u+m.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),r.indent===0&&(c=m.length),f=h,c===0&&!t.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=m.length+C.length+1}for(let h=o.length-1;h>=a;--h)o[h][0].length>c&&(a=h+1);let g="",p="",l=!1;for(let h=0;h<f;++h)g+=o[h][0].slice(c)+`
`;for(let h=f;h<a;++h){let[m,C]=o[h];u+=m.length+C.length+1;let D=C[C.length-1]==="\r";if(D&&(C=C.slice(0,-1)),C&&m.length<c){let k=`Block scalar lines must not be less indented than their ${r.indent?"explicit indentation indicator":"first line"}`;n(u-C.length-(D?2:1),"BAD_INDENT",k),m=""}s===tv.Scalar.BLOCK_LITERAL?(g+=p+m.slice(c)+C,p=`
`):m.length>c||C[0]==="	"?(p===" "?p=`
`:!l&&p===`
`&&(p=`

`),g+=p+m.slice(c)+C,p=`
`,l=!0):C===""?p===`
`?g+=`
`:p=`
`:(g+=p+C,p=" ",l=!1)}switch(r.chomp){case"-":break;case"+":for(let h=a;h<o.length;++h)g+=`
`+o[h][0].slice(c);g[g.length-1]!==`
`&&(g+=`
`);break;default:g+=`
`}let d=i+r.length+e.source.length;return{value:g,type:s,comment:r.comment,range:[i,d,d]}}function eH({offset:t,props:e},n,i){if(e[0].type!=="block-scalar-header")return i(e[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:r}=e[0],s=r[0],o=0,a="",c=-1;for(let p=1;p<r.length;++p){let l=r[p];if(!a&&(l==="-"||l==="+"))a=l;else{let d=Number(l);!o&&d?o=d:c===-1&&(c=t+p)}}c!==-1&&i(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let u=!1,f="",g=r.length;for(let p=1;p<e.length;++p){let l=e[p];switch(l.type){case"space":u=!0;case"newline":g+=l.source.length;break;case"comment":n&&!u&&i(l,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),g+=l.source.length,f=l.source.substring(1);break;case"error":i(l,"UNEXPECTED_TOKEN",l.message),g+=l.source.length;break;default:{let d=`Unexpected token in block scalar header: ${l.type}`;i(l,"UNEXPECTED_TOKEN",d);let h=l.source;h&&typeof h=="string"&&(g+=h.length)}}}return{mode:s,indent:o,chomp:a,comment:f,length:g}}function tH(t){let e=t.split(/\n( *)/),n=e[0],i=n.match(/^( *)/),s=[i?.[1]?[i[1],n.slice(i[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)s.push([e[o],e[o+1]]);return s}YR.resolveBlockScalar=ZV});var rv=F(ZR=>{"use strict";var iv=Xt(),nH=wa();function iH(t,e,n){let{offset:i,type:r,source:s,end:o}=t,a,c,u=(p,l,d)=>n(i+p,l,d);switch(r){case"scalar":a=iv.Scalar.PLAIN,c=rH(s,u);break;case"single-quoted-scalar":a=iv.Scalar.QUOTE_SINGLE,c=sH(s,u);break;case"double-quoted-scalar":a=iv.Scalar.QUOTE_DOUBLE,c=oH(s,u);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[i,i+s.length,i+s.length]}}let f=i+s.length,g=nH.resolveEnd(o,f,e,n);return{value:c,type:a,comment:g.comment,range:[i,f,g.offset]}}function rH(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),QR(t)}function sH(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),QR(t.slice(1,-1)).replace(/''/g,"'")}function QR(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let i=e.exec(t);if(!i)return t;let r=i[1],s=" ",o=e.lastIndex;for(n.lastIndex=o;i=n.exec(t);)i[1]===""?s===`
`?r+=s:s=`
`:(r+=s+i[1],s=" "),o=n.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=o,i=a.exec(t),r+s+(i?.[1]??"")}function oH(t,e){let n="";for(let i=1;i<t.length-1;++i){let r=t[i];if(!(r==="\r"&&t[i+1]===`
`))if(r===`
`){let{fold:s,offset:o}=aH(t,i);n+=s,i=o}else if(r==="\\"){let s=t[++i],o=cH[s];if(o)n+=o;else if(s===`
`)for(s=t[i+1];s===" "||s==="	";)s=t[++i+1];else if(s==="\r"&&t[i+1]===`
`)for(s=t[++i+1];s===" "||s==="	";)s=t[++i+1];else if(s==="x"||s==="u"||s==="U"){let a={x:2,u:4,U:8}[s];n+=uH(t,i+1,a,e),i+=a}else{let a=t.substr(i-1,2);e(i-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(r===" "||r==="	"){let s=i,o=t[i+1];for(;o===" "||o==="	";)o=t[++i+1];o!==`
`&&!(o==="\r"&&t[i+2]===`
`)&&(n+=i>s?t.slice(s,i+1):r)}else n+=r}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function aH(t,e){let n="",i=t[e+1];for(;(i===" "||i==="	"||i===`
`||i==="\r")&&!(i==="\r"&&t[e+2]!==`
`);)i===`
`&&(n+=`
`),e+=1,i=t[e+1];return n||(n=" "),{fold:n,offset:e}}var cH={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function uH(t,e,n,i){let r=t.substr(e,n),o=r.length===n&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(o)){let a=t.substr(e-2,n+2);return i(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}ZR.resolveFlowScalar=iH});var nA=F(tA=>{"use strict";var So=He(),eA=Xt(),lH=nv(),dH=rv();function fH(t,e,n,i){let{value:r,type:s,comment:o,range:a}=e.type==="block-scalar"?lH.resolveBlockScalar(t,e,i):dH.resolveFlowScalar(e,t.options.strict,i),c=n?t.directives.tagName(n.source,g=>i(n,"TAG_RESOLVE_FAILED",g)):null,u;t.options.stringKeys&&t.atKey?u=t.schema[So.SCALAR]:c?u=pH(t.schema,r,c,n,i):e.type==="scalar"?u=hH(t,r,e,i):u=t.schema[So.SCALAR];let f;try{let g=u.resolve(r,p=>i(n??e,"TAG_RESOLVE_FAILED",p),t.options);f=So.isScalar(g)?g:new eA.Scalar(g)}catch(g){let p=g instanceof Error?g.message:String(g);i(n??e,"TAG_RESOLVE_FAILED",p),f=new eA.Scalar(r)}return f.range=a,f.source=r,s&&(f.type=s),c&&(f.tag=c),u.format&&(f.format=u.format),o&&(f.comment=o),f}function pH(t,e,n,i,r){if(n==="!")return t[So.SCALAR];let s=[];for(let a of t.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)s.push(a);else return a;for(let a of s)if(a.test?.test(e))return a;let o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(r(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[So.SCALAR])}function hH({atKey:t,directives:e,schema:n},i,r,s){let o=n.tags.find(a=>(a.default===!0||t&&a.default==="key")&&a.test?.test(i))||n[So.SCALAR];if(n.compat){let a=n.compat.find(c=>c.default&&c.test?.test(i))??n[So.SCALAR];if(o.tag!==a.tag){let c=e.tagString(o.tag),u=e.tagString(a.tag),f=`Value may be parsed as either ${c} or ${u}`;s(r,"TAG_RESOLVE_FAILED",f,!0)}}return o}tA.composeScalar=fH});var rA=F(iA=>{"use strict";function gH(t,e,n){if(e){n===null&&(n=e.length);for(let i=n-1;i>=0;--i){let r=e[i];switch(r.type){case"space":case"comment":case"newline":t-=r.source.length;continue}for(r=e[++i];r?.type==="space";)t+=r.source.length,r=e[++i];break}}return t}iA.emptyScalarPosition=gH});var aA=F(ov=>{"use strict";var mH=pu(),yH=He(),CH=XR(),sA=nA(),vH=wa(),SH=rA(),bH={composeNode:oA,composeEmptyNode:sv};function oA(t,e,n,i){let r=t.atKey,{spaceBefore:s,comment:o,anchor:a,tag:c}=n,u,f=!0;switch(e.type){case"alias":u=DH(t,e,i),(a||c)&&i(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=sA.composeScalar(t,e,c,i),a&&(u.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=CH.composeCollection(bH,t,e,n,i),a&&(u.anchor=a.source.substring(1));break;default:{let g=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;i(e,"UNEXPECTED_TOKEN",g),u=sv(t,e.offset,void 0,null,n,i),f=!1}}return a&&u.anchor===""&&i(a,"BAD_ALIAS","Anchor cannot be an empty string"),r&&t.options.stringKeys&&(!yH.isScalar(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&i(c??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),s&&(u.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?u.comment=o:u.commentBefore=o),t.options.keepSourceTokens&&f&&(u.srcToken=e),u}function sv(t,e,n,i,{spaceBefore:r,comment:s,anchor:o,tag:a,end:c},u){let f={type:"scalar",offset:SH.emptyScalarPosition(e,n,i),indent:-1,source:""},g=sA.composeScalar(t,f,a,u);return o&&(g.anchor=o.source.substring(1),g.anchor===""&&u(o,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(g.spaceBefore=!0),s&&(g.comment=s,g.range[2]=c),g}function DH({options:t},{offset:e,source:n,end:i},r){let s=new mH.Alias(n.substring(1));s.source===""&&r(e,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&r(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let o=e+n.length,a=vH.resolveEnd(i,o,t.strict,r);return s.range=[e,o,a.offset],a.comment&&(s.comment=a.comment),s}ov.composeEmptyNode=sv;ov.composeNode=oA});var lA=F(uA=>{"use strict";var TH=Ru(),cA=aA(),wH=wa(),xH=Nu();function EH(t,e,{offset:n,start:i,value:r,end:s},o){let a=Object.assign({_directives:e},t),c=new TH.Document(void 0,a),u={atKey:!1,atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},f=xH.resolveProps(i,{indicator:"doc-start",next:r??s?.[0],offset:n,onError:o,parentIndent:0,startOnNewline:!0});f.found&&(c.directives.docStart=!0,r&&(r.type==="block-map"||r.type==="block-seq")&&!f.hasNewline&&o(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=r?cA.composeNode(u,r,f,o):cA.composeEmptyNode(u,f.end,i,null,f,o);let g=c.contents.range[2],p=wH.resolveEnd(s,g,!1,o);return p.comment&&(c.comment=p.comment),c.range=[n,g,p.offset],c}uA.composeDoc=EH});var cv=F(pA=>{"use strict";var kH=require("node:process"),FH=zy(),PH=Ru(),Ou=_u(),dA=He(),RH=lA(),AH=wa();function Lu(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];let{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function fA(t){let e="",n=!1,i=!1;for(let r=0;r<t.length;++r){let s=t[r];switch(s[0]){case"#":e+=(e===""?"":i?`

`:`
`)+(s.substring(1)||" "),n=!0,i=!1;break;case"%":t[r+1]?.[0]!=="#"&&(r+=1),n=!1;break;default:n||(i=!0),n=!1}}return{comment:e,afterEmptyLine:i}}var av=class{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,i,r,s)=>{let o=Lu(n);s?this.warnings.push(new Ou.YAMLWarning(o,i,r)):this.errors.push(new Ou.YAMLParseError(o,i,r))},this.directives=new FH.Directives({version:e.version||"1.2"}),this.options=e}decorate(e,n){let{comment:i,afterEmptyLine:r}=fA(this.prelude);if(i){let s=e.contents;if(n)e.comment=e.comment?`${e.comment}
${i}`:i;else if(r||e.directives.docStart||!s)e.commentBefore=i;else if(dA.isCollection(s)&&!s.flow&&s.items.length>0){let o=s.items[0];dA.isPair(o)&&(o=o.key);let a=o.commentBefore;o.commentBefore=a?`${i}
${a}`:i}else{let o=s.commentBefore;s.commentBefore=o?`${i}
${o}`:i}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:fA(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,i=-1){for(let r of e)yield*this.next(r);yield*this.end(n,i)}*next(e){switch(kH.env.LOG_STREAM&&console.dir(e,{depth:null}),e.type){case"directive":this.directives.add(e.source,(n,i,r)=>{let s=Lu(e);s[0]+=n,this.onError(s,"BAD_DIRECTIVE",i,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{let n=RH.composeDoc(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{let n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,i=new Ou.YAMLParseError(Lu(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(i):this.doc.errors.push(i);break}case"doc-end":{if(!this.doc){let i="Unexpected doc-end without preceding document";this.errors.push(new Ou.YAMLParseError(Lu(e),"UNEXPECTED_TOKEN",i));break}this.doc.directives.docEnd=!0;let n=AH.resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){let i=this.doc.comment;this.doc.comment=i?`${i}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Ou.YAMLParseError(Lu(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){let i=Object.assign({_directives:this.directives},this.options),r=new PH.Document(void 0,i);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,n,n],this.decorate(r,!1),yield r}}};pA.Composer=av});var mA=F(Lf=>{"use strict";var IH=nv(),_H=rv(),NH=_u(),hA=Cu();function OH(t,e=!0,n){if(t){let i=(r,s,o)=>{let a=typeof r=="number"?r:Array.isArray(r)?r[0]:r.offset;if(n)n(a,s,o);else throw new NH.YAMLParseError([a,a+1],s,o)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return _H.resolveFlowScalar(t,e,i);case"block-scalar":return IH.resolveBlockScalar({options:{strict:e}},t,i)}}return null}function LH(t,e){let{implicitKey:n=!1,indent:i,inFlow:r=!1,offset:s=-1,type:o="PLAIN"}=e,a=hA.stringifyString({type:o,value:t},{implicitKey:n,indent:i>0?" ".repeat(i):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}}),c=e.end??[{type:"newline",offset:-1,indent:i,source:`
`}];switch(a[0]){case"|":case">":{let u=a.indexOf(`
`),f=a.substring(0,u),g=a.substring(u+1)+`
`,p=[{type:"block-scalar-header",offset:s,indent:i,source:f}];return gA(p,c)||p.push({type:"newline",offset:-1,indent:i,source:`
`}),{type:"block-scalar",offset:s,indent:i,props:p,source:g}}case'"':return{type:"double-quoted-scalar",offset:s,indent:i,source:a,end:c};case"'":return{type:"single-quoted-scalar",offset:s,indent:i,source:a,end:c};default:return{type:"scalar",offset:s,indent:i,source:a,end:c}}}function MH(t,e,n={}){let{afterKey:i=!1,implicitKey:r=!1,inFlow:s=!1,type:o}=n,a="indent"in t?t.indent:null;if(i&&typeof a=="number"&&(a+=2),!o)switch(t.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{let u=t.props[0];if(u.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=u.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}let c=hA.stringifyString({type:o,value:e},{implicitKey:r||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":qH(t,c);break;case'"':uv(t,c,"double-quoted-scalar");break;case"'":uv(t,c,"single-quoted-scalar");break;default:uv(t,c,"scalar")}}function qH(t,e){let n=e.indexOf(`
`),i=e.substring(0,n),r=e.substring(n+1)+`
`;if(t.type==="block-scalar"){let s=t.props[0];if(s.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s.source=i,t.source=r}else{let{offset:s}=t,o="indent"in t?t.indent:-1,a=[{type:"block-scalar-header",offset:s,indent:o,source:i}];gA(a,"end"in t?t.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
`});for(let c of Object.keys(t))c!=="type"&&c!=="offset"&&delete t[c];Object.assign(t,{type:"block-scalar",indent:o,props:a,source:r})}}function gA(t,e){if(e)for(let n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}function uv(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{let i=t.props.slice(1),r=e.length;t.props[0].type==="block-scalar-header"&&(r-=t.props[0].source.length);for(let s of i)s.offset+=r;delete t.props,Object.assign(t,{type:n,source:e,end:i});break}case"block-map":case"block-seq":{let r={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:n,source:e,end:[r]});break}default:{let i="indent"in t?t.indent:-1,r="end"in t&&Array.isArray(t.end)?t.end.filter(s=>s.type==="space"||s.type==="comment"||s.type==="newline"):[];for(let s of Object.keys(t))s!=="type"&&s!=="offset"&&delete t[s];Object.assign(t,{type:n,indent:i,source:e,end:r})}}}Lf.createScalarToken=LH;Lf.resolveAsScalar=OH;Lf.setScalarValue=MH});var CA=F(yA=>{"use strict";var UH=t=>"type"in t?qf(t):Mf(t);function qf(t){switch(t.type){case"block-scalar":{let e="";for(let n of t.props)e+=qf(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(let n of t.items)e+=Mf(n);return e}case"flow-collection":{let e=t.start.source;for(let n of t.items)e+=Mf(n);for(let n of t.end)e+=n.source;return e}case"document":{let e=Mf(t);if(t.end)for(let n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(let n of t.end)e+=n.source;return e}}}function Mf({start:t,key:e,sep:n,value:i}){let r="";for(let s of t)r+=s.source;if(e&&(r+=qf(e)),n)for(let s of n)r+=s.source;return i&&(r+=qf(i)),r}yA.stringify=UH});var DA=F(bA=>{"use strict";var lv=Symbol("break visit"),jH=Symbol("skip children"),vA=Symbol("remove item");function bo(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),SA(Object.freeze([]),t,e)}bo.BREAK=lv;bo.SKIP=jH;bo.REMOVE=vA;bo.itemAtPath=(t,e)=>{let n=t;for(let[i,r]of e){let s=n?.[i];if(s&&"items"in s)n=s.items[r];else return}return n};bo.parentCollection=(t,e)=>{let n=bo.itemAtPath(t,e.slice(0,-1)),i=e[e.length-1][0],r=n?.[i];if(r&&"items"in r)return r;throw new Error("Parent collection not found")};function SA(t,e,n){let i=n(e,t);if(typeof i=="symbol")return i;for(let r of["key","value"]){let s=e[r];if(s&&"items"in s){for(let o=0;o<s.items.length;++o){let a=SA(Object.freeze(t.concat([[r,o]])),s.items[o],n);if(typeof a=="number")o=a-1;else{if(a===lv)return lv;a===vA&&(s.items.splice(o,1),o-=1)}}typeof i=="function"&&r==="key"&&(i=i(e,t))}}return typeof i=="function"?i(e,t):i}bA.visit=bo});var Uf=F(ni=>{"use strict";var dv=mA(),BH=CA(),WH=DA(),fv="\uFEFF",pv="",hv="",gv="",KH=t=>!!t&&"items"in t,$H=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function VH(t){switch(t){case fv:return"<BOM>";case pv:return"<DOC>";case hv:return"<FLOW_END>";case gv:return"<SCALAR>";default:return JSON.stringify(t)}}function HH(t){switch(t){case fv:return"byte-order-mark";case pv:return"doc-mode";case hv:return"flow-error-end";case gv:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}ni.createScalarToken=dv.createScalarToken;ni.resolveAsScalar=dv.resolveAsScalar;ni.setScalarValue=dv.setScalarValue;ni.stringify=BH.stringify;ni.visit=WH.visit;ni.BOM=fv;ni.DOCUMENT=pv;ni.FLOW_END=hv;ni.SCALAR=gv;ni.isCollection=KH;ni.isScalar=$H;ni.prettyToken=VH;ni.tokenType=HH});var Cv=F(wA=>{"use strict";var Mu=Uf();function tr(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var TA=new Set("0123456789ABCDEFabcdef"),zH=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),jf=new Set(",[]{}"),GH=new Set(` ,[]{}
\r	`),mv=t=>!t||GH.has(t),yv=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let i=this.next??"stream";for(;i&&(n||this.hasChars(1));)i=yield*this.parseNext(i)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let i=0;for(;n===" ";)n=this.buffer[++i+e];if(n==="\r"){let r=this.buffer[i+e+1];if(r===`
`||!r&&!this.atEnd)return e+i+1}return n===`
`||i>=this.indentNext||!n&&!this.atEnd?e+i:-1}if(n==="-"||n==="."){let i=this.buffer.substr(e,3);if((i==="---"||i==="...")&&tr(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===Mu.BOM&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,i=e.indexOf("#");for(;i!==-1;){let s=e[i-1];if(s===" "||s==="	"){n=i-1;break}else i=e.indexOf("#",i+1)}for(;;){let s=e[n-1];if(s===" "||s==="	")n-=1;else break}let r=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){let n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield Mu.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let n=this.peek(3);if((n==="---"||n==="...")&&tr(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!tr(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&tr(n)){let i=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=i,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(mv),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,i=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=i=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);let r=this.getLine();if(r===null)return this.setNext("flow");if((i!==-1&&i<this.indentNext&&r[0]!=="#"||i===0&&(r.startsWith("---")||r.startsWith("..."))&&tr(r[3]))&&!(i===this.indentNext-1&&this.flowLevel===1&&(r[0]==="]"||r[0]==="}")))return this.flowLevel=0,yield Mu.FLOW_END,yield*this.parseLineStart();let s=0;for(;r[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),r[s]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(mv),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let o=this.charAt(1);if(this.flowKey||tr(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let e=this.charAt(0),n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let s=0;for(;this.buffer[n-1-s]==="\\";)s+=1;if(s%2===0)break;n=this.buffer.indexOf('"',n+1)}let i=this.buffer.substring(0,n),r=i.indexOf(`
`,this.pos);if(r!==-1){for(;r!==-1;){let s=this.continueScalar(r+1);if(s===-1)break;r=i.indexOf(`
`,s)}r!==-1&&(n=r-(i[r-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){let n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>tr(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,i;e:for(let s=this.pos;i=this.buffer[s];++s)switch(i){case" ":n+=1;break;case`
`:e=s,n=0;break;case"\r":{let o=this.buffer[s+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!i&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{let s=this.continueScalar(e+1);if(s===-1)break;e=this.buffer.indexOf(`
`,s)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let r=e+1;for(i=this.buffer[r];i===" ";)i=this.buffer[++r];if(i==="	"){for(;i==="	"||i===" "||i==="\r"||i===`
`;)i=this.buffer[++r];e=r-1}else if(!this.blockScalarKeep)do{let s=e-1,o=this.buffer[s];o==="\r"&&(o=this.buffer[--s]);let a=s;for(;o===" ";)o=this.buffer[--s];if(o===`
`&&s>=this.pos&&s+1+n>a)e=s;else break}while(!0);return yield Mu.SCALAR,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let e=this.flowLevel>0,n=this.pos-1,i=this.pos-1,r;for(;r=this.buffer[++i];)if(r===":"){let s=this.buffer[i+1];if(tr(s)||e&&jf.has(s))break;n=i}else if(tr(r)){let s=this.buffer[i+1];if(r==="\r"&&(s===`
`?(i+=1,r=`
`,s=this.buffer[i+1]):n=i),s==="#"||e&&jf.has(s))break;if(r===`
`){let o=this.continueScalar(i+1);if(o===-1)break;i=Math.max(i,o-2)}}else{if(e&&jf.has(r))break;n=i}return!r&&!this.atEnd?this.setNext("plain-scalar"):(yield Mu.SCALAR,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){let i=this.buffer.slice(this.pos,e);return i?(yield i,this.pos+=i.length,i.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(mv))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let e=this.flowLevel>0,n=this.charAt(1);if(tr(n)||e&&jf.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!tr(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(zH.has(n))n=this.buffer[++e];else if(n==="%"&&TA.has(this.buffer[e+1])&&TA.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){let e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,i;do i=this.buffer[++n];while(i===" "||e&&i==="	");let r=n-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=n),r}*pushUntil(e){let n=this.pos,i=this.buffer[n];for(;!e(i);)i=this.buffer[++n];return yield*this.pushToIndex(n,!1)}};wA.Lexer=yv});var Sv=F(xA=>{"use strict";var vv=class{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,i=this.lineStarts.length;for(;n<i;){let s=n+i>>1;this.lineStarts[s]<e?n=s+1:i=s}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};let r=this.lineStarts[n-1];return{line:n,col:e-r+1}}}};xA.LineCounter=vv});var Dv=F(RA=>{"use strict";var JH=require("node:process"),EA=Uf(),XH=Cv();function Do(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function kA(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function PA(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Bf(t){switch(t.type){case"document":return t.start;case"block-map":{let e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function xa(t){if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}function FA(t){if(t.start.type==="flow-seq-start")for(let e of t.items)e.sep&&!e.value&&!Do(e.start,"explicit-key-ind")&&!Do(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,PA(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}var bv=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new XH.Lexer,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let i of this.lexer.lex(e,n))yield*this.next(i);n||(yield*this.end())}*next(e){if(this.source=e,JH.env.LOG_TOKENS&&console.log("|",EA.prettyToken(e)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}let n=EA.tokenType(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{let i=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:i,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){let n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{let i=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in i?i.indent:0:n.type==="flow-collection"&&i.type==="document"&&(n.indent=0),n.type==="flow-collection"&&FA(n),i.type){case"document":i.value=n;break;case"block-scalar":i.props.push(n);break;case"block-map":{let r=i.items[i.items.length-1];if(r.value){i.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(r.sep)r.value=n;else{Object.assign(r,{key:n,sep:[]}),this.onKeyLine=!r.explicitKey;return}break}case"block-seq":{let r=i.items[i.items.length-1];r.value?i.items.push({start:[],value:n}):r.value=n;break}case"flow-collection":{let r=i.items[i.items.length-1];!r||r.value?i.items.push({start:[],key:n,sep:[]}):r.sep?r.value=n:Object.assign(r,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((i.type==="document"||i.type==="block-map"||i.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){let r=n.items[n.items.length-1];r&&!r.sep&&!r.value&&r.start.length>0&&kA(r.start)===-1&&(n.indent===0||r.start.every(s=>s.type!=="comment"||s.indent<n.indent))&&(i.type==="document"?i.end=r.start:i.items.push({start:r.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{kA(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}let n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){let n=Bf(this.peek(2)),i=xa(n),r;e.end?(r=e.end,r.push(this.sourceToken),delete e.end):r=[this.sourceToken];let s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){let n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){let i="end"in n.value?n.value.end:void 0;(Array.isArray(i)?i[i.length-1]:void 0)?.type==="comment"?i?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){let r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){let i=!this.onKeyLine&&this.indent===e.indent,r=i&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind",s=[];if(r&&n.sep&&!n.value){let o=[];for(let a=0;a<n.sep.length;++a){let c=n.sep[a];switch(c.type){case"newline":o.push(a);break;case"space":break;case"comment":c.indent>e.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(s=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":r||n.value?(s.push(this.sourceToken),e.items.push({start:s}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):r||n.value?(s.push(this.sourceToken),e.items.push({start:s,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Do(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(PA(n.key)&&!Do(n.sep,"newline")){let o=xa(n.start),a=n.key,c=n.sep;c.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:c}]})}else s.length>0?n.sep=n.sep.concat(s,this.sourceToken):n.sep.push(this.sourceToken);else if(Do(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{let o=xa(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||r?e.items.push({start:s,key:null,sep:[this.sourceToken]}):Do(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let o=this.flowScalar(this.type);r||n.value?(e.items.push({start:s,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{let o=this.startBlockValue(e);if(o){i&&o.type!=="block-seq"&&e.items.push({start:s}),this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){let n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){let i="end"in n.value?n.value.end:void 0;(Array.isArray(i)?i[i.length-1]:void 0)?.type==="comment"?i?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){let r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||Do(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){let i=this.startBlockValue(e);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){let n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let i;do yield*this.pop(),i=this.peek(1);while(i&&i.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let r=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:r,sep:[]}):n.sep?this.stack.push(r):Object.assign(n,{key:r,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}let i=this.startBlockValue(e);i?this.stack.push(i):(yield*this.pop(),yield*this.step())}else{let i=this.peek(2);if(i.type==="block-map"&&(this.type==="map-value-ind"&&i.indent===e.indent||this.type==="newline"&&!i.items[i.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&i.type!=="flow-collection"){let r=Bf(i),s=xa(r);FA(e);let o=e.end.splice(1,e.end.length);o.push(this.sourceToken);let a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let n=Bf(e),i=xa(n);return i.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let n=Bf(e),i=xa(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(i=>i.type==="newline"||i.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};RA.Parser=bv});var OA=F(Uu=>{"use strict";var AA=cv(),YH=Ru(),qu=_u(),QH=oC(),ZH=He(),e8=Sv(),IA=Dv();function _A(t){let e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new e8.LineCounter||null,prettyErrors:e}}function t8(t,e={}){let{lineCounter:n,prettyErrors:i}=_A(e),r=new IA.Parser(n?.addNewLine),s=new AA.Composer(e),o=Array.from(s.compose(r.parse(t)));if(i&&n)for(let a of o)a.errors.forEach(qu.prettifyError(t,n)),a.warnings.forEach(qu.prettifyError(t,n));return o.length>0?o:Object.assign([],{empty:!0},s.streamInfo())}function NA(t,e={}){let{lineCounter:n,prettyErrors:i}=_A(e),r=new IA.Parser(n?.addNewLine),s=new AA.Composer(e),o=null;for(let a of s.compose(r.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new qu.YAMLParseError(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return i&&n&&(o.errors.forEach(qu.prettifyError(t,n)),o.warnings.forEach(qu.prettifyError(t,n))),o}function n8(t,e,n){let i;typeof e=="function"?i=e:n===void 0&&e&&typeof e=="object"&&(n=e);let r=NA(t,n);if(!r)return null;if(r.warnings.forEach(s=>QH.warn(r.options.logLevel,s)),r.errors.length>0){if(r.options.logLevel!=="silent")throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:i},n))}function i8(t,e,n){let i=null;if(typeof e=="function"||Array.isArray(e)?i=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){let r=Math.round(n);n=r<1?void 0:r>8?{indent:8}:{indent:r}}if(t===void 0){let{keepUndefined:r}=n??e??{};if(!r)return}return ZH.isDocument(t)&&!i?t.toString(n):new YH.Document(t,i,n).toString(n)}Uu.parse=n8;Uu.parseAllDocuments=t8;Uu.parseDocument=NA;Uu.stringify=i8});var MA=F(at=>{"use strict";var r8=cv(),s8=Ru(),o8=WC(),Tv=_u(),a8=pu(),Ss=He(),c8=ms(),u8=Xt(),l8=Cs(),d8=vs(),f8=Uf(),p8=Cv(),h8=Sv(),g8=Dv(),Wf=OA(),LA=uu();at.Composer=r8.Composer;at.Document=s8.Document;at.Schema=o8.Schema;at.YAMLError=Tv.YAMLError;at.YAMLParseError=Tv.YAMLParseError;at.YAMLWarning=Tv.YAMLWarning;at.Alias=a8.Alias;at.isAlias=Ss.isAlias;at.isCollection=Ss.isCollection;at.isDocument=Ss.isDocument;at.isMap=Ss.isMap;at.isNode=Ss.isNode;at.isPair=Ss.isPair;at.isScalar=Ss.isScalar;at.isSeq=Ss.isSeq;at.Pair=c8.Pair;at.Scalar=u8.Scalar;at.YAMLMap=l8.YAMLMap;at.YAMLSeq=d8.YAMLSeq;at.CST=f8;at.Lexer=p8.Lexer;at.LineCounter=h8.LineCounter;at.Parser=g8.Parser;at.parse=Wf.parse;at.parseAllDocuments=Wf.parseAllDocuments;at.parseDocument=Wf.parseDocument;at.stringify=Wf.stringify;at.visit=LA.visit;at.visitAsync=LA.visitAsync});var qi=F(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.asPromise=Wt.thenable=Wt.typedArray=Wt.stringArray=Wt.array=Wt.func=Wt.error=Wt.number=Wt.string=Wt.boolean=void 0;function K8(t){return t===!0||t===!1}Wt.boolean=K8;function GA(t){return typeof t=="string"||t instanceof String}Wt.string=GA;function $8(t){return typeof t=="number"||t instanceof Number}Wt.number=$8;function V8(t){return t instanceof Error}Wt.error=V8;function JA(t){return typeof t=="function"}Wt.func=JA;function XA(t){return Array.isArray(t)}Wt.array=XA;function H8(t){return XA(t)&&t.every(e=>GA(e))}Wt.stringArray=H8;function z8(t,e){return Array.isArray(t)&&t.every(e)}Wt.typedArray=z8;function YA(t){return t&&JA(t.then)}Wt.thenable=YA;function G8(t){return t instanceof Promise?t:YA(t)?new Promise((e,n)=>{t.then(i=>e(i),i=>n(i))}):Promise.resolve(t)}Wt.asPromise=G8});var Fa=F(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.stringArray=xn.array=xn.func=xn.error=xn.number=xn.string=xn.boolean=void 0;function J8(t){return t===!0||t===!1}xn.boolean=J8;function QA(t){return typeof t=="string"||t instanceof String}xn.string=QA;function X8(t){return typeof t=="number"||t instanceof Number}xn.number=X8;function Y8(t){return t instanceof Error}xn.error=Y8;function Q8(t){return typeof t=="function"}xn.func=Q8;function ZA(t){return Array.isArray(t)}xn.array=ZA;function Z8(t){return ZA(t)&&t.every(e=>QA(e))}xn.stringArray=Z8});var cS=F(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.Message=ye.NotificationType9=ye.NotificationType8=ye.NotificationType7=ye.NotificationType6=ye.NotificationType5=ye.NotificationType4=ye.NotificationType3=ye.NotificationType2=ye.NotificationType1=ye.NotificationType0=ye.NotificationType=ye.RequestType9=ye.RequestType8=ye.RequestType7=ye.RequestType6=ye.RequestType5=ye.RequestType4=ye.RequestType3=ye.RequestType2=ye.RequestType1=ye.RequestType=ye.RequestType0=ye.AbstractMessageSignature=ye.ParameterStructures=ye.ResponseError=ye.ErrorCodes=void 0;var To=Fa(),qv;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(qv||(ye.ErrorCodes=qv={}));var Uv=class t extends Error{constructor(e,n,i){super(n),this.code=To.number(e)?e:qv.UnknownErrorCode,this.data=i,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};ye.ResponseError=Uv;var ii=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};ye.ParameterStructures=ii;ii.auto=new ii("auto");ii.byPosition=new ii("byPosition");ii.byName=new ii("byName");var yt=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return ii.auto}};ye.AbstractMessageSignature=yt;var jv=class extends yt{constructor(e){super(e,0)}};ye.RequestType0=jv;var Bv=class extends yt{constructor(e,n=ii.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ye.RequestType=Bv;var Wv=class extends yt{constructor(e,n=ii.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ye.RequestType1=Wv;var Kv=class extends yt{constructor(e){super(e,2)}};ye.RequestType2=Kv;var $v=class extends yt{constructor(e){super(e,3)}};ye.RequestType3=$v;var Vv=class extends yt{constructor(e){super(e,4)}};ye.RequestType4=Vv;var Hv=class extends yt{constructor(e){super(e,5)}};ye.RequestType5=Hv;var zv=class extends yt{constructor(e){super(e,6)}};ye.RequestType6=zv;var Gv=class extends yt{constructor(e){super(e,7)}};ye.RequestType7=Gv;var Jv=class extends yt{constructor(e){super(e,8)}};ye.RequestType8=Jv;var Xv=class extends yt{constructor(e){super(e,9)}};ye.RequestType9=Xv;var Yv=class extends yt{constructor(e,n=ii.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ye.NotificationType=Yv;var Qv=class extends yt{constructor(e){super(e,0)}};ye.NotificationType0=Qv;var Zv=class extends yt{constructor(e,n=ii.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ye.NotificationType1=Zv;var eS=class extends yt{constructor(e){super(e,2)}};ye.NotificationType2=eS;var tS=class extends yt{constructor(e){super(e,3)}};ye.NotificationType3=tS;var nS=class extends yt{constructor(e){super(e,4)}};ye.NotificationType4=nS;var iS=class extends yt{constructor(e){super(e,5)}};ye.NotificationType5=iS;var rS=class extends yt{constructor(e){super(e,6)}};ye.NotificationType6=rS;var sS=class extends yt{constructor(e){super(e,7)}};ye.NotificationType7=sS;var oS=class extends yt{constructor(e){super(e,8)}};ye.NotificationType8=oS;var aS=class extends yt{constructor(e){super(e,9)}};ye.NotificationType9=aS;var eI;(function(t){function e(r){let s=r;return s&&To.string(s.method)&&(To.string(s.id)||To.number(s.id))}t.isRequest=e;function n(r){let s=r;return s&&To.string(s.method)&&r.id===void 0}t.isNotification=n;function i(r){let s=r;return s&&(s.result!==void 0||!!s.error)&&(To.string(s.id)||To.number(s.id)||s.id===null)}t.isResponse=i})(eI||(ye.Message=eI={}))});var lS=F(Ts=>{"use strict";var tI;Object.defineProperty(Ts,"__esModule",{value:!0});Ts.LRUCache=Ts.LinkedMap=Ts.Touch=void 0;var En;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(En||(Ts.Touch=En={}));var Qf=class{constructor(){this[tI]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=En.None){let i=this._map.get(e);if(i)return n!==En.None&&this.touch(i,n),i.value}set(e,n,i=En.None){let r=this._map.get(e);if(r)r.value=n,i!==En.None&&this.touch(r,i);else{switch(r={key:e,value:n,next:void 0,previous:void 0},i){case En.None:this.addItemLast(r);break;case En.First:this.addItemFirst(r);break;case En.Last:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(e,r),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let i=this._state,r=this._head;for(;r;){if(n?e.bind(n)(r.value,r.key,this):e(r.value,r.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:n.key,done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}values(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:n.value,done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}entries(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:[n.key,n.value],done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}[(tI=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,i=this.size;for(;n&&i>e;)this._map.delete(n.key),n=n.next,i--;this._head=n,this._size=i,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,i=e.previous;if(!n||!i)throw new Error("Invalid list");n.previous=i,i.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==En.First&&n!==En.Last)){if(n===En.First){if(e===this._head)return;let i=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(i.previous=r,r.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===En.Last){if(e===this._tail)return;let i=e.next,r=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=r,r.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,i)=>{e.push([i,n])}),e}fromJSON(e){this.clear();for(let[n,i]of e)this.set(n,i)}};Ts.LinkedMap=Qf;var uS=class extends Qf{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=En.AsNew){return super.get(e,n)}peek(e){return super.get(e,En.None)}set(e,n){return super.set(e,n,En.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Ts.LRUCache=uS});var iI=F(Zf=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});Zf.Disposable=void 0;var nI;(function(t){function e(n){return{dispose:n}}t.create=e})(nI||(Zf.Disposable=nI={}))});var ws=F(pS=>{"use strict";Object.defineProperty(pS,"__esModule",{value:!0});var dS;function fS(){if(dS===void 0)throw new Error("No runtime abstraction layer installed");return dS}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");dS=n}t.install=e})(fS||(fS={}));pS.default=fS});var Ra=F(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.Emitter=Pa.Event=void 0;var ez=ws(),rI;(function(t){let e={dispose(){}};t.None=function(){return e}})(rI||(Pa.Event=rI={}));var hS=class{add(e,n=null,i){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(i)&&i.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let i=!1;for(let r=0,s=this._callbacks.length;r<s;r++)if(this._callbacks[r]===e)if(this._contexts[r]===n){this._callbacks.splice(r,1),this._contexts.splice(r,1);return}else i=!0;if(i)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],i=this._callbacks.slice(0),r=this._contexts.slice(0);for(let s=0,o=i.length;s<o;s++)try{n.push(i[s].apply(r[s],e))}catch(a){(0,ez.default)().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},ep=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,i)=>{this._callbacks||(this._callbacks=new hS),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),r.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(i)&&i.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Pa.Emitter=ep;ep._noop=function(){}});var ip=F(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.CancellationTokenSource=Aa.CancellationToken=void 0;var tz=ws(),nz=Fa(),gS=Ra(),tp;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:gS.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:gS.Event.None});function e(n){let i=n;return i&&(i===t.None||i===t.Cancelled||nz.boolean(i.isCancellationRequested)&&!!i.onCancellationRequested)}t.is=e})(tp||(Aa.CancellationToken=tp={}));var iz=Object.freeze(function(t,e){let n=(0,tz.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}}),np=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?iz:(this._emitter||(this._emitter=new gS.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},mS=class{get token(){return this._token||(this._token=new np),this._token}cancel(){this._token?this._token.cancel():this._token=tp.Cancelled}dispose(){this._token?this._token instanceof np&&this._token.dispose():this._token=tp.None}};Aa.CancellationTokenSource=mS});var sI=F(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.SharedArrayReceiverStrategy=Ia.SharedArraySenderStrategy=void 0;var rz=ip(),$u;(function(t){t.Continue=0,t.Cancelled=1})($u||($u={}));var yS=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let n=new SharedArrayBuffer(4),i=new Int32Array(n,0,1);i[0]=$u.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){let i=this.buffers.get(n);if(i===void 0)return;let r=new Int32Array(i,0,1);Atomics.store(r,0,$u.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};Ia.SharedArraySenderStrategy=yS;var CS=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===$u.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},vS=class{constructor(e){this.token=new CS(e)}cancel(){}dispose(){}},SS=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let n=e.$cancellationData;return n===void 0?new rz.CancellationTokenSource:new vS(n)}};Ia.SharedArrayReceiverStrategy=SS});var DS=F(rp=>{"use strict";Object.defineProperty(rp,"__esModule",{value:!0});rp.Semaphore=void 0;var sz=ws(),bS=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,i)=>{this._waiting.push({thunk:e,resolve:n,reject:i}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,sz.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(i=>{this._active--,e.resolve(i),this.runNext()},i=>{this._active--,e.reject(i),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};rp.Semaphore=bS});var aI=F(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.ReadableStreamMessageReader=xs.AbstractMessageReader=xs.MessageReader=void 0;var wS=ws(),_a=Fa(),TS=Ra(),oz=DS(),oI;(function(t){function e(n){let i=n;return i&&_a.func(i.listen)&&_a.func(i.dispose)&&_a.func(i.onError)&&_a.func(i.onClose)&&_a.func(i.onPartialMessage)}t.is=e})(oI||(xs.MessageReader=oI={}));var sp=class{constructor(){this.errorEmitter=new TS.Emitter,this.closeEmitter=new TS.Emitter,this.partialMessageEmitter=new TS.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${_a.string(e.message)?e.message:"unknown"}`)}};xs.AbstractMessageReader=sp;var xS;(function(t){function e(n){let i,r,s,o=new Map,a,c=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=n.charset??"utf-8",n.contentDecoder!==void 0&&(s=n.contentDecoder,o.set(s.name,s)),n.contentDecoders!==void 0)for(let u of n.contentDecoders)o.set(u.name,u);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,c.set(a.name,a)),n.contentTypeDecoders!==void 0)for(let u of n.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,wS.default)().applicationJson.decoder,c.set(a.name,a)),{charset:i,contentDecoder:s,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:c}}t.fromOptions=e})(xS||(xS={}));var ES=class extends sp{constructor(e,n){super(),this.readable=e,this.options=xS.fromOptions(n),this.buffer=(0,wS.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new oz.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(i=>{this.onData(i)});return this.readable.onError(i=>this.fireError(i)),this.readable.onClose(()=>this.fireClose()),n}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders(!0);if(!i)return;let r=i.get("content-length");if(!r){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(i))}`));return}let s=parseInt(r);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${r}`));return}this.nextMessageLength=s}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let i=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,r=await this.options.contentTypeDecoder.decode(i,this.options);this.callback(r)}).catch(i=>{this.fireError(i)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,wS.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};xs.ReadableStreamMessageReader=ES});var fI=F(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.WriteableStreamMessageWriter=Es.AbstractMessageWriter=Es.MessageWriter=void 0;var cI=ws(),Vu=Fa(),az=DS(),uI=Ra(),cz="Content-Length: ",lI=`\r
`,dI;(function(t){function e(n){let i=n;return i&&Vu.func(i.dispose)&&Vu.func(i.onClose)&&Vu.func(i.onError)&&Vu.func(i.write)}t.is=e})(dI||(Es.MessageWriter=dI={}));var op=class{constructor(){this.errorEmitter=new uI.Emitter,this.closeEmitter=new uI.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,i){this.errorEmitter.fire([this.asError(e),n,i])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Vu.string(e.message)?e.message:"unknown"}`)}};Es.AbstractMessageWriter=op;var kS;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,cI.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,cI.default)().applicationJson.encoder}}t.fromOptions=e})(kS||(kS={}));var FS=class extends op{constructor(e,n){super(),this.writable=e,this.options=kS.fromOptions(n),this.errorCount=0,this.writeSemaphore=new az.Semaphore(1),this.writable.onError(i=>this.fireError(i)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(i=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(i):i).then(i=>{let r=[];return r.push(cz,i.byteLength.toString(),lI),r.push(lI),this.doWrite(e,r,i)},i=>{throw this.fireError(i),i}))}async doWrite(e,n,i){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(i)}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Es.WriteableStreamMessageWriter=FS});var pI=F(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.AbstractMessageBuffer=void 0;var uz=13,lz=10,dz=`\r
`,PS=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,i=0,r=0,s=0;e:for(;i<this._chunks.length;){let u=this._chunks[i];for(r=0;r<u.length;){switch(u[r]){case uz:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case lz:switch(n){case 1:n=2;break;case 3:n=4,r++;break e;default:n=0}break;default:n=0}r++}s+=u.byteLength,i++}if(n!==4)return;let o=this._read(s+r),a=new Map,c=this.toString(o,"ascii").split(dz);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let f=c[u],g=f.indexOf(":");if(g===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let p=f.substr(0,g),l=f.substr(g+1).trim();a.set(e?p.toLowerCase():p,l)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let n=this.allocNative(e),i=0,r=0;for(;e>0;){let s=this._chunks[r];if(s.byteLength>e){let o=s.slice(0,e);n.set(o,i),i+=e,this._chunks[r]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,i),i+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};ap.AbstractMessageBuffer=PS});var CI=F(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.createMessageConnection=Ae.ConnectionOptions=Ae.MessageStrategy=Ae.CancellationStrategy=Ae.CancellationSenderStrategy=Ae.CancellationReceiverStrategy=Ae.RequestCancellationReceiverStrategy=Ae.IdCancellationReceiverStrategy=Ae.ConnectionStrategy=Ae.ConnectionError=Ae.ConnectionErrors=Ae.LogTraceNotification=Ae.SetTraceNotification=Ae.TraceFormat=Ae.TraceValues=Ae.Trace=Ae.NullLogger=Ae.ProgressType=Ae.ProgressToken=void 0;var hI=ws(),It=Fa(),Te=cS(),gI=lS(),Hu=Ra(),RS=ip(),Ju;(function(t){t.type=new Te.NotificationType("$/cancelRequest")})(Ju||(Ju={}));var AS;(function(t){function e(n){return typeof n=="string"||typeof n=="number"}t.is=e})(AS||(Ae.ProgressToken=AS={}));var zu;(function(t){t.type=new Te.NotificationType("$/progress")})(zu||(zu={}));var IS=class{constructor(){}};Ae.ProgressType=IS;var _S;(function(t){function e(n){return It.func(n)}t.is=e})(_S||(_S={}));Ae.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var tt;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(tt||(Ae.Trace=tt={}));var mI;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(mI||(Ae.TraceValues=mI={}));(function(t){function e(i){if(!It.string(i))return t.Off;switch(i=i.toLowerCase(),i){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(i){switch(i){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(tt||(Ae.Trace=tt={}));var vi;(function(t){t.Text="text",t.JSON="json"})(vi||(Ae.TraceFormat=vi={}));(function(t){function e(n){return It.string(n)?(n=n.toLowerCase(),n==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(vi||(Ae.TraceFormat=vi={}));var NS;(function(t){t.type=new Te.NotificationType("$/setTrace")})(NS||(Ae.SetTraceNotification=NS={}));var cp;(function(t){t.type=new Te.NotificationType("$/logTrace")})(cp||(Ae.LogTraceNotification=cp={}));var Gu;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Gu||(Ae.ConnectionErrors=Gu={}));var Na=class t extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,t.prototype)}};Ae.ConnectionError=Na;var OS;(function(t){function e(n){let i=n;return i&&It.func(i.cancelUndispatched)}t.is=e})(OS||(Ae.ConnectionStrategy=OS={}));var up;(function(t){function e(n){let i=n;return i&&(i.kind===void 0||i.kind==="id")&&It.func(i.createCancellationTokenSource)&&(i.dispose===void 0||It.func(i.dispose))}t.is=e})(up||(Ae.IdCancellationReceiverStrategy=up={}));var LS;(function(t){function e(n){let i=n;return i&&i.kind==="request"&&It.func(i.createCancellationTokenSource)&&(i.dispose===void 0||It.func(i.dispose))}t.is=e})(LS||(Ae.RequestCancellationReceiverStrategy=LS={}));var lp;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new RS.CancellationTokenSource}});function e(n){return up.is(n)||LS.is(n)}t.is=e})(lp||(Ae.CancellationReceiverStrategy=lp={}));var dp;(function(t){t.Message=Object.freeze({sendCancellation(n,i){return n.sendNotification(Ju.type,{id:i})},cleanup(n){}});function e(n){let i=n;return i&&It.func(i.sendCancellation)&&It.func(i.cleanup)}t.is=e})(dp||(Ae.CancellationSenderStrategy=dp={}));var fp;(function(t){t.Message=Object.freeze({receiver:lp.Message,sender:dp.Message});function e(n){let i=n;return i&&lp.is(i.receiver)&&dp.is(i.sender)}t.is=e})(fp||(Ae.CancellationStrategy=fp={}));var pp;(function(t){function e(n){let i=n;return i&&It.func(i.handleMessage)}t.is=e})(pp||(Ae.MessageStrategy=pp={}));var yI;(function(t){function e(n){let i=n;return i&&(fp.is(i.cancellationStrategy)||OS.is(i.connectionStrategy)||pp.is(i.messageStrategy))}t.is=e})(yI||(Ae.ConnectionOptions=yI={}));var nr;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(nr||(nr={}));function fz(t,e,n,i){let r=n!==void 0?n:Ae.NullLogger,s=0,o=0,a=0,c="2.0",u,f=new Map,g,p=new Map,l=new Map,d,h=new gI.LinkedMap,m=new Map,C=new Set,D=new Map,w=tt.Off,k=vi.Text,A,B=nr.New,W=new Hu.Emitter,U=new Hu.Emitter,ee=new Hu.Emitter,Z=new Hu.Emitter,H=new Hu.Emitter,M=i&&i.cancellationStrategy?i.cancellationStrategy:fp.Message;function V(v){if(v===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+v.toString()}function Q(v){return v===null?"res-unknown-"+(++a).toString():"res-"+v.toString()}function he(){return"not-"+(++o).toString()}function de(v,P){Te.Message.isRequest(P)?v.set(V(P.id),P):Te.Message.isResponse(P)?v.set(Q(P.id),P):v.set(he(),P)}function ge(v){}function Ge(){return B===nr.Listening}function Ee(){return B===nr.Closed}function ke(){return B===nr.Disposed}function ht(){(B===nr.New||B===nr.Listening)&&(B=nr.Closed,U.fire(void 0))}function At(v){W.fire([v,void 0,void 0])}function tn(v){W.fire(v)}t.onClose(ht),t.onError(At),e.onClose(ht),e.onError(tn);function St(){d||h.size===0||(d=(0,hI.default)().timer.setImmediate(()=>{d=void 0,an()}))}function Jt(v){Te.Message.isRequest(v)?qn(v):Te.Message.isNotification(v)?jn(v):Te.Message.isResponse(v)?Un(v):Xn(v)}function an(){if(h.size===0)return;let v=h.shift();try{let P=i?.messageStrategy;pp.is(P)?P.handleMessage(v,Jt):Jt(v)}finally{St()}}let Jn=v=>{try{if(Te.Message.isNotification(v)&&v.method===Ju.type.method){let P=v.params.id,q=V(P),$=h.get(q);if(Te.Message.isRequest($)){let ue=i?.connectionStrategy,ve=ue&&ue.cancelUndispatched?ue.cancelUndispatched($,ge):void 0;if(ve&&(ve.error!==void 0||ve.result!==void 0)){h.delete(q),D.delete(P),ve.id=$.id,nn(ve,v.method,Date.now()),e.write(ve).catch(()=>r.error("Sending response for canceled message failed."));return}}let fe=D.get(P);if(fe!==void 0){fe.cancel(),cn(v);return}else C.add(P)}de(h,v)}finally{St()}};function qn(v){if(ke())return;function P(ie,pe,se){let N={jsonrpc:c,id:v.id};ie instanceof Te.ResponseError?N.error=ie.toJson():N.result=ie===void 0?null:ie,nn(N,pe,se),e.write(N).catch(()=>r.error("Sending response failed."))}function q(ie,pe,se){let N={jsonrpc:c,id:v.id,error:ie.toJson()};nn(N,pe,se),e.write(N).catch(()=>r.error("Sending response failed."))}function $(ie,pe,se){ie===void 0&&(ie=null);let N={jsonrpc:c,id:v.id,result:ie};nn(N,pe,se),e.write(N).catch(()=>r.error("Sending response failed."))}Ai(v);let fe=f.get(v.method),ue,ve;fe&&(ue=fe.type,ve=fe.handler);let Se=Date.now();if(ve||u){let ie=v.id??String(Date.now()),pe=up.is(M.receiver)?M.receiver.createCancellationTokenSource(ie):M.receiver.createCancellationTokenSource(v);v.id!==null&&C.has(v.id)&&pe.cancel(),v.id!==null&&D.set(ie,pe);try{let se;if(ve)if(v.params===void 0){if(ue!==void 0&&ue.numberOfParams!==0){q(new Te.ResponseError(Te.ErrorCodes.InvalidParams,`Request ${v.method} defines ${ue.numberOfParams} params but received none.`),v.method,Se);return}se=ve(pe.token)}else if(Array.isArray(v.params)){if(ue!==void 0&&ue.parameterStructures===Te.ParameterStructures.byName){q(new Te.ResponseError(Te.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by name but received parameters by position`),v.method,Se);return}se=ve(...v.params,pe.token)}else{if(ue!==void 0&&ue.parameterStructures===Te.ParameterStructures.byPosition){q(new Te.ResponseError(Te.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by position but received parameters by name`),v.method,Se);return}se=ve(v.params,pe.token)}else u&&(se=u(v.method,v.params,pe.token));let N=se;se?N.then?N.then(L=>{D.delete(ie),P(L,v.method,Se)},L=>{D.delete(ie),L instanceof Te.ResponseError?q(L,v.method,Se):L&&It.string(L.message)?q(new Te.ResponseError(Te.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${L.message}`),v.method,Se):q(new Te.ResponseError(Te.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,Se)}):(D.delete(ie),P(se,v.method,Se)):(D.delete(ie),$(se,v.method,Se))}catch(se){D.delete(ie),se instanceof Te.ResponseError?P(se,v.method,Se):se&&It.string(se.message)?q(new Te.ResponseError(Te.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${se.message}`),v.method,Se):q(new Te.ResponseError(Te.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,Se)}}else q(new Te.ResponseError(Te.ErrorCodes.MethodNotFound,`Unhandled method ${v.method}`),v.method,Se)}function Un(v){if(!ke())if(v.id===null)v.error?r.error(`Received response message without id: Error is: 
${JSON.stringify(v.error,void 0,4)}`):r.error("Received response message without id. No further error information provided.");else{let P=v.id,q=m.get(P);if(Yn(v,q),q!==void 0){m.delete(P);try{if(v.error){let $=v.error;q.reject(new Te.ResponseError($.code,$.message,$.data))}else if(v.result!==void 0)q.resolve(v.result);else throw new Error("Should never happen.")}catch($){$.message?r.error(`Response handler '${q.method}' failed with message: ${$.message}`):r.error(`Response handler '${q.method}' failed unexpectedly.`)}}}}function jn(v){if(ke())return;let P,q;if(v.method===Ju.type.method){let $=v.params.id;C.delete($),cn(v);return}else{let $=p.get(v.method);$&&(q=$.handler,P=$.type)}if(q||g)try{if(cn(v),q)if(v.params===void 0)P!==void 0&&P.numberOfParams!==0&&P.parameterStructures!==Te.ParameterStructures.byName&&r.error(`Notification ${v.method} defines ${P.numberOfParams} params but received none.`),q();else if(Array.isArray(v.params)){let $=v.params;v.method===zu.type.method&&$.length===2&&AS.is($[0])?q({token:$[0],value:$[1]}):(P!==void 0&&(P.parameterStructures===Te.ParameterStructures.byName&&r.error(`Notification ${v.method} defines parameters by name but received parameters by position`),P.numberOfParams!==v.params.length&&r.error(`Notification ${v.method} defines ${P.numberOfParams} params but received ${$.length} arguments`)),q(...$))}else P!==void 0&&P.parameterStructures===Te.ParameterStructures.byPosition&&r.error(`Notification ${v.method} defines parameters by position but received parameters by name`),q(v.params);else g&&g(v.method,v.params)}catch($){$.message?r.error(`Notification handler '${v.method}' failed with message: ${$.message}`):r.error(`Notification handler '${v.method}' failed unexpectedly.`)}else ee.fire(v)}function Xn(v){if(!v){r.error("Received empty message.");return}r.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(v,null,4)}`);let P=v;if(It.string(P.id)||It.number(P.id)){let q=P.id,$=m.get(q);$&&$.reject(new Error("The received response has neither a result nor an error property."))}}function Qe(v){if(v!=null)switch(w){case tt.Verbose:return JSON.stringify(v,null,4);case tt.Compact:return JSON.stringify(v);default:return}}function pi(v){if(!(w===tt.Off||!A))if(k===vi.Text){let P;(w===tt.Verbose||w===tt.Compact)&&v.params&&(P=`Params: ${Qe(v.params)}

`),A.log(`Sending request '${v.method} - (${v.id})'.`,P)}else ot("send-request",v)}function Bn(v){if(!(w===tt.Off||!A))if(k===vi.Text){let P;(w===tt.Verbose||w===tt.Compact)&&(v.params?P=`Params: ${Qe(v.params)}

`:P=`No parameters provided.

`),A.log(`Sending notification '${v.method}'.`,P)}else ot("send-notification",v)}function nn(v,P,q){if(!(w===tt.Off||!A))if(k===vi.Text){let $;(w===tt.Verbose||w===tt.Compact)&&(v.error&&v.error.data?$=`Error data: ${Qe(v.error.data)}

`:v.result?$=`Result: ${Qe(v.result)}

`:v.error===void 0&&($=`No result returned.

`)),A.log(`Sending response '${P} - (${v.id})'. Processing request took ${Date.now()-q}ms`,$)}else ot("send-response",v)}function Ai(v){if(!(w===tt.Off||!A))if(k===vi.Text){let P;(w===tt.Verbose||w===tt.Compact)&&v.params&&(P=`Params: ${Qe(v.params)}

`),A.log(`Received request '${v.method} - (${v.id})'.`,P)}else ot("receive-request",v)}function cn(v){if(!(w===tt.Off||!A||v.method===cp.type.method))if(k===vi.Text){let P;(w===tt.Verbose||w===tt.Compact)&&(v.params?P=`Params: ${Qe(v.params)}

`:P=`No parameters provided.

`),A.log(`Received notification '${v.method}'.`,P)}else ot("receive-notification",v)}function Yn(v,P){if(!(w===tt.Off||!A))if(k===vi.Text){let q;if((w===tt.Verbose||w===tt.Compact)&&(v.error&&v.error.data?q=`Error data: ${Qe(v.error.data)}

`:v.result?q=`Result: ${Qe(v.result)}

`:v.error===void 0&&(q=`No result returned.

`)),P){let $=v.error?` Request failed: ${v.error.message} (${v.error.code}).`:"";A.log(`Received response '${P.method} - (${v.id})' in ${Date.now()-P.timerStart}ms.${$}`,q)}else A.log(`Received response ${v.id} without active response promise.`,q)}else ot("receive-response",v)}function ot(v,P){if(!A||w===tt.Off)return;let q={isLSPMessage:!0,type:v,message:P,timestamp:Date.now()};A.log(q)}function bt(){if(Ee())throw new Na(Gu.Closed,"Connection is closed.");if(ke())throw new Na(Gu.Disposed,"Connection is disposed.")}function Vt(){if(Ge())throw new Na(Gu.AlreadyListening,"Connection is already listening")}function mn(){if(!Ge())throw new Error("Call listen() first.")}function Ut(v){return v===void 0?null:v}function Wn(v){if(v!==null)return v}function Qn(v){return v!=null&&!Array.isArray(v)&&typeof v=="object"}function yn(v,P){switch(v){case Te.ParameterStructures.auto:return Qn(P)?Wn(P):[Ut(P)];case Te.ParameterStructures.byName:if(!Qn(P))throw new Error("Received parameters by name but param is not an object literal.");return Wn(P);case Te.ParameterStructures.byPosition:return[Ut(P)];default:throw new Error(`Unknown parameter structure ${v.toString()}`)}}function Zn(v,P){let q,$=v.numberOfParams;switch($){case 0:q=void 0;break;case 1:q=yn(v.parameterStructures,P[0]);break;default:q=[];for(let fe=0;fe<P.length&&fe<$;fe++)q.push(Ut(P[fe]));if(P.length<$)for(let fe=P.length;fe<$;fe++)q.push(null);break}return q}let Dt={sendNotification:(v,...P)=>{bt();let q,$;if(It.string(v)){q=v;let ue=P[0],ve=0,Se=Te.ParameterStructures.auto;Te.ParameterStructures.is(ue)&&(ve=1,Se=ue);let ie=P.length,pe=ie-ve;switch(pe){case 0:$=void 0;break;case 1:$=yn(Se,P[ve]);break;default:if(Se===Te.ParameterStructures.byName)throw new Error(`Received ${pe} parameters for 'by Name' notification parameter structure.`);$=P.slice(ve,ie).map(se=>Ut(se));break}}else{let ue=P;q=v.method,$=Zn(v,ue)}let fe={jsonrpc:c,method:q,params:$};return Bn(fe),e.write(fe).catch(ue=>{throw r.error("Sending notification failed."),ue})},onNotification:(v,P)=>{bt();let q;return It.func(v)?g=v:P&&(It.string(v)?(q=v,p.set(v,{type:void 0,handler:P})):(q=v.method,p.set(v.method,{type:v,handler:P}))),{dispose:()=>{q!==void 0?p.delete(q):g=void 0}}},onProgress:(v,P,q)=>{if(l.has(P))throw new Error(`Progress handler for token ${P} already registered`);return l.set(P,q),{dispose:()=>{l.delete(P)}}},sendProgress:(v,P,q)=>Dt.sendNotification(zu.type,{token:P,value:q}),onUnhandledProgress:Z.event,sendRequest:(v,...P)=>{bt(),mn();let q,$,fe;if(It.string(v)){q=v;let ie=P[0],pe=P[P.length-1],se=0,N=Te.ParameterStructures.auto;Te.ParameterStructures.is(ie)&&(se=1,N=ie);let L=P.length;RS.CancellationToken.is(pe)&&(L=L-1,fe=pe);let J=L-se;switch(J){case 0:$=void 0;break;case 1:$=yn(N,P[se]);break;default:if(N===Te.ParameterStructures.byName)throw new Error(`Received ${J} parameters for 'by Name' request parameter structure.`);$=P.slice(se,L).map(be=>Ut(be));break}}else{let ie=P;q=v.method,$=Zn(v,ie);let pe=v.numberOfParams;fe=RS.CancellationToken.is(ie[pe])?ie[pe]:void 0}let ue=s++,ve;fe&&(ve=fe.onCancellationRequested(()=>{let ie=M.sender.sendCancellation(Dt,ue);return ie===void 0?(r.log(`Received no promise from cancellation strategy when cancelling id ${ue}`),Promise.resolve()):ie.catch(()=>{r.log(`Sending cancellation messages for id ${ue} failed`)})}));let Se={jsonrpc:c,id:ue,method:q,params:$};return pi(Se),typeof M.sender.enableCancellation=="function"&&M.sender.enableCancellation(Se),new Promise(async(ie,pe)=>{let se=J=>{ie(J),M.sender.cleanup(ue),ve?.dispose()},N=J=>{pe(J),M.sender.cleanup(ue),ve?.dispose()},L={method:q,timerStart:Date.now(),resolve:se,reject:N};try{await e.write(Se),m.set(ue,L)}catch(J){throw r.error("Sending request failed."),L.reject(new Te.ResponseError(Te.ErrorCodes.MessageWriteError,J.message?J.message:"Unknown reason")),J}})},onRequest:(v,P)=>{bt();let q=null;return _S.is(v)?(q=void 0,u=v):It.string(v)?(q=null,P!==void 0&&(q=v,f.set(v,{handler:P,type:void 0}))):P!==void 0&&(q=v.method,f.set(v.method,{type:v,handler:P})),{dispose:()=>{q!==null&&(q!==void 0?f.delete(q):u=void 0)}}},hasPendingResponse:()=>m.size>0,trace:async(v,P,q)=>{let $=!1,fe=vi.Text;q!==void 0&&(It.boolean(q)?$=q:($=q.sendNotification||!1,fe=q.traceFormat||vi.Text)),w=v,k=fe,w===tt.Off?A=void 0:A=P,$&&!Ee()&&!ke()&&await Dt.sendNotification(NS.type,{value:tt.toString(v)})},onError:W.event,onClose:U.event,onUnhandledNotification:ee.event,onDispose:H.event,end:()=>{e.end()},dispose:()=>{if(ke())return;B=nr.Disposed,H.fire(void 0);let v=new Te.ResponseError(Te.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let P of m.values())P.reject(v);m=new Map,D=new Map,C=new Set,h=new gI.LinkedMap,It.func(e.dispose)&&e.dispose(),It.func(t.dispose)&&t.dispose()},listen:()=>{bt(),Vt(),B=nr.Listening,t.listen(Jn)},inspect:()=>{(0,hI.default)().console.log("inspect")}};return Dt.onNotification(cp.type,v=>{if(w===tt.Off||!A)return;let P=w===tt.Verbose||w===tt.Compact;A.log(v.message,P?v.verbose:void 0)}),Dt.onNotification(zu.type,v=>{let P=l.get(v.token);P?P(v.value):Z.fire(v)}),Dt}Ae.createMessageConnection=fz});var hp=F(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.ProgressType=z.ProgressToken=z.createMessageConnection=z.NullLogger=z.ConnectionOptions=z.ConnectionStrategy=z.AbstractMessageBuffer=z.WriteableStreamMessageWriter=z.AbstractMessageWriter=z.MessageWriter=z.ReadableStreamMessageReader=z.AbstractMessageReader=z.MessageReader=z.SharedArrayReceiverStrategy=z.SharedArraySenderStrategy=z.CancellationToken=z.CancellationTokenSource=z.Emitter=z.Event=z.Disposable=z.LRUCache=z.Touch=z.LinkedMap=z.ParameterStructures=z.NotificationType9=z.NotificationType8=z.NotificationType7=z.NotificationType6=z.NotificationType5=z.NotificationType4=z.NotificationType3=z.NotificationType2=z.NotificationType1=z.NotificationType0=z.NotificationType=z.ErrorCodes=z.ResponseError=z.RequestType9=z.RequestType8=z.RequestType7=z.RequestType6=z.RequestType5=z.RequestType4=z.RequestType3=z.RequestType2=z.RequestType1=z.RequestType0=z.RequestType=z.Message=z.RAL=void 0;z.MessageStrategy=z.CancellationStrategy=z.CancellationSenderStrategy=z.CancellationReceiverStrategy=z.ConnectionError=z.ConnectionErrors=z.LogTraceNotification=z.SetTraceNotification=z.TraceFormat=z.TraceValues=z.Trace=void 0;var gt=cS();Object.defineProperty(z,"Message",{enumerable:!0,get:function(){return gt.Message}});Object.defineProperty(z,"RequestType",{enumerable:!0,get:function(){return gt.RequestType}});Object.defineProperty(z,"RequestType0",{enumerable:!0,get:function(){return gt.RequestType0}});Object.defineProperty(z,"RequestType1",{enumerable:!0,get:function(){return gt.RequestType1}});Object.defineProperty(z,"RequestType2",{enumerable:!0,get:function(){return gt.RequestType2}});Object.defineProperty(z,"RequestType3",{enumerable:!0,get:function(){return gt.RequestType3}});Object.defineProperty(z,"RequestType4",{enumerable:!0,get:function(){return gt.RequestType4}});Object.defineProperty(z,"RequestType5",{enumerable:!0,get:function(){return gt.RequestType5}});Object.defineProperty(z,"RequestType6",{enumerable:!0,get:function(){return gt.RequestType6}});Object.defineProperty(z,"RequestType7",{enumerable:!0,get:function(){return gt.RequestType7}});Object.defineProperty(z,"RequestType8",{enumerable:!0,get:function(){return gt.RequestType8}});Object.defineProperty(z,"RequestType9",{enumerable:!0,get:function(){return gt.RequestType9}});Object.defineProperty(z,"ResponseError",{enumerable:!0,get:function(){return gt.ResponseError}});Object.defineProperty(z,"ErrorCodes",{enumerable:!0,get:function(){return gt.ErrorCodes}});Object.defineProperty(z,"NotificationType",{enumerable:!0,get:function(){return gt.NotificationType}});Object.defineProperty(z,"NotificationType0",{enumerable:!0,get:function(){return gt.NotificationType0}});Object.defineProperty(z,"NotificationType1",{enumerable:!0,get:function(){return gt.NotificationType1}});Object.defineProperty(z,"NotificationType2",{enumerable:!0,get:function(){return gt.NotificationType2}});Object.defineProperty(z,"NotificationType3",{enumerable:!0,get:function(){return gt.NotificationType3}});Object.defineProperty(z,"NotificationType4",{enumerable:!0,get:function(){return gt.NotificationType4}});Object.defineProperty(z,"NotificationType5",{enumerable:!0,get:function(){return gt.NotificationType5}});Object.defineProperty(z,"NotificationType6",{enumerable:!0,get:function(){return gt.NotificationType6}});Object.defineProperty(z,"NotificationType7",{enumerable:!0,get:function(){return gt.NotificationType7}});Object.defineProperty(z,"NotificationType8",{enumerable:!0,get:function(){return gt.NotificationType8}});Object.defineProperty(z,"NotificationType9",{enumerable:!0,get:function(){return gt.NotificationType9}});Object.defineProperty(z,"ParameterStructures",{enumerable:!0,get:function(){return gt.ParameterStructures}});var MS=lS();Object.defineProperty(z,"LinkedMap",{enumerable:!0,get:function(){return MS.LinkedMap}});Object.defineProperty(z,"LRUCache",{enumerable:!0,get:function(){return MS.LRUCache}});Object.defineProperty(z,"Touch",{enumerable:!0,get:function(){return MS.Touch}});var pz=iI();Object.defineProperty(z,"Disposable",{enumerable:!0,get:function(){return pz.Disposable}});var vI=Ra();Object.defineProperty(z,"Event",{enumerable:!0,get:function(){return vI.Event}});Object.defineProperty(z,"Emitter",{enumerable:!0,get:function(){return vI.Emitter}});var SI=ip();Object.defineProperty(z,"CancellationTokenSource",{enumerable:!0,get:function(){return SI.CancellationTokenSource}});Object.defineProperty(z,"CancellationToken",{enumerable:!0,get:function(){return SI.CancellationToken}});var bI=sI();Object.defineProperty(z,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return bI.SharedArraySenderStrategy}});Object.defineProperty(z,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return bI.SharedArrayReceiverStrategy}});var qS=aI();Object.defineProperty(z,"MessageReader",{enumerable:!0,get:function(){return qS.MessageReader}});Object.defineProperty(z,"AbstractMessageReader",{enumerable:!0,get:function(){return qS.AbstractMessageReader}});Object.defineProperty(z,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return qS.ReadableStreamMessageReader}});var US=fI();Object.defineProperty(z,"MessageWriter",{enumerable:!0,get:function(){return US.MessageWriter}});Object.defineProperty(z,"AbstractMessageWriter",{enumerable:!0,get:function(){return US.AbstractMessageWriter}});Object.defineProperty(z,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return US.WriteableStreamMessageWriter}});var hz=pI();Object.defineProperty(z,"AbstractMessageBuffer",{enumerable:!0,get:function(){return hz.AbstractMessageBuffer}});var bn=CI();Object.defineProperty(z,"ConnectionStrategy",{enumerable:!0,get:function(){return bn.ConnectionStrategy}});Object.defineProperty(z,"ConnectionOptions",{enumerable:!0,get:function(){return bn.ConnectionOptions}});Object.defineProperty(z,"NullLogger",{enumerable:!0,get:function(){return bn.NullLogger}});Object.defineProperty(z,"createMessageConnection",{enumerable:!0,get:function(){return bn.createMessageConnection}});Object.defineProperty(z,"ProgressToken",{enumerable:!0,get:function(){return bn.ProgressToken}});Object.defineProperty(z,"ProgressType",{enumerable:!0,get:function(){return bn.ProgressType}});Object.defineProperty(z,"Trace",{enumerable:!0,get:function(){return bn.Trace}});Object.defineProperty(z,"TraceValues",{enumerable:!0,get:function(){return bn.TraceValues}});Object.defineProperty(z,"TraceFormat",{enumerable:!0,get:function(){return bn.TraceFormat}});Object.defineProperty(z,"SetTraceNotification",{enumerable:!0,get:function(){return bn.SetTraceNotification}});Object.defineProperty(z,"LogTraceNotification",{enumerable:!0,get:function(){return bn.LogTraceNotification}});Object.defineProperty(z,"ConnectionErrors",{enumerable:!0,get:function(){return bn.ConnectionErrors}});Object.defineProperty(z,"ConnectionError",{enumerable:!0,get:function(){return bn.ConnectionError}});Object.defineProperty(z,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return bn.CancellationReceiverStrategy}});Object.defineProperty(z,"CancellationSenderStrategy",{enumerable:!0,get:function(){return bn.CancellationSenderStrategy}});Object.defineProperty(z,"CancellationStrategy",{enumerable:!0,get:function(){return bn.CancellationStrategy}});Object.defineProperty(z,"MessageStrategy",{enumerable:!0,get:function(){return bn.MessageStrategy}});var gz=ws();z.RAL=gz.default});var wI=F(KS=>{"use strict";Object.defineProperty(KS,"__esModule",{value:!0});var DI=require("util"),Vr=hp(),gp=class t extends Vr.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new DI.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};gp.emptyBuffer=Buffer.allocUnsafe(0);var jS=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Vr.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Vr.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Vr.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Vr.Disposable.create(()=>this.stream.off("data",e))}},BS=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Vr.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Vr.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Vr.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((i,r)=>{let s=o=>{o==null?i():r(o)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},TI=Object.freeze({messageBuffer:Object.freeze({create:t=>new gp(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new DI.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new jS(t),asWritableStream:t=>new BS(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){let i=setTimeout(t,e,...n);return{dispose:()=>clearTimeout(i)}},setImmediate(t,...e){let n=setImmediate(t,...e);return{dispose:()=>clearImmediate(n)}},setInterval(t,e,...n){let i=setInterval(t,e,...n);return{dispose:()=>clearInterval(i)}}})});function WS(){return TI}(function(t){function e(){Vr.RAL.install(TI)}t.install=e})(WS||(WS={}));KS.default=WS});var Eo=F(Ke=>{"use strict";var mz=Ke&&Ke.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),yz=Ke&&Ke.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&mz(e,t,n)};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.createMessageConnection=Ke.createServerSocketTransport=Ke.createClientSocketTransport=Ke.createServerPipeTransport=Ke.createClientPipeTransport=Ke.generateRandomPipeName=Ke.StreamMessageWriter=Ke.StreamMessageReader=Ke.SocketMessageWriter=Ke.SocketMessageReader=Ke.PortMessageWriter=Ke.PortMessageReader=Ke.IPCMessageWriter=Ke.IPCMessageReader=void 0;var Oa=wI();Oa.default.install();var xI=require("path"),Cz=require("os"),vz=require("crypto"),Cp=require("net"),Si=hp();yz(hp(),Ke);var $S=class extends Si.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",i=>this.fireError(i)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Si.Disposable.create(()=>this.process.off("message",e))}};Ke.IPCMessageReader=$S;var VS=class extends Si.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",i=>this.fireError(i)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Ke.IPCMessageWriter=VS;var HS=class extends Si.AbstractMessageReader{constructor(e){super(),this.onData=new Si.Emitter,e.on("close",()=>this.fireClose),e.on("error",n=>this.fireError(n)),e.on("message",n=>{this.onData.fire(n)})}listen(e){return this.onData.event(e)}};Ke.PortMessageReader=HS;var zS=class extends Si.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",n=>this.fireError(n))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Ke.PortMessageWriter=zS;var wo=class extends Si.ReadableStreamMessageReader{constructor(e,n="utf-8"){super((0,Oa.default)().stream.asReadableStream(e),n)}};Ke.SocketMessageReader=wo;var xo=class extends Si.WriteableStreamMessageWriter{constructor(e,n){super((0,Oa.default)().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Ke.SocketMessageWriter=xo;var mp=class extends Si.ReadableStreamMessageReader{constructor(e,n){super((0,Oa.default)().stream.asReadableStream(e),n)}};Ke.StreamMessageReader=mp;var yp=class extends Si.WriteableStreamMessageWriter{constructor(e,n){super((0,Oa.default)().stream.asWritableStream(e),n)}};Ke.StreamMessageWriter=yp;var EI=process.env.XDG_RUNTIME_DIR,Sz=new Map([["linux",107],["darwin",103]]);function bz(){let t=(0,vz.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;EI?e=xI.join(EI,`vscode-ipc-${t}.sock`):e=xI.join(Cz.tmpdir(),`vscode-${t}.sock`);let n=Sz.get(process.platform);return n!==void 0&&e.length>n&&(0,Oa.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}Ke.generateRandomPipeName=bz;function Dz(t,e="utf-8"){let n,i=new Promise((r,s)=>{n=r});return new Promise((r,s)=>{let o=(0,Cp.createServer)(a=>{o.close(),n([new wo(a,e),new xo(a,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),r({onConnected:()=>i})})})}Ke.createClientPipeTransport=Dz;function Tz(t,e="utf-8"){let n=(0,Cp.createConnection)(t);return[new wo(n,e),new xo(n,e)]}Ke.createServerPipeTransport=Tz;function wz(t,e="utf-8"){let n,i=new Promise((r,s)=>{n=r});return new Promise((r,s)=>{let o=(0,Cp.createServer)(a=>{o.close(),n([new wo(a,e),new xo(a,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),r({onConnected:()=>i})})})}Ke.createClientSocketTransport=wz;function xz(t,e="utf-8"){let n=(0,Cp.createConnection)(t,"127.0.0.1");return[new wo(n,e),new xo(n,e)]}Ke.createServerSocketTransport=xz;function Ez(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function kz(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function Fz(t,e,n,i){n||(n=Si.NullLogger);let r=Ez(t)?new mp(t):t,s=kz(e)?new yp(e):e;return Si.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),(0,Si.createMessageConnection)(r,s,n,i)}Ke.createMessageConnection=Fz});var GS=F((ure,kI)=>{"use strict";kI.exports=Eo()});var Sp=F((FI,vp)=>{(function(t){if(typeof vp=="object"&&typeof vp.exports=="object"){var e=t(require,FI);e!==void 0&&(vp.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var n;(function(T){function R(I){return typeof I=="string"}T.is=R})(n||(e.DocumentUri=n={}));var i;(function(T){function R(I){return typeof I=="string"}T.is=R})(i||(e.URI=i={}));var r;(function(T){T.MIN_VALUE=-2147483648,T.MAX_VALUE=2147483647;function R(I){return typeof I=="number"&&T.MIN_VALUE<=I&&I<=T.MAX_VALUE}T.is=R})(r||(e.integer=r={}));var s;(function(T){T.MIN_VALUE=0,T.MAX_VALUE=2147483647;function R(I){return typeof I=="number"&&T.MIN_VALUE<=I&&I<=T.MAX_VALUE}T.is=R})(s||(e.uinteger=s={}));var o;(function(T){function R(x,S){return x===Number.MAX_VALUE&&(x=s.MAX_VALUE),S===Number.MAX_VALUE&&(S=s.MAX_VALUE),{line:x,character:S}}T.create=R;function I(x){var S=x;return O.objectLiteral(S)&&O.uinteger(S.line)&&O.uinteger(S.character)}T.is=I})(o||(e.Position=o={}));var a;(function(T){function R(x,S,j,X){if(O.uinteger(x)&&O.uinteger(S)&&O.uinteger(j)&&O.uinteger(X))return{start:o.create(x,S),end:o.create(j,X)};if(o.is(x)&&o.is(S))return{start:x,end:S};throw new Error("Range#create called with invalid arguments[".concat(x,", ").concat(S,", ").concat(j,", ").concat(X,"]"))}T.create=R;function I(x){var S=x;return O.objectLiteral(S)&&o.is(S.start)&&o.is(S.end)}T.is=I})(a||(e.Range=a={}));var c;(function(T){function R(x,S){return{uri:x,range:S}}T.create=R;function I(x){var S=x;return O.objectLiteral(S)&&a.is(S.range)&&(O.string(S.uri)||O.undefined(S.uri))}T.is=I})(c||(e.Location=c={}));var u;(function(T){function R(x,S,j,X){return{targetUri:x,targetRange:S,targetSelectionRange:j,originSelectionRange:X}}T.create=R;function I(x){var S=x;return O.objectLiteral(S)&&a.is(S.targetRange)&&O.string(S.targetUri)&&a.is(S.targetSelectionRange)&&(a.is(S.originSelectionRange)||O.undefined(S.originSelectionRange))}T.is=I})(u||(e.LocationLink=u={}));var f;(function(T){function R(x,S,j,X){return{red:x,green:S,blue:j,alpha:X}}T.create=R;function I(x){var S=x;return O.objectLiteral(S)&&O.numberRange(S.red,0,1)&&O.numberRange(S.green,0,1)&&O.numberRange(S.blue,0,1)&&O.numberRange(S.alpha,0,1)}T.is=I})(f||(e.Color=f={}));var g;(function(T){function R(x,S){return{range:x,color:S}}T.create=R;function I(x){var S=x;return O.objectLiteral(S)&&a.is(S.range)&&f.is(S.color)}T.is=I})(g||(e.ColorInformation=g={}));var p;(function(T){function R(x,S,j){return{label:x,textEdit:S,additionalTextEdits:j}}T.create=R;function I(x){var S=x;return O.objectLiteral(S)&&O.string(S.label)&&(O.undefined(S.textEdit)||A.is(S))&&(O.undefined(S.additionalTextEdits)||O.typedArray(S.additionalTextEdits,A.is))}T.is=I})(p||(e.ColorPresentation=p={}));var l;(function(T){T.Comment="comment",T.Imports="imports",T.Region="region"})(l||(e.FoldingRangeKind=l={}));var d;(function(T){function R(x,S,j,X,Fe,Tt){var dt={startLine:x,endLine:S};return O.defined(j)&&(dt.startCharacter=j),O.defined(X)&&(dt.endCharacter=X),O.defined(Fe)&&(dt.kind=Fe),O.defined(Tt)&&(dt.collapsedText=Tt),dt}T.create=R;function I(x){var S=x;return O.objectLiteral(S)&&O.uinteger(S.startLine)&&O.uinteger(S.startLine)&&(O.undefined(S.startCharacter)||O.uinteger(S.startCharacter))&&(O.undefined(S.endCharacter)||O.uinteger(S.endCharacter))&&(O.undefined(S.kind)||O.string(S.kind))}T.is=I})(d||(e.FoldingRange=d={}));var h;(function(T){function R(x,S){return{location:x,message:S}}T.create=R;function I(x){var S=x;return O.defined(S)&&c.is(S.location)&&O.string(S.message)}T.is=I})(h||(e.DiagnosticRelatedInformation=h={}));var m;(function(T){T.Error=1,T.Warning=2,T.Information=3,T.Hint=4})(m||(e.DiagnosticSeverity=m={}));var C;(function(T){T.Unnecessary=1,T.Deprecated=2})(C||(e.DiagnosticTag=C={}));var D;(function(T){function R(I){var x=I;return O.objectLiteral(x)&&O.string(x.href)}T.is=R})(D||(e.CodeDescription=D={}));var w;(function(T){function R(x,S,j,X,Fe,Tt){var dt={range:x,message:S};return O.defined(j)&&(dt.severity=j),O.defined(X)&&(dt.code=X),O.defined(Fe)&&(dt.source=Fe),O.defined(Tt)&&(dt.relatedInformation=Tt),dt}T.create=R;function I(x){var S,j=x;return O.defined(j)&&a.is(j.range)&&O.string(j.message)&&(O.number(j.severity)||O.undefined(j.severity))&&(O.integer(j.code)||O.string(j.code)||O.undefined(j.code))&&(O.undefined(j.codeDescription)||O.string((S=j.codeDescription)===null||S===void 0?void 0:S.href))&&(O.string(j.source)||O.undefined(j.source))&&(O.undefined(j.relatedInformation)||O.typedArray(j.relatedInformation,h.is))}T.is=I})(w||(e.Diagnostic=w={}));var k;(function(T){function R(x,S){for(var j=[],X=2;X<arguments.length;X++)j[X-2]=arguments[X];var Fe={title:x,command:S};return O.defined(j)&&j.length>0&&(Fe.arguments=j),Fe}T.create=R;function I(x){var S=x;return O.defined(S)&&O.string(S.title)&&O.string(S.command)}T.is=I})(k||(e.Command=k={}));var A;(function(T){function R(j,X){return{range:j,newText:X}}T.replace=R;function I(j,X){return{range:{start:j,end:j},newText:X}}T.insert=I;function x(j){return{range:j,newText:""}}T.del=x;function S(j){var X=j;return O.objectLiteral(X)&&O.string(X.newText)&&a.is(X.range)}T.is=S})(A||(e.TextEdit=A={}));var B;(function(T){function R(x,S,j){var X={label:x};return S!==void 0&&(X.needsConfirmation=S),j!==void 0&&(X.description=j),X}T.create=R;function I(x){var S=x;return O.objectLiteral(S)&&O.string(S.label)&&(O.boolean(S.needsConfirmation)||S.needsConfirmation===void 0)&&(O.string(S.description)||S.description===void 0)}T.is=I})(B||(e.ChangeAnnotation=B={}));var W;(function(T){function R(I){var x=I;return O.string(x)}T.is=R})(W||(e.ChangeAnnotationIdentifier=W={}));var U;(function(T){function R(j,X,Fe){return{range:j,newText:X,annotationId:Fe}}T.replace=R;function I(j,X,Fe){return{range:{start:j,end:j},newText:X,annotationId:Fe}}T.insert=I;function x(j,X){return{range:j,newText:"",annotationId:X}}T.del=x;function S(j){var X=j;return A.is(X)&&(B.is(X.annotationId)||W.is(X.annotationId))}T.is=S})(U||(e.AnnotatedTextEdit=U={}));var ee;(function(T){function R(x,S){return{textDocument:x,edits:S}}T.create=R;function I(x){var S=x;return O.defined(S)&&Ee.is(S.textDocument)&&Array.isArray(S.edits)}T.is=I})(ee||(e.TextDocumentEdit=ee={}));var Z;(function(T){function R(x,S,j){var X={kind:"create",uri:x};return S!==void 0&&(S.overwrite!==void 0||S.ignoreIfExists!==void 0)&&(X.options=S),j!==void 0&&(X.annotationId=j),X}T.create=R;function I(x){var S=x;return S&&S.kind==="create"&&O.string(S.uri)&&(S.options===void 0||(S.options.overwrite===void 0||O.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||O.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||W.is(S.annotationId))}T.is=I})(Z||(e.CreateFile=Z={}));var H;(function(T){function R(x,S,j,X){var Fe={kind:"rename",oldUri:x,newUri:S};return j!==void 0&&(j.overwrite!==void 0||j.ignoreIfExists!==void 0)&&(Fe.options=j),X!==void 0&&(Fe.annotationId=X),Fe}T.create=R;function I(x){var S=x;return S&&S.kind==="rename"&&O.string(S.oldUri)&&O.string(S.newUri)&&(S.options===void 0||(S.options.overwrite===void 0||O.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||O.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||W.is(S.annotationId))}T.is=I})(H||(e.RenameFile=H={}));var M;(function(T){function R(x,S,j){var X={kind:"delete",uri:x};return S!==void 0&&(S.recursive!==void 0||S.ignoreIfNotExists!==void 0)&&(X.options=S),j!==void 0&&(X.annotationId=j),X}T.create=R;function I(x){var S=x;return S&&S.kind==="delete"&&O.string(S.uri)&&(S.options===void 0||(S.options.recursive===void 0||O.boolean(S.options.recursive))&&(S.options.ignoreIfNotExists===void 0||O.boolean(S.options.ignoreIfNotExists)))&&(S.annotationId===void 0||W.is(S.annotationId))}T.is=I})(M||(e.DeleteFile=M={}));var V;(function(T){function R(I){var x=I;return x&&(x.changes!==void 0||x.documentChanges!==void 0)&&(x.documentChanges===void 0||x.documentChanges.every(function(S){return O.string(S.kind)?Z.is(S)||H.is(S)||M.is(S):ee.is(S)}))}T.is=R})(V||(e.WorkspaceEdit=V={}));var Q=function(){function T(R,I){this.edits=R,this.changeAnnotations=I}return T.prototype.insert=function(R,I,x){var S,j;if(x===void 0?S=A.insert(R,I):W.is(x)?(j=x,S=U.insert(R,I,x)):(this.assertChangeAnnotations(this.changeAnnotations),j=this.changeAnnotations.manage(x),S=U.insert(R,I,j)),this.edits.push(S),j!==void 0)return j},T.prototype.replace=function(R,I,x){var S,j;if(x===void 0?S=A.replace(R,I):W.is(x)?(j=x,S=U.replace(R,I,x)):(this.assertChangeAnnotations(this.changeAnnotations),j=this.changeAnnotations.manage(x),S=U.replace(R,I,j)),this.edits.push(S),j!==void 0)return j},T.prototype.delete=function(R,I){var x,S;if(I===void 0?x=A.del(R):W.is(I)?(S=I,x=U.del(R,I)):(this.assertChangeAnnotations(this.changeAnnotations),S=this.changeAnnotations.manage(I),x=U.del(R,S)),this.edits.push(x),S!==void 0)return S},T.prototype.add=function(R){this.edits.push(R)},T.prototype.all=function(){return this.edits},T.prototype.clear=function(){this.edits.splice(0,this.edits.length)},T.prototype.assertChangeAnnotations=function(R){if(R===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},T}(),he=function(){function T(R){this._annotations=R===void 0?Object.create(null):R,this._counter=0,this._size=0}return T.prototype.all=function(){return this._annotations},Object.defineProperty(T.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),T.prototype.manage=function(R,I){var x;if(W.is(R)?x=R:(x=this.nextId(),I=R),this._annotations[x]!==void 0)throw new Error("Id ".concat(x," is already in use."));if(I===void 0)throw new Error("No annotation provided for id ".concat(x));return this._annotations[x]=I,this._size++,x},T.prototype.nextId=function(){return this._counter++,this._counter.toString()},T}(),de=function(){function T(R){var I=this;this._textEditChanges=Object.create(null),R!==void 0?(this._workspaceEdit=R,R.documentChanges?(this._changeAnnotations=new he(R.changeAnnotations),R.changeAnnotations=this._changeAnnotations.all(),R.documentChanges.forEach(function(x){if(ee.is(x)){var S=new Q(x.edits,I._changeAnnotations);I._textEditChanges[x.textDocument.uri]=S}})):R.changes&&Object.keys(R.changes).forEach(function(x){var S=new Q(R.changes[x]);I._textEditChanges[x]=S})):this._workspaceEdit={}}return Object.defineProperty(T.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),T.prototype.getTextEditChange=function(R){if(Ee.is(R)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var I={uri:R.uri,version:R.version},x=this._textEditChanges[I.uri];if(!x){var S=[],j={textDocument:I,edits:S};this._workspaceEdit.documentChanges.push(j),x=new Q(S,this._changeAnnotations),this._textEditChanges[I.uri]=x}return x}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var x=this._textEditChanges[R];if(!x){var S=[];this._workspaceEdit.changes[R]=S,x=new Q(S),this._textEditChanges[R]=x}return x}},T.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new he,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},T.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},T.prototype.createFile=function(R,I,x){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;B.is(I)||W.is(I)?S=I:x=I;var j,X;if(S===void 0?j=Z.create(R,x):(X=W.is(S)?S:this._changeAnnotations.manage(S),j=Z.create(R,x,X)),this._workspaceEdit.documentChanges.push(j),X!==void 0)return X},T.prototype.renameFile=function(R,I,x,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var j;B.is(x)||W.is(x)?j=x:S=x;var X,Fe;if(j===void 0?X=H.create(R,I,S):(Fe=W.is(j)?j:this._changeAnnotations.manage(j),X=H.create(R,I,S,Fe)),this._workspaceEdit.documentChanges.push(X),Fe!==void 0)return Fe},T.prototype.deleteFile=function(R,I,x){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;B.is(I)||W.is(I)?S=I:x=I;var j,X;if(S===void 0?j=M.create(R,x):(X=W.is(S)?S:this._changeAnnotations.manage(S),j=M.create(R,x,X)),this._workspaceEdit.documentChanges.push(j),X!==void 0)return X},T}();e.WorkspaceChange=de;var ge;(function(T){function R(x){return{uri:x}}T.create=R;function I(x){var S=x;return O.defined(S)&&O.string(S.uri)}T.is=I})(ge||(e.TextDocumentIdentifier=ge={}));var Ge;(function(T){function R(x,S){return{uri:x,version:S}}T.create=R;function I(x){var S=x;return O.defined(S)&&O.string(S.uri)&&O.integer(S.version)}T.is=I})(Ge||(e.VersionedTextDocumentIdentifier=Ge={}));var Ee;(function(T){function R(x,S){return{uri:x,version:S}}T.create=R;function I(x){var S=x;return O.defined(S)&&O.string(S.uri)&&(S.version===null||O.integer(S.version))}T.is=I})(Ee||(e.OptionalVersionedTextDocumentIdentifier=Ee={}));var ke;(function(T){function R(x,S,j,X){return{uri:x,languageId:S,version:j,text:X}}T.create=R;function I(x){var S=x;return O.defined(S)&&O.string(S.uri)&&O.string(S.languageId)&&O.integer(S.version)&&O.string(S.text)}T.is=I})(ke||(e.TextDocumentItem=ke={}));var ht;(function(T){T.PlainText="plaintext",T.Markdown="markdown";function R(I){var x=I;return x===T.PlainText||x===T.Markdown}T.is=R})(ht||(e.MarkupKind=ht={}));var At;(function(T){function R(I){var x=I;return O.objectLiteral(I)&&ht.is(x.kind)&&O.string(x.value)}T.is=R})(At||(e.MarkupContent=At={}));var tn;(function(T){T.Text=1,T.Method=2,T.Function=3,T.Constructor=4,T.Field=5,T.Variable=6,T.Class=7,T.Interface=8,T.Module=9,T.Property=10,T.Unit=11,T.Value=12,T.Enum=13,T.Keyword=14,T.Snippet=15,T.Color=16,T.File=17,T.Reference=18,T.Folder=19,T.EnumMember=20,T.Constant=21,T.Struct=22,T.Event=23,T.Operator=24,T.TypeParameter=25})(tn||(e.CompletionItemKind=tn={}));var St;(function(T){T.PlainText=1,T.Snippet=2})(St||(e.InsertTextFormat=St={}));var Jt;(function(T){T.Deprecated=1})(Jt||(e.CompletionItemTag=Jt={}));var an;(function(T){function R(x,S,j){return{newText:x,insert:S,replace:j}}T.create=R;function I(x){var S=x;return S&&O.string(S.newText)&&a.is(S.insert)&&a.is(S.replace)}T.is=I})(an||(e.InsertReplaceEdit=an={}));var Jn;(function(T){T.asIs=1,T.adjustIndentation=2})(Jn||(e.InsertTextMode=Jn={}));var qn;(function(T){function R(I){var x=I;return x&&(O.string(x.detail)||x.detail===void 0)&&(O.string(x.description)||x.description===void 0)}T.is=R})(qn||(e.CompletionItemLabelDetails=qn={}));var Un;(function(T){function R(I){return{label:I}}T.create=R})(Un||(e.CompletionItem=Un={}));var jn;(function(T){function R(I,x){return{items:I||[],isIncomplete:!!x}}T.create=R})(jn||(e.CompletionList=jn={}));var Xn;(function(T){function R(x){return x.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}T.fromPlainText=R;function I(x){var S=x;return O.string(S)||O.objectLiteral(S)&&O.string(S.language)&&O.string(S.value)}T.is=I})(Xn||(e.MarkedString=Xn={}));var Qe;(function(T){function R(I){var x=I;return!!x&&O.objectLiteral(x)&&(At.is(x.contents)||Xn.is(x.contents)||O.typedArray(x.contents,Xn.is))&&(I.range===void 0||a.is(I.range))}T.is=R})(Qe||(e.Hover=Qe={}));var pi;(function(T){function R(I,x){return x?{label:I,documentation:x}:{label:I}}T.create=R})(pi||(e.ParameterInformation=pi={}));var Bn;(function(T){function R(I,x){for(var S=[],j=2;j<arguments.length;j++)S[j-2]=arguments[j];var X={label:I};return O.defined(x)&&(X.documentation=x),O.defined(S)?X.parameters=S:X.parameters=[],X}T.create=R})(Bn||(e.SignatureInformation=Bn={}));var nn;(function(T){T.Text=1,T.Read=2,T.Write=3})(nn||(e.DocumentHighlightKind=nn={}));var Ai;(function(T){function R(I,x){var S={range:I};return O.number(x)&&(S.kind=x),S}T.create=R})(Ai||(e.DocumentHighlight=Ai={}));var cn;(function(T){T.File=1,T.Module=2,T.Namespace=3,T.Package=4,T.Class=5,T.Method=6,T.Property=7,T.Field=8,T.Constructor=9,T.Enum=10,T.Interface=11,T.Function=12,T.Variable=13,T.Constant=14,T.String=15,T.Number=16,T.Boolean=17,T.Array=18,T.Object=19,T.Key=20,T.Null=21,T.EnumMember=22,T.Struct=23,T.Event=24,T.Operator=25,T.TypeParameter=26})(cn||(e.SymbolKind=cn={}));var Yn;(function(T){T.Deprecated=1})(Yn||(e.SymbolTag=Yn={}));var ot;(function(T){function R(I,x,S,j,X){var Fe={name:I,kind:x,location:{uri:j,range:S}};return X&&(Fe.containerName=X),Fe}T.create=R})(ot||(e.SymbolInformation=ot={}));var bt;(function(T){function R(I,x,S,j){return j!==void 0?{name:I,kind:x,location:{uri:S,range:j}}:{name:I,kind:x,location:{uri:S}}}T.create=R})(bt||(e.WorkspaceSymbol=bt={}));var Vt;(function(T){function R(x,S,j,X,Fe,Tt){var dt={name:x,detail:S,kind:j,range:X,selectionRange:Fe};return Tt!==void 0&&(dt.children=Tt),dt}T.create=R;function I(x){var S=x;return S&&O.string(S.name)&&O.number(S.kind)&&a.is(S.range)&&a.is(S.selectionRange)&&(S.detail===void 0||O.string(S.detail))&&(S.deprecated===void 0||O.boolean(S.deprecated))&&(S.children===void 0||Array.isArray(S.children))&&(S.tags===void 0||Array.isArray(S.tags))}T.is=I})(Vt||(e.DocumentSymbol=Vt={}));var mn;(function(T){T.Empty="",T.QuickFix="quickfix",T.Refactor="refactor",T.RefactorExtract="refactor.extract",T.RefactorInline="refactor.inline",T.RefactorRewrite="refactor.rewrite",T.Source="source",T.SourceOrganizeImports="source.organizeImports",T.SourceFixAll="source.fixAll"})(mn||(e.CodeActionKind=mn={}));var Ut;(function(T){T.Invoked=1,T.Automatic=2})(Ut||(e.CodeActionTriggerKind=Ut={}));var Wn;(function(T){function R(x,S,j){var X={diagnostics:x};return S!=null&&(X.only=S),j!=null&&(X.triggerKind=j),X}T.create=R;function I(x){var S=x;return O.defined(S)&&O.typedArray(S.diagnostics,w.is)&&(S.only===void 0||O.typedArray(S.only,O.string))&&(S.triggerKind===void 0||S.triggerKind===Ut.Invoked||S.triggerKind===Ut.Automatic)}T.is=I})(Wn||(e.CodeActionContext=Wn={}));var Qn;(function(T){function R(x,S,j){var X={title:x},Fe=!0;return typeof S=="string"?(Fe=!1,X.kind=S):k.is(S)?X.command=S:X.edit=S,Fe&&j!==void 0&&(X.kind=j),X}T.create=R;function I(x){var S=x;return S&&O.string(S.title)&&(S.diagnostics===void 0||O.typedArray(S.diagnostics,w.is))&&(S.kind===void 0||O.string(S.kind))&&(S.edit!==void 0||S.command!==void 0)&&(S.command===void 0||k.is(S.command))&&(S.isPreferred===void 0||O.boolean(S.isPreferred))&&(S.edit===void 0||V.is(S.edit))}T.is=I})(Qn||(e.CodeAction=Qn={}));var yn;(function(T){function R(x,S){var j={range:x};return O.defined(S)&&(j.data=S),j}T.create=R;function I(x){var S=x;return O.defined(S)&&a.is(S.range)&&(O.undefined(S.command)||k.is(S.command))}T.is=I})(yn||(e.CodeLens=yn={}));var Zn;(function(T){function R(x,S){return{tabSize:x,insertSpaces:S}}T.create=R;function I(x){var S=x;return O.defined(S)&&O.uinteger(S.tabSize)&&O.boolean(S.insertSpaces)}T.is=I})(Zn||(e.FormattingOptions=Zn={}));var Dt;(function(T){function R(x,S,j){return{range:x,target:S,data:j}}T.create=R;function I(x){var S=x;return O.defined(S)&&a.is(S.range)&&(O.undefined(S.target)||O.string(S.target))}T.is=I})(Dt||(e.DocumentLink=Dt={}));var v;(function(T){function R(x,S){return{range:x,parent:S}}T.create=R;function I(x){var S=x;return O.objectLiteral(S)&&a.is(S.range)&&(S.parent===void 0||T.is(S.parent))}T.is=I})(v||(e.SelectionRange=v={}));var P;(function(T){T.namespace="namespace",T.type="type",T.class="class",T.enum="enum",T.interface="interface",T.struct="struct",T.typeParameter="typeParameter",T.parameter="parameter",T.variable="variable",T.property="property",T.enumMember="enumMember",T.event="event",T.function="function",T.method="method",T.macro="macro",T.keyword="keyword",T.modifier="modifier",T.comment="comment",T.string="string",T.number="number",T.regexp="regexp",T.operator="operator",T.decorator="decorator"})(P||(e.SemanticTokenTypes=P={}));var q;(function(T){T.declaration="declaration",T.definition="definition",T.readonly="readonly",T.static="static",T.deprecated="deprecated",T.abstract="abstract",T.async="async",T.modification="modification",T.documentation="documentation",T.defaultLibrary="defaultLibrary"})(q||(e.SemanticTokenModifiers=q={}));var $;(function(T){function R(I){var x=I;return O.objectLiteral(x)&&(x.resultId===void 0||typeof x.resultId=="string")&&Array.isArray(x.data)&&(x.data.length===0||typeof x.data[0]=="number")}T.is=R})($||(e.SemanticTokens=$={}));var fe;(function(T){function R(x,S){return{range:x,text:S}}T.create=R;function I(x){var S=x;return S!=null&&a.is(S.range)&&O.string(S.text)}T.is=I})(fe||(e.InlineValueText=fe={}));var ue;(function(T){function R(x,S,j){return{range:x,variableName:S,caseSensitiveLookup:j}}T.create=R;function I(x){var S=x;return S!=null&&a.is(S.range)&&O.boolean(S.caseSensitiveLookup)&&(O.string(S.variableName)||S.variableName===void 0)}T.is=I})(ue||(e.InlineValueVariableLookup=ue={}));var ve;(function(T){function R(x,S){return{range:x,expression:S}}T.create=R;function I(x){var S=x;return S!=null&&a.is(S.range)&&(O.string(S.expression)||S.expression===void 0)}T.is=I})(ve||(e.InlineValueEvaluatableExpression=ve={}));var Se;(function(T){function R(x,S){return{frameId:x,stoppedLocation:S}}T.create=R;function I(x){var S=x;return O.defined(S)&&a.is(x.stoppedLocation)}T.is=I})(Se||(e.InlineValueContext=Se={}));var ie;(function(T){T.Type=1,T.Parameter=2;function R(I){return I===1||I===2}T.is=R})(ie||(e.InlayHintKind=ie={}));var pe;(function(T){function R(x){return{value:x}}T.create=R;function I(x){var S=x;return O.objectLiteral(S)&&(S.tooltip===void 0||O.string(S.tooltip)||At.is(S.tooltip))&&(S.location===void 0||c.is(S.location))&&(S.command===void 0||k.is(S.command))}T.is=I})(pe||(e.InlayHintLabelPart=pe={}));var se;(function(T){function R(x,S,j){var X={position:x,label:S};return j!==void 0&&(X.kind=j),X}T.create=R;function I(x){var S=x;return O.objectLiteral(S)&&o.is(S.position)&&(O.string(S.label)||O.typedArray(S.label,pe.is))&&(S.kind===void 0||ie.is(S.kind))&&S.textEdits===void 0||O.typedArray(S.textEdits,A.is)&&(S.tooltip===void 0||O.string(S.tooltip)||At.is(S.tooltip))&&(S.paddingLeft===void 0||O.boolean(S.paddingLeft))&&(S.paddingRight===void 0||O.boolean(S.paddingRight))}T.is=I})(se||(e.InlayHint=se={}));var N;(function(T){function R(I){return{kind:"snippet",value:I}}T.createSnippet=R})(N||(e.StringValue=N={}));var L;(function(T){function R(I,x,S,j){return{insertText:I,filterText:x,range:S,command:j}}T.create=R})(L||(e.InlineCompletionItem=L={}));var J;(function(T){function R(I){return{items:I}}T.create=R})(J||(e.InlineCompletionList=J={}));var be;(function(T){T.Invoked=0,T.Automatic=1})(be||(e.InlineCompletionTriggerKind=be={}));var jt;(function(T){function R(I,x){return{range:I,text:x}}T.create=R})(jt||(e.SelectedCompletionInfo=jt={}));var b;(function(T){function R(I,x){return{triggerKind:I,selectedCompletionInfo:x}}T.create=R})(b||(e.InlineCompletionContext=b={}));var K;(function(T){function R(I){var x=I;return O.objectLiteral(x)&&i.is(x.uri)&&O.string(x.name)}T.is=R})(K||(e.WorkspaceFolder=K={})),e.EOL=[`
`,`\r
`,"\r"];var ce;(function(T){function R(j,X,Fe,Tt){return new Xe(j,X,Fe,Tt)}T.create=R;function I(j){var X=j;return!!(O.defined(X)&&O.string(X.uri)&&(O.undefined(X.languageId)||O.string(X.languageId))&&O.uinteger(X.lineCount)&&O.func(X.getText)&&O.func(X.positionAt)&&O.func(X.offsetAt))}T.is=I;function x(j,X){for(var Fe=j.getText(),Tt=S(X,function(yr,y){var _=yr.range.start.line-y.range.start.line;return _===0?yr.range.start.character-y.range.start.character:_}),dt=Fe.length,ei=Tt.length-1;ei>=0;ei--){var hi=Tt[ei],Zi=j.offsetAt(hi.range.start),je=j.offsetAt(hi.range.end);if(je<=dt)Fe=Fe.substring(0,Zi)+hi.newText+Fe.substring(je,Fe.length);else throw new Error("Overlapping edit");dt=Zi}return Fe}T.applyEdits=x;function S(j,X){if(j.length<=1)return j;var Fe=j.length/2|0,Tt=j.slice(0,Fe),dt=j.slice(Fe);S(Tt,X),S(dt,X);for(var ei=0,hi=0,Zi=0;ei<Tt.length&&hi<dt.length;){var je=X(Tt[ei],dt[hi]);je<=0?j[Zi++]=Tt[ei++]:j[Zi++]=dt[hi++]}for(;ei<Tt.length;)j[Zi++]=Tt[ei++];for(;hi<dt.length;)j[Zi++]=dt[hi++];return j}})(ce||(e.TextDocument=ce={}));var Xe=function(){function T(R,I,x,S){this._uri=R,this._languageId=I,this._version=x,this._content=S,this._lineOffsets=void 0}return Object.defineProperty(T.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),T.prototype.getText=function(R){if(R){var I=this.offsetAt(R.start),x=this.offsetAt(R.end);return this._content.substring(I,x)}return this._content},T.prototype.update=function(R,I){this._content=R.text,this._version=I,this._lineOffsets=void 0},T.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var R=[],I=this._content,x=!0,S=0;S<I.length;S++){x&&(R.push(S),x=!1);var j=I.charAt(S);x=j==="\r"||j===`
`,j==="\r"&&S+1<I.length&&I.charAt(S+1)===`
`&&S++}x&&I.length>0&&R.push(I.length),this._lineOffsets=R}return this._lineOffsets},T.prototype.positionAt=function(R){R=Math.max(Math.min(R,this._content.length),0);var I=this.getLineOffsets(),x=0,S=I.length;if(S===0)return o.create(0,R);for(;x<S;){var j=Math.floor((x+S)/2);I[j]>R?S=j:x=j+1}var X=x-1;return o.create(X,R-I[X])},T.prototype.offsetAt=function(R){var I=this.getLineOffsets();if(R.line>=I.length)return this._content.length;if(R.line<0)return 0;var x=I[R.line],S=R.line+1<I.length?I[R.line+1]:this._content.length;return Math.max(Math.min(x+R.character,S),x)},Object.defineProperty(T.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),T}(),O;(function(T){var R=Object.prototype.toString;function I(je){return typeof je<"u"}T.defined=I;function x(je){return typeof je>"u"}T.undefined=x;function S(je){return je===!0||je===!1}T.boolean=S;function j(je){return R.call(je)==="[object String]"}T.string=j;function X(je){return R.call(je)==="[object Number]"}T.number=X;function Fe(je,yr,y){return R.call(je)==="[object Number]"&&yr<=je&&je<=y}T.numberRange=Fe;function Tt(je){return R.call(je)==="[object Number]"&&-2147483648<=je&&je<=2147483647}T.integer=Tt;function dt(je){return R.call(je)==="[object Number]"&&0<=je&&je<=2147483647}T.uinteger=dt;function ei(je){return R.call(je)==="[object Function]"}T.func=ei;function hi(je){return je!==null&&typeof je=="object"}T.objectLiteral=hi;function Zi(je,yr){return Array.isArray(je)&&je.every(yr)}T.typedArray=Zi})(O||(O={}))})});var wt=F(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.ProtocolNotificationType=ri.ProtocolNotificationType0=ri.ProtocolRequestType=ri.ProtocolRequestType0=ri.RegistrationType=ri.MessageDirection=void 0;var La=Eo(),PI;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(PI||(ri.MessageDirection=PI={}));var JS=class{constructor(e){this.method=e}};ri.RegistrationType=JS;var XS=class extends La.RequestType0{constructor(e){super(e)}};ri.ProtocolRequestType0=XS;var YS=class extends La.RequestType{constructor(e){super(e,La.ParameterStructures.byName)}};ri.ProtocolRequestType=YS;var QS=class extends La.NotificationType0{constructor(e){super(e)}};ri.ProtocolNotificationType0=QS;var ZS=class extends La.NotificationType{constructor(e){super(e,La.ParameterStructures.byName)}};ri.ProtocolNotificationType=ZS});var bp=F(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.objectLiteral=Yt.typedArray=Yt.stringArray=Yt.array=Yt.func=Yt.error=Yt.number=Yt.string=Yt.boolean=void 0;function Pz(t){return t===!0||t===!1}Yt.boolean=Pz;function RI(t){return typeof t=="string"||t instanceof String}Yt.string=RI;function Rz(t){return typeof t=="number"||t instanceof Number}Yt.number=Rz;function Az(t){return t instanceof Error}Yt.error=Az;function Iz(t){return typeof t=="function"}Yt.func=Iz;function AI(t){return Array.isArray(t)}Yt.array=AI;function _z(t){return AI(t)&&t.every(e=>RI(e))}Yt.stringArray=_z;function Nz(t,e){return Array.isArray(t)&&t.every(e)}Yt.typedArray=Nz;function Oz(t){return t!==null&&typeof t=="object"}Yt.objectLiteral=Oz});var NI=F(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.ImplementationRequest=void 0;var II=wt(),_I;(function(t){t.method="textDocument/implementation",t.messageDirection=II.MessageDirection.clientToServer,t.type=new II.ProtocolRequestType(t.method)})(_I||(Dp.ImplementationRequest=_I={}))});var MI=F(Tp=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});Tp.TypeDefinitionRequest=void 0;var OI=wt(),LI;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=OI.MessageDirection.clientToServer,t.type=new OI.ProtocolRequestType(t.method)})(LI||(Tp.TypeDefinitionRequest=LI={}))});var jI=F(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.DidChangeWorkspaceFoldersNotification=Ma.WorkspaceFoldersRequest=void 0;var wp=wt(),qI;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=wp.MessageDirection.serverToClient,t.type=new wp.ProtocolRequestType0(t.method)})(qI||(Ma.WorkspaceFoldersRequest=qI={}));var UI;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=wp.MessageDirection.clientToServer,t.type=new wp.ProtocolNotificationType(t.method)})(UI||(Ma.DidChangeWorkspaceFoldersNotification=UI={}))});var KI=F(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});xp.ConfigurationRequest=void 0;var BI=wt(),WI;(function(t){t.method="workspace/configuration",t.messageDirection=BI.MessageDirection.serverToClient,t.type=new BI.ProtocolRequestType(t.method)})(WI||(xp.ConfigurationRequest=WI={}))});var HI=F(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.ColorPresentationRequest=qa.DocumentColorRequest=void 0;var Ep=wt(),$I;(function(t){t.method="textDocument/documentColor",t.messageDirection=Ep.MessageDirection.clientToServer,t.type=new Ep.ProtocolRequestType(t.method)})($I||(qa.DocumentColorRequest=$I={}));var VI;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=Ep.MessageDirection.clientToServer,t.type=new Ep.ProtocolRequestType(t.method)})(VI||(qa.ColorPresentationRequest=VI={}))});var JI=F(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.FoldingRangeRefreshRequest=Ua.FoldingRangeRequest=void 0;var kp=wt(),zI;(function(t){t.method="textDocument/foldingRange",t.messageDirection=kp.MessageDirection.clientToServer,t.type=new kp.ProtocolRequestType(t.method)})(zI||(Ua.FoldingRangeRequest=zI={}));var GI;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=kp.MessageDirection.serverToClient,t.type=new kp.ProtocolRequestType0(t.method)})(GI||(Ua.FoldingRangeRefreshRequest=GI={}))});var QI=F(Fp=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});Fp.DeclarationRequest=void 0;var XI=wt(),YI;(function(t){t.method="textDocument/declaration",t.messageDirection=XI.MessageDirection.clientToServer,t.type=new XI.ProtocolRequestType(t.method)})(YI||(Fp.DeclarationRequest=YI={}))});var t_=F(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});Pp.SelectionRangeRequest=void 0;var ZI=wt(),e_;(function(t){t.method="textDocument/selectionRange",t.messageDirection=ZI.MessageDirection.clientToServer,t.type=new ZI.ProtocolRequestType(t.method)})(e_||(Pp.SelectionRangeRequest=e_={}))});var s_=F(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.WorkDoneProgressCancelNotification=ks.WorkDoneProgressCreateRequest=ks.WorkDoneProgress=void 0;var Lz=Eo(),Rp=wt(),n_;(function(t){t.type=new Lz.ProgressType;function e(n){return n===t.type}t.is=e})(n_||(ks.WorkDoneProgress=n_={}));var i_;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=Rp.MessageDirection.serverToClient,t.type=new Rp.ProtocolRequestType(t.method)})(i_||(ks.WorkDoneProgressCreateRequest=i_={}));var r_;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=Rp.MessageDirection.clientToServer,t.type=new Rp.ProtocolNotificationType(t.method)})(r_||(ks.WorkDoneProgressCancelNotification=r_={}))});var u_=F(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.CallHierarchyOutgoingCallsRequest=Fs.CallHierarchyIncomingCallsRequest=Fs.CallHierarchyPrepareRequest=void 0;var ja=wt(),o_;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=ja.MessageDirection.clientToServer,t.type=new ja.ProtocolRequestType(t.method)})(o_||(Fs.CallHierarchyPrepareRequest=o_={}));var a_;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=ja.MessageDirection.clientToServer,t.type=new ja.ProtocolRequestType(t.method)})(a_||(Fs.CallHierarchyIncomingCallsRequest=a_={}));var c_;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=ja.MessageDirection.clientToServer,t.type=new ja.ProtocolRequestType(t.method)})(c_||(Fs.CallHierarchyOutgoingCallsRequest=c_={}))});var g_=F(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.SemanticTokensRefreshRequest=si.SemanticTokensRangeRequest=si.SemanticTokensDeltaRequest=si.SemanticTokensRequest=si.SemanticTokensRegistrationType=si.TokenFormat=void 0;var Hr=wt(),l_;(function(t){t.Relative="relative"})(l_||(si.TokenFormat=l_={}));var Xu;(function(t){t.method="textDocument/semanticTokens",t.type=new Hr.RegistrationType(t.method)})(Xu||(si.SemanticTokensRegistrationType=Xu={}));var d_;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=Hr.MessageDirection.clientToServer,t.type=new Hr.ProtocolRequestType(t.method),t.registrationMethod=Xu.method})(d_||(si.SemanticTokensRequest=d_={}));var f_;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=Hr.MessageDirection.clientToServer,t.type=new Hr.ProtocolRequestType(t.method),t.registrationMethod=Xu.method})(f_||(si.SemanticTokensDeltaRequest=f_={}));var p_;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=Hr.MessageDirection.clientToServer,t.type=new Hr.ProtocolRequestType(t.method),t.registrationMethod=Xu.method})(p_||(si.SemanticTokensRangeRequest=p_={}));var h_;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=Hr.MessageDirection.serverToClient,t.type=new Hr.ProtocolRequestType0(t.method)})(h_||(si.SemanticTokensRefreshRequest=h_={}))});var C_=F(Ap=>{"use strict";Object.defineProperty(Ap,"__esModule",{value:!0});Ap.ShowDocumentRequest=void 0;var m_=wt(),y_;(function(t){t.method="window/showDocument",t.messageDirection=m_.MessageDirection.serverToClient,t.type=new m_.ProtocolRequestType(t.method)})(y_||(Ap.ShowDocumentRequest=y_={}))});var b_=F(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});Ip.LinkedEditingRangeRequest=void 0;var v_=wt(),S_;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=v_.MessageDirection.clientToServer,t.type=new v_.ProtocolRequestType(t.method)})(S_||(Ip.LinkedEditingRangeRequest=S_={}))});var P_=F(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.WillDeleteFilesRequest=kn.DidDeleteFilesNotification=kn.DidRenameFilesNotification=kn.WillRenameFilesRequest=kn.DidCreateFilesNotification=kn.WillCreateFilesRequest=kn.FileOperationPatternKind=void 0;var Ui=wt(),D_;(function(t){t.file="file",t.folder="folder"})(D_||(kn.FileOperationPatternKind=D_={}));var T_;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=Ui.MessageDirection.clientToServer,t.type=new Ui.ProtocolRequestType(t.method)})(T_||(kn.WillCreateFilesRequest=T_={}));var w_;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=Ui.MessageDirection.clientToServer,t.type=new Ui.ProtocolNotificationType(t.method)})(w_||(kn.DidCreateFilesNotification=w_={}));var x_;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=Ui.MessageDirection.clientToServer,t.type=new Ui.ProtocolRequestType(t.method)})(x_||(kn.WillRenameFilesRequest=x_={}));var E_;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=Ui.MessageDirection.clientToServer,t.type=new Ui.ProtocolNotificationType(t.method)})(E_||(kn.DidRenameFilesNotification=E_={}));var k_;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=Ui.MessageDirection.clientToServer,t.type=new Ui.ProtocolNotificationType(t.method)})(k_||(kn.DidDeleteFilesNotification=k_={}));var F_;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=Ui.MessageDirection.clientToServer,t.type=new Ui.ProtocolRequestType(t.method)})(F_||(kn.WillDeleteFilesRequest=F_={}))});var N_=F(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.MonikerRequest=Ps.MonikerKind=Ps.UniquenessLevel=void 0;var R_=wt(),A_;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(A_||(Ps.UniquenessLevel=A_={}));var I_;(function(t){t.$import="import",t.$export="export",t.local="local"})(I_||(Ps.MonikerKind=I_={}));var __;(function(t){t.method="textDocument/moniker",t.messageDirection=R_.MessageDirection.clientToServer,t.type=new R_.ProtocolRequestType(t.method)})(__||(Ps.MonikerRequest=__={}))});var q_=F(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.TypeHierarchySubtypesRequest=Rs.TypeHierarchySupertypesRequest=Rs.TypeHierarchyPrepareRequest=void 0;var Ba=wt(),O_;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=Ba.MessageDirection.clientToServer,t.type=new Ba.ProtocolRequestType(t.method)})(O_||(Rs.TypeHierarchyPrepareRequest=O_={}));var L_;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=Ba.MessageDirection.clientToServer,t.type=new Ba.ProtocolRequestType(t.method)})(L_||(Rs.TypeHierarchySupertypesRequest=L_={}));var M_;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=Ba.MessageDirection.clientToServer,t.type=new Ba.ProtocolRequestType(t.method)})(M_||(Rs.TypeHierarchySubtypesRequest=M_={}))});var B_=F(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.InlineValueRefreshRequest=Wa.InlineValueRequest=void 0;var _p=wt(),U_;(function(t){t.method="textDocument/inlineValue",t.messageDirection=_p.MessageDirection.clientToServer,t.type=new _p.ProtocolRequestType(t.method)})(U_||(Wa.InlineValueRequest=U_={}));var j_;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=_p.MessageDirection.serverToClient,t.type=new _p.ProtocolRequestType0(t.method)})(j_||(Wa.InlineValueRefreshRequest=j_={}))});var V_=F(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.InlayHintRefreshRequest=As.InlayHintResolveRequest=As.InlayHintRequest=void 0;var Ka=wt(),W_;(function(t){t.method="textDocument/inlayHint",t.messageDirection=Ka.MessageDirection.clientToServer,t.type=new Ka.ProtocolRequestType(t.method)})(W_||(As.InlayHintRequest=W_={}));var K_;(function(t){t.method="inlayHint/resolve",t.messageDirection=Ka.MessageDirection.clientToServer,t.type=new Ka.ProtocolRequestType(t.method)})(K_||(As.InlayHintResolveRequest=K_={}));var $_;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=Ka.MessageDirection.serverToClient,t.type=new Ka.ProtocolRequestType0(t.method)})($_||(As.InlayHintRefreshRequest=$_={}))});var Q_=F(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.DiagnosticRefreshRequest=ji.WorkspaceDiagnosticRequest=ji.DocumentDiagnosticRequest=ji.DocumentDiagnosticReportKind=ji.DiagnosticServerCancellationData=void 0;var Y_=Eo(),Mz=bp(),$a=wt(),H_;(function(t){function e(n){let i=n;return i&&Mz.boolean(i.retriggerRequest)}t.is=e})(H_||(ji.DiagnosticServerCancellationData=H_={}));var z_;(function(t){t.Full="full",t.Unchanged="unchanged"})(z_||(ji.DocumentDiagnosticReportKind=z_={}));var G_;(function(t){t.method="textDocument/diagnostic",t.messageDirection=$a.MessageDirection.clientToServer,t.type=new $a.ProtocolRequestType(t.method),t.partialResult=new Y_.ProgressType})(G_||(ji.DocumentDiagnosticRequest=G_={}));var J_;(function(t){t.method="workspace/diagnostic",t.messageDirection=$a.MessageDirection.clientToServer,t.type=new $a.ProtocolRequestType(t.method),t.partialResult=new Y_.ProgressType})(J_||(ji.WorkspaceDiagnosticRequest=J_={}));var X_;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=$a.MessageDirection.serverToClient,t.type=new $a.ProtocolRequestType0(t.method)})(X_||(ji.DiagnosticRefreshRequest=X_={}))});var s1=F(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.DidCloseNotebookDocumentNotification=Kt.DidSaveNotebookDocumentNotification=Kt.DidChangeNotebookDocumentNotification=Kt.NotebookCellArrayChange=Kt.DidOpenNotebookDocumentNotification=Kt.NotebookDocumentSyncRegistrationType=Kt.NotebookDocument=Kt.NotebookCell=Kt.ExecutionSummary=Kt.NotebookCellKind=void 0;var Yu=Sp(),ir=bp(),Pr=wt(),eb;(function(t){t.Markup=1,t.Code=2;function e(n){return n===1||n===2}t.is=e})(eb||(Kt.NotebookCellKind=eb={}));var tb;(function(t){function e(r,s){let o={executionOrder:r};return(s===!0||s===!1)&&(o.success=s),o}t.create=e;function n(r){let s=r;return ir.objectLiteral(s)&&Yu.uinteger.is(s.executionOrder)&&(s.success===void 0||ir.boolean(s.success))}t.is=n;function i(r,s){return r===s?!0:r==null||s===null||s===void 0?!1:r.executionOrder===s.executionOrder&&r.success===s.success}t.equals=i})(tb||(Kt.ExecutionSummary=tb={}));var Np;(function(t){function e(s,o){return{kind:s,document:o}}t.create=e;function n(s){let o=s;return ir.objectLiteral(o)&&eb.is(o.kind)&&Yu.DocumentUri.is(o.document)&&(o.metadata===void 0||ir.objectLiteral(o.metadata))}t.is=n;function i(s,o){let a=new Set;return s.document!==o.document&&a.add("document"),s.kind!==o.kind&&a.add("kind"),s.executionSummary!==o.executionSummary&&a.add("executionSummary"),(s.metadata!==void 0||o.metadata!==void 0)&&!r(s.metadata,o.metadata)&&a.add("metadata"),(s.executionSummary!==void 0||o.executionSummary!==void 0)&&!tb.equals(s.executionSummary,o.executionSummary)&&a.add("executionSummary"),a}t.diff=i;function r(s,o){if(s===o)return!0;if(s==null||o===null||o===void 0||typeof s!=typeof o||typeof s!="object")return!1;let a=Array.isArray(s),c=Array.isArray(o);if(a!==c)return!1;if(a&&c){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++)if(!r(s[u],o[u]))return!1}if(ir.objectLiteral(s)&&ir.objectLiteral(o)){let u=Object.keys(s),f=Object.keys(o);if(u.length!==f.length||(u.sort(),f.sort(),!r(u,f)))return!1;for(let g=0;g<u.length;g++){let p=u[g];if(!r(s[p],o[p]))return!1}}return!0}})(Np||(Kt.NotebookCell=Np={}));var Z_;(function(t){function e(i,r,s,o){return{uri:i,notebookType:r,version:s,cells:o}}t.create=e;function n(i){let r=i;return ir.objectLiteral(r)&&ir.string(r.uri)&&Yu.integer.is(r.version)&&ir.typedArray(r.cells,Np.is)}t.is=n})(Z_||(Kt.NotebookDocument=Z_={}));var Va;(function(t){t.method="notebookDocument/sync",t.messageDirection=Pr.MessageDirection.clientToServer,t.type=new Pr.RegistrationType(t.method)})(Va||(Kt.NotebookDocumentSyncRegistrationType=Va={}));var e1;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=Pr.MessageDirection.clientToServer,t.type=new Pr.ProtocolNotificationType(t.method),t.registrationMethod=Va.method})(e1||(Kt.DidOpenNotebookDocumentNotification=e1={}));var t1;(function(t){function e(i){let r=i;return ir.objectLiteral(r)&&Yu.uinteger.is(r.start)&&Yu.uinteger.is(r.deleteCount)&&(r.cells===void 0||ir.typedArray(r.cells,Np.is))}t.is=e;function n(i,r,s){let o={start:i,deleteCount:r};return s!==void 0&&(o.cells=s),o}t.create=n})(t1||(Kt.NotebookCellArrayChange=t1={}));var n1;(function(t){t.method="notebookDocument/didChange",t.messageDirection=Pr.MessageDirection.clientToServer,t.type=new Pr.ProtocolNotificationType(t.method),t.registrationMethod=Va.method})(n1||(Kt.DidChangeNotebookDocumentNotification=n1={}));var i1;(function(t){t.method="notebookDocument/didSave",t.messageDirection=Pr.MessageDirection.clientToServer,t.type=new Pr.ProtocolNotificationType(t.method),t.registrationMethod=Va.method})(i1||(Kt.DidSaveNotebookDocumentNotification=i1={}));var r1;(function(t){t.method="notebookDocument/didClose",t.messageDirection=Pr.MessageDirection.clientToServer,t.type=new Pr.ProtocolNotificationType(t.method),t.registrationMethod=Va.method})(r1||(Kt.DidCloseNotebookDocumentNotification=r1={}))});var c1=F(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});Op.InlineCompletionRequest=void 0;var o1=wt(),a1;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=o1.MessageDirection.clientToServer,t.type=new o1.ProtocolRequestType(t.method)})(a1||(Op.InlineCompletionRequest=a1={}))});var bN=F(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.WorkspaceSymbolRequest=E.CodeActionResolveRequest=E.CodeActionRequest=E.DocumentSymbolRequest=E.DocumentHighlightRequest=E.ReferencesRequest=E.DefinitionRequest=E.SignatureHelpRequest=E.SignatureHelpTriggerKind=E.HoverRequest=E.CompletionResolveRequest=E.CompletionRequest=E.CompletionTriggerKind=E.PublishDiagnosticsNotification=E.WatchKind=E.RelativePattern=E.FileChangeType=E.DidChangeWatchedFilesNotification=E.WillSaveTextDocumentWaitUntilRequest=E.WillSaveTextDocumentNotification=E.TextDocumentSaveReason=E.DidSaveTextDocumentNotification=E.DidCloseTextDocumentNotification=E.DidChangeTextDocumentNotification=E.TextDocumentContentChangeEvent=E.DidOpenTextDocumentNotification=E.TextDocumentSyncKind=E.TelemetryEventNotification=E.LogMessageNotification=E.ShowMessageRequest=E.ShowMessageNotification=E.MessageType=E.DidChangeConfigurationNotification=E.ExitNotification=E.ShutdownRequest=E.InitializedNotification=E.InitializeErrorCodes=E.InitializeRequest=E.WorkDoneProgressOptions=E.TextDocumentRegistrationOptions=E.StaticRegistrationOptions=E.PositionEncodingKind=E.FailureHandlingKind=E.ResourceOperationKind=E.UnregistrationRequest=E.RegistrationRequest=E.DocumentSelector=E.NotebookCellTextDocumentFilter=E.NotebookDocumentFilter=E.TextDocumentFilter=void 0;E.MonikerRequest=E.MonikerKind=E.UniquenessLevel=E.WillDeleteFilesRequest=E.DidDeleteFilesNotification=E.WillRenameFilesRequest=E.DidRenameFilesNotification=E.WillCreateFilesRequest=E.DidCreateFilesNotification=E.FileOperationPatternKind=E.LinkedEditingRangeRequest=E.ShowDocumentRequest=E.SemanticTokensRegistrationType=E.SemanticTokensRefreshRequest=E.SemanticTokensRangeRequest=E.SemanticTokensDeltaRequest=E.SemanticTokensRequest=E.TokenFormat=E.CallHierarchyPrepareRequest=E.CallHierarchyOutgoingCallsRequest=E.CallHierarchyIncomingCallsRequest=E.WorkDoneProgressCancelNotification=E.WorkDoneProgressCreateRequest=E.WorkDoneProgress=E.SelectionRangeRequest=E.DeclarationRequest=E.FoldingRangeRefreshRequest=E.FoldingRangeRequest=E.ColorPresentationRequest=E.DocumentColorRequest=E.ConfigurationRequest=E.DidChangeWorkspaceFoldersNotification=E.WorkspaceFoldersRequest=E.TypeDefinitionRequest=E.ImplementationRequest=E.ApplyWorkspaceEditRequest=E.ExecuteCommandRequest=E.PrepareRenameRequest=E.RenameRequest=E.PrepareSupportDefaultBehavior=E.DocumentOnTypeFormattingRequest=E.DocumentRangesFormattingRequest=E.DocumentRangeFormattingRequest=E.DocumentFormattingRequest=E.DocumentLinkResolveRequest=E.DocumentLinkRequest=E.CodeLensRefreshRequest=E.CodeLensResolveRequest=E.CodeLensRequest=E.WorkspaceSymbolResolveRequest=void 0;E.InlineCompletionRequest=E.DidCloseNotebookDocumentNotification=E.DidSaveNotebookDocumentNotification=E.DidChangeNotebookDocumentNotification=E.NotebookCellArrayChange=E.DidOpenNotebookDocumentNotification=E.NotebookDocumentSyncRegistrationType=E.NotebookDocument=E.NotebookCell=E.ExecutionSummary=E.NotebookCellKind=E.DiagnosticRefreshRequest=E.WorkspaceDiagnosticRequest=E.DocumentDiagnosticRequest=E.DocumentDiagnosticReportKind=E.DiagnosticServerCancellationData=E.InlayHintRefreshRequest=E.InlayHintResolveRequest=E.InlayHintRequest=E.InlineValueRefreshRequest=E.InlineValueRequest=E.TypeHierarchySupertypesRequest=E.TypeHierarchySubtypesRequest=E.TypeHierarchyPrepareRequest=void 0;var ne=wt(),u1=Sp(),fn=bp(),qz=NI();Object.defineProperty(E,"ImplementationRequest",{enumerable:!0,get:function(){return qz.ImplementationRequest}});var Uz=MI();Object.defineProperty(E,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Uz.TypeDefinitionRequest}});var yN=jI();Object.defineProperty(E,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return yN.WorkspaceFoldersRequest}});Object.defineProperty(E,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return yN.DidChangeWorkspaceFoldersNotification}});var jz=KI();Object.defineProperty(E,"ConfigurationRequest",{enumerable:!0,get:function(){return jz.ConfigurationRequest}});var CN=HI();Object.defineProperty(E,"DocumentColorRequest",{enumerable:!0,get:function(){return CN.DocumentColorRequest}});Object.defineProperty(E,"ColorPresentationRequest",{enumerable:!0,get:function(){return CN.ColorPresentationRequest}});var vN=JI();Object.defineProperty(E,"FoldingRangeRequest",{enumerable:!0,get:function(){return vN.FoldingRangeRequest}});Object.defineProperty(E,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return vN.FoldingRangeRefreshRequest}});var Bz=QI();Object.defineProperty(E,"DeclarationRequest",{enumerable:!0,get:function(){return Bz.DeclarationRequest}});var Wz=t_();Object.defineProperty(E,"SelectionRangeRequest",{enumerable:!0,get:function(){return Wz.SelectionRangeRequest}});var ob=s_();Object.defineProperty(E,"WorkDoneProgress",{enumerable:!0,get:function(){return ob.WorkDoneProgress}});Object.defineProperty(E,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return ob.WorkDoneProgressCreateRequest}});Object.defineProperty(E,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return ob.WorkDoneProgressCancelNotification}});var ab=u_();Object.defineProperty(E,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return ab.CallHierarchyIncomingCallsRequest}});Object.defineProperty(E,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return ab.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(E,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return ab.CallHierarchyPrepareRequest}});var Ha=g_();Object.defineProperty(E,"TokenFormat",{enumerable:!0,get:function(){return Ha.TokenFormat}});Object.defineProperty(E,"SemanticTokensRequest",{enumerable:!0,get:function(){return Ha.SemanticTokensRequest}});Object.defineProperty(E,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Ha.SemanticTokensDeltaRequest}});Object.defineProperty(E,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Ha.SemanticTokensRangeRequest}});Object.defineProperty(E,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Ha.SemanticTokensRefreshRequest}});Object.defineProperty(E,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Ha.SemanticTokensRegistrationType}});var Kz=C_();Object.defineProperty(E,"ShowDocumentRequest",{enumerable:!0,get:function(){return Kz.ShowDocumentRequest}});var $z=b_();Object.defineProperty(E,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return $z.LinkedEditingRangeRequest}});var ko=P_();Object.defineProperty(E,"FileOperationPatternKind",{enumerable:!0,get:function(){return ko.FileOperationPatternKind}});Object.defineProperty(E,"DidCreateFilesNotification",{enumerable:!0,get:function(){return ko.DidCreateFilesNotification}});Object.defineProperty(E,"WillCreateFilesRequest",{enumerable:!0,get:function(){return ko.WillCreateFilesRequest}});Object.defineProperty(E,"DidRenameFilesNotification",{enumerable:!0,get:function(){return ko.DidRenameFilesNotification}});Object.defineProperty(E,"WillRenameFilesRequest",{enumerable:!0,get:function(){return ko.WillRenameFilesRequest}});Object.defineProperty(E,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return ko.DidDeleteFilesNotification}});Object.defineProperty(E,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return ko.WillDeleteFilesRequest}});var cb=N_();Object.defineProperty(E,"UniquenessLevel",{enumerable:!0,get:function(){return cb.UniquenessLevel}});Object.defineProperty(E,"MonikerKind",{enumerable:!0,get:function(){return cb.MonikerKind}});Object.defineProperty(E,"MonikerRequest",{enumerable:!0,get:function(){return cb.MonikerRequest}});var ub=q_();Object.defineProperty(E,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return ub.TypeHierarchyPrepareRequest}});Object.defineProperty(E,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return ub.TypeHierarchySubtypesRequest}});Object.defineProperty(E,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return ub.TypeHierarchySupertypesRequest}});var SN=B_();Object.defineProperty(E,"InlineValueRequest",{enumerable:!0,get:function(){return SN.InlineValueRequest}});Object.defineProperty(E,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return SN.InlineValueRefreshRequest}});var lb=V_();Object.defineProperty(E,"InlayHintRequest",{enumerable:!0,get:function(){return lb.InlayHintRequest}});Object.defineProperty(E,"InlayHintResolveRequest",{enumerable:!0,get:function(){return lb.InlayHintResolveRequest}});Object.defineProperty(E,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return lb.InlayHintRefreshRequest}});var Qu=Q_();Object.defineProperty(E,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Qu.DiagnosticServerCancellationData}});Object.defineProperty(E,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Qu.DocumentDiagnosticReportKind}});Object.defineProperty(E,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Qu.DocumentDiagnosticRequest}});Object.defineProperty(E,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Qu.WorkspaceDiagnosticRequest}});Object.defineProperty(E,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Qu.DiagnosticRefreshRequest}});var Rr=s1();Object.defineProperty(E,"NotebookCellKind",{enumerable:!0,get:function(){return Rr.NotebookCellKind}});Object.defineProperty(E,"ExecutionSummary",{enumerable:!0,get:function(){return Rr.ExecutionSummary}});Object.defineProperty(E,"NotebookCell",{enumerable:!0,get:function(){return Rr.NotebookCell}});Object.defineProperty(E,"NotebookDocument",{enumerable:!0,get:function(){return Rr.NotebookDocument}});Object.defineProperty(E,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Rr.NotebookDocumentSyncRegistrationType}});Object.defineProperty(E,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Rr.DidOpenNotebookDocumentNotification}});Object.defineProperty(E,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Rr.NotebookCellArrayChange}});Object.defineProperty(E,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Rr.DidChangeNotebookDocumentNotification}});Object.defineProperty(E,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Rr.DidSaveNotebookDocumentNotification}});Object.defineProperty(E,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Rr.DidCloseNotebookDocumentNotification}});var Vz=c1();Object.defineProperty(E,"InlineCompletionRequest",{enumerable:!0,get:function(){return Vz.InlineCompletionRequest}});var nb;(function(t){function e(n){let i=n;return fn.string(i)||fn.string(i.language)||fn.string(i.scheme)||fn.string(i.pattern)}t.is=e})(nb||(E.TextDocumentFilter=nb={}));var ib;(function(t){function e(n){let i=n;return fn.objectLiteral(i)&&(fn.string(i.notebookType)||fn.string(i.scheme)||fn.string(i.pattern))}t.is=e})(ib||(E.NotebookDocumentFilter=ib={}));var rb;(function(t){function e(n){let i=n;return fn.objectLiteral(i)&&(fn.string(i.notebook)||ib.is(i.notebook))&&(i.language===void 0||fn.string(i.language))}t.is=e})(rb||(E.NotebookCellTextDocumentFilter=rb={}));var sb;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let i of n)if(!fn.string(i)&&!nb.is(i)&&!rb.is(i))return!1;return!0}t.is=e})(sb||(E.DocumentSelector=sb={}));var l1;(function(t){t.method="client/registerCapability",t.messageDirection=ne.MessageDirection.serverToClient,t.type=new ne.ProtocolRequestType(t.method)})(l1||(E.RegistrationRequest=l1={}));var d1;(function(t){t.method="client/unregisterCapability",t.messageDirection=ne.MessageDirection.serverToClient,t.type=new ne.ProtocolRequestType(t.method)})(d1||(E.UnregistrationRequest=d1={}));var f1;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(f1||(E.ResourceOperationKind=f1={}));var p1;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(p1||(E.FailureHandlingKind=p1={}));var h1;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(h1||(E.PositionEncodingKind=h1={}));var g1;(function(t){function e(n){let i=n;return i&&fn.string(i.id)&&i.id.length>0}t.hasId=e})(g1||(E.StaticRegistrationOptions=g1={}));var m1;(function(t){function e(n){let i=n;return i&&(i.documentSelector===null||sb.is(i.documentSelector))}t.is=e})(m1||(E.TextDocumentRegistrationOptions=m1={}));var y1;(function(t){function e(i){let r=i;return fn.objectLiteral(r)&&(r.workDoneProgress===void 0||fn.boolean(r.workDoneProgress))}t.is=e;function n(i){let r=i;return r&&fn.boolean(r.workDoneProgress)}t.hasWorkDoneProgress=n})(y1||(E.WorkDoneProgressOptions=y1={}));var C1;(function(t){t.method="initialize",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(C1||(E.InitializeRequest=C1={}));var v1;(function(t){t.unknownProtocolVersion=1})(v1||(E.InitializeErrorCodes=v1={}));var S1;(function(t){t.method="initialized",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolNotificationType(t.method)})(S1||(E.InitializedNotification=S1={}));var b1;(function(t){t.method="shutdown",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType0(t.method)})(b1||(E.ShutdownRequest=b1={}));var D1;(function(t){t.method="exit",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolNotificationType0(t.method)})(D1||(E.ExitNotification=D1={}));var T1;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolNotificationType(t.method)})(T1||(E.DidChangeConfigurationNotification=T1={}));var w1;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(w1||(E.MessageType=w1={}));var x1;(function(t){t.method="window/showMessage",t.messageDirection=ne.MessageDirection.serverToClient,t.type=new ne.ProtocolNotificationType(t.method)})(x1||(E.ShowMessageNotification=x1={}));var E1;(function(t){t.method="window/showMessageRequest",t.messageDirection=ne.MessageDirection.serverToClient,t.type=new ne.ProtocolRequestType(t.method)})(E1||(E.ShowMessageRequest=E1={}));var k1;(function(t){t.method="window/logMessage",t.messageDirection=ne.MessageDirection.serverToClient,t.type=new ne.ProtocolNotificationType(t.method)})(k1||(E.LogMessageNotification=k1={}));var F1;(function(t){t.method="telemetry/event",t.messageDirection=ne.MessageDirection.serverToClient,t.type=new ne.ProtocolNotificationType(t.method)})(F1||(E.TelemetryEventNotification=F1={}));var P1;(function(t){t.None=0,t.Full=1,t.Incremental=2})(P1||(E.TextDocumentSyncKind=P1={}));var R1;(function(t){t.method="textDocument/didOpen",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolNotificationType(t.method)})(R1||(E.DidOpenTextDocumentNotification=R1={}));var A1;(function(t){function e(i){let r=i;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}t.isIncremental=e;function n(i){let r=i;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}t.isFull=n})(A1||(E.TextDocumentContentChangeEvent=A1={}));var I1;(function(t){t.method="textDocument/didChange",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolNotificationType(t.method)})(I1||(E.DidChangeTextDocumentNotification=I1={}));var _1;(function(t){t.method="textDocument/didClose",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolNotificationType(t.method)})(_1||(E.DidCloseTextDocumentNotification=_1={}));var N1;(function(t){t.method="textDocument/didSave",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolNotificationType(t.method)})(N1||(E.DidSaveTextDocumentNotification=N1={}));var O1;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(O1||(E.TextDocumentSaveReason=O1={}));var L1;(function(t){t.method="textDocument/willSave",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolNotificationType(t.method)})(L1||(E.WillSaveTextDocumentNotification=L1={}));var M1;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(M1||(E.WillSaveTextDocumentWaitUntilRequest=M1={}));var q1;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolNotificationType(t.method)})(q1||(E.DidChangeWatchedFilesNotification=q1={}));var U1;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(U1||(E.FileChangeType=U1={}));var j1;(function(t){function e(n){let i=n;return fn.objectLiteral(i)&&(u1.URI.is(i.baseUri)||u1.WorkspaceFolder.is(i.baseUri))&&fn.string(i.pattern)}t.is=e})(j1||(E.RelativePattern=j1={}));var B1;(function(t){t.Create=1,t.Change=2,t.Delete=4})(B1||(E.WatchKind=B1={}));var W1;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=ne.MessageDirection.serverToClient,t.type=new ne.ProtocolNotificationType(t.method)})(W1||(E.PublishDiagnosticsNotification=W1={}));var K1;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(K1||(E.CompletionTriggerKind=K1={}));var $1;(function(t){t.method="textDocument/completion",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})($1||(E.CompletionRequest=$1={}));var V1;(function(t){t.method="completionItem/resolve",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(V1||(E.CompletionResolveRequest=V1={}));var H1;(function(t){t.method="textDocument/hover",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(H1||(E.HoverRequest=H1={}));var z1;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(z1||(E.SignatureHelpTriggerKind=z1={}));var G1;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(G1||(E.SignatureHelpRequest=G1={}));var J1;(function(t){t.method="textDocument/definition",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(J1||(E.DefinitionRequest=J1={}));var X1;(function(t){t.method="textDocument/references",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(X1||(E.ReferencesRequest=X1={}));var Y1;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(Y1||(E.DocumentHighlightRequest=Y1={}));var Q1;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(Q1||(E.DocumentSymbolRequest=Q1={}));var Z1;(function(t){t.method="textDocument/codeAction",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(Z1||(E.CodeActionRequest=Z1={}));var eN;(function(t){t.method="codeAction/resolve",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(eN||(E.CodeActionResolveRequest=eN={}));var tN;(function(t){t.method="workspace/symbol",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(tN||(E.WorkspaceSymbolRequest=tN={}));var nN;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(nN||(E.WorkspaceSymbolResolveRequest=nN={}));var iN;(function(t){t.method="textDocument/codeLens",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(iN||(E.CodeLensRequest=iN={}));var rN;(function(t){t.method="codeLens/resolve",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(rN||(E.CodeLensResolveRequest=rN={}));var sN;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=ne.MessageDirection.serverToClient,t.type=new ne.ProtocolRequestType0(t.method)})(sN||(E.CodeLensRefreshRequest=sN={}));var oN;(function(t){t.method="textDocument/documentLink",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(oN||(E.DocumentLinkRequest=oN={}));var aN;(function(t){t.method="documentLink/resolve",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(aN||(E.DocumentLinkResolveRequest=aN={}));var cN;(function(t){t.method="textDocument/formatting",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(cN||(E.DocumentFormattingRequest=cN={}));var uN;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(uN||(E.DocumentRangeFormattingRequest=uN={}));var lN;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(lN||(E.DocumentRangesFormattingRequest=lN={}));var dN;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(dN||(E.DocumentOnTypeFormattingRequest=dN={}));var fN;(function(t){t.Identifier=1})(fN||(E.PrepareSupportDefaultBehavior=fN={}));var pN;(function(t){t.method="textDocument/rename",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(pN||(E.RenameRequest=pN={}));var hN;(function(t){t.method="textDocument/prepareRename",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(hN||(E.PrepareRenameRequest=hN={}));var gN;(function(t){t.method="workspace/executeCommand",t.messageDirection=ne.MessageDirection.clientToServer,t.type=new ne.ProtocolRequestType(t.method)})(gN||(E.ExecuteCommandRequest=gN={}));var mN;(function(t){t.method="workspace/applyEdit",t.messageDirection=ne.MessageDirection.serverToClient,t.type=new ne.ProtocolRequestType("workspace/applyEdit")})(mN||(E.ApplyWorkspaceEditRequest=mN={}))});var TN=F(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.createProtocolConnection=void 0;var DN=Eo();function Hz(t,e,n,i){return DN.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),(0,DN.createMessageConnection)(t,e,n,i)}Lp.createProtocolConnection=Hz});var xN=F(oi=>{"use strict";var zz=oi&&oi.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),Mp=oi&&oi.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&zz(e,t,n)};Object.defineProperty(oi,"__esModule",{value:!0});oi.LSPErrorCodes=oi.createProtocolConnection=void 0;Mp(Eo(),oi);Mp(Sp(),oi);Mp(wt(),oi);Mp(bN(),oi);var Gz=TN();Object.defineProperty(oi,"createProtocolConnection",{enumerable:!0,get:function(){return Gz.createProtocolConnection}});var wN;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(wN||(oi.LSPErrorCodes=wN={}))});var Pe=F(Ar=>{"use strict";var Jz=Ar&&Ar.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),EN=Ar&&Ar.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Jz(e,t,n)};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.createProtocolConnection=void 0;var Xz=GS();EN(GS(),Ar);EN(xN(),Ar);function Yz(t,e,n,i){return(0,Xz.createMessageConnection)(t,e,n,i)}Ar.createProtocolConnection=Yz});var qp=F(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.forEach=Fn.mapAsync=Fn.map=Fn.clearTestMode=Fn.setTestMode=Fn.Semaphore=Fn.Delayer=void 0;var el=Pe(),db=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,n=this.defaultDelay){return this.task=e,n>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(i=>{this.onSuccess=i}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var i=this.task();return this.task=void 0,i})),(n>=0||this.timeout===void 0)&&(this.timeout=(0,el.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},n>=0?n:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};Fn.Delayer=db;var fb=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,i)=>{this._waiting.push({thunk:e,resolve:n,reject:i}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,el.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(i=>{this._active--,e.resolve(i),this.runNext()},i=>{this._active--,e.reject(i),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Fn.Semaphore=fb;var pb=!1;function Qz(){pb=!0}Fn.setTestMode=Qz;function Zz(){pb=!1}Fn.clearTestMode=Zz;var kN=15,Zu=class{constructor(e=kN){this.yieldAfter=pb===!0?Math.max(e,2):Math.max(e,kN),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,n=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||n<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function e9(t,e,n,i){if(t.length===0)return[];let r=new Array(t.length),s=new Zu(i?.yieldAfter);function o(c){s.start();for(let u=c;u<t.length;u++)if(r[u]=e(t[u]),s.shouldYield())return i?.yieldCallback&&i.yieldCallback(),u+1;return-1}let a=o(0);for(;a!==-1&&!(n!==void 0&&n.isCancellationRequested);)a=await new Promise(c=>{(0,el.RAL)().timer.setImmediate(()=>{c(o(a))})});return r}Fn.map=e9;async function t9(t,e,n,i){if(t.length===0)return[];let r=new Array(t.length),s=new Zu(i?.yieldAfter);async function o(c){s.start();for(let u=c;u<t.length;u++)if(r[u]=await e(t[u],n),s.shouldYield())return i?.yieldCallback&&i.yieldCallback(),u+1;return-1}let a=await o(0);for(;a!==-1&&!(n!==void 0&&n.isCancellationRequested);)a=await new Promise(c=>{(0,el.RAL)().timer.setImmediate(()=>{c(o(a))})});return r}Fn.mapAsync=t9;async function n9(t,e,n,i){if(t.length===0)return;let r=new Zu(i?.yieldAfter);function s(a){r.start();for(let c=a;c<t.length;c++)if(e(t[c]),r.shouldYield())return i?.yieldCallback&&i.yieldCallback(),c+1;return-1}let o=s(0);for(;o!==-1&&!(n!==void 0&&n.isCancellationRequested);)o=await new Promise(a=>{(0,el.RAL)().timer.setImmediate(()=>{a(s(o))})})}Fn.forEach=n9});var mb=F(gb=>{"use strict";Object.defineProperty(gb,"__esModule",{value:!0});var i9=require("vscode"),hb=class extends i9.CompletionItem{constructor(e){super(e)}};gb.default=hb});var vb=F(Cb=>{"use strict";Object.defineProperty(Cb,"__esModule",{value:!0});var r9=require("vscode"),yb=class extends r9.CodeLens{constructor(e){super(e)}};Cb.default=yb});var Db=F(bb=>{"use strict";Object.defineProperty(bb,"__esModule",{value:!0});var s9=require("vscode"),Sb=class extends s9.DocumentLink{constructor(e,n){super(e,n)}};bb.default=Sb});var xb=F(wb=>{"use strict";Object.defineProperty(wb,"__esModule",{value:!0});var o9=require("vscode"),Tb=class extends o9.CodeAction{constructor(e,n){super(e),this.data=n}};wb.default=Tb});var Fb=F(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.ProtocolDiagnostic=za.DiagnosticCode=void 0;var a9=require("vscode"),Eb=qi(),FN;(function(t){function e(n){let i=n;return i!=null&&(Eb.number(i.value)||Eb.string(i.value))&&Eb.string(i.target)}t.is=e})(FN||(za.DiagnosticCode=FN={}));var kb=class extends a9.Diagnostic{constructor(e,n,i,r){super(e,n,i),this.data=r,this.hasDiagnosticCode=!1}};za.ProtocolDiagnostic=kb});var Ab=F(Rb=>{"use strict";Object.defineProperty(Rb,"__esModule",{value:!0});var c9=require("vscode"),Pb=class extends c9.CallHierarchyItem{constructor(e,n,i,r,s,o,a){super(e,n,i,r,s,o),a!==void 0&&(this.data=a)}};Rb.default=Pb});var Nb=F(_b=>{"use strict";Object.defineProperty(_b,"__esModule",{value:!0});var u9=require("vscode"),Ib=class extends u9.TypeHierarchyItem{constructor(e,n,i,r,s,o,a){super(e,n,i,r,s,o),a!==void 0&&(this.data=a)}};_b.default=Ib});var Mb=F(Lb=>{"use strict";Object.defineProperty(Lb,"__esModule",{value:!0});var Up=require("vscode"),Ob=class extends Up.SymbolInformation{constructor(e,n,i,r,s){let o=!(r instanceof Up.Uri);super(e,n,i,o?r:new Up.Location(r,new Up.Range(0,0,0,0))),this.hasRange=o,s!==void 0&&(this.data=s)}};Lb.default=Ob});var jb=F(Ub=>{"use strict";Object.defineProperty(Ub,"__esModule",{value:!0});var l9=require("vscode"),qb=class extends l9.InlayHint{constructor(e,n,i){super(e,n,i)}};Ub.default=qb});var IN=F(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});jp.createConverter=void 0;var Qt=require("vscode"),Re=Pe(),Fo=qi(),PN=qp(),d9=mb(),f9=vb(),p9=Db(),RN=xb(),AN=Fb(),h9=Ab(),g9=Nb(),m9=Mb(),y9=jb(),Bb;(function(t){function e(n){let i=n;return i&&!!i.inserting&&!!i.replacing}t.is=e})(Bb||(Bb={}));function C9(t){let n=t||(b=>b.toString());function i(b){return n(b)}function r(b){return{uri:n(b.uri)}}function s(b){return{uri:n(b.uri),languageId:b.languageId,version:b.version,text:b.getText()}}function o(b){return{uri:n(b.uri),version:b.version}}function a(b){return{textDocument:s(b)}}function c(b){let K=b;return!!K.document&&!!K.contentChanges}function u(b){let K=b;return!!K.uri&&!!K.version}function f(b,K,ce){if(u(b))return{textDocument:{uri:n(b.uri),version:b.version},contentChanges:[{text:b.getText()}]};if(c(b)){let Xe=K,O=ce;return{textDocument:{uri:n(Xe),version:O},contentChanges:b.contentChanges.map(R=>{let I=R.range;return{range:{start:{line:I.start.line,character:I.start.character},end:{line:I.end.line,character:I.end.character}},rangeLength:R.rangeLength,text:R.text}})}}else throw Error("Unsupported text document change parameter")}function g(b){return{textDocument:r(b)}}function p(b,K=!1){let ce={textDocument:r(b)};return K&&(ce.text=b.getText()),ce}function l(b){switch(b){case Qt.TextDocumentSaveReason.Manual:return Re.TextDocumentSaveReason.Manual;case Qt.TextDocumentSaveReason.AfterDelay:return Re.TextDocumentSaveReason.AfterDelay;case Qt.TextDocumentSaveReason.FocusOut:return Re.TextDocumentSaveReason.FocusOut}return Re.TextDocumentSaveReason.Manual}function d(b){return{textDocument:r(b.document),reason:l(b.reason)}}function h(b){return{files:b.files.map(K=>({uri:n(K)}))}}function m(b){return{files:b.files.map(K=>({oldUri:n(K.oldUri),newUri:n(K.newUri)}))}}function C(b){return{files:b.files.map(K=>({uri:n(K)}))}}function D(b){return{files:b.files.map(K=>({uri:n(K)}))}}function w(b){return{files:b.files.map(K=>({oldUri:n(K.oldUri),newUri:n(K.newUri)}))}}function k(b){return{files:b.files.map(K=>({uri:n(K)}))}}function A(b,K){return{textDocument:r(b),position:he(K)}}function B(b){switch(b){case Qt.CompletionTriggerKind.TriggerCharacter:return Re.CompletionTriggerKind.TriggerCharacter;case Qt.CompletionTriggerKind.TriggerForIncompleteCompletions:return Re.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Re.CompletionTriggerKind.Invoked}}function W(b,K,ce){return{textDocument:r(b),position:he(K),context:{triggerKind:B(ce.triggerKind),triggerCharacter:ce.triggerCharacter}}}function U(b){switch(b){case Qt.SignatureHelpTriggerKind.Invoke:return Re.SignatureHelpTriggerKind.Invoked;case Qt.SignatureHelpTriggerKind.TriggerCharacter:return Re.SignatureHelpTriggerKind.TriggerCharacter;case Qt.SignatureHelpTriggerKind.ContentChange:return Re.SignatureHelpTriggerKind.ContentChange}}function ee(b){return{label:b.label}}function Z(b){return b.map(ee)}function H(b){return{label:b.label,parameters:Z(b.parameters)}}function M(b){return b.map(H)}function V(b){return b===void 0?b:{signatures:M(b.signatures),activeSignature:b.activeSignature,activeParameter:b.activeParameter}}function Q(b,K,ce){return{textDocument:r(b),position:he(K),context:{isRetrigger:ce.isRetrigger,triggerCharacter:ce.triggerCharacter,triggerKind:U(ce.triggerKind),activeSignatureHelp:V(ce.activeSignatureHelp)}}}function he(b){return{line:b.line,character:b.character}}function de(b){return b==null?b:{line:b.line>Re.uinteger.MAX_VALUE?Re.uinteger.MAX_VALUE:b.line,character:b.character>Re.uinteger.MAX_VALUE?Re.uinteger.MAX_VALUE:b.character}}function ge(b,K){return PN.map(b,de,K)}function Ge(b){return b.map(de)}function Ee(b){return b==null?b:{start:de(b.start),end:de(b.end)}}function ke(b){return b.map(Ee)}function ht(b){return b==null?b:Re.Location.create(i(b.uri),Ee(b.range))}function At(b){switch(b){case Qt.DiagnosticSeverity.Error:return Re.DiagnosticSeverity.Error;case Qt.DiagnosticSeverity.Warning:return Re.DiagnosticSeverity.Warning;case Qt.DiagnosticSeverity.Information:return Re.DiagnosticSeverity.Information;case Qt.DiagnosticSeverity.Hint:return Re.DiagnosticSeverity.Hint}}function tn(b){if(!b)return;let K=[];for(let ce of b){let Xe=St(ce);Xe!==void 0&&K.push(Xe)}return K.length>0?K:void 0}function St(b){switch(b){case Qt.DiagnosticTag.Unnecessary:return Re.DiagnosticTag.Unnecessary;case Qt.DiagnosticTag.Deprecated:return Re.DiagnosticTag.Deprecated;default:return}}function Jt(b){return{message:b.message,location:ht(b.location)}}function an(b){return b.map(Jt)}function Jn(b){if(b!=null)return Fo.number(b)||Fo.string(b)?b:{value:b.value,target:i(b.target)}}function qn(b){let K=Re.Diagnostic.create(Ee(b.range),b.message),ce=b instanceof AN.ProtocolDiagnostic?b:void 0;ce!==void 0&&ce.data!==void 0&&(K.data=ce.data);let Xe=Jn(b.code);return AN.DiagnosticCode.is(Xe)?ce!==void 0&&ce.hasDiagnosticCode?K.code=Xe:(K.code=Xe.value,K.codeDescription={href:Xe.target}):K.code=Xe,Fo.number(b.severity)&&(K.severity=At(b.severity)),Array.isArray(b.tags)&&(K.tags=tn(b.tags)),b.relatedInformation&&(K.relatedInformation=an(b.relatedInformation)),b.source&&(K.source=b.source),K}function Un(b,K){return b==null?b:PN.map(b,qn,K)}function jn(b){return b==null?b:b.map(qn)}function Xn(b,K){switch(b){case"$string":return K;case Re.MarkupKind.PlainText:return{kind:b,value:K};case Re.MarkupKind.Markdown:return{kind:b,value:K.value};default:return`Unsupported Markup content received. Kind is: ${b}`}}function Qe(b){switch(b){case Qt.CompletionItemTag.Deprecated:return Re.CompletionItemTag.Deprecated}}function pi(b){if(b===void 0)return b;let K=[];for(let ce of b){let Xe=Qe(ce);Xe!==void 0&&K.push(Xe)}return K}function Bn(b,K){return K!==void 0?K:b+1}function nn(b,K=!1){let ce,Xe;Fo.string(b.label)?ce=b.label:(ce=b.label.label,K&&(b.label.detail!==void 0||b.label.description!==void 0)&&(Xe={detail:b.label.detail,description:b.label.description}));let O={label:ce};Xe!==void 0&&(O.labelDetails=Xe);let T=b instanceof d9.default?b:void 0;b.detail&&(O.detail=b.detail),b.documentation&&(!T||T.documentationFormat==="$string"?O.documentation=b.documentation:O.documentation=Xn(T.documentationFormat,b.documentation)),b.filterText&&(O.filterText=b.filterText),Ai(O,b),Fo.number(b.kind)&&(O.kind=Bn(b.kind,T&&T.originalItemKind)),b.sortText&&(O.sortText=b.sortText),b.additionalTextEdits&&(O.additionalTextEdits=ot(b.additionalTextEdits)),b.commitCharacters&&(O.commitCharacters=b.commitCharacters.slice()),b.command&&(O.command=$(b.command)),(b.preselect===!0||b.preselect===!1)&&(O.preselect=b.preselect);let R=pi(b.tags);if(T){if(T.data!==void 0&&(O.data=T.data),T.deprecated===!0||T.deprecated===!1){if(T.deprecated===!0&&R!==void 0&&R.length>0){let I=R.indexOf(Qt.CompletionItemTag.Deprecated);I!==-1&&R.splice(I,1)}O.deprecated=T.deprecated}T.insertTextMode!==void 0&&(O.insertTextMode=T.insertTextMode)}return R!==void 0&&R.length>0&&(O.tags=R),O.insertTextMode===void 0&&b.keepWhitespace===!0&&(O.insertTextMode=Re.InsertTextMode.adjustIndentation),O}function Ai(b,K){let ce=Re.InsertTextFormat.PlainText,Xe,O;K.textEdit?(Xe=K.textEdit.newText,O=K.textEdit.range):K.insertText instanceof Qt.SnippetString?(ce=Re.InsertTextFormat.Snippet,Xe=K.insertText.value):Xe=K.insertText,K.range&&(O=K.range),b.insertTextFormat=ce,K.fromEdit&&Xe!==void 0&&O!==void 0?b.textEdit=cn(Xe,O):b.insertText=Xe}function cn(b,K){return Bb.is(K)?Re.InsertReplaceEdit.create(b,Ee(K.inserting),Ee(K.replacing)):{newText:b,range:Ee(K)}}function Yn(b){return{range:Ee(b.range),newText:b.newText}}function ot(b){return b==null?b:b.map(Yn)}function bt(b){return b<=Qt.SymbolKind.TypeParameter?b+1:Re.SymbolKind.Property}function Vt(b){return b}function mn(b){return b.map(Vt)}function Ut(b,K,ce){return{textDocument:r(b),position:he(K),context:{includeDeclaration:ce.includeDeclaration}}}async function Wn(b,K){let ce=Re.CodeAction.create(b.title);if(b instanceof RN.default&&b.data!==void 0&&(ce.data=b.data),b.kind!==void 0&&(ce.kind=v(b.kind)),b.diagnostics!==void 0&&(ce.diagnostics=await Un(b.diagnostics,K)),b.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return b.command!==void 0&&(ce.command=$(b.command)),b.isPreferred!==void 0&&(ce.isPreferred=b.isPreferred),b.disabled!==void 0&&(ce.disabled={reason:b.disabled.reason}),ce}function Qn(b){let K=Re.CodeAction.create(b.title);if(b instanceof RN.default&&b.data!==void 0&&(K.data=b.data),b.kind!==void 0&&(K.kind=v(b.kind)),b.diagnostics!==void 0&&(K.diagnostics=jn(b.diagnostics)),b.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return b.command!==void 0&&(K.command=$(b.command)),b.isPreferred!==void 0&&(K.isPreferred=b.isPreferred),b.disabled!==void 0&&(K.disabled={reason:b.disabled.reason}),K}async function yn(b,K){if(b==null)return b;let ce;return b.only&&Fo.string(b.only.value)&&(ce=[b.only.value]),Re.CodeActionContext.create(await Un(b.diagnostics,K),ce,Dt(b.triggerKind))}function Zn(b){if(b==null)return b;let K;return b.only&&Fo.string(b.only.value)&&(K=[b.only.value]),Re.CodeActionContext.create(jn(b.diagnostics),K,Dt(b.triggerKind))}function Dt(b){switch(b){case Qt.CodeActionTriggerKind.Invoke:return Re.CodeActionTriggerKind.Invoked;case Qt.CodeActionTriggerKind.Automatic:return Re.CodeActionTriggerKind.Automatic;default:return}}function v(b){if(b!=null)return b.value}function P(b){return b==null?b:Re.InlineValueContext.create(b.frameId,Ee(b.stoppedLocation))}function q(b,K,ce){return{context:Re.InlineCompletionContext.create(ce.triggerKind,ce.selectedCompletionInfo),textDocument:r(b),position:de(K)}}function $(b){let K=Re.Command.create(b.title,b.command);return b.arguments&&(K.arguments=b.arguments),K}function fe(b){let K=Re.CodeLens.create(Ee(b.range));return b.command&&(K.command=$(b.command)),b instanceof f9.default&&b.data&&(K.data=b.data),K}function ue(b,K){let ce={tabSize:b.tabSize,insertSpaces:b.insertSpaces};return K.trimTrailingWhitespace&&(ce.trimTrailingWhitespace=!0),K.trimFinalNewlines&&(ce.trimFinalNewlines=!0),K.insertFinalNewline&&(ce.insertFinalNewline=!0),ce}function ve(b){return{textDocument:r(b)}}function Se(b){return{textDocument:r(b)}}function ie(b){let K=Re.DocumentLink.create(Ee(b.range));b.target&&(K.target=i(b.target)),b.tooltip!==void 0&&(K.tooltip=b.tooltip);let ce=b instanceof p9.default?b:void 0;return ce&&ce.data&&(K.data=ce.data),K}function pe(b){return{textDocument:r(b)}}function se(b){let K={name:b.name,kind:bt(b.kind),uri:i(b.uri),range:Ee(b.range),selectionRange:Ee(b.selectionRange)};return b.detail!==void 0&&b.detail.length>0&&(K.detail=b.detail),b.tags!==void 0&&(K.tags=mn(b.tags)),b instanceof h9.default&&b.data!==void 0&&(K.data=b.data),K}function N(b){let K={name:b.name,kind:bt(b.kind),uri:i(b.uri),range:Ee(b.range),selectionRange:Ee(b.selectionRange)};return b.detail!==void 0&&b.detail.length>0&&(K.detail=b.detail),b.tags!==void 0&&(K.tags=mn(b.tags)),b instanceof g9.default&&b.data!==void 0&&(K.data=b.data),K}function L(b){let K=b instanceof m9.default?{name:b.name,kind:bt(b.kind),location:b.hasRange?ht(b.location):{uri:n(b.location.uri)},data:b.data}:{name:b.name,kind:bt(b.kind),location:ht(b.location)};return b.tags!==void 0&&(K.tags=mn(b.tags)),b.containerName!==""&&(K.containerName=b.containerName),K}function J(b){let K=typeof b.label=="string"?b.label:b.label.map(be),ce=Re.InlayHint.create(de(b.position),K);return b.kind!==void 0&&(ce.kind=b.kind),b.textEdits!==void 0&&(ce.textEdits=ot(b.textEdits)),b.tooltip!==void 0&&(ce.tooltip=jt(b.tooltip)),b.paddingLeft!==void 0&&(ce.paddingLeft=b.paddingLeft),b.paddingRight!==void 0&&(ce.paddingRight=b.paddingRight),b instanceof y9.default&&b.data!==void 0&&(ce.data=b.data),ce}function be(b){let K=Re.InlayHintLabelPart.create(b.value);return b.location!==void 0&&(K.location=ht(b.location)),b.command!==void 0&&(K.command=$(b.command)),b.tooltip!==void 0&&(K.tooltip=jt(b.tooltip)),K}function jt(b){return typeof b=="string"?b:{kind:Re.MarkupKind.Markdown,value:b.value}}return{asUri:i,asTextDocumentIdentifier:r,asTextDocumentItem:s,asVersionedTextDocumentIdentifier:o,asOpenTextDocumentParams:a,asChangeTextDocumentParams:f,asCloseTextDocumentParams:g,asSaveTextDocumentParams:p,asWillSaveTextDocumentParams:d,asDidCreateFilesParams:h,asDidRenameFilesParams:m,asDidDeleteFilesParams:C,asWillCreateFilesParams:D,asWillRenameFilesParams:w,asWillDeleteFilesParams:k,asTextDocumentPositionParams:A,asCompletionParams:W,asSignatureHelpParams:Q,asWorkerPosition:he,asRange:Ee,asRanges:ke,asPosition:de,asPositions:ge,asPositionsSync:Ge,asLocation:ht,asDiagnosticSeverity:At,asDiagnosticTag:St,asDiagnostic:qn,asDiagnostics:Un,asDiagnosticsSync:jn,asCompletionItem:nn,asTextEdit:Yn,asSymbolKind:bt,asSymbolTag:Vt,asSymbolTags:mn,asReferenceParams:Ut,asCodeAction:Wn,asCodeActionSync:Qn,asCodeActionContext:yn,asCodeActionContextSync:Zn,asInlineValueContext:P,asCommand:$,asCodeLens:fe,asFormattingOptions:ue,asDocumentSymbolParams:ve,asCodeLensParams:Se,asDocumentLink:ie,asDocumentLinkParams:pe,asCallHierarchyItem:se,asTypeHierarchyItem:N,asInlayHint:J,asWorkspaceSymbol:L,asInlineCompletionParams:q}}jp.createConverter=C9});var ON=F(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.createConverter=void 0;var re=require("vscode"),we=Pe(),Bi=qi(),Je=qp(),v9=mb(),S9=vb(),b9=Db(),D9=xb(),_N=Fb(),T9=Ab(),w9=Nb(),x9=Mb(),E9=jb(),NN=Pe(),Bp;(function(t){function e(n){let i=n;return i&&Bi.string(i.language)&&Bi.string(i.value)}t.is=e})(Bp||(Bp={}));function k9(t,e,n){let r=t||(y=>re.Uri.parse(y));function s(y){return r(y)}function o(y){let _=[];for(let Y of y)if(typeof Y=="string")_.push(Y);else if(NN.NotebookCellTextDocumentFilter.is(Y))if(typeof Y.notebook=="string")_.push({notebookType:Y.notebook,language:Y.language});else{let le=Y.notebook.notebookType??"*";_.push({notebookType:le,scheme:Y.notebook.scheme,pattern:Y.notebook.pattern,language:Y.language})}else NN.TextDocumentFilter.is(Y)&&_.push({language:Y.language,scheme:Y.scheme,pattern:Y.pattern});return _}async function a(y,_){return Je.map(y,u,_)}function c(y){let _=new Array(y.length);for(let Y=0;Y<y.length;Y++)_[Y]=u(y[Y]);return _}function u(y){let _=new _N.ProtocolDiagnostic(d(y.range),y.message,m(y.severity),y.data);if(y.code!==void 0){if(typeof y.code=="string"||typeof y.code=="number")we.CodeDescription.is(y.codeDescription)?_.code={value:y.code,target:s(y.codeDescription.href)}:_.code=y.code;else if(_N.DiagnosticCode.is(y.code)){_.hasDiagnosticCode=!0;let Y=y.code;_.code={value:Y.value,target:s(Y.target)}}}return y.source&&(_.source=y.source),y.relatedInformation&&(_.relatedInformation=f(y.relatedInformation)),Array.isArray(y.tags)&&(_.tags=g(y.tags)),_}function f(y){let _=new Array(y.length);for(let Y=0;Y<y.length;Y++){let le=y[Y];_[Y]=new re.DiagnosticRelatedInformation(At(le.location),le.message)}return _}function g(y){if(!y)return;let _=[];for(let Y of y){let le=p(Y);le!==void 0&&_.push(le)}return _.length>0?_:void 0}function p(y){switch(y){case we.DiagnosticTag.Unnecessary:return re.DiagnosticTag.Unnecessary;case we.DiagnosticTag.Deprecated:return re.DiagnosticTag.Deprecated;default:return}}function l(y){return y?new re.Position(y.line,y.character):void 0}function d(y){return y?new re.Range(y.start.line,y.start.character,y.end.line,y.end.character):void 0}async function h(y,_){return Je.map(y,Y=>new re.Range(Y.start.line,Y.start.character,Y.end.line,Y.end.character),_)}function m(y){if(y==null)return re.DiagnosticSeverity.Error;switch(y){case we.DiagnosticSeverity.Error:return re.DiagnosticSeverity.Error;case we.DiagnosticSeverity.Warning:return re.DiagnosticSeverity.Warning;case we.DiagnosticSeverity.Information:return re.DiagnosticSeverity.Information;case we.DiagnosticSeverity.Hint:return re.DiagnosticSeverity.Hint}return re.DiagnosticSeverity.Error}function C(y){if(Bi.string(y))return w(y);if(Bp.is(y))return w().appendCodeblock(y.value,y.language);if(Array.isArray(y)){let _=[];for(let Y of y){let le=w();Bp.is(Y)?le.appendCodeblock(Y.value,Y.language):le.appendMarkdown(Y),_.push(le)}return _}else return w(y)}function D(y){if(Bi.string(y))return y;switch(y.kind){case we.MarkupKind.Markdown:return w(y.value);case we.MarkupKind.PlainText:return y.value;default:return`Unsupported Markup content received. Kind is: ${y.kind}`}}function w(y){let _;if(y===void 0||typeof y=="string")_=new re.MarkdownString(y);else switch(y.kind){case we.MarkupKind.Markdown:_=new re.MarkdownString(y.value);break;case we.MarkupKind.PlainText:_=new re.MarkdownString,_.appendText(y.value);break;default:_=new re.MarkdownString,_.appendText(`Unsupported Markup content received. Kind is: ${y.kind}`);break}return _.isTrusted=e,_.supportHtml=n,_}function k(y){if(y)return new re.Hover(C(y.contents),d(y.range))}async function A(y,_,Y){if(!y)return;if(Array.isArray(y))return Je.map(y,Cr=>Z(Cr,_),Y);let le=y,{defaultRange:un,commitCharacters:Cn}=B(le,_),lt=await Je.map(le.items,Cr=>Z(Cr,Cn,un,le.itemDefaults?.insertTextMode,le.itemDefaults?.insertTextFormat,le.itemDefaults?.data),Y);return new re.CompletionList(lt,le.isIncomplete)}function B(y,_){let Y=y.itemDefaults?.editRange,le=y.itemDefaults?.commitCharacters??_;return we.Range.is(Y)?{defaultRange:d(Y),commitCharacters:le}:Y!==void 0?{defaultRange:{inserting:d(Y.insert),replacing:d(Y.replace)},commitCharacters:le}:{defaultRange:void 0,commitCharacters:le}}function W(y){return we.CompletionItemKind.Text<=y&&y<=we.CompletionItemKind.TypeParameter?[y-1,void 0]:[re.CompletionItemKind.Text,y]}function U(y){switch(y){case we.CompletionItemTag.Deprecated:return re.CompletionItemTag.Deprecated}}function ee(y){if(y==null)return[];let _=[];for(let Y of y){let le=U(Y);le!==void 0&&_.push(le)}return _}function Z(y,_,Y,le,un,Cn){let lt=ee(y.tags),Cr=H(y),ft=new v9.default(Cr);y.detail&&(ft.detail=y.detail),y.documentation&&(ft.documentation=D(y.documentation),ft.documentationFormat=Bi.string(y.documentation)?"$string":y.documentation.kind),y.filterText&&(ft.filterText=y.filterText);let gd=M(y,Y,un);if(gd&&(ft.insertText=gd.text,ft.range=gd.range,ft.fromEdit=gd.fromEdit),Bi.number(y.kind)){let[Jj,VE]=W(y.kind);ft.kind=Jj,VE&&(ft.originalItemKind=VE)}y.sortText&&(ft.sortText=y.sortText),y.additionalTextEdits&&(ft.additionalTextEdits=de(y.additionalTextEdits));let KE=y.commitCharacters!==void 0?Bi.stringArray(y.commitCharacters)?y.commitCharacters:void 0:_;KE&&(ft.commitCharacters=KE.slice()),y.command&&(ft.command=ot(y.command)),(y.deprecated===!0||y.deprecated===!1)&&(ft.deprecated=y.deprecated,y.deprecated===!0&&lt.push(re.CompletionItemTag.Deprecated)),(y.preselect===!0||y.preselect===!1)&&(ft.preselect=y.preselect);let $E=y.data??Cn;$E!==void 0&&(ft.data=$E),lt.length>0&&(ft.tags=lt);let Mm=y.insertTextMode??le;return Mm!==void 0&&(ft.insertTextMode=Mm,Mm===we.InsertTextMode.asIs&&(ft.keepWhitespace=!0)),ft}function H(y){return we.CompletionItemLabelDetails.is(y.labelDetails)?{label:y.label,detail:y.labelDetails.detail,description:y.labelDetails.description}:y.label}function M(y,_,Y){let le=y.insertTextFormat??Y;if(y.textEdit!==void 0||_!==void 0){let[un,Cn]=y.textEdit!==void 0?V(y.textEdit):[_,y.textEditText??y.label];return le===we.InsertTextFormat.Snippet?{text:new re.SnippetString(Cn),range:un,fromEdit:!0}:{text:Cn,range:un,fromEdit:!0}}else return y.insertText?le===we.InsertTextFormat.Snippet?{text:new re.SnippetString(y.insertText),fromEdit:!1}:{text:y.insertText,fromEdit:!1}:void 0}function V(y){return we.InsertReplaceEdit.is(y)?[{inserting:d(y.insert),replacing:d(y.replace)},y.newText]:[d(y.range),y.newText]}function Q(y){if(y)return new re.TextEdit(d(y.range),y.newText)}async function he(y,_){if(y)return Je.map(y,Q,_)}function de(y){if(!y)return;let _=new Array(y.length);for(let Y=0;Y<y.length;Y++)_[Y]=Q(y[Y]);return _}async function ge(y,_){if(!y)return;let Y=new re.SignatureHelp;return Bi.number(y.activeSignature)?Y.activeSignature=y.activeSignature:Y.activeSignature=0,Bi.number(y.activeParameter)?Y.activeParameter=y.activeParameter:Y.activeParameter=0,y.signatures&&(Y.signatures=await Ge(y.signatures,_)),Y}async function Ge(y,_){return Je.mapAsync(y,Ee,_)}async function Ee(y,_){let Y=new re.SignatureInformation(y.label);return y.documentation!==void 0&&(Y.documentation=D(y.documentation)),y.parameters!==void 0&&(Y.parameters=await ke(y.parameters,_)),y.activeParameter!==void 0&&(Y.activeParameter=y.activeParameter),Y}function ke(y,_){return Je.map(y,ht,_)}function ht(y){let _=new re.ParameterInformation(y.label);return y.documentation&&(_.documentation=D(y.documentation)),_}function At(y){return y?new re.Location(r(y.uri),d(y.range)):void 0}async function tn(y,_){if(y)return an(y,_)}async function St(y,_){if(y)return an(y,_)}function Jt(y){if(!y)return;let _={targetUri:r(y.targetUri),targetRange:d(y.targetRange),originSelectionRange:d(y.originSelectionRange),targetSelectionRange:d(y.targetSelectionRange)};if(!_.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return _}async function an(y,_){if(y)if(Bi.array(y)){if(y.length===0)return[];if(we.LocationLink.is(y[0])){let Y=y;return Je.map(Y,Jt,_)}else{let Y=y;return Je.map(Y,At,_)}}else return we.LocationLink.is(y)?[Jt(y)]:At(y)}async function Jn(y,_){if(y)return Je.map(y,At,_)}async function qn(y,_){if(y)return Je.map(y,Un,_)}function Un(y){let _=new re.DocumentHighlight(d(y.range));return Bi.number(y.kind)&&(_.kind=jn(y.kind)),_}function jn(y){switch(y){case we.DocumentHighlightKind.Text:return re.DocumentHighlightKind.Text;case we.DocumentHighlightKind.Read:return re.DocumentHighlightKind.Read;case we.DocumentHighlightKind.Write:return re.DocumentHighlightKind.Write}return re.DocumentHighlightKind.Text}async function Xn(y,_){if(y)return Je.map(y,nn,_)}function Qe(y){return y<=we.SymbolKind.TypeParameter?y-1:re.SymbolKind.Property}function pi(y){switch(y){case we.SymbolTag.Deprecated:return re.SymbolTag.Deprecated;default:return}}function Bn(y){if(y==null)return;let _=[];for(let Y of y){let le=pi(Y);le!==void 0&&_.push(le)}return _.length===0?void 0:_}function nn(y){let _=y.data,Y=y.location,le=Y.range===void 0||_!==void 0?new x9.default(y.name,Qe(y.kind),y.containerName??"",Y.range===void 0?r(Y.uri):new re.Location(r(y.location.uri),d(Y.range)),_):new re.SymbolInformation(y.name,Qe(y.kind),y.containerName??"",new re.Location(r(y.location.uri),d(Y.range)));return Yn(le,y),le}async function Ai(y,_){if(y!=null)return Je.map(y,cn,_)}function cn(y){let _=new re.DocumentSymbol(y.name,y.detail||"",Qe(y.kind),d(y.range),d(y.selectionRange));if(Yn(_,y),y.children!==void 0&&y.children.length>0){let Y=[];for(let le of y.children)Y.push(cn(le));_.children=Y}return _}function Yn(y,_){y.tags=Bn(_.tags),_.deprecated&&(y.tags?y.tags.includes(re.SymbolTag.Deprecated)||(y.tags=y.tags.concat(re.SymbolTag.Deprecated)):y.tags=[re.SymbolTag.Deprecated])}function ot(y){let _={title:y.title,command:y.command};return y.arguments&&(_.arguments=y.arguments),_}async function bt(y,_){if(y)return Je.map(y,ot,_)}let Vt=new Map;Vt.set(we.CodeActionKind.Empty,re.CodeActionKind.Empty),Vt.set(we.CodeActionKind.QuickFix,re.CodeActionKind.QuickFix),Vt.set(we.CodeActionKind.Refactor,re.CodeActionKind.Refactor),Vt.set(we.CodeActionKind.RefactorExtract,re.CodeActionKind.RefactorExtract),Vt.set(we.CodeActionKind.RefactorInline,re.CodeActionKind.RefactorInline),Vt.set(we.CodeActionKind.RefactorRewrite,re.CodeActionKind.RefactorRewrite),Vt.set(we.CodeActionKind.Source,re.CodeActionKind.Source),Vt.set(we.CodeActionKind.SourceOrganizeImports,re.CodeActionKind.SourceOrganizeImports);function mn(y){if(y==null)return;let _=Vt.get(y);if(_)return _;let Y=y.split(".");_=re.CodeActionKind.Empty;for(let le of Y)_=_.append(le);return _}function Ut(y){if(y!=null)return y.map(_=>mn(_))}async function Wn(y,_){if(y==null)return;let Y=new D9.default(y.title,y.data);return y.kind!==void 0&&(Y.kind=mn(y.kind)),y.diagnostics!==void 0&&(Y.diagnostics=c(y.diagnostics)),y.edit!==void 0&&(Y.edit=await Dt(y.edit,_)),y.command!==void 0&&(Y.command=ot(y.command)),y.isPreferred!==void 0&&(Y.isPreferred=y.isPreferred),y.disabled!==void 0&&(Y.disabled={reason:y.disabled.reason}),Y}function Qn(y,_){return Je.mapAsync(y,async Y=>we.Command.is(Y)?ot(Y):Wn(Y,_),_)}function yn(y){if(!y)return;let _=new S9.default(d(y.range));return y.command&&(_.command=ot(y.command)),y.data!==void 0&&y.data!==null&&(_.data=y.data),_}async function Zn(y,_){if(y)return Je.map(y,yn,_)}async function Dt(y,_){if(!y)return;let Y=new Map;if(y.changeAnnotations!==void 0){let Cn=y.changeAnnotations;await Je.forEach(Object.keys(Cn),lt=>{let Cr=v(Cn[lt]);Y.set(lt,Cr)},_)}let le=Cn=>{if(Cn!==void 0)return Y.get(Cn)},un=new re.WorkspaceEdit;if(y.documentChanges){let Cn=y.documentChanges;await Je.forEach(Cn,lt=>{if(we.CreateFile.is(lt))un.createFile(r(lt.uri),lt.options,le(lt.annotationId));else if(we.RenameFile.is(lt))un.renameFile(r(lt.oldUri),r(lt.newUri),lt.options,le(lt.annotationId));else if(we.DeleteFile.is(lt))un.deleteFile(r(lt.uri),lt.options,le(lt.annotationId));else if(we.TextDocumentEdit.is(lt)){let Cr=r(lt.textDocument.uri);for(let ft of lt.edits)we.AnnotatedTextEdit.is(ft)?un.replace(Cr,d(ft.range),ft.newText,le(ft.annotationId)):un.replace(Cr,d(ft.range),ft.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(lt,void 0,4)}`)},_)}else if(y.changes){let Cn=y.changes;await Je.forEach(Object.keys(Cn),lt=>{un.set(r(lt),de(Cn[lt]))},_)}return un}function v(y){if(y!==void 0)return{label:y.label,needsConfirmation:!!y.needsConfirmation,description:y.description}}function P(y){let _=d(y.range),Y=y.target?s(y.target):void 0,le=new b9.default(_,Y);return y.tooltip!==void 0&&(le.tooltip=y.tooltip),y.data!==void 0&&y.data!==null&&(le.data=y.data),le}async function q(y,_){if(y)return Je.map(y,P,_)}function $(y){return new re.Color(y.red,y.green,y.blue,y.alpha)}function fe(y){return new re.ColorInformation(d(y.range),$(y.color))}async function ue(y,_){if(y)return Je.map(y,fe,_)}function ve(y){let _=new re.ColorPresentation(y.label);return _.additionalTextEdits=de(y.additionalTextEdits),y.textEdit&&(_.textEdit=Q(y.textEdit)),_}async function Se(y,_){if(y)return Je.map(y,ve,_)}function ie(y){if(y)switch(y){case we.FoldingRangeKind.Comment:return re.FoldingRangeKind.Comment;case we.FoldingRangeKind.Imports:return re.FoldingRangeKind.Imports;case we.FoldingRangeKind.Region:return re.FoldingRangeKind.Region}}function pe(y){return new re.FoldingRange(y.startLine,y.endLine,ie(y.kind))}async function se(y,_){if(y)return Je.map(y,pe,_)}function N(y){return new re.SelectionRange(d(y.range),y.parent?N(y.parent):void 0)}async function L(y,_){return Array.isArray(y)?Je.map(y,N,_):[]}function J(y){return we.InlineValueText.is(y)?new re.InlineValueText(d(y.range),y.text):we.InlineValueVariableLookup.is(y)?new re.InlineValueVariableLookup(d(y.range),y.variableName,y.caseSensitiveLookup):new re.InlineValueEvaluatableExpression(d(y.range),y.expression)}async function be(y,_){return Array.isArray(y)?Je.map(y,J,_):[]}async function jt(y,_){let Y=typeof y.label=="string"?y.label:await Je.map(y.label,b,_),le=new E9.default(l(y.position),Y);return y.kind!==void 0&&(le.kind=y.kind),y.textEdits!==void 0&&(le.textEdits=await he(y.textEdits,_)),y.tooltip!==void 0&&(le.tooltip=K(y.tooltip)),y.paddingLeft!==void 0&&(le.paddingLeft=y.paddingLeft),y.paddingRight!==void 0&&(le.paddingRight=y.paddingRight),y.data!==void 0&&(le.data=y.data),le}function b(y){let _=new re.InlayHintLabelPart(y.value);return y.location!==void 0&&(_.location=At(y.location)),y.tooltip!==void 0&&(_.tooltip=K(y.tooltip)),y.command!==void 0&&(_.command=ot(y.command)),_}function K(y){return typeof y=="string"?y:w(y)}async function ce(y,_){if(Array.isArray(y))return Je.mapAsync(y,jt,_)}function Xe(y){if(y===null)return;let _=new T9.default(Qe(y.kind),y.name,y.detail||"",s(y.uri),d(y.range),d(y.selectionRange),y.data);return y.tags!==void 0&&(_.tags=Bn(y.tags)),_}async function O(y,_){if(y!==null)return Je.map(y,Xe,_)}async function T(y,_){return new re.CallHierarchyIncomingCall(Xe(y.from),await h(y.fromRanges,_))}async function R(y,_){if(y!==null)return Je.mapAsync(y,T,_)}async function I(y,_){return new re.CallHierarchyOutgoingCall(Xe(y.to),await h(y.fromRanges,_))}async function x(y,_){if(y!==null)return Je.mapAsync(y,I,_)}async function S(y,_){if(y!=null)return new re.SemanticTokens(new Uint32Array(y.data),y.resultId)}function j(y){return new re.SemanticTokensEdit(y.start,y.deleteCount,y.data!==void 0?new Uint32Array(y.data):void 0)}async function X(y,_){if(y!=null)return new re.SemanticTokensEdits(y.edits.map(j),y.resultId)}function Fe(y){return y}async function Tt(y,_){if(y!=null)return new re.LinkedEditingRanges(await h(y.ranges,_),dt(y.wordPattern))}function dt(y){if(y!=null)return new RegExp(y)}function ei(y){if(y===null)return;let _=new w9.default(Qe(y.kind),y.name,y.detail||"",s(y.uri),d(y.range),d(y.selectionRange),y.data);return y.tags!==void 0&&(_.tags=Bn(y.tags)),_}async function hi(y,_){if(y!==null)return Je.map(y,ei,_)}function Zi(y){if(Bi.string(y))return y;if(we.RelativePattern.is(y)){if(we.URI.is(y.baseUri))return new re.RelativePattern(s(y.baseUri),y.pattern);if(we.WorkspaceFolder.is(y.baseUri)){let _=re.workspace.getWorkspaceFolder(s(y.baseUri.uri));return _!==void 0?new re.RelativePattern(_,y.pattern):void 0}}}async function je(y,_){if(!y)return;if(Array.isArray(y))return Je.map(y,un=>yr(un),_);let Y=y,le=await Je.map(Y.items,un=>yr(un),_);return new re.InlineCompletionList(le)}function yr(y){let _;typeof y.insertText=="string"?_=y.insertText:_=new re.SnippetString(y.insertText.value);let Y;y.command&&(Y=ot(y.command));let le=new re.InlineCompletionItem(_,d(y.range),Y);return y.filterText&&(le.filterText=y.filterText),le}return{asUri:s,asDocumentSelector:o,asDiagnostics:a,asDiagnostic:u,asRange:d,asRanges:h,asPosition:l,asDiagnosticSeverity:m,asDiagnosticTag:p,asHover:k,asCompletionResult:A,asCompletionItem:Z,asTextEdit:Q,asTextEdits:he,asSignatureHelp:ge,asSignatureInformations:Ge,asSignatureInformation:Ee,asParameterInformations:ke,asParameterInformation:ht,asDeclarationResult:tn,asDefinitionResult:St,asLocation:At,asReferences:Jn,asDocumentHighlights:qn,asDocumentHighlight:Un,asDocumentHighlightKind:jn,asSymbolKind:Qe,asSymbolTag:pi,asSymbolTags:Bn,asSymbolInformations:Xn,asSymbolInformation:nn,asDocumentSymbols:Ai,asDocumentSymbol:cn,asCommand:ot,asCommands:bt,asCodeAction:Wn,asCodeActionKind:mn,asCodeActionKinds:Ut,asCodeActionResult:Qn,asCodeLens:yn,asCodeLenses:Zn,asWorkspaceEdit:Dt,asDocumentLink:P,asDocumentLinks:q,asFoldingRangeKind:ie,asFoldingRange:pe,asFoldingRanges:se,asColor:$,asColorInformation:fe,asColorInformations:ue,asColorPresentation:ve,asColorPresentations:Se,asSelectionRange:N,asSelectionRanges:L,asInlineValue:J,asInlineValues:be,asInlayHint:jt,asInlayHints:ce,asSemanticTokensLegend:Fe,asSemanticTokens:S,asSemanticTokensEdit:j,asSemanticTokensEdits:X,asCallHierarchyItem:Xe,asCallHierarchyItems:O,asCallHierarchyIncomingCall:T,asCallHierarchyIncomingCalls:R,asCallHierarchyOutgoingCall:I,asCallHierarchyOutgoingCalls:x,asLinkedEditingRanges:Tt,asTypeHierarchyItem:ei,asTypeHierarchyItems:hi,asGlobPattern:Zi,asInlineCompletionResult:je,asInlineCompletionItem:yr}}Wp.createConverter=k9});var xt=F(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.generateUuid=Wi.parse=Wi.isUUID=Wi.v4=Wi.empty=void 0;var tl=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},nl=class t extends tl{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}};nl._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];nl._timeHighBits=["8","9","a","b"];Wi.empty=new tl("00000000-0000-0000-0000-000000000000");function LN(){return new nl}Wi.v4=LN;var F9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function MN(t){return F9.test(t)}Wi.isUUID=MN;function P9(t){if(!MN(t))throw new Error("invalid uuid");return new tl(t)}Wi.parse=P9;function R9(){return LN().asHex()}Wi.generateUuid=R9});var Kb=F(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});Kp.ProgressPart=void 0;var qN=require("vscode"),UN=Pe(),jN=qi(),Wb=class{constructor(e,n,i){this._client=e,this._token=n,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(UN.WorkDoneProgress.type,this._token,r=>{switch(r.kind){case"begin":this.begin(r);break;case"report":this.report(r);break;case"end":this.done(),i&&i(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&qN.window.withProgress({location:qN.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(n,i)=>{if(this._lspProgressDisposable!==void 0)return this._progress=n,this._cancellationToken=i,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(UN.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((r,s)=>{this._resolve=r,this._reject=s})})}report(e){if(this._infinite&&jN.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(jN.number(e.percentage)){let n=Math.max(0,Math.min(e.percentage,100)),i=Math.max(0,n-this._reported);this._reported+=i,this._progress!==void 0&&this._progress.report({message:e.message,increment:i})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};Kp.ProgressPart=Wb});var ze=F(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.WorkspaceFeature=pn.TextDocumentLanguageFeature=pn.TextDocumentEventFeature=pn.DynamicDocumentFeature=pn.DynamicFeature=pn.StaticFeature=pn.ensure=pn.LSPCancellationError=void 0;var Po=require("vscode"),$b=Pe(),$n=qi(),BN=xt(),Vb=class extends Po.CancellationError{constructor(e){super(),this.data=e}};pn.LSPCancellationError=Vb;function A9(t,e){return t[e]===void 0&&(t[e]={}),t[e]}pn.ensure=A9;var WN;(function(t){function e(n){let i=n;return i!=null&&$n.func(i.fillClientCapabilities)&&$n.func(i.initialize)&&$n.func(i.getState)&&$n.func(i.clear)&&(i.fillInitializeParams===void 0||$n.func(i.fillInitializeParams))}t.is=e})(WN||(pn.StaticFeature=WN={}));var KN;(function(t){function e(n){let i=n;return i!=null&&$n.func(i.fillClientCapabilities)&&$n.func(i.initialize)&&$n.func(i.getState)&&$n.func(i.clear)&&(i.fillInitializeParams===void 0||$n.func(i.fillInitializeParams))&&$n.func(i.register)&&$n.func(i.unregister)&&i.registrationType!==void 0}t.is=e})(KN||(pn.DynamicFeature=KN={}));var il=class{constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),n=0;for(let r of e){n++;for(let s of Po.workspace.textDocuments)if(Po.languages.match(r,s)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let i=n>0;return{kind:"document",id:this.registrationType.method,registrations:i,matches:!1}}};pn.DynamicDocumentFeature=il;var Hb=class extends il{static textDocumentFilter(e,n){for(let i of e)if(Po.languages.match(i,n)>0)return!0;return!1}constructor(e,n,i,r,s,o,a){super(e),this._event=n,this._type=i,this._middleware=r,this._createParams=s,this._textDocument=o,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new Po.EventEmitter}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(n=>{this.callback(n).catch(i=>{this._client.error(`Sending document notification ${this._type.method} failed.`,i)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let n=async i=>{let r=this._createParams(i);await this._client.sendNotification(this._type,r),this.notificationSent(this.getTextDocument(i),this._type,r)};if(this.matches(e)){let i=this._middleware();return i?i(e,r=>n(r)):n(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,n,i){this._onNotificationSent.fire({textDocument:e,type:n,params:i})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let n of this._selectors.values())if(Po.languages.match(n,e)>0)return{send:i=>this.callback(i)}}};pn.TextDocumentEventFeature=Hb;var zb=class extends il{constructor(e,n){super(e),this._registrationType=n,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let n=e.data.registerOptions.documentSelector;n!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(n))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let n=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:n[0],data:e,provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,n){if(n){if($b.TextDocumentRegistrationOptions.is(n)){let i=$b.StaticRegistrationOptions.hasId(n)?n.id:BN.generateUuid(),r=n.documentSelector??e;if(r)return[i,Object.assign({},n,{documentSelector:r})]}else if($n.boolean(n)&&n===!0||$b.WorkDoneProgressOptions.is(n)){if(!e)return[void 0,void 0];let i=$n.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e});return[BN.generateUuid(),i]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,n){if(!(!e||!n))return $n.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e})}getProvider(e){for(let n of this._registrations.values()){let i=n.data.registerOptions.documentSelector;if(i!==null&&Po.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(i),e)>0)return n.provider}}getAllProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};pn.TextDocumentLanguageFeature=zb;var Gb=class{constructor(e,n){this._client=e,this._registrationType=n,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let n=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:n[0],provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};pn.WorkspaceFeature=Gb});var VN=F((Qre,$N)=>{var I9=typeof process=="object"&&process&&process.platform==="win32";$N.exports=I9?{sep:"\\"}:{sep:"/"}});var XN=F((Zre,JN)=>{"use strict";JN.exports=zN;function zN(t,e,n){t instanceof RegExp&&(t=HN(t,n)),e instanceof RegExp&&(e=HN(e,n));var i=GN(t,e,n);return i&&{start:i[0],end:i[1],pre:n.slice(0,i[0]),body:n.slice(i[0]+t.length,i[1]),post:n.slice(i[1]+e.length)}}function HN(t,e){var n=e.match(t);return n?n[0]:null}zN.range=GN;function GN(t,e,n){var i,r,s,o,a,c=n.indexOf(t),u=n.indexOf(e,c+1),f=c;if(c>=0&&u>0){if(t===e)return[c,u];for(i=[],s=n.length;f>=0&&!a;)f==c?(i.push(f),c=n.indexOf(t,f+1)):i.length==1?a=[i.pop(),u]:(r=i.pop(),r<s&&(s=r,o=u),u=n.indexOf(e,f+1)),f=c<u&&c>=0?c:u;i.length&&(a=[s,o])}return a}});var rO=F((ese,iO)=>{var YN=XN();iO.exports=O9;var QN="\0SLASH"+Math.random()+"\0",ZN="\0OPEN"+Math.random()+"\0",Xb="\0CLOSE"+Math.random()+"\0",eO="\0COMMA"+Math.random()+"\0",tO="\0PERIOD"+Math.random()+"\0";function Jb(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function _9(t){return t.split("\\\\").join(QN).split("\\{").join(ZN).split("\\}").join(Xb).split("\\,").join(eO).split("\\.").join(tO)}function N9(t){return t.split(QN).join("\\").split(ZN).join("{").split(Xb).join("}").split(eO).join(",").split(tO).join(".")}function nO(t){if(!t)return[""];var e=[],n=YN("{","}",t);if(!n)return t.split(",");var i=n.pre,r=n.body,s=n.post,o=i.split(",");o[o.length-1]+="{"+r+"}";var a=nO(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function O9(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),rl(_9(t),!0).map(N9)):[]}function L9(t){return"{"+t+"}"}function M9(t){return/^-?0\d/.test(t)}function q9(t,e){return t<=e}function U9(t,e){return t>=e}function rl(t,e){var n=[],i=YN("{","}",t);if(!i)return[t];var r=i.pre,s=i.post.length?rl(i.post,!1):[""];if(/\$$/.test(i.pre))for(var o=0;o<s.length;o++){var a=r+"{"+i.body+"}"+s[o];n.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),f=c||u,g=i.body.indexOf(",")>=0;if(!f&&!g)return i.post.match(/,.*\}/)?(t=i.pre+"{"+i.body+Xb+i.post,rl(t)):[t];var p;if(f)p=i.body.split(/\.\./);else if(p=nO(i.body),p.length===1&&(p=rl(p[0],!1).map(L9),p.length===1))return s.map(function(Z){return i.pre+p[0]+Z});var l;if(f){var d=Jb(p[0]),h=Jb(p[1]),m=Math.max(p[0].length,p[1].length),C=p.length==3?Math.abs(Jb(p[2])):1,D=q9,w=h<d;w&&(C*=-1,D=U9);var k=p.some(M9);l=[];for(var A=d;D(A,h);A+=C){var B;if(u)B=String.fromCharCode(A),B==="\\"&&(B="");else if(B=String(A),k){var W=m-B.length;if(W>0){var U=new Array(W+1).join("0");A<0?B="-"+U+B.slice(1):B=U+B}}l.push(B)}}else{l=[];for(var ee=0;ee<p.length;ee++)l.push.apply(l,rl(p[ee],!1))}for(var ee=0;ee<l.length;ee++)for(var o=0;o<s.length;o++){var a=r+l[ee]+s[o];(!e||f||a)&&n.push(a)}}return n}});var Vp=F((nse,tD)=>{var bi=tD.exports=(t,e,n={})=>($p(e),!n.nocomment&&e.charAt(0)==="#"?!1:new Ga(e,n).match(t));tD.exports=bi;var Zb=VN();bi.sep=Zb.sep;var rr=Symbol("globstar **");bi.GLOBSTAR=rr;var j9=rO(),sO={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},eD="[^/]",Yb=eD+"*?",B9="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",W9="(?:(?!(?:\\/|^)\\.).)*?",cO=t=>t.split("").reduce((e,n)=>(e[n]=!0,e),{}),oO=cO("().*{}+?[]^$\\!"),K9=cO("[.("),aO=/\/+/;bi.filter=(t,e={})=>(n,i,r)=>bi(n,t,e);var Is=(t,e={})=>{let n={};return Object.keys(t).forEach(i=>n[i]=t[i]),Object.keys(e).forEach(i=>n[i]=e[i]),n};bi.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return bi;let e=bi,n=(i,r,s)=>e(i,r,Is(t,s));return n.Minimatch=class extends e.Minimatch{constructor(r,s){super(r,Is(t,s))}},n.Minimatch.defaults=i=>e.defaults(Is(t,i)).Minimatch,n.filter=(i,r)=>e.filter(i,Is(t,r)),n.defaults=i=>e.defaults(Is(t,i)),n.makeRe=(i,r)=>e.makeRe(i,Is(t,r)),n.braceExpand=(i,r)=>e.braceExpand(i,Is(t,r)),n.match=(i,r,s)=>e.match(i,r,Is(t,s)),n};bi.braceExpand=(t,e)=>uO(t,e);var uO=(t,e={})=>($p(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:j9(t)),$9=1024*64,$p=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>$9)throw new TypeError("pattern is too long")},Qb=Symbol("subparse");bi.makeRe=(t,e)=>new Ga(t,e||{}).makeRe();bi.match=(t,e,n={})=>{let i=new Ga(e,n);return t=t.filter(r=>i.match(r)),i.options.nonull&&!t.length&&t.push(e),t};var V9=t=>t.replace(/\\(.)/g,"$1"),H9=t=>t.replace(/\\([^-\]])/g,"$1"),z9=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),G9=t=>t.replace(/[[\]\\]/g,"\\$&"),Ga=class{constructor(e,n){$p(e),n||(n={}),this.options=n,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.make()}debug(){}make(){let e=this.pattern,n=this.options;if(!n.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let i=this.globSet=this.braceExpand();n.debug&&(this.debug=(...r)=>console.error(...r)),this.debug(this.pattern,i),i=this.globParts=i.map(r=>r.split(aO)),this.debug(this.pattern,i),i=i.map((r,s,o)=>r.map(this.parse,this)),this.debug(this.pattern,i),i=i.filter(r=>r.indexOf(!1)===-1),this.debug(this.pattern,i),this.set=i}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,n=!1,i=0;for(let r=0;r<e.length&&e.charAt(r)==="!";r++)n=!n,i++;i&&(this.pattern=e.slice(i)),this.negate=n}matchOne(e,n,i){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:n}),this.debug("matchOne",e.length,n.length);for(var s=0,o=0,a=e.length,c=n.length;s<a&&o<c;s++,o++){this.debug("matchOne loop");var u=n[o],f=e[s];if(this.debug(n,u,f),u===!1)return!1;if(u===rr){this.debug("GLOBSTAR",[n,u,f]);var g=s,p=o+1;if(p===c){for(this.debug("** at the end");s<a;s++)if(e[s]==="."||e[s]===".."||!r.dot&&e[s].charAt(0)===".")return!1;return!0}for(;g<a;){var l=e[g];if(this.debug(`
globstar while`,e,g,n,p,l),this.matchOne(e.slice(g),n.slice(p),i))return this.debug("globstar found match!",g,a,l),!0;if(l==="."||l===".."||!r.dot&&l.charAt(0)==="."){this.debug("dot detected!",e,g,n,p);break}this.debug("globstar swallow a segment, and continue"),g++}return!!(i&&(this.debug(`
>>> no match, partial?`,e,g,n,p),g===a))}var d;if(typeof u=="string"?(d=f===u,this.debug("string match",u,f,d)):(d=f.match(u),this.debug("pattern match",u,f,d)),!d)return!1}if(s===a&&o===c)return!0;if(s===a)return i;if(o===c)return s===a-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return uO(this.pattern,this.options)}parse(e,n){$p(e);let i=this.options;if(e==="**")if(i.noglobstar)e="*";else return rr;if(e==="")return"";let r="",s=!1,o=!1,a=[],c=[],u,f=!1,g=-1,p=-1,l,d,h,m=e.charAt(0)===".",C=i.dot||m,D=()=>m?"":C?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",w=W=>W.charAt(0)==="."?"":i.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",k=()=>{if(u){switch(u){case"*":r+=Yb,s=!0;break;case"?":r+=eD,s=!0;break;default:r+="\\"+u;break}this.debug("clearStateChar %j %j",u,r),u=!1}};for(let W=0,U;W<e.length&&(U=e.charAt(W));W++){if(this.debug("%s	%s %s %j",e,W,r,U),o){if(U==="/")return!1;oO[U]&&(r+="\\"),r+=U,o=!1;continue}switch(U){case"/":return!1;case"\\":if(f&&e.charAt(W+1)==="-"){r+=U;continue}k(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,W,r,U),f){this.debug("  in class"),U==="!"&&W===p+1&&(U="^"),r+=U;continue}this.debug("call clearStateChar %j",u),k(),u=U,i.noext&&k();continue;case"(":{if(f){r+="(";continue}if(!u){r+="\\(";continue}let ee={type:u,start:W-1,reStart:r.length,open:sO[u].open,close:sO[u].close};this.debug(this.pattern,"	",ee),a.push(ee),r+=ee.open,ee.start===0&&ee.type!=="!"&&(m=!0,r+=w(e.slice(W+1))),this.debug("plType %j %j",u,r),u=!1;continue}case")":{let ee=a[a.length-1];if(f||!ee){r+="\\)";continue}a.pop(),k(),s=!0,d=ee,r+=d.close,d.type==="!"&&c.push(Object.assign(d,{reEnd:r.length}));continue}case"|":{let ee=a[a.length-1];if(f||!ee){r+="\\|";continue}k(),r+="|",ee.start===0&&ee.type!=="!"&&(m=!0,r+=w(e.slice(W+1)));continue}case"[":if(k(),f){r+="\\"+U;continue}f=!0,p=W,g=r.length,r+=U;continue;case"]":if(W===p+1||!f){r+="\\"+U;continue}l=e.substring(p+1,W);try{RegExp("["+G9(H9(l))+"]"),r+=U}catch{r=r.substring(0,g)+"(?:$.)"}s=!0,f=!1;continue;default:k(),oO[U]&&!(U==="^"&&f)&&(r+="\\"),r+=U;break}}for(f&&(l=e.slice(p+1),h=this.parse(l,Qb),r=r.substring(0,g)+"\\["+h[0],s=s||h[1]),d=a.pop();d;d=a.pop()){let W;W=r.slice(d.reStart+d.open.length),this.debug("setting tail",r,d),W=W.replace(/((?:\\{2}){0,64})(\\?)\|/g,(ee,Z,H)=>(H||(H="\\"),Z+Z+H+"|")),this.debug(`tail=%j
   %s`,W,W,d,r);let U=d.type==="*"?Yb:d.type==="?"?eD:"\\"+d.type;s=!0,r=r.slice(0,d.reStart)+U+"\\("+W}k(),o&&(r+="\\\\");let A=K9[r.charAt(0)];for(let W=c.length-1;W>-1;W--){let U=c[W],ee=r.slice(0,U.reStart),Z=r.slice(U.reStart,U.reEnd-8),H=r.slice(U.reEnd),M=r.slice(U.reEnd-8,U.reEnd)+H,V=ee.split(")").length,Q=ee.split("(").length-V,he=H;for(let ge=0;ge<Q;ge++)he=he.replace(/\)[+*?]?/,"");H=he;let de=H===""&&n!==Qb?"(?:$|\\/)":"";r=ee+Z+H+de+M}if(r!==""&&s&&(r="(?=.)"+r),A&&(r=D()+r),n===Qb)return[r,s];if(i.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return V9(e);let B=i.nocase?"i":"";try{return Object.assign(new RegExp("^"+r+"$",B),{_glob:e,_src:r})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let n=this.options,i=n.noglobstar?Yb:n.dot?B9:W9,r=n.nocase?"i":"",s=e.map(o=>(o=o.map(a=>typeof a=="string"?z9(a):a===rr?rr:a._src).reduce((a,c)=>(a[a.length-1]===rr&&c===rr||a.push(c),a),[]),o.forEach((a,c)=>{a!==rr||o[c-1]===rr||(c===0?o.length>1?o[c+1]="(?:\\/|"+i+"\\/)?"+o[c+1]:o[c]=i:c===o.length-1?o[c-1]+="(?:\\/|"+i+")?":(o[c-1]+="(?:\\/|\\/"+i+"\\/)"+o[c+1],o[c+1]=rr))}),o.filter(a=>a!==rr).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,r)}catch{this.regexp=!1}return this.regexp}match(e,n=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&n)return!0;let i=this.options;Zb.sep!=="/"&&(e=e.split(Zb.sep).join("/")),e=e.split(aO),this.debug(this.pattern,"split",e);let r=this.set;this.debug(this.pattern,"set",r);let s;for(let o=e.length-1;o>=0&&(s=e[o],!s);o--);for(let o=0;o<r.length;o++){let a=r[o],c=e;if(i.matchBase&&a.length===1&&(c=[s]),this.matchOne(c,a,n))return i.flipNegate?!0:!this.negate}return i.flipNegate?!1:this.negate}static defaults(e){return bi.defaults(e).Minimatch}};bi.Minimatch=Ga});var uD=F(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.DiagnosticFeature=_s.DiagnosticPullMode=_s.vsdiag=void 0;var J9=Vp(),Be=require("vscode"),$t=Pe(),X9=xt(),nD=ze();function Hp(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Ki;(function(t){let e;(function(n){n.full="full",n.unChanged="unChanged"})(e=t.DocumentDiagnosticReportKind||(t.DocumentDiagnosticReportKind={}))})(Ki||(_s.vsdiag=Ki={}));var zp;(function(t){t.onType="onType",t.onSave="onSave"})(zp||(_s.DiagnosticPullMode=zp={}));var Pn;(function(t){t.active="open",t.reschedule="reschedule",t.outDated="drop"})(Pn||(Pn={}));var iD=class t{constructor(){this.open=new Set,this._onOpen=new Be.EventEmitter,this._onClose=new Be.EventEmitter,t.fillTabResources(this.open);let e=n=>{if(n.closed.length===0&&n.opened.length===0)return;let i=this.open,r=new Set;t.fillTabResources(r);let s=new Set,o=new Set(r);for(let a of i.values())r.has(a)?o.delete(a):s.add(a);if(this.open=r,s.size>0){let a=new Set;for(let c of s)a.add(Be.Uri.parse(c));this._onClose.fire(a)}if(o.size>0){let a=new Set;for(let c of o)a.add(Be.Uri.parse(c));this._onOpen.fire(a)}};Be.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=Be.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof Be.Uri?Be.window.activeTextEditor?.document.uri===e:Be.window.activeTextEditor?.document===e}isVisible(e){let n=e instanceof Be.Uri?e:e.uri;return this.open.has(n.toString())}getTabResources(){let e=new Set;return t.fillTabResources(new Set,e),e}static fillTabResources(e,n){let i=e??new Set;for(let r of Be.window.tabGroups.all)for(let s of r.tabs){let o=s.input,a;o instanceof Be.TabInputText?a=o.uri:o instanceof Be.TabInputTextDiff?a=o.modified:o instanceof Be.TabInputCustom&&(a=o.uri),a!==void 0&&!i.has(a.toString())&&(i.add(a.toString()),n!==void 0&&n.add(a))}}},sn;(function(t){t[t.document=1]="document",t[t.workspace=2]="workspace"})(sn||(sn={}));var zr;(function(t){function e(n){return n instanceof Be.Uri?n.toString():n.uri.toString()}t.asKey=e})(zr||(zr={}));var rD=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,n,i){let r=e===sn.document?this.documentPullStates:this.workspacePullStates,[s,o,a]=n instanceof Be.Uri?[n.toString(),n,i]:[n.uri.toString(),n.uri,n.version],c=r.get(s);return c===void 0&&(c={document:o,pulledVersion:a,resultId:void 0},r.set(s,c)),c}update(e,n,i,r){let s=e===sn.document?this.documentPullStates:this.workspacePullStates,[o,a,c,u]=n instanceof Be.Uri?[n.toString(),n,i,r]:[n.uri.toString(),n.uri,n.version,i],f=s.get(o);f===void 0?(f={document:a,pulledVersion:c,resultId:u},s.set(o,f)):(f.pulledVersion=c,f.resultId=u)}unTrack(e,n){let i=zr.asKey(n);(e===sn.document?this.documentPullStates:this.workspacePullStates).delete(i)}tracks(e,n){let i=zr.asKey(n);return(e===sn.document?this.documentPullStates:this.workspacePullStates).has(i)}getResultId(e,n){let i=zr.asKey(n);return(e===sn.document?this.documentPullStates:this.workspacePullStates).get(i)?.resultId}getAllResultIds(){let e=[];for(let[n,i]of this.workspacePullStates)this.documentPullStates.has(n)&&(i=this.documentPullStates.get(n)),i.resultId!==void 0&&e.push({uri:n,value:i.resultId});return e}},sD=class{constructor(e,n,i){this.client=e,this.tabs=n,this.options=i,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new Be.EventEmitter,this.provider=this.createProvider(),this.diagnostics=Be.languages.createDiagnosticCollection(i.identifier),this.openRequests=new Map,this.documentStates=new rD,this.workspaceErrorCounter=0}knows(e,n){let i=n instanceof Be.Uri?n:n.uri;return this.documentStates.tracks(e,n)||this.openRequests.has(i.toString())}forget(e,n){this.documentStates.unTrack(e,n)}pull(e,n){if(this.isDisposed)return;let i=e instanceof Be.Uri?e:e.uri;this.pullAsync(e).then(()=>{n&&n()},r=>{this.client.error(`Document pull failed for text document ${i.toString()}`,r,!1)})}async pullAsync(e,n){if(this.isDisposed)return;let i=e instanceof Be.Uri,r=i?e:e.uri,s=r.toString();n=i?n:e.version;let o=this.openRequests.get(s),a=i?this.documentStates.track(sn.document,e,n):this.documentStates.track(sn.document,e);if(o===void 0){let c=new Be.CancellationTokenSource;this.openRequests.set(s,{state:Pn.active,document:e,version:n,tokenSource:c});let u,f;try{u=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:Ki.DocumentDiagnosticReportKind.full,items:[]}}catch(g){if(g instanceof nD.LSPCancellationError&&$t.DiagnosticServerCancellationData.is(g.data)&&g.data.retriggerRequest===!1&&(f={state:Pn.outDated,document:e}),f===void 0&&g instanceof Be.CancellationError)f={state:Pn.reschedule,document:e};else throw g}if(f=f??this.openRequests.get(s),f===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${s}`),this.diagnostics.delete(r);return}if(this.openRequests.delete(s),!this.tabs.isVisible(e)){this.documentStates.unTrack(sn.document,e);return}if(f.state===Pn.outDated)return;u!==void 0&&(u.kind===Ki.DocumentDiagnosticReportKind.full&&this.diagnostics.set(r,u.items),a.pulledVersion=n,a.resultId=u.resultId),f.state===Pn.reschedule&&this.pull(e)}else o.state===Pn.active?(o.tokenSource.cancel(),this.openRequests.set(s,{state:Pn.reschedule,document:o.document})):o.state===Pn.outDated&&this.openRequests.set(s,{state:Pn.reschedule,document:o.document})}forgetDocument(e){let n=e instanceof Be.Uri?e:e.uri,i=n.toString(),r=this.openRequests.get(i);this.options.workspaceDiagnostics?r!==void 0?this.openRequests.set(i,{state:Pn.reschedule,document:e}):this.pull(e,()=>{this.forget(sn.document,e)}):(r!==void 0&&(r.state===Pn.active&&r.tokenSource.cancel(),this.openRequests.set(i,{state:Pn.outDated,document:e})),this.diagnostics.delete(n),this.forget(sn.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,$t.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof nD.LSPCancellationError)&&!$t.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,$t.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new Be.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(n=>({uri:this.client.protocol2CodeConverter.asUri(n.uri),value:n.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,n=>{if(!(!n||this.isDisposed))for(let i of n.items)i.kind===Ki.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(sn.document,i.uri)||this.diagnostics.set(i.uri,i.items)),this.documentStates.update(sn.workspace,i.uri,i.version??void 0,i.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(n,i,r)=>{let s=(a,c,u)=>{let f={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof Be.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:Ki.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest($t.DocumentDiagnosticRequest.type,f,u).then(async g=>g==null||this.isDisposed||u.isCancellationRequested?{kind:Ki.DocumentDiagnosticReportKind.full,items:[]}:g.kind===$t.DocumentDiagnosticReportKind.Full?{kind:Ki.DocumentDiagnosticReportKind.full,resultId:g.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(g.items,u)}:{kind:Ki.DocumentDiagnosticReportKind.unChanged,resultId:g.resultId},g=>this.client.handleFailedRequest($t.DocumentDiagnosticRequest.type,u,g,{kind:Ki.DocumentDiagnosticReportKind.full,items:[]}))},o=this.client.middleware;return o.provideDiagnostics?o.provideDiagnostics(n,i,r,s):s(n,i,r)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(n,i,r)=>{let s=async u=>u.kind===$t.DocumentDiagnosticReportKind.Full?{kind:Ki.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version,items:await this.client.protocol2CodeConverter.asDiagnostics(u.items,i)}:{kind:Ki.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version},o=u=>{let f=[];for(let g of u)f.push({uri:this.client.code2ProtocolConverter.asUri(g.uri),value:g.value});return f},a=(u,f)=>{let g=(0,X9.generateUuid)(),p=this.client.onProgress($t.WorkspaceDiagnosticRequest.partialResult,g,async d=>{if(d==null){r(null);return}let h={items:[]};for(let m of d.items)try{h.items.push(await s(m))}catch(C){this.client.error("Converting workspace diagnostics failed.",C)}r(h)}),l={identifier:this.options.identifier,previousResultIds:o(u),partialResultToken:g};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest($t.WorkspaceDiagnosticRequest.type,l,f).then(async d=>{if(f.isCancellationRequested)return{items:[]};let h={items:[]};for(let m of d.items)h.items.push(await s(m));return p.dispose(),r(h),{items:[]}},d=>(p.dispose(),this.client.handleFailedRequest($t.DocumentDiagnosticRequest.type,f,d,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(n,i,r,a):a(n,i,r)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,n]of this.openRequests)n.state===Pn.active&&n.tokenSource.cancel(),this.openRequests.set(e,{state:Pn.outDated,document:n.document});this.diagnostics.dispose()}},oD=class{constructor(e){this.diagnosticRequestor=e,this.documents=new $t.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let n=zr.asKey(e);this.documents.has(n)||(this.documents.set(n,e,$t.Touch.Last),this.trigger())}remove(e){let n=zr.asKey(e);this.documents.delete(n),this.documents.size===0?this.stop():n===this.endDocumentKey()&&(this.endDocument=this.documents.last)}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0,$t.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let n=zr.asKey(e);this.diagnosticRequestor.pull(e),this.documents.set(n,e,$t.Touch.Last),n===this.endDocumentKey()&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}endDocumentKey(){return this.endDocument!==void 0?zr.asKey(this.endDocument):void 0}},aD=class{constructor(e,n,i){let r=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},s=e.protocol2CodeConverter.asDocumentSelector(i.documentSelector),o=[],a=d=>{let h=i.documentSelector;if(r.match!==void 0)return r.match(h,d);for(let m of h)if($t.TextDocumentFilter.is(m)){if(typeof m=="string"||m.language!==void 0&&m.language!=="*"||m.scheme!==void 0&&m.scheme!=="*"&&m.scheme!==d.scheme)return!1;if(m.pattern!==void 0){let C=new J9.Minimatch(m.pattern,{noext:!0});if(!C.makeRe()||!C.match(d.fsPath))return!1}}return!0},c=d=>d instanceof Be.Uri?a(d):Be.languages.match(s,d)>0&&n.isVisible(d),u=d=>d instanceof Be.Uri?this.activeTextDocument?.uri.toString()===d.toString():this.activeTextDocument===d;this.diagnosticRequestor=new sD(e,n,i),this.backgroundScheduler=new oD(this.diagnosticRequestor);let f=d=>{!c(d)||!i.interFileDependencies||u(d)||this.backgroundScheduler.add(d)};this.activeTextDocument=Be.window.activeTextEditor?.document,Be.window.onDidChangeActiveTextEditor(d=>{let h=this.activeTextDocument;this.activeTextDocument=d?.document,h!==void 0&&f(h),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument)});let g=e.getFeature($t.DidOpenTextDocumentNotification.method);o.push(g.onNotificationSent(d=>{let h=d.textDocument;this.diagnosticRequestor.knows(sn.document,h)||c(h)&&this.diagnosticRequestor.pull(h,()=>{f(h)})})),o.push(n.onOpen(d=>{for(let h of d){if(this.diagnosticRequestor.knows(sn.document,h))continue;let m=h.toString(),C;for(let D of Be.workspace.textDocuments)if(m===D.uri.toString()){C=D;break}C!==void 0&&c(C)&&this.diagnosticRequestor.pull(C,()=>{f(C)})}}));let p=new Set;for(let d of Be.workspace.textDocuments)c(d)&&(this.diagnosticRequestor.pull(d,()=>{f(d)}),p.add(d.uri.toString()));if(r.onTabs===!0)for(let d of n.getTabResources())!p.has(d.toString())&&c(d)&&this.diagnosticRequestor.pull(d,()=>{f(d)});if(r.onChange===!0){let d=e.getFeature($t.DidChangeTextDocumentNotification.method);o.push(d.onNotificationSent(async h=>{let m=h.textDocument;(r.filter===void 0||!r.filter(m,zp.onType))&&this.diagnosticRequestor.knows(sn.document,m)&&this.diagnosticRequestor.pull(m,()=>{this.backgroundScheduler.trigger()})}))}if(r.onSave===!0){let d=e.getFeature($t.DidSaveTextDocumentNotification.method);o.push(d.onNotificationSent(h=>{let m=h.textDocument;(r.filter===void 0||!r.filter(m,zp.onSave))&&this.diagnosticRequestor.knows(sn.document,m)&&this.diagnosticRequestor.pull(h.textDocument,()=>{this.backgroundScheduler.trigger()})}))}let l=e.getFeature($t.DidCloseTextDocumentNotification.method);o.push(l.onNotificationSent(d=>{this.cleanUpDocument(d.textDocument)})),n.onClose(d=>{for(let h of d)this.cleanUpDocument(h)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let d of Be.workspace.textDocuments)c(d)&&this.diagnosticRequestor.pull(d)}),i.workspaceDiagnostics===!0&&i.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=Be.Disposable.from(...o,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(sn.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}},cD=class extends nD.TextDocumentLanguageFeature{constructor(e){super(e,$t.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let n=Hp(Hp(e,"textDocument"),"diagnostic");n.dynamicRegistration=!0,n.relatedDocumentSupport=!1,Hp(Hp(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,n){this._client.onRequest($t.DiagnosticRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeDiagnosticsEmitter.fire()});let[r,s]=this.getRegistration(n,e.diagnosticProvider);!r||!s||this.register({id:r,registerOptions:s})}clear(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.clear()}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new iD);let n=new aD(this._client,this.tabs,e);return[n.disposable,n]}};_s.DiagnosticFeature=cD});var fO=F(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.NotebookDocumentSyncFeature=void 0;var Rn=require("vscode"),Y9=Vp(),Gr=Pe(),Q9=xt(),lO=qi();function dO(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Ja;(function(t){let e;(function(n){function i(p,l){return{version:p.version,uri:l.asUri(p.uri)}}n.asVersionedNotebookDocumentIdentifier=i;function r(p,l,d){let h=Gr.NotebookDocument.create(d.asUri(p.uri),p.notebookType,p.version,s(l,d));return Object.keys(p.metadata).length>0&&(h.metadata=o(p.metadata)),h}n.asNotebookDocument=r;function s(p,l){return p.map(d=>a(d,l))}n.asNotebookCells=s;function o(p){return u(new Set,p)}n.asMetadata=o;function a(p,l){let d=Gr.NotebookCell.create(c(p.kind),l.asUri(p.document.uri));return Object.keys(p.metadata).length>0&&(d.metadata=o(p.metadata)),p.executionSummary!==void 0&&lO.number(p.executionSummary.executionOrder)&&lO.boolean(p.executionSummary.success)&&(d.executionSummary={executionOrder:p.executionSummary.executionOrder,success:p.executionSummary.success}),d}n.asNotebookCell=a;function c(p){switch(p){case Rn.NotebookCellKind.Markup:return Gr.NotebookCellKind.Markup;case Rn.NotebookCellKind.Code:return Gr.NotebookCellKind.Code}}function u(p,l){if(p.has(l))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(l)){let d=[];for(let h of l)if(h!==null&&typeof h=="object"||Array.isArray(h))d.push(u(p,h));else{if(h instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");d.push(h)}return d}else{let d=Object.keys(l),h=Object.create(null);for(let m of d){let C=l[m];if(C!==null&&typeof C=="object"||Array.isArray(C))h[m]=u(p,C);else{if(C instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");h[m]=C}}return h}}function f(p,l){let d=l.asChangeTextDocumentParams(p,p.document.uri,p.document.version);return{document:d.textDocument,changes:d.contentChanges}}n.asTextContentChange=f;function g(p,l){let d=Object.create(null);if(p.metadata&&(d.metadata=t.c2p.asMetadata(p.metadata)),p.cells!==void 0){let h=Object.create(null),m=p.cells;m.structure&&(h.structure={array:{start:m.structure.array.start,deleteCount:m.structure.array.deleteCount,cells:m.structure.array.cells!==void 0?m.structure.array.cells.map(C=>t.c2p.asNotebookCell(C,l)):void 0},didOpen:m.structure.didOpen!==void 0?m.structure.didOpen.map(C=>l.asOpenTextDocumentParams(C.document).textDocument):void 0,didClose:m.structure.didClose!==void 0?m.structure.didClose.map(C=>l.asCloseTextDocumentParams(C.document).textDocument):void 0}),m.data!==void 0&&(h.data=m.data.map(C=>t.c2p.asNotebookCell(C,l))),m.textContent!==void 0&&(h.textContent=m.textContent.map(C=>t.c2p.asTextContentChange(C,l))),Object.keys(h).length>0&&(d.cells=h)}return d}n.asNotebookDocumentChangeEvent=g})(e=t.c2p||(t.c2p={}))})(Ja||(Ja={}));var lD;(function(t){function e(a,c,u){let f=a.length,g=c.length,p=0;for(;p<g&&p<f&&n(a[p],c[p],u);)p++;if(p<g&&p<f){let l=f-1,d=g-1;for(;l>=0&&d>=0&&n(a[l],c[d],u);)l--,d--;let h=l+1-p,m=p===d+1?void 0:c.slice(p,d+1);return m!==void 0?{start:p,deleteCount:h,cells:m}:{start:p,deleteCount:h}}else return p<g?{start:p,deleteCount:0,cells:c.slice(p)}:p<f?{start:p,deleteCount:f-p}:void 0}t.computeDiff=e;function n(a,c,u=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!i(a.executionSummary,c.executionSummary)?!1:!u||u&&s(a.metadata,c.metadata)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&r(a.timing,c.timing)}function r(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function s(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let u=Array.isArray(a),f=Array.isArray(c);if(u!==f)return!1;if(u&&f){if(a.length!==c.length)return!1;for(let g=0;g<a.length;g++)if(!s(a[g],c[g]))return!1}if(o(a)&&o(c)){let g=Object.keys(a),p=Object.keys(c);if(g.length!==p.length||(g.sort(),p.sort(),!s(g,p)))return!1;for(let l=0;l<g.length;l++){let d=g[l];if(!s(a[d],c[d]))return!1}return!0}return!1}function o(a){return a!==null&&typeof a=="object"}t.isObjectLiteral=o})(lD||(lD={}));var dD;(function(t){function e(n,i){if(typeof n=="string")return n==="*"||i.notebookType===n;if(n.notebookType!==void 0&&n.notebookType!=="*"&&i.notebookType!==n.notebookType)return!1;let r=i.uri;if(n.scheme!==void 0&&n.scheme!=="*"&&r.scheme!==n.scheme)return!1;if(n.pattern!==void 0){let s=new Y9.Minimatch(n.pattern,{noext:!0});if(!s.makeRe()||!s.match(r.fsPath))return!1}return!0}t.matchNotebook=e})(dD||(dD={}));var Gp;(function(t){function e(i){let r=i.notebookSelector,s=[];for(let o of r){let a=(typeof o.notebook=="string"?o.notebook:o.notebook?.notebookType)??"*",c=typeof o.notebook=="string"?void 0:o.notebook?.scheme,u=typeof o.notebook=="string"?void 0:o.notebook?.pattern;if(o.cells!==void 0)for(let f of o.cells)s.push(n(a,c,u,f.language));else s.push(n(a,c,u,void 0))}return s}t.asDocumentSelector=e;function n(i,r,s,o){return r===void 0&&s===void 0?{notebook:i,language:o}:{notebook:{notebookType:i,scheme:r,pattern:s},language:o}}})(Gp||(Gp={}));var Jp;(function(t){function e(n){return{cells:n,uris:new Set(n.map(i=>i.document.uri.toString()))}}t.create=e})(Jp||(Jp={}));var Xa=class{constructor(e,n){this.client=e,this.options=n,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(Gp.asDocumentSelector(n)),Rn.workspace.onDidOpenNotebookDocument(i=>{this.notebookDidOpen.add(i.uri.toString()),this.didOpen(i)},void 0,this.disposables);for(let i of Rn.workspace.notebookDocuments)this.notebookDidOpen.add(i.uri.toString()),this.didOpen(i);Rn.workspace.onDidChangeNotebookDocument(i=>this.didChangeNotebookDocument(i),void 0,this.disposables),this.options.save===!0&&Rn.workspace.onDidSaveNotebookDocument(i=>this.didSave(i),void 0,this.disposables),Rn.workspace.onDidCloseNotebookDocument(i=>{this.didClose(i),this.notebookDidOpen.delete(i.uri.toString())},void 0,this.disposables)}getState(){for(let e of Rn.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return Rn.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,n){if(Rn.languages.match(this.selector,n.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let i=this.notebookSyncInfo.get(e.uri.toString()),r=this.cellMatches(e,n);if(i!==void 0){let s=i.uris.has(n.document.uri.toString());if(r&&s||!r&&!s)return;if(r){let o=this.getMatchingCells(e);if(o!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,i,o);a!==void 0&&this.doSendChange(a,o).catch(()=>{})}}}else r&&this.doSendOpen(e,[n]).catch(()=>{})}didChangeNotebookCellTextDocument(e,n){Rn.languages.match(this.selector,n.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[n]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(e,n){let i=this.notebookSyncInfo.get(e.uri.toString());if(i===void 0)return;let r=n.document.uri,s=i.cells.findIndex(o=>o.document.uri.toString()===r.toString());if(s!==-1)if(s===0&&i.cells.length===1)this.doSendClose(e,i.cells).catch(()=>{});else{let o=i.cells.slice(),a=o.splice(s,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:s,deleteCount:1},didClose:a}}},o).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,n=this.getMatchingCells(e),i=this.notebookSyncInfo.get(e.uri.toString())){if(i!==void 0)if(n!==void 0){let r=this.asNotebookDocumentChangeEvent(e,void 0,i,n);r!==void 0&&this.doSendChange(r,n).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(n===void 0)return;this.doSendOpen(e,n).catch(()=>{})}}didChangeNotebookDocument(e){let n=e.notebook,i=this.notebookSyncInfo.get(n.uri.toString());if(i===void 0){if(e.contentChanges.length===0)return;let r=this.getMatchingCells(n);if(r===void 0)return;this.didOpen(n,r,i)}else{let r=this.getMatchingCells(n);if(r===void 0){this.didClose(n,i);return}let s=this.asNotebookDocumentChangeEvent(e.notebook,e,i,r);s!==void 0&&this.doSendChange(s,r).catch(()=>{})}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,n=this.notebookSyncInfo.get(e.uri.toString())){if(n===void 0)return;let i=e.getCells().filter(r=>n.uris.has(r.document.uri.toString()));this.doSendClose(e,i).catch(()=>{})}async sendDidOpenNotebookDocument(e){let n=this.getMatchingCells(e);if(n!==void 0)return this.doSendOpen(e,n)}async doSendOpen(e,n){let i=async(s,o)=>{let a=Ja.c2p.asNotebookDocument(s,o,this.client.code2ProtocolConverter),c=o.map(u=>this.client.code2ProtocolConverter.asTextDocumentItem(u.document));try{await this.client.sendNotification(Gr.DidOpenNotebookDocumentNotification.type,{notebookDocument:a,cellTextDocuments:c})}catch(u){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",u),u}},r=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),Jp.create(n)),r?.didOpen!==void 0?r.didOpen(e,n,i):i(e,n)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,n=this.getMatchingCells(e.notebook)){let i=async s=>{try{await this.client.sendNotification(Gr.DidChangeNotebookDocumentNotification.type,{notebookDocument:Ja.c2p.asVersionedNotebookDocumentIdentifier(s.notebook,this.client.code2ProtocolConverter),change:Ja.c2p.asNotebookDocumentChangeEvent(s,this.client.code2ProtocolConverter)})}catch(o){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",o),o}},r=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),Jp.create(n??[])),r?.didChange!==void 0?r?.didChange(e,i):i(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let n=async r=>{try{await this.client.sendNotification(Gr.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(r.uri)}})}catch(s){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",s),s}},i=this.client.middleware?.notebooks;return i?.didSave!==void 0?i.didSave(e,n):n(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,n){let i=async(s,o)=>{try{await this.client.sendNotification(Gr.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(s.uri)},cellTextDocuments:o.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))})}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},r=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),r?.didClose!==void 0?r.didClose(e,n,i):i(e,n)}asNotebookDocumentChangeEvent(e,n,i,r){if(n!==void 0&&n.notebook!==e)throw new Error("Notebook must be identical");let s={notebook:e};n?.metadata!==void 0&&(s.metadata=Ja.c2p.asMetadata(n.metadata));let o;if(n?.cellChanges!==void 0&&n.cellChanges.length>0){let a=[];o=new Set(r.map(c=>c.document.uri.toString()));for(let c of n.cellChanges)o.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(s.cells=s.cells??{},s.cells.data=a)}if((n?.contentChanges!==void 0&&n.contentChanges.length>0||n===void 0)&&i!==void 0&&r!==void 0){let a=i.cells,c=r,u=lD.computeDiff(a,c,!1),f,g;if(u!==void 0){f=u.cells===void 0?new Map:new Map(u.cells.map(d=>[d.document.uri.toString(),d])),g=u.deleteCount===0?new Map:new Map(a.slice(u.start,u.start+u.deleteCount).map(d=>[d.document.uri.toString(),d]));for(let d of Array.from(g.keys()))f.has(d)&&(g.delete(d),f.delete(d));s.cells=s.cells??{};let p=[],l=[];if(f.size>0||g.size>0){for(let d of f.values())p.push(d);for(let d of g.values())l.push(d)}s.cells.structure={array:u,didOpen:p,didClose:l}}}return Object.keys(s).length>1?s:void 0}getMatchingCells(e,n=e.getCells()){if(this.options.notebookSelector!==void 0){for(let i of this.options.notebookSelector)if(i.notebook===void 0||dD.matchNotebook(i.notebook,e)){let r=this.filterCells(e,n,i.cells);return r.length===0?void 0:r}}}cellMatches(e,n){let i=this.getMatchingCells(e,[n]);return i!==void 0&&i[0]===n}filterCells(e,n,i){let r=i!==void 0?n.filter(s=>{let o=s.document.languageId;return i.some(a=>a.language==="*"||o===a.language)}):n;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,r):r}},Xp=class t{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=Gr.NotebookDocumentSyncRegistrationType.type,Rn.workspace.onDidOpenTextDocument(n=>{if(n.uri.scheme!==t.CellScheme)return;let[i,r]=this.findNotebookDocumentAndCell(n);if(!(i===void 0||r===void 0))for(let s of this.registrations.values())s instanceof Xa&&s.didOpenNotebookCellTextDocument(i,r)}),Rn.workspace.onDidChangeTextDocument(n=>{if(n.contentChanges.length===0)return;let i=n.document;if(i.uri.scheme!==t.CellScheme)return;let[r]=this.findNotebookDocumentAndCell(i);if(r!==void 0)for(let s of this.registrations.values())s instanceof Xa&&s.didChangeNotebookCellTextDocument(r,n)}),Rn.workspace.onDidCloseTextDocument(n=>{if(n.uri.scheme!==t.CellScheme)return;let[i,r]=this.findNotebookDocumentAndCell(n);if(!(i===void 0||r===void 0))for(let s of this.registrations.values())s instanceof Xa&&s.didCloseNotebookCellTextDocument(i,r)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let n=e.getState();if(n.kind==="document"&&n.registrations===!0&&n.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let n=dO(dO(e,"notebookDocument"),"synchronization");n.dynamicRegistration=!0,n.executionSummarySupport=!0}preInitialize(e){let n=e.notebookDocumentSync;n!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(Gp.asDocumentSelector(n)))}initialize(e){let n=e.notebookDocumentSync;if(n===void 0)return;let i=n.id??Q9.generateUuid();this.register({id:i,registerOptions:n})}register(e){let n=new Xa(this.client,e.registerOptions);this.registrations.set(e.id,n)}unregister(e){let n=this.registrations.get(e);n&&n.dispose()}clear(){for(let e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==t.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&Rn.languages.match(this.dedicatedChannel,e)>0)return!0;for(let n of this.registrations.values())if(n.handles(e))return!0;return!1}getProvider(e){for(let n of this.registrations.values())if(n.handles(e.document))return n}findNotebookDocumentAndCell(e){let n=e.uri.toString();for(let i of Rn.workspace.notebookDocuments)for(let r of i.getCells())if(r.document.uri.toString()===n)return[i,r];return[void 0,void 0]}};Yp.NotebookDocumentSyncFeature=Xp;Xp.CellScheme="vscode-notebook-cell"});var hO=F(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.SyncConfigurationFeature=Ns.toJSONObject=Ns.ConfigurationFeature=void 0;var Ya=require("vscode"),sl=Pe(),Z9=qi(),e4=xt(),pO=ze(),fD=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(sl.ConfigurationRequest.type,(n,i)=>{let r=o=>{let a=[];for(let c of o.items){let u=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(u,c.section!==null?c.section:void 0))}return a},s=e.middleware.workspace;return s&&s.configuration?s.configuration(n,i,r):r(n,i)})}getConfiguration(e,n){let i=null;if(n){let r=n.lastIndexOf(".");if(r===-1)i=Ro(Ya.workspace.getConfiguration(void 0,e).get(n));else{let s=Ya.workspace.getConfiguration(n.substr(0,r),e);s&&(i=Ro(s.get(n.substr(r+1))))}}else{let r=Ya.workspace.getConfiguration(void 0,e);i={};for(let s of Object.keys(r))r.has(s)&&(i[s]=Ro(r.get(s)))}return i===void 0&&(i=null),i}clear(){}};Ns.ConfigurationFeature=fD;function Ro(t){if(t){if(Array.isArray(t))return t.map(Ro);if(typeof t=="object"){let e=Object.create(null);for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Ro(t[n]));return e}}return t}Ns.toJSONObject=Ro;var pD=class{constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return sl.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,pO.ensure)((0,pO.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){this.isCleared=!1;let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:e4.generateUuid(),registerOptions:{section:e}})}register(e){let n=Ya.workspace.onDidChangeConfiguration(i=>{this.onDidChangeConfiguration(e.registerOptions.section,i)});this._listeners.set(e.id,n),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let n=this._listeners.get(e);n&&(this._listeners.delete(e),n.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0}onDidChangeConfiguration(e,n){if(this.isCleared)return;let i;if(Z9.string(e)?i=[e]:i=e,i!==void 0&&n!==void 0&&!i.some(a=>n.affectsConfiguration(a)))return;let r=async o=>o===void 0?this._client.sendNotification(sl.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(sl.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(o)}),s=this._client.middleware.workspace?.didChangeConfiguration;(s?s(i,r):r(i)).catch(o=>{this._client.error(`Sending notification ${sl.DidChangeConfigurationNotification.type.method} failed`,o)})}extractSettingsInformation(e){function n(s,o){let a=s;for(let c=0;c<o.length-1;c++){let u=a[o[c]];u||(u=Object.create(null),a[o[c]]=u),a=u}return a}let i=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,r=Object.create(null);for(let s=0;s<e.length;s++){let o=e[s],a=o.indexOf("."),c=null;if(a>=0?c=Ya.workspace.getConfiguration(o.substr(0,a),i).get(o.substr(a+1)):c=Ya.workspace.getConfiguration(void 0,i).get(o),c){let u=e[s].split(".");n(r,u)[u[u.length-1]]=Ro(c)}}return r}};Ns.SyncConfigurationFeature=pD});var gO=F(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.DidSaveTextDocumentFeature=ai.WillSaveWaitUntilFeature=ai.WillSaveFeature=ai.DidChangeTextDocumentFeature=ai.DidCloseTextDocumentFeature=ai.DidOpenTextDocumentFeature=void 0;var Di=require("vscode"),pt=Pe(),_t=ze(),Qa=xt(),hD=class extends _t.TextDocumentEventFeature{constructor(e,n){super(e,Di.workspace.onDidOpenTextDocument,pt.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,i=>e.code2ProtocolConverter.asOpenTextDocumentParams(i),i=>i,_t.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=n}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,_t.ensure)((0,_t.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;n&&i&&i.openClose&&this.register({id:Qa.generateUuid(),registerOptions:{documentSelector:n}})}get registrationType(){return pt.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let n=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);Di.workspace.textDocuments.forEach(i=>{let r=i.uri.toString();if(!this._syncedDocuments.has(r)&&Di.languages.match(n,i)>0&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let s=this._client.middleware,o=a=>this._client.sendNotification(this._type,this._createParams(a));(s.didOpen?s.didOpen(i,o):o(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._syncedDocuments.set(r,i)}})}getTextDocument(e){return e}notificationSent(e,n,i){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,n,i)}};ai.DidOpenTextDocumentFeature=hD;var gD=class extends _t.TextDocumentEventFeature{constructor(e,n,i){super(e,Di.workspace.onDidCloseTextDocument,pt.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,r=>e.code2ProtocolConverter.asCloseTextDocumentParams(r),r=>r,_t.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=n,this._pendingTextDocumentChanges=i}get registrationType(){return pt.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,_t.ensure)((0,_t.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;n&&i&&i.openClose&&this.register({id:Qa.generateUuid(),registerOptions:{documentSelector:n}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,n,i){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,n,i)}unregister(e){let n=this._selectors.get(e);super.unregister(e);let i=this._selectors.values();this._syncedDocuments.forEach(r=>{if(Di.languages.match(n,r)>0&&!this._selectorFilter(i,r)&&!this._client.hasDedicatedTextSynchronizationFeature(r)){let s=this._client.middleware,o=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(r.uri.toString()),(s.didClose?s.didClose(r,o):o(r)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};ai.DidCloseTextDocumentFeature=gD;var mD=class extends _t.DynamicDocumentFeature{constructor(e,n){super(e),this._changeData=new Map,this._onNotificationSent=new Di.EventEmitter,this._onPendingChangeAdded=new Di.EventEmitter,this._pendingTextDocumentChanges=n,this._syncKind=pt.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return pt.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,_t.ensure)((0,_t.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;n&&i&&i.change!==void 0&&i.change!==pt.TextDocumentSyncKind.None&&this.register({id:Qa.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},{syncKind:i.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=Di.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let n=e.document.uri,i=e.document.version,r=[];for(let s of this._changeData.values())if(Di.languages.match(s.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let o=this._client.middleware;if(s.syncKind===pt.TextDocumentSyncKind.Incremental){let a=async c=>{let u=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c,n,i);await this._client.sendNotification(pt.DidChangeTextDocumentNotification.type,u),this.notificationSent(c.document,pt.DidChangeTextDocumentNotification.type,u)};r.push(o.didChange?o.didChange(e,c=>a(c)):a(e))}else if(s.syncKind===pt.TextDocumentSyncKind.Full){let a=async c=>{let u=c.document.uri.toString();this._pendingTextDocumentChanges.set(u,c.document),this._onPendingChangeAdded.fire()};r.push(o.didChange?o.didChange(e,c=>a(c)):a(e))}}return Promise.all(r).then(void 0,s=>{throw this._client.error(`Sending document notification ${pt.DidChangeTextDocumentNotification.type.method} failed`,s),s})}notificationSent(e,n,i){this._onNotificationSent.fire({textDocument:e,type:n,params:i})}unregister(e){if(this._changeData.delete(e),this._changeData.size===0)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=pt.TextDocumentSyncKind.None;else{this._syncKind=pt.TextDocumentSyncKind.None;for(let n of this._changeData.values())if(this.updateSyncKind(n.syncKind),this._syncKind===pt.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=pt.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(this._pendingTextDocumentChanges.size===0)return[];let n;if(e.size===0)n=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{n=[];for(let i of this._pendingTextDocumentChanges)e.has(i[0])||(n.push(i[1]),this._pendingTextDocumentChanges.delete(i[0]))}return n}getProvider(e){for(let n of this._changeData.values())if(Di.languages.match(n.documentSelector,e)>0)return{send:i=>this.callback(i)}}updateSyncKind(e){if(this._syncKind!==pt.TextDocumentSyncKind.Full)switch(e){case pt.TextDocumentSyncKind.Full:this._syncKind=e;break;case pt.TextDocumentSyncKind.Incremental:this._syncKind===pt.TextDocumentSyncKind.None&&(this._syncKind=pt.TextDocumentSyncKind.Incremental);break}}};ai.DidChangeTextDocumentFeature=mD;var yD=class extends _t.TextDocumentEventFeature{constructor(e){super(e,Di.workspace.onWillSaveTextDocument,pt.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,n=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(n),n=>n.document,(n,i)=>_t.TextDocumentEventFeature.textDocumentFilter(n,i.document))}get registrationType(){return pt.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let n=(0,_t.ensure)((0,_t.ensure)(e,"textDocument"),"synchronization");n.willSave=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;n&&i&&i.willSave&&this.register({id:Qa.generateUuid(),registerOptions:{documentSelector:n}})}getTextDocument(e){return e.document}};ai.WillSaveFeature=yD;var CD=class extends _t.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return pt.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let n=(0,_t.ensure)((0,_t.ensure)(e,"textDocument"),"synchronization");n.willSaveWaitUntil=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;n&&i&&i.willSaveWaitUntil&&this.register({id:Qa.generateUuid(),registerOptions:{documentSelector:n}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=Di.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(_t.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let n=this._client.middleware,i=r=>this._client.sendRequest(pt.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(r)).then(async s=>{let o=await this._client.protocol2CodeConverter.asTextEdits(s);return o===void 0?[]:o});e.waitUntil(n.willSaveWaitUntil?n.willSaveWaitUntil(e,i):i(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};ai.WillSaveWaitUntilFeature=CD;var vD=class extends _t.TextDocumentEventFeature{constructor(e){super(e,Di.workspace.onDidSaveTextDocument,pt.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,n=>e.code2ProtocolConverter.asSaveTextDocumentParams(n,this._includeText),n=>n,_t.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return pt.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,_t.ensure)((0,_t.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;if(n&&i&&i.save){let r=typeof i.save=="boolean"?{includeText:!1}:{includeText:!!i.save.includeText};this.register({id:Qa.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},r)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}};ai.DidSaveTextDocumentFeature=vD});var mO=F(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});Qp.CompletionItemFeature=void 0;var t4=require("vscode"),We=Pe(),SD=ze(),n4=xt(),i4=[We.CompletionItemKind.Text,We.CompletionItemKind.Method,We.CompletionItemKind.Function,We.CompletionItemKind.Constructor,We.CompletionItemKind.Field,We.CompletionItemKind.Variable,We.CompletionItemKind.Class,We.CompletionItemKind.Interface,We.CompletionItemKind.Module,We.CompletionItemKind.Property,We.CompletionItemKind.Unit,We.CompletionItemKind.Value,We.CompletionItemKind.Enum,We.CompletionItemKind.Keyword,We.CompletionItemKind.Snippet,We.CompletionItemKind.Color,We.CompletionItemKind.File,We.CompletionItemKind.Reference,We.CompletionItemKind.Folder,We.CompletionItemKind.EnumMember,We.CompletionItemKind.Constant,We.CompletionItemKind.Struct,We.CompletionItemKind.Event,We.CompletionItemKind.Operator,We.CompletionItemKind.TypeParameter],bD=class extends SD.TextDocumentLanguageFeature{constructor(e){super(e,We.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let n=(0,SD.ensure)((0,SD.ensure)(e,"textDocument"),"completion");n.dynamicRegistration=!0,n.contextSupport=!0,n.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[We.MarkupKind.Markdown,We.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[We.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[We.InsertTextMode.asIs,We.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},n.insertTextMode=We.InsertTextMode.adjustIndentation,n.completionItemKind={valueSet:i4},n.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"]}}initialize(e,n){let i=this.getRegistrationOptions(n,e.completionProvider);i&&this.register({id:n4.generateUuid(),registerOptions:i})}registerLanguageProvider(e,n){this.labelDetailsSupport.set(n,!!e.completionItem?.labelDetailsSupport);let i=e.triggerCharacters??[],r=e.allCommitCharacters,s=e.documentSelector,o={provideCompletionItems:(a,c,u,f)=>{let g=this._client,p=this._client.middleware,l=(d,h,m,C)=>g.sendRequest(We.CompletionRequest.type,g.code2ProtocolConverter.asCompletionParams(d,h,m),C).then(D=>C.isCancellationRequested?null:g.protocol2CodeConverter.asCompletionResult(D,r,C),D=>g.handleFailedRequest(We.CompletionRequest.type,C,D,null));return p.provideCompletionItem?p.provideCompletionItem(a,c,f,u,l):l(a,c,f,u)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let u=this._client,f=this._client.middleware,g=(p,l)=>u.sendRequest(We.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(p,!!this.labelDetailsSupport.get(n)),l).then(d=>l.isCancellationRequested?null:u.protocol2CodeConverter.asCompletionItem(d),d=>u.handleFailedRequest(We.CompletionResolveRequest.type,l,d,p));return f.resolveCompletionItem?f.resolveCompletionItem(a,c,g):g(a,c)}:void 0};return[t4.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(s),o,...i),o]}};Qp.CompletionItemFeature=bD});var yO=F(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});Zp.HoverFeature=void 0;var r4=require("vscode"),ol=Pe(),DD=ze(),s4=xt(),TD=class extends DD.TextDocumentLanguageFeature{constructor(e){super(e,ol.HoverRequest.type)}fillClientCapabilities(e){let n=(0,DD.ensure)((0,DD.ensure)(e,"textDocument"),"hover");n.dynamicRegistration=!0,n.contentFormat=[ol.MarkupKind.Markdown,ol.MarkupKind.PlainText]}initialize(e,n){let i=this.getRegistrationOptions(n,e.hoverProvider);i&&this.register({id:s4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideHover:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(ol.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asHover(l),l=>a.handleFailedRequest(ol.HoverRequest.type,p,l,null)),u=a.middleware;return u.provideHover?u.provideHover(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return r4.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Zp.HoverFeature=TD});var CO=F(eh=>{"use strict";Object.defineProperty(eh,"__esModule",{value:!0});eh.DefinitionFeature=void 0;var o4=require("vscode"),wD=Pe(),xD=ze(),a4=xt(),ED=class extends xD.TextDocumentLanguageFeature{constructor(e){super(e,wD.DefinitionRequest.type)}fillClientCapabilities(e){let n=(0,xD.ensure)((0,xD.ensure)(e,"textDocument"),"definition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.definitionProvider);i&&this.register({id:a4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDefinition:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(wD.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(l,p),l=>a.handleFailedRequest(wD.DefinitionRequest.type,p,l,null)),u=a.middleware;return u.provideDefinition?u.provideDefinition(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return o4.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};eh.DefinitionFeature=ED});var SO=F(th=>{"use strict";Object.defineProperty(th,"__esModule",{value:!0});th.SignatureHelpFeature=void 0;var vO=require("vscode"),al=Pe(),kD=ze(),c4=xt(),FD=class extends kD.TextDocumentLanguageFeature{constructor(e){super(e,al.SignatureHelpRequest.type)}fillClientCapabilities(e){let n=(0,kD.ensure)((0,kD.ensure)(e,"textDocument"),"signatureHelp");n.dynamicRegistration=!0,n.signatureInformation={documentationFormat:[al.MarkupKind.Markdown,al.MarkupKind.PlainText]},n.signatureInformation.parameterInformation={labelOffsetSupport:!0},n.signatureInformation.activeParameterSupport=!0,n.contextSupport=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.signatureHelpProvider);i&&this.register({id:c4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n={provideSignatureHelp:(i,r,s,o)=>{let a=this._client,c=(f,g,p,l)=>a.sendRequest(al.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(f,g,p),l).then(d=>l.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(d,l),d=>a.handleFailedRequest(al.SignatureHelpRequest.type,l,d,null)),u=a.middleware;return u.provideSignatureHelp?u.provideSignatureHelp(i,r,o,s,c):c(i,r,o,s)}};return[this.registerProvider(e,n),n]}registerProvider(e,n){let i=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let r=e.triggerCharacters||[];return vO.languages.registerSignatureHelpProvider(i,n,...r)}else{let r={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return vO.languages.registerSignatureHelpProvider(i,n,r)}}};th.SignatureHelpFeature=FD});var bO=F(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});nh.DocumentHighlightFeature=void 0;var u4=require("vscode"),PD=Pe(),RD=ze(),l4=xt(),AD=class extends RD.TextDocumentLanguageFeature{constructor(e){super(e,PD.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,RD.ensure)((0,RD.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentHighlightProvider);i&&this.register({id:l4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDocumentHighlights:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(PD.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(l,p),l=>a.handleFailedRequest(PD.DocumentHighlightRequest.type,p,l,null)),u=a.middleware;return u.provideDocumentHighlights?u.provideDocumentHighlights(r,s,o,c):c(r,s,o)}};return[u4.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};nh.DocumentHighlightFeature=AD});var ND=F(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.DocumentSymbolFeature=Ir.SupportedSymbolTags=Ir.SupportedSymbolKinds=void 0;var d4=require("vscode"),nt=Pe(),ID=ze(),f4=xt();Ir.SupportedSymbolKinds=[nt.SymbolKind.File,nt.SymbolKind.Module,nt.SymbolKind.Namespace,nt.SymbolKind.Package,nt.SymbolKind.Class,nt.SymbolKind.Method,nt.SymbolKind.Property,nt.SymbolKind.Field,nt.SymbolKind.Constructor,nt.SymbolKind.Enum,nt.SymbolKind.Interface,nt.SymbolKind.Function,nt.SymbolKind.Variable,nt.SymbolKind.Constant,nt.SymbolKind.String,nt.SymbolKind.Number,nt.SymbolKind.Boolean,nt.SymbolKind.Array,nt.SymbolKind.Object,nt.SymbolKind.Key,nt.SymbolKind.Null,nt.SymbolKind.EnumMember,nt.SymbolKind.Struct,nt.SymbolKind.Event,nt.SymbolKind.Operator,nt.SymbolKind.TypeParameter];Ir.SupportedSymbolTags=[nt.SymbolTag.Deprecated];var _D=class extends ID.TextDocumentLanguageFeature{constructor(e){super(e,nt.DocumentSymbolRequest.type)}fillClientCapabilities(e){let n=(0,ID.ensure)((0,ID.ensure)(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:Ir.SupportedSymbolKinds},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:Ir.SupportedSymbolTags},n.labelSupport=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentSymbolProvider);i&&this.register({id:f4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDocumentSymbols:(s,o)=>{let a=this._client,c=async(f,g)=>{try{let p=await a.sendRequest(nt.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(f),g);if(g.isCancellationRequested||p===void 0||p===null)return null;if(p.length===0)return[];{let l=p[0];return nt.DocumentSymbol.is(l)?await a.protocol2CodeConverter.asDocumentSymbols(p,g):await a.protocol2CodeConverter.asSymbolInformations(p,g)}}catch(p){return a.handleFailedRequest(nt.DocumentSymbolRequest.type,g,p,null)}},u=a.middleware;return u.provideDocumentSymbols?u.provideDocumentSymbols(s,o,c):c(s,o)}},r=e.label!==void 0?{label:e.label}:void 0;return[d4.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i,r),i]}};Ir.DocumentSymbolFeature=_D});var TO=F(ih=>{"use strict";Object.defineProperty(ih,"__esModule",{value:!0});ih.WorkspaceSymbolFeature=void 0;var p4=require("vscode"),cl=Pe(),OD=ze(),DO=ND(),h4=xt(),LD=class extends OD.WorkspaceFeature{constructor(e){super(e,cl.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let n=(0,OD.ensure)((0,OD.ensure)(e,"workspace"),"symbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:DO.SupportedSymbolKinds},n.tagSupport={valueSet:DO.SupportedSymbolTags},n.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:h4.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let n={provideWorkspaceSymbols:(i,r)=>{let s=this._client,o=(c,u)=>s.sendRequest(cl.WorkspaceSymbolRequest.type,{query:c},u).then(f=>u.isCancellationRequested?null:s.protocol2CodeConverter.asSymbolInformations(f,u),f=>s.handleFailedRequest(cl.WorkspaceSymbolRequest.type,u,f,null)),a=s.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(i,r,o):o(i,r)},resolveWorkspaceSymbol:e.resolveProvider===!0?(i,r)=>{let s=this._client,o=(c,u)=>s.sendRequest(cl.WorkspaceSymbolResolveRequest.type,s.code2ProtocolConverter.asWorkspaceSymbol(c),u).then(f=>u.isCancellationRequested?null:s.protocol2CodeConverter.asSymbolInformation(f),f=>s.handleFailedRequest(cl.WorkspaceSymbolResolveRequest.type,u,f,null)),a=s.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(i,r,o):o(i,r)}:void 0};return[p4.languages.registerWorkspaceSymbolProvider(n),n]}};ih.WorkspaceSymbolFeature=LD});var wO=F(rh=>{"use strict";Object.defineProperty(rh,"__esModule",{value:!0});rh.ReferencesFeature=void 0;var g4=require("vscode"),MD=Pe(),qD=ze(),m4=xt(),UD=class extends qD.TextDocumentLanguageFeature{constructor(e){super(e,MD.ReferencesRequest.type)}fillClientCapabilities(e){(0,qD.ensure)((0,qD.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.referencesProvider);i&&this.register({id:m4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideReferences:(r,s,o,a)=>{let c=this._client,u=(g,p,l,d)=>c.sendRequest(MD.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(g,p,l),d).then(h=>d.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(h,d),h=>c.handleFailedRequest(MD.ReferencesRequest.type,d,h,null)),f=c.middleware;return f.provideReferences?f.provideReferences(r,s,o,a,u):u(r,s,o,a)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return g4.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};rh.ReferencesFeature=UD});var xO=F(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});sh.CodeActionFeature=void 0;var y4=require("vscode"),Ti=Pe(),C4=xt(),jD=ze(),BD=class extends jD.TextDocumentLanguageFeature{constructor(e){super(e,Ti.CodeActionRequest.type)}fillClientCapabilities(e){let n=(0,jD.ensure)((0,jD.ensure)(e,"textDocument"),"codeAction");n.dynamicRegistration=!0,n.isPreferredSupport=!0,n.disabledSupport=!0,n.dataSupport=!0,n.resolveSupport={properties:["edit"]},n.codeActionLiteralSupport={codeActionKind:{valueSet:[Ti.CodeActionKind.Empty,Ti.CodeActionKind.QuickFix,Ti.CodeActionKind.Refactor,Ti.CodeActionKind.RefactorExtract,Ti.CodeActionKind.RefactorInline,Ti.CodeActionKind.RefactorRewrite,Ti.CodeActionKind.Source,Ti.CodeActionKind.SourceOrganizeImports]}},n.honorsChangeAnnotations=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.codeActionProvider);i&&this.register({id:C4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideCodeActions:(r,s,o,a)=>{let c=this._client,u=async(g,p,l,d)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),range:c.code2ProtocolConverter.asRange(p),context:c.code2ProtocolConverter.asCodeActionContextSync(l)};return c.sendRequest(Ti.CodeActionRequest.type,h,d).then(m=>d.isCancellationRequested||m===null||m===void 0?null:c.protocol2CodeConverter.asCodeActionResult(m,d),m=>c.handleFailedRequest(Ti.CodeActionRequest.type,d,m,null))},f=c.middleware;return f.provideCodeActions?f.provideCodeActions(r,s,o,a,u):u(r,s,o,a)},resolveCodeAction:e.resolveProvider?(r,s)=>{let o=this._client,a=this._client.middleware,c=async(u,f)=>o.sendRequest(Ti.CodeActionResolveRequest.type,o.code2ProtocolConverter.asCodeActionSync(u),f).then(g=>f.isCancellationRequested?u:o.protocol2CodeConverter.asCodeAction(g,f),g=>o.handleFailedRequest(Ti.CodeActionResolveRequest.type,f,g,u));return a.resolveCodeAction?a.resolveCodeAction(r,s,c):c(r,s)}:void 0};return[y4.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),i]}};sh.CodeActionFeature=BD});var kO=F(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});oh.CodeLensFeature=void 0;var EO=require("vscode"),Za=Pe(),v4=xt(),ul=ze(),WD=class extends ul.TextDocumentLanguageFeature{constructor(e){super(e,Za.CodeLensRequest.type)}fillClientCapabilities(e){(0,ul.ensure)((0,ul.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,ul.ensure)((0,ul.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,n){this._client.onRequest(Za.CodeLensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeCodeLensEmitter.fire()});let r=this.getRegistrationOptions(n,e.codeLensProvider);r&&this.register({id:v4.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i=new EO.EventEmitter,r={onDidChangeCodeLenses:i.event,provideCodeLenses:(s,o)=>{let a=this._client,c=(f,g)=>a.sendRequest(Za.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(f),g).then(p=>g.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(p,g),p=>a.handleFailedRequest(Za.CodeLensRequest.type,g,p,null)),u=a.middleware;return u.provideCodeLenses?u.provideCodeLenses(s,o,c):c(s,o)},resolveCodeLens:e.resolveProvider?(s,o)=>{let a=this._client,c=(f,g)=>a.sendRequest(Za.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(f),g).then(p=>g.isCancellationRequested?f:a.protocol2CodeConverter.asCodeLens(p),p=>a.handleFailedRequest(Za.CodeLensResolveRequest.type,g,p,f)),u=a.middleware;return u.resolveCodeLens?u.resolveCodeLens(s,o,c):c(s,o)}:void 0};return[EO.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),{provider:r,onDidChangeCodeLensEmitter:i}]}};oh.CodeLensFeature=WD});var FO=F(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.DocumentOnTypeFormattingFeature=Os.DocumentRangeFormattingFeature=Os.DocumentFormattingFeature=void 0;var ah=require("vscode"),sr=Pe(),HD=xt(),Jr=ze(),ec;(function(t){function e(n){let i=ah.workspace.getConfiguration("files",n);return{trimTrailingWhitespace:i.get("trimTrailingWhitespace"),trimFinalNewlines:i.get("trimFinalNewlines"),insertFinalNewline:i.get("insertFinalNewline")}}t.fromConfiguration=e})(ec||(ec={}));var KD=class extends Jr.TextDocumentLanguageFeature{constructor(e){super(e,sr.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,Jr.ensure)((0,Jr.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentFormattingProvider);i&&this.register({id:HD.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDocumentFormattingEdits:(r,s,o)=>{let a=this._client,c=(f,g,p)=>{let l={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),options:a.code2ProtocolConverter.asFormattingOptions(g,ec.fromConfiguration(f))};return a.sendRequest(sr.DocumentFormattingRequest.type,l,p).then(d=>p.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(d,p),d=>a.handleFailedRequest(sr.DocumentFormattingRequest.type,p,d,null))},u=a.middleware;return u.provideDocumentFormattingEdits?u.provideDocumentFormattingEdits(r,s,o,c):c(r,s,o)}};return[ah.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};Os.DocumentFormattingFeature=KD;var $D=class extends Jr.TextDocumentLanguageFeature{constructor(e){super(e,sr.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){let n=(0,Jr.ensure)((0,Jr.ensure)(e,"textDocument"),"rangeFormatting");n.dynamicRegistration=!0,n.rangesSupport=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentRangeFormattingProvider);i&&this.register({id:HD.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDocumentRangeFormattingEdits:(r,s,o,a)=>{let c=this._client,u=(g,p,l,d)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),range:c.code2ProtocolConverter.asRange(p),options:c.code2ProtocolConverter.asFormattingOptions(l,ec.fromConfiguration(g))};return c.sendRequest(sr.DocumentRangeFormattingRequest.type,h,d).then(m=>d.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(m,d),m=>c.handleFailedRequest(sr.DocumentRangeFormattingRequest.type,d,m,null))},f=c.middleware;return f.provideDocumentRangeFormattingEdits?f.provideDocumentRangeFormattingEdits(r,s,o,a,u):u(r,s,o,a)}};return e.rangesSupport&&(i.provideDocumentRangesFormattingEdits=(r,s,o,a)=>{let c=this._client,u=(g,p,l,d)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),ranges:c.code2ProtocolConverter.asRanges(p),options:c.code2ProtocolConverter.asFormattingOptions(l,ec.fromConfiguration(g))};return c.sendRequest(sr.DocumentRangesFormattingRequest.type,h,d).then(m=>d.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(m,d),m=>c.handleFailedRequest(sr.DocumentRangesFormattingRequest.type,d,m,null))},f=c.middleware;return f.provideDocumentRangesFormattingEdits?f.provideDocumentRangesFormattingEdits(r,s,o,a,u):u(r,s,o,a)}),[ah.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};Os.DocumentRangeFormattingFeature=$D;var VD=class extends Jr.TextDocumentLanguageFeature{constructor(e){super(e,sr.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,Jr.ensure)((0,Jr.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentOnTypeFormattingProvider);i&&this.register({id:HD.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideOnTypeFormattingEdits:(s,o,a,c,u)=>{let f=this._client,g=(l,d,h,m,C)=>{let D={textDocument:f.code2ProtocolConverter.asTextDocumentIdentifier(l),position:f.code2ProtocolConverter.asPosition(d),ch:h,options:f.code2ProtocolConverter.asFormattingOptions(m,ec.fromConfiguration(l))};return f.sendRequest(sr.DocumentOnTypeFormattingRequest.type,D,C).then(w=>C.isCancellationRequested?null:f.protocol2CodeConverter.asTextEdits(w,C),w=>f.handleFailedRequest(sr.DocumentOnTypeFormattingRequest.type,C,w,null))},p=f.middleware;return p.provideOnTypeFormattingEdits?p.provideOnTypeFormattingEdits(s,o,a,c,u,g):g(s,o,a,c,u)}},r=e.moreTriggerCharacter||[];return[ah.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i,e.firstTriggerCharacter,...r),i]}};Os.DocumentOnTypeFormattingFeature=VD});var RO=F(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.RenameFeature=void 0;var S4=require("vscode"),Ao=Pe(),b4=xt(),PO=qi(),zD=ze(),GD=class extends zD.TextDocumentLanguageFeature{constructor(e){super(e,Ao.RenameRequest.type)}fillClientCapabilities(e){let n=(0,zD.ensure)((0,zD.ensure)(e,"textDocument"),"rename");n.dynamicRegistration=!0,n.prepareSupport=!0,n.prepareSupportDefaultBehavior=Ao.PrepareSupportDefaultBehavior.Identifier,n.honorsChangeAnnotations=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.renameProvider);i&&(PO.boolean(e.renameProvider)&&(i.prepareProvider=!1),this.register({id:b4.generateUuid(),registerOptions:i}))}registerLanguageProvider(e){let n=e.documentSelector,i={provideRenameEdits:(r,s,o,a)=>{let c=this._client,u=(g,p,l,d)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),position:c.code2ProtocolConverter.asPosition(p),newName:l};return c.sendRequest(Ao.RenameRequest.type,h,d).then(m=>d.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(m,d),m=>c.handleFailedRequest(Ao.RenameRequest.type,d,m,null,!1))},f=c.middleware;return f.provideRenameEdits?f.provideRenameEdits(r,s,o,a,u):u(r,s,o,a)},prepareRename:e.prepareProvider?(r,s,o)=>{let a=this._client,c=(f,g,p)=>{let l={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),position:a.code2ProtocolConverter.asPosition(g)};return a.sendRequest(Ao.PrepareRenameRequest.type,l,p).then(d=>p.isCancellationRequested?null:Ao.Range.is(d)?a.protocol2CodeConverter.asRange(d):this.isDefaultBehavior(d)?d.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):d&&Ao.Range.is(d.range)?{range:a.protocol2CodeConverter.asRange(d.range),placeholder:d.placeholder}:Promise.reject(new Error("The element can't be renamed.")),d=>{throw typeof d.message=="string"?new Error(d.message):new Error("The element can't be renamed.")})},u=a.middleware;return u.prepareRename?u.prepareRename(r,s,o,c):c(r,s,o)}:void 0};return[this.registerProvider(n,i),i]}registerProvider(e,n){return S4.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}isDefaultBehavior(e){let n=e;return n&&PO.boolean(n.defaultBehavior)}};ch.RenameFeature=GD});var AO=F(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});uh.DocumentLinkFeature=void 0;var D4=require("vscode"),ll=Pe(),JD=ze(),T4=xt(),XD=class extends JD.TextDocumentLanguageFeature{constructor(e){super(e,ll.DocumentLinkRequest.type)}fillClientCapabilities(e){let n=(0,JD.ensure)((0,JD.ensure)(e,"textDocument"),"documentLink");n.dynamicRegistration=!0,n.tooltipSupport=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentLinkProvider);i&&this.register({id:T4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDocumentLinks:(r,s)=>{let o=this._client,a=(u,f)=>o.sendRequest(ll.DocumentLinkRequest.type,o.code2ProtocolConverter.asDocumentLinkParams(u),f).then(g=>f.isCancellationRequested?null:o.protocol2CodeConverter.asDocumentLinks(g,f),g=>o.handleFailedRequest(ll.DocumentLinkRequest.type,f,g,null)),c=o.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(r,s,a):a(r,s)},resolveDocumentLink:e.resolveProvider?(r,s)=>{let o=this._client,a=(u,f)=>o.sendRequest(ll.DocumentLinkResolveRequest.type,o.code2ProtocolConverter.asDocumentLink(u),f).then(g=>f.isCancellationRequested?u:o.protocol2CodeConverter.asDocumentLink(g),g=>o.handleFailedRequest(ll.DocumentLinkResolveRequest.type,f,g,u)),c=o.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(r,s,a):a(r,s)}:void 0};return[D4.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};uh.DocumentLinkFeature=XD});var _O=F(lh=>{"use strict";Object.defineProperty(lh,"__esModule",{value:!0});lh.ExecuteCommandFeature=void 0;var w4=require("vscode"),YD=Pe(),x4=xt(),IO=ze(),QD=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return YD.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,IO.ensure)((0,IO.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:x4.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let n=this._client,i=n.middleware,r=(s,o)=>{let a={command:s,arguments:o};return n.sendRequest(YD.ExecuteCommandRequest.type,a).then(void 0,c=>n.handleFailedRequest(YD.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let s=[];for(let o of e.registerOptions.commands)s.push(w4.commands.registerCommand(o,(...a)=>i.executeCommand?i.executeCommand(o,a,r):r(o,a)));this._commands.set(e.id,s)}}unregister(e){let n=this._commands.get(e);n&&n.forEach(i=>i.dispose())}clear(){this._commands.forEach(e=>{e.forEach(n=>n.dispose())}),this._commands.clear()}};lh.ExecuteCommandFeature=QD});var NO=F(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});fh.FileSystemWatcherFeature=void 0;var E4=require("vscode"),Io=Pe(),dh=ze(),ZD=class{constructor(e,n){this._client=e,this._notifyFileEvent=n,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return Io.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,dh.ensure)((0,dh.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,dh.ensure)((0,dh.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,n){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let n=[];for(let i of e.registerOptions.watchers){let r=this._client.protocol2CodeConverter.asGlobPattern(i.globPattern);if(r===void 0)continue;let s=!0,o=!0,a=!0;i.kind!==void 0&&i.kind!==null&&(s=(i.kind&Io.WatchKind.Create)!==0,o=(i.kind&Io.WatchKind.Change)!==0,a=(i.kind&Io.WatchKind.Delete)!==0);let c=E4.workspace.createFileSystemWatcher(r,!s,!o,!a);this.hookListeners(c,s,o,a,n),n.push(c)}this._watchers.set(e.id,n)}registerRaw(e,n){let i=[];for(let r of n)this.hookListeners(r,!0,!0,!0,i);this._watchers.set(e,i)}hookListeners(e,n,i,r,s){n&&e.onDidCreate(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:Io.FileChangeType.Created}),null,s),i&&e.onDidChange(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:Io.FileChangeType.Changed}),null,s),r&&e.onDidDelete(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:Io.FileChangeType.Deleted}),null,s)}unregister(e){let n=this._watchers.get(e);if(n)for(let i of n)i.dispose()}clear(){this._watchers.forEach(e=>{for(let n of e)n.dispose()}),this._watchers.clear()}};fh.FileSystemWatcherFeature=ZD});var OO=F(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});ph.ColorProviderFeature=void 0;var k4=require("vscode"),dl=Pe(),eT=ze(),tT=class extends eT.TextDocumentLanguageFeature{constructor(e){super(e,dl.DocumentColorRequest.type)}fillClientCapabilities(e){(0,eT.ensure)((0,eT.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.colorProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideColorPresentations:(r,s,o)=>{let a=this._client,c=(f,g,p)=>{let l={color:f,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(g.document),range:a.code2ProtocolConverter.asRange(g.range)};return a.sendRequest(dl.ColorPresentationRequest.type,l,p).then(d=>p.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(d,p),d=>a.handleFailedRequest(dl.ColorPresentationRequest.type,p,d,null))},u=a.middleware;return u.provideColorPresentations?u.provideColorPresentations(r,s,o,c):c(r,s,o)},provideDocumentColors:(r,s)=>{let o=this._client,a=(u,f)=>{let g={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(u)};return o.sendRequest(dl.DocumentColorRequest.type,g,f).then(p=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(p,f),p=>o.handleFailedRequest(dl.DocumentColorRequest.type,f,p,null))},c=o.middleware;return c.provideDocumentColors?c.provideDocumentColors(r,s,a):a(r,s)}};return[k4.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};ph.ColorProviderFeature=tT});var LO=F(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});hh.ImplementationFeature=void 0;var F4=require("vscode"),nT=Pe(),iT=ze(),rT=class extends iT.TextDocumentLanguageFeature{constructor(e){super(e,nT.ImplementationRequest.type)}fillClientCapabilities(e){let n=(0,iT.ensure)((0,iT.ensure)(e,"textDocument"),"implementation");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.implementationProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideImplementation:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(nT.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(l,p),l=>a.handleFailedRequest(nT.ImplementationRequest.type,p,l,null)),u=a.middleware;return u.provideImplementation?u.provideImplementation(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return F4.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};hh.ImplementationFeature=rT});var MO=F(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});gh.TypeDefinitionFeature=void 0;var P4=require("vscode"),sT=Pe(),fl=ze(),oT=class extends fl.TextDocumentLanguageFeature{constructor(e){super(e,sT.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,fl.ensure)((0,fl.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let n=(0,fl.ensure)((0,fl.ensure)(e,"textDocument"),"typeDefinition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.typeDefinitionProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideTypeDefinition:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(sT.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(l,p),l=>a.handleFailedRequest(sT.TypeDefinitionRequest.type,p,l,null)),u=a.middleware;return u.provideTypeDefinition?u.provideTypeDefinition(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return P4.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};gh.TypeDefinitionFeature=oT});var qO=F(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.WorkspaceFoldersFeature=tc.arrayDiff=void 0;var R4=xt(),mh=require("vscode"),pl=Pe();function aT(t,e){if(t!=null)return t[e]}function cT(t,e){return t.filter(n=>e.indexOf(n)<0)}tc.arrayDiff=cT;var uT=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return pl.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let n=mh.workspace.workspaceFolders;this.initializeWithFolders(n),n===void 0?e.workspaceFolders=null:e.workspaceFolders=n.map(i=>this.asProtocol(i))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let n=this._client;n.onRequest(pl.WorkspaceFoldersRequest.type,s=>{let o=()=>{let c=mh.workspace.workspaceFolders;return c===void 0?null:c.map(f=>this.asProtocol(f))},a=n.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(s,o):o(s)});let i=aT(aT(aT(e,"workspace"),"workspaceFolders"),"changeNotifications"),r;typeof i=="string"?r=i:i===!0&&(r=R4.generateUuid()),r&&this.register({id:r,registerOptions:void 0})}sendInitialEvent(e){let n;if(this._initialFolders&&e){let i=cT(this._initialFolders,e),r=cT(e,this._initialFolders);(r.length>0||i.length>0)&&(n=this.doSendEvent(r,i))}else this._initialFolders?n=this.doSendEvent([],this._initialFolders):e&&(n=this.doSendEvent(e,[]));n!==void 0&&n.catch(i=>{this._client.error(`Sending notification ${pl.DidChangeWorkspaceFoldersNotification.type.method} failed`,i)})}doSendEvent(e,n){let i={event:{added:e.map(r=>this.asProtocol(r)),removed:n.map(r=>this.asProtocol(r))}};return this._client.sendNotification(pl.DidChangeWorkspaceFoldersNotification.type,i)}register(e){let n=e.id,i=this._client,r=mh.workspace.onDidChangeWorkspaceFolders(s=>{let o=u=>this.doSendEvent(u.added,u.removed),a=i.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(s,o):o(s)).catch(u=>{this._client.error(`Sending notification ${pl.DidChangeWorkspaceFoldersNotification.type.method} failed`,u)})});this._listeners.set(n,r),this.sendInitialEvent(mh.workspace.workspaceFolders)}unregister(e){let n=this._listeners.get(e);n!==void 0&&(this._listeners.delete(e),n.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};tc.WorkspaceFoldersFeature=uT});var jO=F(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});yh.FoldingRangeFeature=void 0;var UO=require("vscode"),_o=Pe(),hl=ze(),lT=class extends hl.TextDocumentLanguageFeature{constructor(e){super(e,_o.FoldingRangeRequest.type)}fillClientCapabilities(e){let n=(0,hl.ensure)((0,hl.ensure)(e,"textDocument"),"foldingRange");n.dynamicRegistration=!0,n.rangeLimit=5e3,n.lineFoldingOnly=!0,n.foldingRangeKind={valueSet:[_o.FoldingRangeKind.Comment,_o.FoldingRangeKind.Imports,_o.FoldingRangeKind.Region]},n.foldingRange={collapsedText:!1},(0,hl.ensure)((0,hl.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0}initialize(e,n){this._client.onRequest(_o.FoldingRangeRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeFoldingRange.fire()});let[i,r]=this.getRegistration(n,e.foldingRangeProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i=new UO.EventEmitter,r={onDidChangeFoldingRanges:i.event,provideFoldingRanges:(s,o,a)=>{let c=this._client,u=(g,p,l)=>{let d={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g)};return c.sendRequest(_o.FoldingRangeRequest.type,d,l).then(h=>l.isCancellationRequested?null:c.protocol2CodeConverter.asFoldingRanges(h,l),h=>c.handleFailedRequest(_o.FoldingRangeRequest.type,l,h,null))},f=c.middleware;return f.provideFoldingRanges?f.provideFoldingRanges(s,o,a,u):u(s,o,a)}};return[UO.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),{provider:r,onDidChangeFoldingRange:i}]}};yh.FoldingRangeFeature=lT});var BO=F(Ch=>{"use strict";Object.defineProperty(Ch,"__esModule",{value:!0});Ch.DeclarationFeature=void 0;var A4=require("vscode"),dT=Pe(),fT=ze(),pT=class extends fT.TextDocumentLanguageFeature{constructor(e){super(e,dT.DeclarationRequest.type)}fillClientCapabilities(e){let n=(0,fT.ensure)((0,fT.ensure)(e,"textDocument"),"declaration");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.declarationProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDeclaration:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(dT.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(l,p),l=>a.handleFailedRequest(dT.DeclarationRequest.type,p,l,null)),u=a.middleware;return u.provideDeclaration?u.provideDeclaration(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return A4.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Ch.DeclarationFeature=pT});var WO=F(vh=>{"use strict";Object.defineProperty(vh,"__esModule",{value:!0});vh.SelectionRangeFeature=void 0;var I4=require("vscode"),hT=Pe(),gT=ze(),mT=class extends gT.TextDocumentLanguageFeature{constructor(e){super(e,hT.SelectionRangeRequest.type)}fillClientCapabilities(e){let n=(0,gT.ensure)((0,gT.ensure)(e,"textDocument"),"selectionRange");n.dynamicRegistration=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.selectionRangeProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideSelectionRanges:(r,s,o)=>{let a=this._client,c=async(f,g,p)=>{let l={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),positions:a.code2ProtocolConverter.asPositionsSync(g,p)};return a.sendRequest(hT.SelectionRangeRequest.type,l,p).then(d=>p.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(d,p),d=>a.handleFailedRequest(hT.SelectionRangeRequest.type,p,d,null))},u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return I4.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};vh.SelectionRangeFeature=mT});var $O=F(Sh=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});Sh.ProgressFeature=void 0;var KO=Pe(),_4=Kb();function N4(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var yT=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:KO.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){N4(e,"window").workDoneProgress=!0}initialize(){let e=this._client,n=r=>{this.activeParts.delete(r)},i=r=>{this.activeParts.add(new _4.ProgressPart(this._client,r.token,n))};e.onRequest(KO.WorkDoneProgressCreateRequest.type,i)}clear(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};Sh.ProgressFeature=yT});var VO=F(bh=>{"use strict";Object.defineProperty(bh,"__esModule",{value:!0});bh.CallHierarchyFeature=void 0;var O4=require("vscode"),No=Pe(),CT=ze(),vT=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,n,i){let r=this.client,s=this.middleware,o=(a,c,u)=>{let f=r.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return r.sendRequest(No.CallHierarchyPrepareRequest.type,f,u).then(g=>u.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyItems(g,u),g=>r.handleFailedRequest(No.CallHierarchyPrepareRequest.type,u,g,null))};return s.prepareCallHierarchy?s.prepareCallHierarchy(e,n,i,o):o(e,n,i)}provideCallHierarchyIncomingCalls(e,n){let i=this.client,r=this.middleware,s=(o,a)=>{let c={item:i.code2ProtocolConverter.asCallHierarchyItem(o)};return i.sendRequest(No.CallHierarchyIncomingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyIncomingCalls(u,a),u=>i.handleFailedRequest(No.CallHierarchyIncomingCallsRequest.type,a,u,null))};return r.provideCallHierarchyIncomingCalls?r.provideCallHierarchyIncomingCalls(e,n,s):s(e,n)}provideCallHierarchyOutgoingCalls(e,n){let i=this.client,r=this.middleware,s=(o,a)=>{let c={item:i.code2ProtocolConverter.asCallHierarchyItem(o)};return i.sendRequest(No.CallHierarchyOutgoingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyOutgoingCalls(u,a),u=>i.handleFailedRequest(No.CallHierarchyOutgoingCallsRequest.type,a,u,null))};return r.provideCallHierarchyOutgoingCalls?r.provideCallHierarchyOutgoingCalls(e,n,s):s(e,n)}},ST=class extends CT.TextDocumentLanguageFeature{constructor(e){super(e,No.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=e,i=(0,CT.ensure)((0,CT.ensure)(n,"textDocument"),"callHierarchy");i.dynamicRegistration=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.callHierarchyProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=this._client,i=new vT(n);return[O4.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),i),i]}};bh.CallHierarchyFeature=ST});var HO=F(Th=>{"use strict";Object.defineProperty(Th,"__esModule",{value:!0});Th.SemanticTokensFeature=void 0;var Dh=require("vscode"),Ie=Pe(),gl=ze(),L4=qi(),bT=class extends gl.TextDocumentLanguageFeature{constructor(e){super(e,Ie.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let n=(0,gl.ensure)((0,gl.ensure)(e,"textDocument"),"semanticTokens");n.dynamicRegistration=!0,n.tokenTypes=[Ie.SemanticTokenTypes.namespace,Ie.SemanticTokenTypes.type,Ie.SemanticTokenTypes.class,Ie.SemanticTokenTypes.enum,Ie.SemanticTokenTypes.interface,Ie.SemanticTokenTypes.struct,Ie.SemanticTokenTypes.typeParameter,Ie.SemanticTokenTypes.parameter,Ie.SemanticTokenTypes.variable,Ie.SemanticTokenTypes.property,Ie.SemanticTokenTypes.enumMember,Ie.SemanticTokenTypes.event,Ie.SemanticTokenTypes.function,Ie.SemanticTokenTypes.method,Ie.SemanticTokenTypes.macro,Ie.SemanticTokenTypes.keyword,Ie.SemanticTokenTypes.modifier,Ie.SemanticTokenTypes.comment,Ie.SemanticTokenTypes.string,Ie.SemanticTokenTypes.number,Ie.SemanticTokenTypes.regexp,Ie.SemanticTokenTypes.operator,Ie.SemanticTokenTypes.decorator],n.tokenModifiers=[Ie.SemanticTokenModifiers.declaration,Ie.SemanticTokenModifiers.definition,Ie.SemanticTokenModifiers.readonly,Ie.SemanticTokenModifiers.static,Ie.SemanticTokenModifiers.deprecated,Ie.SemanticTokenModifiers.abstract,Ie.SemanticTokenModifiers.async,Ie.SemanticTokenModifiers.modification,Ie.SemanticTokenModifiers.documentation,Ie.SemanticTokenModifiers.defaultLibrary],n.formats=[Ie.TokenFormat.Relative],n.requests={range:!0,full:{delta:!0}},n.multilineTokenSupport=!1,n.overlappingTokenSupport=!1,n.serverCancelSupport=!0,n.augmentsSyntaxTokens=!0,(0,gl.ensure)((0,gl.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,n){this._client.onRequest(Ie.SemanticTokensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeSemanticTokensEmitter.fire()});let[r,s]=this.getRegistration(n,e.semanticTokensProvider);!r||!s||this.register({id:r,registerOptions:s})}registerLanguageProvider(e){let n=e.documentSelector,i=L4.boolean(e.full)?e.full:e.full!==void 0,r=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,s=new Dh.EventEmitter,o=i?{onDidChangeSemanticTokens:s.event,provideDocumentSemanticTokens:(l,d)=>{let h=this._client,m=h.middleware,C=(D,w)=>{let k={textDocument:h.code2ProtocolConverter.asTextDocumentIdentifier(D)};return h.sendRequest(Ie.SemanticTokensRequest.type,k,w).then(A=>w.isCancellationRequested?null:h.protocol2CodeConverter.asSemanticTokens(A,w),A=>h.handleFailedRequest(Ie.SemanticTokensRequest.type,w,A,null))};return m.provideDocumentSemanticTokens?m.provideDocumentSemanticTokens(l,d,C):C(l,d)},provideDocumentSemanticTokensEdits:r?(l,d,h)=>{let m=this._client,C=m.middleware,D=(w,k,A)=>{let B={textDocument:m.code2ProtocolConverter.asTextDocumentIdentifier(w),previousResultId:k};return m.sendRequest(Ie.SemanticTokensDeltaRequest.type,B,A).then(async W=>A.isCancellationRequested?null:Ie.SemanticTokens.is(W)?await m.protocol2CodeConverter.asSemanticTokens(W,A):await m.protocol2CodeConverter.asSemanticTokensEdits(W,A),W=>m.handleFailedRequest(Ie.SemanticTokensDeltaRequest.type,A,W,null))};return C.provideDocumentSemanticTokensEdits?C.provideDocumentSemanticTokensEdits(l,d,h,D):D(l,d,h)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(l,d,h)=>{let m=this._client,C=m.middleware,D=(w,k,A)=>{let B={textDocument:m.code2ProtocolConverter.asTextDocumentIdentifier(w),range:m.code2ProtocolConverter.asRange(k)};return m.sendRequest(Ie.SemanticTokensRangeRequest.type,B,A).then(W=>A.isCancellationRequested?null:m.protocol2CodeConverter.asSemanticTokens(W,A),W=>m.handleFailedRequest(Ie.SemanticTokensRangeRequest.type,A,W,null))};return C.provideDocumentRangeSemanticTokens?C.provideDocumentRangeSemanticTokens(l,d,h,D):D(l,d,h)}}:void 0,u=[],f=this._client,g=f.protocol2CodeConverter.asSemanticTokensLegend(e.legend),p=f.protocol2CodeConverter.asDocumentSelector(n);return o!==void 0&&u.push(Dh.languages.registerDocumentSemanticTokensProvider(p,o,g)),c!==void 0&&u.push(Dh.languages.registerDocumentRangeSemanticTokensProvider(p,c,g)),[new Dh.Disposable(()=>u.forEach(l=>l.dispose())),{range:c,full:o,onDidChangeSemanticTokensEmitter:s}]}};Th.SemanticTokensFeature=bT});var JO=F(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.WillDeleteFilesFeature=ci.WillRenameFilesFeature=ci.WillCreateFilesFeature=ci.DidDeleteFilesFeature=ci.DidRenameFilesFeature=ci.DidCreateFilesFeature=void 0;var $i=require("vscode"),M4=Vp(),Xr=Pe(),q4=xt();function zO(t,e){return t[e]===void 0&&(t[e]={}),t[e]}function U4(t,e){return t[e]}function GO(t,e,n){t[e]=n}var ml=class t{constructor(e,n,i,r,s){this._client=e,this._event=n,this._registrationType=i,this._clientCapability=r,this._serverCapability=s,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let n=zO(zO(e,"workspace"),"fileOperations");GO(n,"dynamicRegistration",!0),GO(n,this._clientCapability,!0)}initialize(e){let n=e.workspace?.fileOperations,i=n!==void 0?U4(n,this._serverCapability):void 0;if(i?.filters!==void 0)try{this.register({id:q4.generateUuid(),registerOptions:{filters:i.filters}})}catch(r){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${r}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let n=e.registerOptions.filters.map(i=>{let r=new M4.Minimatch(i.pattern.glob,t.asMinimatchOptions(i.pattern.options));if(!r.makeRe())throw new Error(`Invalid pattern ${i.pattern.glob}!`);return{scheme:i.scheme,matcher:r,kind:i.pattern.matches}});this._filters.set(e.id,n)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return t.getFileType(e)}async filter(e,n){let i=await Promise.all(e.files.map(async s=>{let o=n(s),a=o.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let u of c)if(!(u.scheme!==void 0&&u.scheme!==o.scheme)){if(u.matcher.match(a)){if(u.kind===void 0)return!0;let f=await this.getFileType(o);if(f===void 0)return this._client.error(`Failed to determine file type for ${o.toString()}.`),!0;if(f===$i.FileType.File&&u.kind===Xr.FileOperationPatternKind.file||f===$i.FileType.Directory&&u.kind===Xr.FileOperationPatternKind.folder)return!0}else if(u.kind===Xr.FileOperationPatternKind.folder&&await t.getFileType(o)===$i.FileType.Directory&&u.matcher.match(`${a}/`))return!0}return!1})),r=e.files.filter((s,o)=>i[o]);return{...e,files:r}}static async getFileType(e){try{return(await $i.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){let n={dot:!0};return e?.ignoreCase===!0&&(n.nocase=!0),n}},wh=class extends ml{constructor(e,n,i,r,s,o,a){super(e,n,i,r,s),this._notificationType=i,this._accessUri=o,this._createParams=a}async send(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let i=async r=>this._client.sendNotification(this._notificationType,this._createParams(r));return this.doSend(n,i)}}},xh=class extends wh{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){let n=e.fsPath;if(this._fsPathFileTypes.has(n))return this._fsPathFileTypes.get(n);let i=await ml.getFileType(e);return i&&this._fsPathFileTypes.set(n,i),i}async cacheFileTypes(e,n){await this.filter(e,n)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},DT=class extends wh{constructor(e){super(e,$i.workspace.onDidCreateFiles,Xr.DidCreateFilesNotification.type,"didCreate","didCreate",n=>n,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,n){let i=this._client.middleware.workspace;return i?.didCreateFiles?i.didCreateFiles(e,n):n(e)}};ci.DidCreateFilesFeature=DT;var TT=class extends xh{constructor(e){super(e,$i.workspace.onDidRenameFiles,Xr.DidRenameFilesNotification.type,"didRename","didRename",n=>n.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=$i.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,n=>n.oldUri))}doSend(e,n){this.clearFileTypeCache();let i=this._client.middleware.workspace;return i?.didRenameFiles?i.didRenameFiles(e,n):n(e)}};ci.DidRenameFilesFeature=TT;var wT=class extends xh{constructor(e){super(e,$i.workspace.onDidDeleteFiles,Xr.DidDeleteFilesNotification.type,"didDelete","didDelete",n=>n,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=$i.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,n=>n))}doSend(e,n){this.clearFileTypeCache();let i=this._client.middleware.workspace;return i?.didDeleteFiles?i.didDeleteFiles(e,n):n(e)}};ci.DidDeleteFilesFeature=wT;var yl=class extends ml{constructor(e,n,i,r,s,o,a){super(e,n,i,r,s),this._requestType=i,this._accessUri=o,this._createParams=a}async send(e){let n=this.waitUntil(e);e.waitUntil(n)}async waitUntil(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let i=r=>this._client.sendRequest(this._requestType,this._createParams(r),r.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(n,i)}else return}},xT=class extends yl{constructor(e){super(e,$i.workspace.onWillCreateFiles,Xr.WillCreateFilesRequest.type,"willCreate","willCreate",n=>n,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,n){let i=this._client.middleware.workspace;return i?.willCreateFiles?i.willCreateFiles(e,n):n(e)}};ci.WillCreateFilesFeature=xT;var ET=class extends yl{constructor(e){super(e,$i.workspace.onWillRenameFiles,Xr.WillRenameFilesRequest.type,"willRename","willRename",n=>n.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,n){let i=this._client.middleware.workspace;return i?.willRenameFiles?i.willRenameFiles(e,n):n(e)}};ci.WillRenameFilesFeature=ET;var kT=class extends yl{constructor(e){super(e,$i.workspace.onWillDeleteFiles,Xr.WillDeleteFilesRequest.type,"willDelete","willDelete",n=>n,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,n){let i=this._client.middleware.workspace;return i?.willDeleteFiles?i.willDeleteFiles(e,n):n(e)}};ci.WillDeleteFilesFeature=kT});var XO=F(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.LinkedEditingFeature=void 0;var j4=require("vscode"),FT=Pe(),PT=ze(),RT=class extends PT.TextDocumentLanguageFeature{constructor(e){super(e,FT.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let n=(0,PT.ensure)((0,PT.ensure)(e,"textDocument"),"linkedEditingRange");n.dynamicRegistration=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.linkedEditingRangeProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideLinkedEditingRanges:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(FT.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(l,p),l=>a.handleFailedRequest(FT.LinkedEditingRangeRequest.type,p,l,null)),u=a.middleware;return u.provideLinkedEditingRange?u.provideLinkedEditingRange(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return j4.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Eh.LinkedEditingFeature=RT});var YO=F(kh=>{"use strict";Object.defineProperty(kh,"__esModule",{value:!0});kh.TypeHierarchyFeature=void 0;var B4=require("vscode"),Oo=Pe(),AT=ze(),IT=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,n,i){let r=this.client,s=this.middleware,o=(a,c,u)=>{let f=r.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return r.sendRequest(Oo.TypeHierarchyPrepareRequest.type,f,u).then(g=>u.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(g,u),g=>r.handleFailedRequest(Oo.TypeHierarchyPrepareRequest.type,u,g,null))};return s.prepareTypeHierarchy?s.prepareTypeHierarchy(e,n,i,o):o(e,n,i)}provideTypeHierarchySupertypes(e,n){let i=this.client,r=this.middleware,s=(o,a)=>{let c={item:i.code2ProtocolConverter.asTypeHierarchyItem(o)};return i.sendRequest(Oo.TypeHierarchySupertypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>i.handleFailedRequest(Oo.TypeHierarchySupertypesRequest.type,a,u,null))};return r.provideTypeHierarchySupertypes?r.provideTypeHierarchySupertypes(e,n,s):s(e,n)}provideTypeHierarchySubtypes(e,n){let i=this.client,r=this.middleware,s=(o,a)=>{let c={item:i.code2ProtocolConverter.asTypeHierarchyItem(o)};return i.sendRequest(Oo.TypeHierarchySubtypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>i.handleFailedRequest(Oo.TypeHierarchySubtypesRequest.type,a,u,null))};return r.provideTypeHierarchySubtypes?r.provideTypeHierarchySubtypes(e,n,s):s(e,n)}},_T=class extends AT.TextDocumentLanguageFeature{constructor(e){super(e,Oo.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=(0,AT.ensure)((0,AT.ensure)(e,"textDocument"),"typeHierarchy");n.dynamicRegistration=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.typeHierarchyProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=this._client,i=new IT(n);return[B4.languages.registerTypeHierarchyProvider(n.protocol2CodeConverter.asDocumentSelector(e.documentSelector),i),i]}};kh.TypeHierarchyFeature=_T});var ZO=F(Ph=>{"use strict";Object.defineProperty(Ph,"__esModule",{value:!0});Ph.InlineValueFeature=void 0;var QO=require("vscode"),Fh=Pe(),Cl=ze(),NT=class extends Cl.TextDocumentLanguageFeature{constructor(e){super(e,Fh.InlineValueRequest.type)}fillClientCapabilities(e){(0,Cl.ensure)((0,Cl.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,Cl.ensure)((0,Cl.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,n){this._client.onRequest(Fh.InlineValueRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeInlineValues.fire()});let[i,r]=this.getRegistration(n,e.inlineValueProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i=new QO.EventEmitter,r={onDidChangeInlineValues:i.event,provideInlineValues:(s,o,a,c)=>{let u=this._client,f=(p,l,d,h)=>{let m={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(p),range:u.code2ProtocolConverter.asRange(l),context:u.code2ProtocolConverter.asInlineValueContext(d)};return u.sendRequest(Fh.InlineValueRequest.type,m,h).then(C=>h.isCancellationRequested?null:u.protocol2CodeConverter.asInlineValues(C,h),C=>u.handleFailedRequest(Fh.InlineValueRequest.type,h,C,null))},g=u.middleware;return g.provideInlineValues?g.provideInlineValues(s,o,a,c,f):f(s,o,a,c)}};return[this.registerProvider(n,r),{provider:r,onDidChangeInlineValues:i}]}registerProvider(e,n){return QO.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Ph.InlineValueFeature=NT});var tL=F(Rh=>{"use strict";Object.defineProperty(Rh,"__esModule",{value:!0});Rh.InlayHintsFeature=void 0;var eL=require("vscode"),nc=Pe(),vl=ze(),OT=class extends vl.TextDocumentLanguageFeature{constructor(e){super(e,nc.InlayHintRequest.type)}fillClientCapabilities(e){let n=(0,vl.ensure)((0,vl.ensure)(e,"textDocument"),"inlayHint");n.dynamicRegistration=!0,n.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,vl.ensure)((0,vl.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,n){this._client.onRequest(nc.InlayHintRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeInlayHints.fire()});let[i,r]=this.getRegistration(n,e.inlayHintProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i=new eL.EventEmitter,r={onDidChangeInlayHints:i.event,provideInlayHints:(s,o,a)=>{let c=this._client,u=async(g,p,l)=>{let d={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),range:c.code2ProtocolConverter.asRange(p)};try{let h=await c.sendRequest(nc.InlayHintRequest.type,d,l);return l.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(h,l)}catch(h){return c.handleFailedRequest(nc.InlayHintRequest.type,l,h,null)}},f=c.middleware;return f.provideInlayHints?f.provideInlayHints(s,o,a,u):u(s,o,a)}};return r.resolveInlayHint=e.resolveProvider===!0?(s,o)=>{let a=this._client,c=async(f,g)=>{try{let p=await a.sendRequest(nc.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(f),g);if(g.isCancellationRequested)return null;let l=a.protocol2CodeConverter.asInlayHint(p,g);return g.isCancellationRequested?null:l}catch(p){return a.handleFailedRequest(nc.InlayHintResolveRequest.type,g,p,null)}},u=a.middleware;return u.resolveInlayHint?u.resolveInlayHint(s,o,c):c(s,o)}:void 0,[this.registerProvider(n,r),{provider:r,onDidChangeInlayHints:i}]}registerProvider(e,n){return eL.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Rh.InlayHintsFeature=OT});var nL=F(Ah=>{"use strict";Object.defineProperty(Ah,"__esModule",{value:!0});Ah.InlineCompletionItemFeature=void 0;var W4=require("vscode"),LT=Pe(),MT=ze(),K4=xt(),qT=class extends MT.TextDocumentLanguageFeature{constructor(e){super(e,LT.InlineCompletionRequest.type)}fillClientCapabilities(e){let n=(0,MT.ensure)((0,MT.ensure)(e,"textDocument"),"inlineCompletion");n.dynamicRegistration=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.inlineCompletionProvider);i&&this.register({id:K4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideInlineCompletionItems:(r,s,o,a)=>{let c=this._client,u=this._client.middleware,f=(g,p,l,d)=>c.sendRequest(LT.InlineCompletionRequest.type,c.code2ProtocolConverter.asInlineCompletionParams(g,p,l),d).then(h=>d.isCancellationRequested?null:c.protocol2CodeConverter.asInlineCompletionResult(h,d),h=>c.handleFailedRequest(LT.InlineCompletionRequest.type,d,h,null));return u.provideInlineCompletionItems?u.provideInlineCompletionItems(r,s,o,a,f):f(r,s,o,a)}};return[W4.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};Ah.InlineCompletionItemFeature=qT});var $T=F(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.ProposedFeatures=hn.BaseLanguageClient=hn.MessageTransports=hn.SuspendMode=hn.State=hn.CloseAction=hn.ErrorAction=hn.RevealOutputChannelOn=void 0;var ct=require("vscode"),te=Pe(),$4=IN(),V4=ON(),ar=qi(),Ih=qp(),iL=xt(),H4=Kb(),or=ze(),z4=uD(),rL=fO(),sL=hO(),ic=gO(),G4=mO(),J4=yO(),X4=CO(),Y4=SO(),Q4=bO(),Z4=ND(),eG=TO(),tG=wO(),nG=xO(),iG=kO(),UT=FO(),rG=RO(),sG=AO(),oG=_O(),aG=NO(),cG=OO(),uG=LO(),lG=MO(),dG=qO(),fG=jO(),pG=BO(),hG=WO(),gG=$O(),mG=VO(),yG=HO(),rc=JO(),CG=XO(),vG=YO(),SG=ZO(),bG=tL(),DG=nL(),Lo;(function(t){t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Never=4]="Never"})(Lo||(hn.RevealOutputChannelOn=Lo={}));var bl;(function(t){t[t.Continue=1]="Continue",t[t.Shutdown=2]="Shutdown"})(bl||(hn.ErrorAction=bl={}));var Ls;(function(t){t[t.DoNotRestart=1]="DoNotRestart",t[t.Restart=2]="Restart"})(Ls||(hn.CloseAction=Ls={}));var Sl;(function(t){t[t.Stopped=1]="Stopped",t[t.Starting=3]="Starting",t[t.Running=2]="Running"})(Sl||(hn.State=Sl={}));var oL;(function(t){t.off="off",t.on="on"})(oL||(hn.SuspendMode=oL={}));var jT;(function(t){function e(n){return n==null?!1:typeof n=="boolean"||typeof n=="object"&&n!==null&&ar.stringArray(n.enabledCommands)?n:!1}t.sanitizeIsTrusted=e})(jT||(jT={}));var BT=class{constructor(e,n){this.client=e,this.maxRestartCount=n,this.restarts=[]}error(e,n,i){return i&&i<=3?{action:bl.Continue}:{action:bl.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:Ls.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:Ls.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:Ls.Restart})}},qe;(function(t){t.Initial="initial",t.Starting="starting",t.StartFailed="startFailed",t.Running="running",t.Stopping="stopping",t.Stopped="stopped"})(qe||(qe={}));var aL;(function(t){function e(n){return n&&te.MessageReader.is(n.reader)&&te.MessageWriter.is(n.writer)}t.is=e})(aL||(hn.MessageTransports=aL={}));var Dl=class t{constructor(e,n,i){this._traceFormat=te.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new Ih.Semaphore(1),this._id=e,this._name=n,i=i||{};let r={isTrusted:!1,supportHtml:!1};i.markdown!==void 0&&(r.isTrusted=jT.sanitizeIsTrusted(i.markdown.isTrusted),r.supportHtml=i.markdown.supportHtml===!0),this._clientOptions={documentSelector:i.documentSelector??[],synchronize:i.synchronize??{},diagnosticCollectionName:i.diagnosticCollectionName,outputChannelName:i.outputChannelName??this._name,revealOutputChannelOn:i.revealOutputChannelOn??Lo.Error,stdioEncoding:i.stdioEncoding??"utf8",initializationOptions:i.initializationOptions,initializationFailedHandler:i.initializationFailedHandler,progressOnInitialization:!!i.progressOnInitialization,errorHandler:i.errorHandler??this.createDefaultErrorHandler(i.connectionOptions?.maxRestartCount),middleware:i.middleware??{},uriConverters:i.uriConverters,workspaceFolder:i.workspaceFolder,connectionOptions:i.connectionOptions,markdown:r,diagnosticPullOptions:i.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:i.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=qe.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,i.outputChannel?(this._outputChannel=i.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=i.traceOutputChannel,this._diagnostics=void 0,this._pendingOpenNotifications=new Set,this._pendingChangeSemaphore=new Ih.Semaphore(1),this._pendingChangeDelayer=new Ih.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new Ih.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new te.Emitter,this._stateChangeEmitter=new te.Emitter,this._trace=te.Trace.Off,this._tracer={log:(s,o)=>{ar.string(s)?this.logTrace(s,o):this.logObjectTrace(s)}},this._c2p=$4.createConverter(i.uriConverters?i.uriConverters.code2Protocol:void 0),this._p2c=V4.createConverter(i.uriConverters?i.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=ct.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let n=this.getPublicState();this._state=e;let i=this.getPublicState();i!==n&&this._stateChangeEmitter.fire({oldState:n,newState:i})}getPublicState(){switch(this.$state){case qe.Starting:return Sl.Starting;case qe.Running:return Sl.Running;default:return Sl.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...n){if(this.$state===qe.StartFailed||this.$state===qe.Stopping||this.$state===qe.Stopped)return Promise.reject(new te.ResponseError(te.ErrorCodes.ConnectionInactive,"Client is not running"));let i=await this.$start();this._didChangeTextDocumentFeature.syncKind===te.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(i);let r=this._clientOptions.middleware?.sendRequest;if(r!==void 0){let s,o;return n.length===1?te.CancellationToken.is(n[0])?o=n[0]:s=n[0]:n.length===2&&(s=n[0],o=n[1]),r(e,s,o,(a,c,u)=>{let f=[];return c!==void 0&&f.push(c),u!==void 0&&f.push(u),i.sendRequest(a,...f)})}else return i.sendRequest(e,...n)}onRequest(e,n){let i=typeof e=="string"?e:e.method;this._requestHandlers.set(i,n);let r=this.activeConnection(),s;return r!==void 0?(this._requestDisposables.set(i,r.onRequest(e,n)),s={dispose:()=>{let o=this._requestDisposables.get(i);o!==void 0&&(o.dispose(),this._requestDisposables.delete(i))}}):(this._pendingRequestHandlers.set(i,n),s={dispose:()=>{this._pendingRequestHandlers.delete(i);let o=this._requestDisposables.get(i);o!==void 0&&(o.dispose(),this._requestDisposables.delete(i))}}),{dispose:()=>{this._requestHandlers.delete(i),s.dispose()}}}async sendNotification(e,n){if(this.$state===qe.StartFailed||this.$state===qe.Stopping||this.$state===qe.Stopped)return Promise.reject(new te.ResponseError(te.ErrorCodes.ConnectionInactive,"Client is not running"));let i=this._didChangeTextDocumentFeature.syncKind===te.TextDocumentSyncKind.Full,r;i&&typeof e!="string"&&e.method===te.DidOpenTextDocumentNotification.method&&(r=n?.textDocument.uri,this._pendingOpenNotifications.add(r));let s=await this.$start();i&&await this.sendPendingFullTextDocumentChanges(s),r!==void 0&&this._pendingOpenNotifications.delete(r);let o=this._clientOptions.middleware?.sendNotification;return o?o(e,s.sendNotification.bind(s),n):s.sendNotification(e,n)}onNotification(e,n){let i=typeof e=="string"?e:e.method;this._notificationHandlers.set(i,n);let r=this.activeConnection(),s;return r!==void 0?(this._notificationDisposables.set(i,r.onNotification(e,n)),s={dispose:()=>{let o=this._notificationDisposables.get(i);o!==void 0&&(o.dispose(),this._notificationDisposables.delete(i))}}):(this._pendingNotificationHandlers.set(i,n),s={dispose:()=>{this._pendingNotificationHandlers.delete(i);let o=this._notificationDisposables.get(i);o!==void 0&&(o.dispose(),this._notificationDisposables.delete(i))}}),{dispose:()=>{this._notificationHandlers.delete(i),s.dispose()}}}async sendProgress(e,n,i){if(this.$state===qe.StartFailed||this.$state===qe.Stopping||this.$state===qe.Stopped)return Promise.reject(new te.ResponseError(te.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,n,i)}catch(r){throw this.error(`Sending progress for token ${n} failed.`,r),r}}onProgress(e,n,i){this._progressHandlers.set(n,{type:e,handler:i});let r=this.activeConnection(),s,o=this._clientOptions.middleware?.handleWorkDoneProgress,a=te.WorkDoneProgress.is(e)&&o!==void 0?c=>{o(n,c,()=>i(c))}:i;return r!==void 0?(this._progressDisposables.set(n,r.onProgress(e,n,a)),s={dispose:()=>{let c=this._progressDisposables.get(n);c!==void 0&&(c.dispose(),this._progressDisposables.delete(n))}}):(this._pendingProgressHandlers.set(n,{type:e,handler:i}),s={dispose:()=>{this._pendingProgressHandlers.delete(n);let c=this._progressDisposables.get(n);c!==void 0&&(c.dispose(),this._progressDisposables.delete(n))}}),{dispose:()=>{this._progressHandlers.delete(n),s.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new BT(this,e??4)}async setTrace(e){this._trace=e;let n=this.activeConnection();n!==void 0&&await n.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof te.ResponseError){let n=e;return`  Message: ${n.message}
  Code: ${n.code} ${n.data?`
`+n.data.toString():""}`}return e instanceof Error?ar.string(e.stack)?e.stack:e.message:ar.string(e)?e:e.toString()}debug(e,n,i=!0){this.logOutputMessage(te.MessageType.Debug,Lo.Debug,"Debug",e,n,i)}info(e,n,i=!0){this.logOutputMessage(te.MessageType.Info,Lo.Info,"Info",e,n,i)}warn(e,n,i=!0){this.logOutputMessage(te.MessageType.Warning,Lo.Warn,"Warn",e,n,i)}error(e,n,i=!0){this.logOutputMessage(te.MessageType.Error,Lo.Error,"Error",e,n,i)}logOutputMessage(e,n,i,r,s,o){this.outputChannel.appendLine(`[${i.padEnd(5)} - ${new Date().toLocaleTimeString()}] ${r}`),s!=null&&this.outputChannel.appendLine(this.data2String(s)),(o==="force"||o&&this._clientOptions.revealOutputChannelOn<=n)&&this.showNotificationMessage(e,r)}showNotificationMessage(e,n){n=n??"A request has failed. See the output for more information.",(e===te.MessageType.Error?ct.window.showErrorMessage:e===te.MessageType.Warning?ct.window.showWarningMessage:ct.window.showInformationMessage)(n,"Go to output").then(r=>{r!==void 0&&this.outputChannel.show(!0)})}logTrace(e,n){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.traceOutputChannel.appendLine(this.data2String(n))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===qe.Initial||this.$state===qe.Stopping||this.$state===qe.Stopped}needsStop(){return this.$state===qe.Starting||this.$state===qe.Running}activeConnection(){return this.$state===qe.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===qe.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===qe.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,n,i]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?ct.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):ct.languages.createDiagnosticCollection());for(let[r,s]of this._notificationHandlers)this._pendingNotificationHandlers.has(r)||this._pendingNotificationHandlers.set(r,s);for(let[r,s]of this._requestHandlers)this._pendingRequestHandlers.has(r)||this._pendingRequestHandlers.set(r,s);for(let[r,s]of this._progressHandlers)this._pendingProgressHandlers.has(r)||this._pendingProgressHandlers.set(r,s);this.$state=qe.Starting;try{let r=await this.createConnection();r.onNotification(te.LogMessageNotification.type,s=>{switch(s.type){case te.MessageType.Error:this.error(s.message,void 0,!1);break;case te.MessageType.Warning:this.warn(s.message,void 0,!1);break;case te.MessageType.Info:this.info(s.message,void 0,!1);break;case te.MessageType.Debug:this.debug(s.message,void 0,!1);break;default:this.outputChannel.appendLine(s.message)}}),r.onNotification(te.ShowMessageNotification.type,s=>{switch(s.type){case te.MessageType.Error:ct.window.showErrorMessage(s.message);break;case te.MessageType.Warning:ct.window.showWarningMessage(s.message);break;case te.MessageType.Info:ct.window.showInformationMessage(s.message);break;default:ct.window.showInformationMessage(s.message)}}),r.onRequest(te.ShowMessageRequest.type,s=>{let o;switch(s.type){case te.MessageType.Error:o=ct.window.showErrorMessage;break;case te.MessageType.Warning:o=ct.window.showWarningMessage;break;case te.MessageType.Info:o=ct.window.showInformationMessage;break;default:o=ct.window.showInformationMessage}let a=s.actions||[];return o(s.message,...a)}),r.onNotification(te.TelemetryEventNotification.type,s=>{this._telemetryEmitter.fire(s)}),r.onRequest(te.ShowDocumentRequest.type,async s=>{let o=async c=>{let u=this.protocol2CodeConverter.asUri(c.uri);try{if(c.external===!0)return{success:await ct.env.openExternal(u)};{let f={};return c.selection!==void 0&&(f.selection=this.protocol2CodeConverter.asRange(c.selection)),c.takeFocus===void 0||c.takeFocus===!1?f.preserveFocus=!0:c.takeFocus===!0&&(f.preserveFocus=!1),await ct.window.showTextDocument(u,f),{success:!0}}}catch{return{success:!1}}},a=this._clientOptions.middleware.window?.showDocument;return a!==void 0?a(s,o):o(s)}),r.listen(),await this.initialize(r),n()}catch(r){this.$state=qe.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,r,"force"),i(r)}return this._onStart}createOnStartPromise(){let e,n;return[new Promise((r,s)=>{e=r,n=s}),e,n]}async initialize(e){this.refreshTrace(e,!1);let n=this._clientOptions.initializationOptions,[i,r]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],s={processId:null,clientInfo:{name:ct.env.appName,version:ct.version},locale:this.getLocale(),rootPath:i||null,rootUri:i?this._c2p.asUri(ct.Uri.file(i)):null,capabilities:this.computeClientCapabilities(),initializationOptions:ar.func(n)?n():n,trace:te.Trace.toString(this._trace),workspaceFolders:r};if(this.fillInitializeParams(s),this._clientOptions.progressOnInitialization){let o=iL.generateUuid(),a=new H4.ProgressPart(e,o);s.workDoneToken=o;try{let c=await this.doInitialize(e,s);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,s)}async doInitialize(e,n){try{let i=await e.initialize(n);if(i.capabilities.positionEncoding!==void 0&&i.capabilities.positionEncoding!==te.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${i.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=i,this.$state=qe.Running;let r;ar.number(i.capabilities.textDocumentSync)?i.capabilities.textDocumentSync===te.TextDocumentSyncKind.None?r={openClose:!1,change:te.TextDocumentSyncKind.None,save:void 0}:r={openClose:!0,change:i.capabilities.textDocumentSync,save:{includeText:!1}}:i.capabilities.textDocumentSync!==void 0&&i.capabilities.textDocumentSync!==null&&(r=i.capabilities.textDocumentSync),this._capabilities=Object.assign({},i.capabilities,{resolvedTextDocumentSync:r}),e.onNotification(te.PublishDiagnosticsNotification.type,s=>this.handleDiagnostics(s)),e.onRequest(te.RegistrationRequest.type,s=>this.handleRegistrationRequest(s)),e.onRequest("client/registerFeature",s=>this.handleRegistrationRequest(s)),e.onRequest(te.UnregistrationRequest.type,s=>this.handleUnregistrationRequest(s)),e.onRequest("client/unregisterFeature",s=>this.handleUnregistrationRequest(s)),e.onRequest(te.ApplyWorkspaceEditRequest.type,s=>this.handleApplyWorkspaceEdit(s));for(let[s,o]of this._pendingNotificationHandlers)this._notificationDisposables.set(s,e.onNotification(s,o));this._pendingNotificationHandlers.clear();for(let[s,o]of this._pendingRequestHandlers)this._requestDisposables.set(s,e.onRequest(s,o));this._pendingRequestHandlers.clear();for(let[s,o]of this._pendingProgressHandlers)this._progressDisposables.set(s,e.onProgress(o.type,s,o.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(te.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),i}catch(i){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(i)?this.initialize(e):this.stop():i instanceof te.ResponseError&&i.data&&i.data.retry?ct.window.showErrorMessage(i.message,{title:"Retry",id:"retry"}).then(r=>{r&&r.id==="retry"?this.initialize(e):this.stop()}):(i&&i.message&&ct.window.showErrorMessage(i.message),this.error("Server initialization failed.",i),this.stop()),i}}_clientGetRootPath(){let e=ct.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,n){if(this.$state===qe.Stopped||this.$state===qe.Initial)return;if(this.$state===qe.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let i=this.activeConnection();if(i===void 0||this.$state!==qe.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=qe.Stopping,this.cleanUp(e);let r=new Promise(o=>{(0,te.RAL)().timer.setTimeout(o,n)}),s=(async o=>(await o.shutdown(),await o.exit(),o))(i);return this._onStop=Promise.race([r,s]).then(o=>{if(o!==void 0)o.end(),o.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},o=>{throw this.error("Stopping server failed",o,!1),o}).finally(()=>{this.$state=qe.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let n=this._listeners.splice(0,this._listeners.length);for(let i of n)i.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let i of Array.from(this._features.entries()).map(r=>r[1]).reverse())i.clear();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let n=this;async function i(s){return n._fileEvents.push(s),n._fileEventDelayer.trigger(async()=>{await n.sendNotification(te.DidChangeWatchedFilesNotification.type,{changes:n._fileEvents}),n._fileEvents=[]})}let r=this.clientOptions.middleware?.workspace;(r?.didChangeWatchedFile?r.didChangeWatchedFile(e,i):i(e)).catch(s=>{n.error("Notify file events failed.",s)})}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock(async()=>{try{let n=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._pendingOpenNotifications);if(n.length===0)return;for(let i of n){let r=this.code2ProtocolConverter.asChangeTextDocumentParams(i);await e.sendNotification(te.DidChangeTextDocumentNotification.type,r),this._didChangeTextDocumentFeature.notificationSent(i,te.DidChangeTextDocumentNotification.type,r)}}catch(n){throw this.error("Sending pending changes failed",n,!1),n}})}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger(async()=>{let e=this.activeConnection();if(e===void 0){this.triggerPendingChangeDelivery();return}await this.sendPendingFullTextDocumentChanges(e)}).catch(e=>this.error("Delivering pending changes failed",e,!1))}handleDiagnostics(e){if(!this._diagnostics)return;let n=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===n&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,te.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[n,i]=e.value;this._diagnosticQueue.delete(n);let r=new ct.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:n,tokenSource:r},this._p2c.asDiagnostics(i,r.token).then(s=>{if(!r.token.isCancellationRequested){let o=this._p2c.asUri(n),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(o,s,(c,u)=>this.setDiagnostics(c,u)):this.setDiagnostics(o,s)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,n){this._diagnostics&&this._diagnostics.set(e,n)}getLocale(){return ct.env.language}async $start(){if(this.$state===qe.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(r,s,o)=>{this.handleConnectionError(r,s,o).catch(a=>this.error("Handling connection error failed",a))},n=()=>{this.handleConnectionClosed().catch(r=>this.error("Handling connection close failed",r))},i=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=TG(i.reader,i.writer,e,n,this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===qe.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:Ls.DoNotRestart};if(this.$state!==qe.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===Ls.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,e.handled===!0?!1:"force"),this.cleanUp("stop"),this.$state===qe.Starting?this.$state=qe.StartFailed:this.$state=qe.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===Ls.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",!e.handled),this.cleanUp("restart"),this.$state=qe.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(n=>this.error("Restarting server failed",n,"force")))}async handleConnectionError(e,n,i){let r=await this._clientOptions.errorHandler.error(e,n,i);r.action===bl.Shutdown?(this.error(r.message??`Client ${this._name}: connection to server is erroring.
${e.message}
Shutting down server.`,void 0,r.handled===!0?!1:"force"),this.stop().catch(s=>{this.error("Stopping server failed",s,!1)})):this.error(r.message??`Client ${this._name}: connection to server is erroring.
${e.message}`,void 0,r.handled===!0?!1:"force")}hookConfigurationChanged(e){this._listeners.push(ct.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,n=!1){let i=ct.workspace.getConfiguration(this._id),r=te.Trace.Off,s=te.TraceFormat.Text;if(i){let o=i.get("trace.server","off");typeof o=="string"?r=te.Trace.fromString(o):(r=te.Trace.fromString(i.get("trace.server.verbosity","off")),s=te.TraceFormat.fromString(i.get("trace.server.format","text")))}this._trace=r,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:n,traceFormat:this._traceFormat}).catch(o=>{this.error("Updating trace failed with error",o,!1)})}hookFileEvents(e){let n=this._clientOptions.synchronize.fileEvents;if(!n)return;let i;ar.array(n)?i=n:i=[n],i&&this._dynamicFeatures.get(te.DidChangeWatchedFilesNotification.type.method).registerRaw(iL.generateUuid(),i)}registerFeatures(e){for(let n of e)this.registerFeature(n)}registerFeature(e){if(this._features.push(e),or.DynamicFeature.is(e)){let n=e.registrationType;this._dynamicFeatures.set(n.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let n=this.getFeature(te.NotebookDocumentSyncRegistrationType.method);return n===void 0||!(n instanceof rL.NotebookDocumentSyncFeature)?!1:n.handles(e)}registerBuiltinFeatures(){let e=new Map;this.registerFeature(new sL.ConfigurationFeature(this)),this.registerFeature(new ic.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this._didChangeTextDocumentFeature=new ic.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded(()=>{this.triggerPendingChangeDelivery()}),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new ic.WillSaveFeature(this)),this.registerFeature(new ic.WillSaveWaitUntilFeature(this)),this.registerFeature(new ic.DidSaveTextDocumentFeature(this)),this.registerFeature(new ic.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new aG.FileSystemWatcherFeature(this,n=>this.notifyFileEvent(n))),this.registerFeature(new G4.CompletionItemFeature(this)),this.registerFeature(new J4.HoverFeature(this)),this.registerFeature(new Y4.SignatureHelpFeature(this)),this.registerFeature(new X4.DefinitionFeature(this)),this.registerFeature(new tG.ReferencesFeature(this)),this.registerFeature(new Q4.DocumentHighlightFeature(this)),this.registerFeature(new Z4.DocumentSymbolFeature(this)),this.registerFeature(new eG.WorkspaceSymbolFeature(this)),this.registerFeature(new nG.CodeActionFeature(this)),this.registerFeature(new iG.CodeLensFeature(this)),this.registerFeature(new UT.DocumentFormattingFeature(this)),this.registerFeature(new UT.DocumentRangeFormattingFeature(this)),this.registerFeature(new UT.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new rG.RenameFeature(this)),this.registerFeature(new sG.DocumentLinkFeature(this)),this.registerFeature(new oG.ExecuteCommandFeature(this)),this.registerFeature(new sL.SyncConfigurationFeature(this)),this.registerFeature(new lG.TypeDefinitionFeature(this)),this.registerFeature(new uG.ImplementationFeature(this)),this.registerFeature(new cG.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new dG.WorkspaceFoldersFeature(this)),this.registerFeature(new fG.FoldingRangeFeature(this)),this.registerFeature(new pG.DeclarationFeature(this)),this.registerFeature(new hG.SelectionRangeFeature(this)),this.registerFeature(new gG.ProgressFeature(this)),this.registerFeature(new mG.CallHierarchyFeature(this)),this.registerFeature(new yG.SemanticTokensFeature(this)),this.registerFeature(new CG.LinkedEditingFeature(this)),this.registerFeature(new rc.DidCreateFilesFeature(this)),this.registerFeature(new rc.DidRenameFilesFeature(this)),this.registerFeature(new rc.DidDeleteFilesFeature(this)),this.registerFeature(new rc.WillCreateFilesFeature(this)),this.registerFeature(new rc.WillRenameFilesFeature(this)),this.registerFeature(new rc.WillDeleteFilesFeature(this)),this.registerFeature(new vG.TypeHierarchyFeature(this)),this.registerFeature(new SG.InlineValueFeature(this)),this.registerFeature(new bG.InlayHintsFeature(this)),this.registerFeature(new z4.DiagnosticFeature(this)),this.registerFeature(new rL.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(KT.createAll(this))}fillInitializeParams(e){for(let n of this._features)ar.func(n.fillInitializeParams)&&n.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,or.ensure)(e,"workspace").applyEdit=!0;let n=(0,or.ensure)((0,or.ensure)(e,"workspace"),"workspaceEdit");n.documentChanges=!0,n.resourceOperations=[te.ResourceOperationKind.Create,te.ResourceOperationKind.Rename,te.ResourceOperationKind.Delete],n.failureHandling=te.FailureHandlingKind.TextOnlyTransactional,n.normalizesLineEndings=!0,n.changeAnnotationSupport={groupsOnLabel:!0};let i=(0,or.ensure)((0,or.ensure)(e,"textDocument"),"publishDiagnostics");i.relatedInformation=!0,i.versionSupport=!1,i.tagSupport={valueSet:[te.DiagnosticTag.Unnecessary,te.DiagnosticTag.Deprecated]},i.codeDescriptionSupport=!0,i.dataSupport=!0;let r=(0,or.ensure)(e,"window"),s=(0,or.ensure)(r,"showMessage");s.messageActionItem={additionalPropertiesSupport:!0};let o=(0,or.ensure)(r,"showDocument");o.support=!0;let a=(0,or.ensure)(e,"general");a.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(t.RequestsToCancelOnContentModified)},a.regularExpressions={engine:"ECMAScript",version:"ES2020"},a.markdown={parser:"marked",version:"1.1.0"},a.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(a.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let c of this._features)c.fillClientCapabilities(e);return e}initializeFeatures(e){let n=this._clientOptions.documentSelector;for(let i of this._features)ar.func(i.preInitialize)&&i.preInitialize(this._capabilities,n);for(let i of this._features)i.initialize(this._capabilities,n)}async handleRegistrationRequest(e){let n=this.clientOptions.middleware?.handleRegisterCapability;return n?n(e,i=>this.doRegisterCapability(i)):this.doRegisterCapability(e)}async doRegisterCapability(e){if(!this.isRunning()){for(let n of e.registrations)this._ignoredRegistrations.add(n.id);return}for(let n of e.registrations){let i=this._dynamicFeatures.get(n.method);if(i===void 0)return Promise.reject(new Error(`No feature implementation for ${n.method} found. Registration failed.`));let r=n.registerOptions??{};r.documentSelector=r.documentSelector??this._clientOptions.documentSelector;let s={id:n.id,registerOptions:r};try{i.register(s)}catch(o){return Promise.reject(o)}}}async handleUnregistrationRequest(e){let n=this.clientOptions.middleware?.handleUnregisterCapability;return n?n(e,i=>this.doUnregisterCapability(i)):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(let n of e.unregisterations){if(this._ignoredRegistrations.has(n.id))continue;let i=this._dynamicFeatures.get(n.method);if(!i)return Promise.reject(new Error(`No feature implementation for ${n.method} found. Unregistration failed.`));i.unregister(n.id)}}async handleApplyWorkspaceEdit(e){let n=e.edit,i=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(n)),r=new Map;ct.workspace.textDocuments.forEach(o=>r.set(o.uri.toString(),o));let s=!1;if(n.documentChanges){for(let o of n.documentChanges)if(te.TextDocumentEdit.is(o)&&o.textDocument.version&&o.textDocument.version>=0){let a=this._p2c.asUri(o.textDocument.uri).toString(),c=r.get(a);if(c&&c.version!==o.textDocument.version){s=!0;break}}}return s?Promise.resolve({applied:!1}):ar.asPromise(ct.workspace.applyEdit(i).then(o=>({applied:o})))}handleFailedRequest(e,n,i,r,s=!0){if(i instanceof te.ResponseError){if(i.code===te.ErrorCodes.PendingResponseRejected||i.code===te.ErrorCodes.ConnectionInactive)return r;if(i.code===te.LSPErrorCodes.RequestCancelled||i.code===te.LSPErrorCodes.ServerCancelled){if(n!==void 0&&n.isCancellationRequested)return r;throw i.data!==void 0?new or.LSPCancellationError(i.data):new ct.CancellationError}else if(i.code===te.LSPErrorCodes.ContentModified){if(t.RequestsToCancelOnContentModified.has(e.method)||t.CancellableResolveCalls.has(e.method))throw new ct.CancellationError;return r}}throw this.error(`Request ${e.method} failed.`,i,s),i}};hn.BaseLanguageClient=Dl;Dl.RequestsToCancelOnContentModified=new Set([te.SemanticTokensRequest.method,te.SemanticTokensRangeRequest.method,te.SemanticTokensDeltaRequest.method]);Dl.CancellableResolveCalls=new Set([te.CompletionResolveRequest.method,te.CodeLensResolveRequest.method,te.CodeActionResolveRequest.method,te.InlayHintResolveRequest.method,te.DocumentLinkResolveRequest.method,te.WorkspaceSymbolResolveRequest.method]);var WT=class{error(e){(0,te.RAL)().console.error(e)}warn(e){(0,te.RAL)().console.warn(e)}info(e){(0,te.RAL)().console.info(e)}log(e){(0,te.RAL)().console.log(e)}};function TG(t,e,n,i,r){let s=new WT,o=(0,te.createProtocolConnection)(t,e,s,r);return o.onError(c=>{n(c[0],c[1],c[2])}),o.onClose(i),{listen:()=>o.listen(),sendRequest:o.sendRequest,onRequest:o.onRequest,hasPendingResponse:o.hasPendingResponse,sendNotification:o.sendNotification,onNotification:o.onNotification,onProgress:o.onProgress,sendProgress:o.sendProgress,trace:(c,u,f)=>{let g={sendNotification:!1,traceFormat:te.TraceFormat.Text};return f===void 0?o.trace(c,u,g):(ar.boolean(f),o.trace(c,u,f))},initialize:c=>o.sendRequest(te.InitializeRequest.type,c),shutdown:()=>o.sendRequest(te.ShutdownRequest.type,void 0),exit:()=>o.sendNotification(te.ExitNotification.type),end:()=>o.end(),dispose:()=>o.dispose()}}var KT;(function(t){function e(n){return[new DG.InlineCompletionItemFeature(n)]}t.createAll=e})(KT||(hn.ProposedFeatures=KT={}))});var uL=F(_h=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});_h.terminate=void 0;var cL=require("child_process"),wG=require("path"),xG=process.platform==="win32",EG=process.platform==="darwin",kG=process.platform==="linux";function FG(t,e){if(xG)try{let r={stdio:["pipe","pipe","ignore"]};return e&&(r.cwd=e),cL.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],r),!0}catch{return!1}else if(kG||EG)try{var n=(0,wG.join)(__dirname,"terminateProcess.sh"),i=cL.spawnSync(n,[t.pid.toString()]);return!i.error}catch{return!1}else return t.kill("SIGKILL"),!0}_h.terminate=FG});var VT=F((jse,lL)=>{"use strict";lL.exports=Pe()});var Tl=F((Bse,dL)=>{var PG=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};dL.exports=PG});var Nh=F((Wse,fL)=>{var RG="2.0.0",AG=Number.MAX_SAFE_INTEGER||9007199254740991,IG=16,_G=250,NG=["major","premajor","minor","preminor","patch","prepatch","prerelease"];fL.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:IG,MAX_SAFE_BUILD_LENGTH:_G,MAX_SAFE_INTEGER:AG,RELEASE_TYPES:NG,SEMVER_SPEC_VERSION:RG,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Oh=F((Yr,pL)=>{var{MAX_SAFE_COMPONENT_LENGTH:HT,MAX_SAFE_BUILD_LENGTH:OG,MAX_LENGTH:LG}=Nh(),MG=Tl();Yr=pL.exports={};var qG=Yr.re=[],UG=Yr.safeRe=[],oe=Yr.src=[],ae=Yr.t={},jG=0,zT="[a-zA-Z0-9-]",BG=[["\\s",1],["\\d",LG],[zT,OG]],WG=t=>{for(let[e,n]of BG)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},_e=(t,e,n)=>{let i=WG(e),r=jG++;MG(t,r,e),ae[t]=r,oe[r]=e,qG[r]=new RegExp(e,n?"g":void 0),UG[r]=new RegExp(i,n?"g":void 0)};_e("NUMERICIDENTIFIER","0|[1-9]\\d*");_e("NUMERICIDENTIFIERLOOSE","\\d+");_e("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${zT}*`);_e("MAINVERSION",`(${oe[ae.NUMERICIDENTIFIER]})\\.(${oe[ae.NUMERICIDENTIFIER]})\\.(${oe[ae.NUMERICIDENTIFIER]})`);_e("MAINVERSIONLOOSE",`(${oe[ae.NUMERICIDENTIFIERLOOSE]})\\.(${oe[ae.NUMERICIDENTIFIERLOOSE]})\\.(${oe[ae.NUMERICIDENTIFIERLOOSE]})`);_e("PRERELEASEIDENTIFIER",`(?:${oe[ae.NUMERICIDENTIFIER]}|${oe[ae.NONNUMERICIDENTIFIER]})`);_e("PRERELEASEIDENTIFIERLOOSE",`(?:${oe[ae.NUMERICIDENTIFIERLOOSE]}|${oe[ae.NONNUMERICIDENTIFIER]})`);_e("PRERELEASE",`(?:-(${oe[ae.PRERELEASEIDENTIFIER]}(?:\\.${oe[ae.PRERELEASEIDENTIFIER]})*))`);_e("PRERELEASELOOSE",`(?:-?(${oe[ae.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${oe[ae.PRERELEASEIDENTIFIERLOOSE]})*))`);_e("BUILDIDENTIFIER",`${zT}+`);_e("BUILD",`(?:\\+(${oe[ae.BUILDIDENTIFIER]}(?:\\.${oe[ae.BUILDIDENTIFIER]})*))`);_e("FULLPLAIN",`v?${oe[ae.MAINVERSION]}${oe[ae.PRERELEASE]}?${oe[ae.BUILD]}?`);_e("FULL",`^${oe[ae.FULLPLAIN]}$`);_e("LOOSEPLAIN",`[v=\\s]*${oe[ae.MAINVERSIONLOOSE]}${oe[ae.PRERELEASELOOSE]}?${oe[ae.BUILD]}?`);_e("LOOSE",`^${oe[ae.LOOSEPLAIN]}$`);_e("GTLT","((?:<|>)?=?)");_e("XRANGEIDENTIFIERLOOSE",`${oe[ae.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);_e("XRANGEIDENTIFIER",`${oe[ae.NUMERICIDENTIFIER]}|x|X|\\*`);_e("XRANGEPLAIN",`[v=\\s]*(${oe[ae.XRANGEIDENTIFIER]})(?:\\.(${oe[ae.XRANGEIDENTIFIER]})(?:\\.(${oe[ae.XRANGEIDENTIFIER]})(?:${oe[ae.PRERELEASE]})?${oe[ae.BUILD]}?)?)?`);_e("XRANGEPLAINLOOSE",`[v=\\s]*(${oe[ae.XRANGEIDENTIFIERLOOSE]})(?:\\.(${oe[ae.XRANGEIDENTIFIERLOOSE]})(?:\\.(${oe[ae.XRANGEIDENTIFIERLOOSE]})(?:${oe[ae.PRERELEASELOOSE]})?${oe[ae.BUILD]}?)?)?`);_e("XRANGE",`^${oe[ae.GTLT]}\\s*${oe[ae.XRANGEPLAIN]}$`);_e("XRANGELOOSE",`^${oe[ae.GTLT]}\\s*${oe[ae.XRANGEPLAINLOOSE]}$`);_e("COERCEPLAIN",`(^|[^\\d])(\\d{1,${HT}})(?:\\.(\\d{1,${HT}}))?(?:\\.(\\d{1,${HT}}))?`);_e("COERCE",`${oe[ae.COERCEPLAIN]}(?:$|[^\\d])`);_e("COERCEFULL",oe[ae.COERCEPLAIN]+`(?:${oe[ae.PRERELEASE]})?(?:${oe[ae.BUILD]})?(?:$|[^\\d])`);_e("COERCERTL",oe[ae.COERCE],!0);_e("COERCERTLFULL",oe[ae.COERCEFULL],!0);_e("LONETILDE","(?:~>?)");_e("TILDETRIM",`(\\s*)${oe[ae.LONETILDE]}\\s+`,!0);Yr.tildeTrimReplace="$1~";_e("TILDE",`^${oe[ae.LONETILDE]}${oe[ae.XRANGEPLAIN]}$`);_e("TILDELOOSE",`^${oe[ae.LONETILDE]}${oe[ae.XRANGEPLAINLOOSE]}$`);_e("LONECARET","(?:\\^)");_e("CARETTRIM",`(\\s*)${oe[ae.LONECARET]}\\s+`,!0);Yr.caretTrimReplace="$1^";_e("CARET",`^${oe[ae.LONECARET]}${oe[ae.XRANGEPLAIN]}$`);_e("CARETLOOSE",`^${oe[ae.LONECARET]}${oe[ae.XRANGEPLAINLOOSE]}$`);_e("COMPARATORLOOSE",`^${oe[ae.GTLT]}\\s*(${oe[ae.LOOSEPLAIN]})$|^$`);_e("COMPARATOR",`^${oe[ae.GTLT]}\\s*(${oe[ae.FULLPLAIN]})$|^$`);_e("COMPARATORTRIM",`(\\s*)${oe[ae.GTLT]}\\s*(${oe[ae.LOOSEPLAIN]}|${oe[ae.XRANGEPLAIN]})`,!0);Yr.comparatorTrimReplace="$1$2$3";_e("HYPHENRANGE",`^\\s*(${oe[ae.XRANGEPLAIN]})\\s+-\\s+(${oe[ae.XRANGEPLAIN]})\\s*$`);_e("HYPHENRANGELOOSE",`^\\s*(${oe[ae.XRANGEPLAINLOOSE]})\\s+-\\s+(${oe[ae.XRANGEPLAINLOOSE]})\\s*$`);_e("STAR","(<|>)?=?\\s*\\*");_e("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");_e("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Lh=F((Kse,hL)=>{var KG=Object.freeze({loose:!0}),$G=Object.freeze({}),VG=t=>t?typeof t!="object"?KG:t:$G;hL.exports=VG});var CL=F(($se,yL)=>{var gL=/^[0-9]+$/,mL=(t,e)=>{let n=gL.test(t),i=gL.test(e);return n&&i&&(t=+t,e=+e),t===e?0:n&&!i?-1:i&&!n?1:t<e?-1:1},HG=(t,e)=>mL(e,t);yL.exports={compareIdentifiers:mL,rcompareIdentifiers:HG}});var wl=F((Vse,DL)=>{var Mh=Tl(),{MAX_LENGTH:vL,MAX_SAFE_INTEGER:qh}=Nh(),{safeRe:SL,t:bL}=Oh(),zG=Lh(),{compareIdentifiers:sc}=CL(),GT=class t{constructor(e,n){if(n=zG(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>vL)throw new TypeError(`version is longer than ${vL} characters`);Mh("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let i=e.trim().match(n.loose?SL[bL.LOOSE]:SL[bL.FULL]);if(!i)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>qh||this.major<0)throw new TypeError("Invalid major version");if(this.minor>qh||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>qh||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(r=>{if(/^[0-9]+$/.test(r)){let s=+r;if(s>=0&&s<qh)return s}return r}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Mh("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),sc(this.major,e.major)||sc(this.minor,e.minor)||sc(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let i=this.prerelease[n],r=e.prerelease[n];if(Mh("prerelease compare",n,i,r),i===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(i===void 0)return-1;if(i===r)continue;return sc(i,r)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let i=this.build[n],r=e.build[n];if(Mh("build compare",n,i,r),i===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(i===void 0)return-1;if(i===r)continue;return sc(i,r)}while(++n)}inc(e,n,i){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,i),this.inc("pre",n,i);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,i),this.inc("pre",n,i);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let r=Number(i)?1:0;if(!n&&i===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[r];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&i===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(r)}}if(n){let s=[n,r];i===!1&&(s=[n]),sc(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};DL.exports=GT});var xL=F((Hse,wL)=>{var TL=wl(),GG=(t,e,n=!1)=>{if(t instanceof TL)return t;try{return new TL(t,e)}catch(i){if(!n)return null;throw i}};wL.exports=GG});var kL=F((zse,EL)=>{var JT=class{constructor(){this.max=1e3,this.map=new Map}get(e){let n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){let r=this.map.keys().next().value;this.delete(r)}this.map.set(e,n)}return this}};EL.exports=JT});var Mo=F((Gse,PL)=>{var FL=wl(),JG=(t,e,n)=>new FL(t,n).compare(new FL(e,n));PL.exports=JG});var AL=F((Jse,RL)=>{var XG=Mo(),YG=(t,e,n)=>XG(t,e,n)===0;RL.exports=YG});var _L=F((Xse,IL)=>{var QG=Mo(),ZG=(t,e,n)=>QG(t,e,n)!==0;IL.exports=ZG});var OL=F((Yse,NL)=>{var e6=Mo(),t6=(t,e,n)=>e6(t,e,n)>0;NL.exports=t6});var ML=F((Qse,LL)=>{var n6=Mo(),i6=(t,e,n)=>n6(t,e,n)>=0;LL.exports=i6});var UL=F((Zse,qL)=>{var r6=Mo(),s6=(t,e,n)=>r6(t,e,n)<0;qL.exports=s6});var BL=F((eoe,jL)=>{var o6=Mo(),a6=(t,e,n)=>o6(t,e,n)<=0;jL.exports=a6});var KL=F((toe,WL)=>{var c6=AL(),u6=_L(),l6=OL(),d6=ML(),f6=UL(),p6=BL(),h6=(t,e,n,i)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return c6(t,n,i);case"!=":return u6(t,n,i);case">":return l6(t,n,i);case">=":return d6(t,n,i);case"<":return f6(t,n,i);case"<=":return p6(t,n,i);default:throw new TypeError(`Invalid operator: ${e}`)}};WL.exports=h6});var XL=F((noe,JL)=>{var xl=Symbol("SemVer ANY"),QT=class t{static get ANY(){return xl}constructor(e,n){if(n=$L(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),YT("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===xl?this.value="":this.value=this.operator+this.semver.version,YT("comp",this)}parse(e){let n=this.options.loose?VL[HL.COMPARATORLOOSE]:VL[HL.COMPARATOR],i=e.match(n);if(!i)throw new TypeError(`Invalid comparator: ${e}`);this.operator=i[1]!==void 0?i[1]:"",this.operator==="="&&(this.operator=""),i[2]?this.semver=new zL(i[2],this.options.loose):this.semver=xl}toString(){return this.value}test(e){if(YT("Comparator.test",e,this.options.loose),this.semver===xl||e===xl)return!0;if(typeof e=="string")try{e=new zL(e,this.options)}catch{return!1}return XT(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new GL(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new GL(this.value,n).test(e.semver):(n=$L(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||XT(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||XT(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};JL.exports=QT;var $L=Lh(),{safeRe:VL,t:HL}=Oh(),XT=KL(),YT=Tl(),zL=wl(),GL=ZT()});var ZT=F((ioe,eM)=>{var g6=/\s+/g,ew=class t{constructor(e,n){if(n=y6(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof tw)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().replace(g6," "),this.set=this.raw.split("||").map(i=>this.parseRange(i.trim())).filter(i=>i.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let i=this.set[0];if(this.set=this.set.filter(r=>!QL(r[0])),this.set.length===0)this.set=[i];else if(this.set.length>1){for(let r of this.set)if(r.length===1&&w6(r[0])){this.set=[r];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let n=this.set[e];for(let i=0;i<n.length;i++)i>0&&(this.formatted+=" "),this.formatted+=n[i].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let i=((this.options.includePrerelease&&D6)|(this.options.loose&&T6))+":"+e,r=YL.get(i);if(r)return r;let s=this.options.loose,o=s?ui[Vn.HYPHENRANGELOOSE]:ui[Vn.HYPHENRANGE];e=e.replace(o,N6(this.options.includePrerelease)),Ct("hyphen replace",e),e=e.replace(ui[Vn.COMPARATORTRIM],v6),Ct("comparator trim",e),e=e.replace(ui[Vn.TILDETRIM],S6),Ct("tilde trim",e),e=e.replace(ui[Vn.CARETTRIM],b6),Ct("caret trim",e);let a=e.split(" ").map(g=>x6(g,this.options)).join(" ").split(/\s+/).map(g=>_6(g,this.options));s&&(a=a.filter(g=>(Ct("loose invalid filter",g,this.options),!!g.match(ui[Vn.COMPARATORLOOSE])))),Ct("range list",a);let c=new Map,u=a.map(g=>new tw(g,this.options));for(let g of u){if(QL(g))return[g];c.set(g.value,g)}c.size>1&&c.has("")&&c.delete("");let f=[...c.values()];return YL.set(i,f),f}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(i=>ZL(i,n)&&e.set.some(r=>ZL(r,n)&&i.every(s=>r.every(o=>s.intersects(o,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new C6(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(O6(this.set[n],e,this.options))return!0;return!1}};eM.exports=ew;var m6=kL(),YL=new m6,y6=Lh(),tw=XL(),Ct=Tl(),C6=wl(),{safeRe:ui,t:Vn,comparatorTrimReplace:v6,tildeTrimReplace:S6,caretTrimReplace:b6}=Oh(),{FLAG_INCLUDE_PRERELEASE:D6,FLAG_LOOSE:T6}=Nh(),QL=t=>t.value==="<0.0.0-0",w6=t=>t.value==="",ZL=(t,e)=>{let n=!0,i=t.slice(),r=i.pop();for(;n&&i.length;)n=i.every(s=>r.intersects(s,e)),r=i.pop();return n},x6=(t,e)=>(Ct("comp",t,e),t=F6(t,e),Ct("caret",t),t=E6(t,e),Ct("tildes",t),t=R6(t,e),Ct("xrange",t),t=I6(t,e),Ct("stars",t),t),Hn=t=>!t||t.toLowerCase()==="x"||t==="*",E6=(t,e)=>t.trim().split(/\s+/).map(n=>k6(n,e)).join(" "),k6=(t,e)=>{let n=e.loose?ui[Vn.TILDELOOSE]:ui[Vn.TILDE];return t.replace(n,(i,r,s,o,a)=>{Ct("tilde",t,i,r,s,o,a);let c;return Hn(r)?c="":Hn(s)?c=`>=${r}.0.0 <${+r+1}.0.0-0`:Hn(o)?c=`>=${r}.${s}.0 <${r}.${+s+1}.0-0`:a?(Ct("replaceTilde pr",a),c=`>=${r}.${s}.${o}-${a} <${r}.${+s+1}.0-0`):c=`>=${r}.${s}.${o} <${r}.${+s+1}.0-0`,Ct("tilde return",c),c})},F6=(t,e)=>t.trim().split(/\s+/).map(n=>P6(n,e)).join(" "),P6=(t,e)=>{Ct("caret",t,e);let n=e.loose?ui[Vn.CARETLOOSE]:ui[Vn.CARET],i=e.includePrerelease?"-0":"";return t.replace(n,(r,s,o,a,c)=>{Ct("caret",t,r,s,o,a,c);let u;return Hn(s)?u="":Hn(o)?u=`>=${s}.0.0${i} <${+s+1}.0.0-0`:Hn(a)?s==="0"?u=`>=${s}.${o}.0${i} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.0${i} <${+s+1}.0.0-0`:c?(Ct("replaceCaret pr",c),s==="0"?o==="0"?u=`>=${s}.${o}.${a}-${c} <${s}.${o}.${+a+1}-0`:u=`>=${s}.${o}.${a}-${c} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.${a}-${c} <${+s+1}.0.0-0`):(Ct("no pr"),s==="0"?o==="0"?u=`>=${s}.${o}.${a}${i} <${s}.${o}.${+a+1}-0`:u=`>=${s}.${o}.${a}${i} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),Ct("caret return",u),u})},R6=(t,e)=>(Ct("replaceXRanges",t,e),t.split(/\s+/).map(n=>A6(n,e)).join(" ")),A6=(t,e)=>{t=t.trim();let n=e.loose?ui[Vn.XRANGELOOSE]:ui[Vn.XRANGE];return t.replace(n,(i,r,s,o,a,c)=>{Ct("xRange",t,i,r,s,o,a,c);let u=Hn(s),f=u||Hn(o),g=f||Hn(a),p=g;return r==="="&&p&&(r=""),c=e.includePrerelease?"-0":"",u?r===">"||r==="<"?i="<0.0.0-0":i="*":r&&p?(f&&(o=0),a=0,r===">"?(r=">=",f?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):r==="<="&&(r="<",f?s=+s+1:o=+o+1),r==="<"&&(c="-0"),i=`${r+s}.${o}.${a}${c}`):f?i=`>=${s}.0.0${c} <${+s+1}.0.0-0`:g&&(i=`>=${s}.${o}.0${c} <${s}.${+o+1}.0-0`),Ct("xRange return",i),i})},I6=(t,e)=>(Ct("replaceStars",t,e),t.trim().replace(ui[Vn.STAR],"")),_6=(t,e)=>(Ct("replaceGTE0",t,e),t.trim().replace(ui[e.includePrerelease?Vn.GTE0PRE:Vn.GTE0],"")),N6=t=>(e,n,i,r,s,o,a,c,u,f,g,p)=>(Hn(i)?n="":Hn(r)?n=`>=${i}.0.0${t?"-0":""}`:Hn(s)?n=`>=${i}.${r}.0${t?"-0":""}`:o?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,Hn(u)?c="":Hn(f)?c=`<${+u+1}.0.0-0`:Hn(g)?c=`<${u}.${+f+1}.0-0`:p?c=`<=${u}.${f}.${g}-${p}`:t?c=`<${u}.${f}.${+g+1}-0`:c=`<=${c}`,`${n} ${c}`.trim()),O6=(t,e,n)=>{for(let i=0;i<t.length;i++)if(!t[i].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let i=0;i<t.length;i++)if(Ct(t[i].semver),t[i].semver!==tw.ANY&&t[i].semver.prerelease.length>0){let r=t[i].semver;if(r.major===e.major&&r.minor===e.minor&&r.patch===e.patch)return!0}return!1}return!0}});var nM=F((roe,tM)=>{var L6=ZT(),M6=(t,e,n)=>{try{e=new L6(e,n)}catch{return!1}return e.test(t)};tM.exports=M6});var rM=F(wi=>{"use strict";var q6=wi&&wi.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),nw=wi&&wi.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&q6(e,t,n)};Object.defineProperty(wi,"__esModule",{value:!0});wi.DiagnosticPullMode=wi.vsdiag=void 0;nw(Pe(),wi);nw(ze(),wi);var iM=uD();Object.defineProperty(wi,"vsdiag",{enumerable:!0,get:function(){return iM.vsdiag}});Object.defineProperty(wi,"DiagnosticPullMode",{enumerable:!0,get:function(){return iM.DiagnosticPullMode}});nw($T(),wi)});var cM=F(li=>{"use strict";var U6=li&&li.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),aM=li&&li.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&U6(e,t,n)};Object.defineProperty(li,"__esModule",{value:!0});li.SettingMonitor=li.LanguageClient=li.TransportKind=void 0;var Qr=require("child_process"),iw=require("fs"),rw=require("path"),qs=require("vscode"),Et=qi(),sM=$T(),j6=uL(),Nt=VT(),B6=xL(),W6=nM();aM(VT(),li);aM(rM(),li);var oM="^1.82.0",Ot;(function(t){t[t.stdio=0]="stdio",t[t.ipc=1]="ipc",t[t.pipe=2]="pipe",t[t.socket=3]="socket"})(Ot||(li.TransportKind=Ot={}));var Ms;(function(t){function e(n){let i=n;return i&&i.kind===Ot.socket&&Et.number(i.port)}t.isSocket=e})(Ms||(Ms={}));var sw;(function(t){function e(n){return Et.string(n.command)}t.is=e})(sw||(sw={}));var ow;(function(t){function e(n){return Et.string(n.module)}t.is=e})(ow||(ow={}));var aw;(function(t){function e(n){let i=n;return i&&i.writer!==void 0&&i.reader!==void 0}t.is=e})(aw||(aw={}));var cw;(function(t){function e(n){let i=n;return i&&i.process!==void 0&&typeof i.detached=="boolean"}t.is=e})(cw||(cw={}));var uw=class extends sM.BaseLanguageClient{constructor(e,n,i,r,s){let o,a,c,u,f;Et.string(n)?(o=e,a=n,c=i,u=r,f=!!s):(o=e.toLowerCase(),a=e,c=n,u=i,f=r),f===void 0&&(f=!1),super(o,a,u),this._serverOptions=c,this._forceDebug=f,this._isInDebugMode=f;try{this.checkVersion()}catch(g){throw Et.string(g.message)&&this.outputChannel.appendLine(g.message),g}}checkVersion(){let e=B6(qs.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${qs.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!W6(e,oM))throw new Error(`The language client requires VS Code version ${oM} but received version ${qs.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let n=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(n),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,j6.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function n(f,g){if(!f&&!g)return;let p=Object.create(null);return Object.keys(process.env).forEach(l=>p[l]=process.env[l]),g&&(p.ELECTRON_RUN_AS_NODE="1",p.ELECTRON_NO_ASAR="1"),f&&Object.keys(f).forEach(l=>p[l]=f[l]),p}let i=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],r=["--debug","--debug-brk","--inspect","--inspect-brk"];function s(){let f=process.execArgv;return f?f.some(g=>i.some(p=>g.startsWith(p))||r.some(p=>g===p)):!1}function o(f){if(f.stdin===null||f.stdout===null||f.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(Et.func(a))return a().then(f=>{if(sM.MessageTransports.is(f))return this._isDetached=!!f.detached,f;if(aw.is(f))return this._isDetached=!!f.detached,{reader:new Nt.StreamMessageReader(f.reader),writer:new Nt.StreamMessageWriter(f.writer)};{let g;return cw.is(f)?(g=f.process,this._isDetached=f.detached):(g=f,this._isDetached=!1),g.stderr.on("data",p=>this.outputChannel.append(Et.string(p)?p:p.toString(e))),{reader:new Nt.StreamMessageReader(g.stdout),writer:new Nt.StreamMessageWriter(g.stdin)}}});let c,u=a;return u.run||u.debug?this._forceDebug||s()?(c=u.debug,this._isInDebugMode=!0):(c=u.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(f=>{if(ow.is(c)&&c.module){let g=c,p=g.transport||Ot.stdio;if(g.runtime){let l=[],d=g.options??Object.create(null);d.execArgv&&d.execArgv.forEach(D=>l.push(D)),l.push(g.module),g.args&&g.args.forEach(D=>l.push(D));let h=Object.create(null);h.cwd=f,h.env=n(d.env,!1);let m=this._getRuntimePath(g.runtime,f),C;if(p===Ot.ipc?(h.stdio=[null,null,null,"ipc"],l.push("--node-ipc")):p===Ot.stdio?l.push("--stdio"):p===Ot.pipe?(C=(0,Nt.generateRandomPipeName)(),l.push(`--pipe=${C}`)):Ms.isSocket(p)&&l.push(`--socket=${p.port}`),l.push(`--clientProcessId=${process.pid.toString()}`),p===Ot.ipc||p===Ot.stdio){let D=Qr.spawn(m,l,h);return!D||!D.pid?oc(D,`Launching server using runtime ${m} failed.`):(this._serverProcess=D,D.stderr.on("data",w=>this.outputChannel.append(Et.string(w)?w:w.toString(e))),p===Ot.ipc?(D.stdout.on("data",w=>this.outputChannel.append(Et.string(w)?w:w.toString(e))),Promise.resolve({reader:new Nt.IPCMessageReader(D),writer:new Nt.IPCMessageWriter(D)})):Promise.resolve({reader:new Nt.StreamMessageReader(D.stdout),writer:new Nt.StreamMessageWriter(D.stdin)}))}else{if(p===Ot.pipe)return(0,Nt.createClientPipeTransport)(C).then(D=>{let w=Qr.spawn(m,l,h);return!w||!w.pid?oc(w,`Launching server using runtime ${m} failed.`):(this._serverProcess=w,w.stderr.on("data",k=>this.outputChannel.append(Et.string(k)?k:k.toString(e))),w.stdout.on("data",k=>this.outputChannel.append(Et.string(k)?k:k.toString(e))),D.onConnected().then(k=>({reader:k[0],writer:k[1]})))});if(Ms.isSocket(p))return(0,Nt.createClientSocketTransport)(p.port).then(D=>{let w=Qr.spawn(m,l,h);return!w||!w.pid?oc(w,`Launching server using runtime ${m} failed.`):(this._serverProcess=w,w.stderr.on("data",k=>this.outputChannel.append(Et.string(k)?k:k.toString(e))),w.stdout.on("data",k=>this.outputChannel.append(Et.string(k)?k:k.toString(e))),D.onConnected().then(k=>({reader:k[0],writer:k[1]})))})}}else{let l;return new Promise((d,h)=>{let m=(g.args&&g.args.slice())??[];p===Ot.ipc?m.push("--node-ipc"):p===Ot.stdio?m.push("--stdio"):p===Ot.pipe?(l=(0,Nt.generateRandomPipeName)(),m.push(`--pipe=${l}`)):Ms.isSocket(p)&&m.push(`--socket=${p.port}`),m.push(`--clientProcessId=${process.pid.toString()}`);let C=g.options??Object.create(null);if(C.env=n(C.env,!0),C.execArgv=C.execArgv||[],C.cwd=f,C.silent=!0,p===Ot.ipc||p===Ot.stdio){let D=Qr.fork(g.module,m||[],C);o(D),this._serverProcess=D,D.stderr.on("data",w=>this.outputChannel.append(Et.string(w)?w:w.toString(e))),p===Ot.ipc?(D.stdout.on("data",w=>this.outputChannel.append(Et.string(w)?w:w.toString(e))),d({reader:new Nt.IPCMessageReader(this._serverProcess),writer:new Nt.IPCMessageWriter(this._serverProcess)})):d({reader:new Nt.StreamMessageReader(D.stdout),writer:new Nt.StreamMessageWriter(D.stdin)})}else p===Ot.pipe?(0,Nt.createClientPipeTransport)(l).then(D=>{let w=Qr.fork(g.module,m||[],C);o(w),this._serverProcess=w,w.stderr.on("data",k=>this.outputChannel.append(Et.string(k)?k:k.toString(e))),w.stdout.on("data",k=>this.outputChannel.append(Et.string(k)?k:k.toString(e))),D.onConnected().then(k=>{d({reader:k[0],writer:k[1]})},h)},h):Ms.isSocket(p)&&(0,Nt.createClientSocketTransport)(p.port).then(D=>{let w=Qr.fork(g.module,m||[],C);o(w),this._serverProcess=w,w.stderr.on("data",k=>this.outputChannel.append(Et.string(k)?k:k.toString(e))),w.stdout.on("data",k=>this.outputChannel.append(Et.string(k)?k:k.toString(e))),D.onConnected().then(k=>{d({reader:k[0],writer:k[1]})},h)},h)})}}else if(sw.is(c)&&c.command){let g=c,p=c.args!==void 0?c.args.slice(0):[],l,d=c.transport;if(d===Ot.stdio)p.push("--stdio");else if(d===Ot.pipe)l=(0,Nt.generateRandomPipeName)(),p.push(`--pipe=${l}`);else if(Ms.isSocket(d))p.push(`--socket=${d.port}`);else if(d===Ot.ipc)throw new Error("Transport kind ipc is not support for command executable");let h=Object.assign({},g.options);if(h.cwd=h.cwd||f,d===void 0||d===Ot.stdio){let m=Qr.spawn(g.command,p,h);return!m||!m.pid?oc(m,`Launching server using command ${g.command} failed.`):(m.stderr.on("data",C=>this.outputChannel.append(Et.string(C)?C:C.toString(e))),this._serverProcess=m,this._isDetached=!!h.detached,Promise.resolve({reader:new Nt.StreamMessageReader(m.stdout),writer:new Nt.StreamMessageWriter(m.stdin)}))}else{if(d===Ot.pipe)return(0,Nt.createClientPipeTransport)(l).then(m=>{let C=Qr.spawn(g.command,p,h);return!C||!C.pid?oc(C,`Launching server using command ${g.command} failed.`):(this._serverProcess=C,this._isDetached=!!h.detached,C.stderr.on("data",D=>this.outputChannel.append(Et.string(D)?D:D.toString(e))),C.stdout.on("data",D=>this.outputChannel.append(Et.string(D)?D:D.toString(e))),m.onConnected().then(D=>({reader:D[0],writer:D[1]})))});if(Ms.isSocket(d))return(0,Nt.createClientSocketTransport)(d.port).then(m=>{let C=Qr.spawn(g.command,p,h);return!C||!C.pid?oc(C,`Launching server using command ${g.command} failed.`):(this._serverProcess=C,this._isDetached=!!h.detached,C.stderr.on("data",D=>this.outputChannel.append(Et.string(D)?D:D.toString(e))),C.stdout.on("data",D=>this.outputChannel.append(Et.string(D)?D:D.toString(e))),m.onConnected().then(D=>({reader:D[0],writer:D[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))}).finally(()=>{this._serverProcess!==void 0&&this._serverProcess.on("exit",(f,g)=>{f!==null&&this.error(`Server process exited with code ${f}.`,void 0,!1),g!==null&&this.error(`Server process exited with signal ${g}.`,void 0,!1)})})}_getRuntimePath(e,n){if(rw.isAbsolute(e))return e;let i=this._mainGetRootPath();if(i!==void 0){let r=rw.join(i,e);if(iw.existsSync(r))return r}if(n!==void 0){let r=rw.join(n,e);if(iw.existsSync(r))return r}return e}_mainGetRootPath(){let e=qs.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}_getServerWorkingDir(e){let n=e&&e.cwd;return n||(n=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),n?new Promise(i=>{iw.lstat(n,(r,s)=>{i(!r&&s.isDirectory()?n:void 0)})}):Promise.resolve(void 0)}};li.LanguageClient=uw;var lw=class{constructor(e,n){this._client=e,this._setting=n,this._listeners=[]}start(){return qs.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new qs.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),n=e>=0?this._setting.substr(0,e):this._setting,i=e>=0?this._setting.substr(e+1):void 0,r=i?qs.workspace.getConfiguration(n).get(i,!1):qs.workspace.getConfiguration(n);r&&this._client.needsStart()?this._client.start().catch(s=>this._client.error("Start failed after configuration change",s,"force")):!r&&this._client.needsStop()&&this._client.stop().catch(s=>this._client.error("Stop failed after configuration change",s,"force"))}};li.SettingMonitor=lw;function oc(t,e){return t===null?Promise.reject(e):new Promise((n,i)=>{t.on("error",r=>{i(`${e} ${r}`)}),setImmediate(()=>i(e))})}});var ac=F((aoe,uM)=>{"use strict";uM.exports=cM()});var FM=F($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});$h.codes=void 0;$h.codes=[["af","Afrikaans"],["af-NA","Afrikaans","Namibia"],["af-ZA","Afrikaans","South Africa"],["ak","Akan"],["ak-GH","Akan","Ghana"],["am","Amharic"],["am-ET","Amharic","Ethiopia"],["ar","Arabic"],["ar-1","Arabic"],["ar-AE","Arabic","United Arab Emirates"],["ar-BH","Arabic","Bahrain"],["ar-DJ","Arabic","Djibouti"],["ar-DZ","Arabic","Algeria"],["ar-EG","Arabic","Egypt"],["ar-EH","Arabic"],["ar-ER","Arabic","Eritrea"],["ar-IL","Arabic","Israel"],["ar-IQ","Arabic","Iraq"],["ar-JO","Arabic","Jordan"],["ar-KM","Arabic","Comoros"],["ar-KW","Arabic","Kuwait"],["ar-LB","Arabic","Lebanon"],["ar-LY","Arabic","Libya"],["ar-MA","Arabic","Morocco"],["ar-MR","Arabic","Mauritania"],["ar-OM","Arabic","Oman"],["ar-PS","Arabic"],["ar-QA","Arabic","Qatar"],["ar-SA","Arabic","Saudi Arabia"],["ar-SD","Arabic","Sudan"],["ar-SO","Arabic","Somalia"],["ar-SS","Arabic"],["ar-SY","Arabic","Syria"],["ar-TD","Arabic","Chad"],["ar-TN","Arabic","Tunisia"],["ar-YE","Arabic","Yemen"],["as","Assamese"],["as-IN","Assamese","India"],["az","Azerbaijani"],["az-AZ","Azerbaijani","Azerbaijan"],["be","Belarusian"],["be-BY","Belarusian","Belarus"],["bg","Bulgarian"],["bg-BG","Bulgarian","Bulgaria"],["bm","Bambara"],["bm-ML","Bambara","Mali"],["bn","Bengali"],["bn-BD","Bengali","Bangladesh"],["bn-IN","Bengali","India"],["bo","Tibetan"],["bo-CN","Tibetan","China"],["bo-IN","Tibetan","India"],["br","Breton"],["br-FR","Breton","France"],["bs","Bosnian"],["bs-BA","Bosnian","Bosnia and Herzegovina"],["ca","Catalan"],["ca-AD","Catalan","Andorra"],["ca-ES","Catalan","Spain"],["ca-FR","Catalan","France"],["ca-IT","Catalan","Italy"],["ce","Chechen"],["ce-RU","Chechen","Russia"],["cs","Czech"],["cs-CZ","Czech","Czech Republic"],["cu","Old Slavonic"],["cu-RU","Old Slavonic","Russia"],["cy","Welsh"],["cy-GB","Welsh","United Kingdom"],["da","Danish"],["da-DK","Danish","Denmark"],["da-GL","Danish","Greenland"],["de","German"],["de-AT","German","Austria"],["de-BE","German","Belgium"],["de-CH","German","Switzerland"],["de-DE","German","Germany"],["de-IT","German","Italy"],["de-LI","German","Liechtenstein"],["de-LU","German","Luxembourg"],["dz","Dzongkha"],["dz-BT","Dzongkha","Bhutan"],["ee","Ewe"],["ee-GH","Ewe","Ghana"],["ee-TG","Ewe","Togo"],["el","Greek","Modern (1453-)"],["el-CY","Greek","Cyprus"],["el-GR","Greek","Greece"],["en","English"],["en-AG","English","Antigua and Barbuda"],["en-AI","English","Anguilla"],["en-AS","English","American Samoa"],["en-AT","English","Austria"],["en-AU","English","Australia"],["en-BB","English","Barbados"],["en-BE","English","Belgium"],["en-BI","English","Burundi"],["en-BM","English","Bermuda"],["en-BS","English","Bahamas"],["en-BW","English","Botswana"],["en-BZ","English","Belize"],["en-CA","English","Canada"],["en-CC","English","Cocos (Keeling) Islands"],["en-CH","English","Switzerland"],["en-CK","English","Cook Islands"],["en-CM","English","Cameroon"],["en-CX","English","Christmas Island"],["en-CY","English","Cyprus"],["en-DE","English","Germany"],["en-DG","English"],["en-DK","English","Denmark"],["en-DM","English","Dominica"],["en-ER","English","Eritrea"],["en-FI","English","Finland"],["en-FJ","English","Fiji"],["en-FK","English","Falkland Islands (Islas Malvinas)"],["en-FM","English","Micronesia"],["en-GB","English","United Kingdom"],["en-GD","English","Grenada"],["en-GG","English","Guernsey"],["en-GH","English","Ghana"],["en-GI","English","Gibraltar"],["en-GM","English","Gambia"],["en-GU","English","Guam"],["en-GY","English","Guyana"],["en-HK","English","Hong Kong"],["en-IE","English","Ireland"],["en-IL","English","Israel"],["en-IM","English","Isle of Man"],["en-IN","English","India"],["en-IO","English","British Indian Ocean Territory"],["en-JE","English","Jersey"],["en-JM","English","Jamaica"],["en-KE","English","Kenya"],["en-KI","English","Kiribati"],["en-KN","English","Saint Kitts and Nevis"],["en-KY","English","Cayman Islands"],["en-LC","English","Saint Lucia"],["en-LR","English","Liberia"],["en-LS","English","Lesotho"],["en-MG","English","Madagascar"],["en-MH","English","Marshall Islands"],["en-MO","English","Macau"],["en-MP","English","Northern Mariana Islands"],["en-MS","English","Montserrat"],["en-MT","English","Malta"],["en-MU","English","Mauritius"],["en-MW","English","Malawi"],["en-MY","English","Malaysia"],["en-NA","English","Namibia"],["en-NF","English","Norfolk Island"],["en-NG","English","Nigeria"],["en-NL","English","Netherlands"],["en-NR","English","Nauru"],["en-NU","English","Niue"],["en-NZ","English","New Zealand"],["en-PG","English","Papua New Guinea"],["en-PH","English","Philippines"],["en-PK","English","Pakistan"],["en-PN","English","Pitcairn Islands"],["en-PR","English","Puerto Rico"],["en-PW","English","Palau"],["en-RW","English","Rwanda"],["en-SB","English","Solomon Islands"],["en-SC","English","Seychelles"],["en-SD","English","Sudan"],["en-SE","English","Sweden"],["en-SG","English","Singapore"],["en-SH","English","Saint Helena"],["en-SI","English","Slovenia"],["en-SL","English","Sierra Leone"],["en-SS","English"],["en-SX","English"],["en-SZ","English","Swaziland"],["en-TC","English","Turks and Caicos Islands"],["en-TK","English","Tokelau"],["en-TO","English","Tonga"],["en-TT","English","Trinidad and Tobago"],["en-TV","English","Tuvalu"],["en-TZ","English","Tanzania"],["en-UG","English","Uganda"],["en-UM","English","Baker Island"],["en-US","English","United States"],["en-VC","English","Saint Vincent and the Grenadines"],["en-VG","English","British Virgin Islands"],["en-VI","English","U.S. Virgin Islands"],["en-VU","English","Vanuatu"],["en-WS","English","Samoa"],["en-ZA","English","South Africa"],["en-ZM","English","Zambia"],["en-ZW","English","Zimbabwe"],["eo","Esperanto"],["es","Spanish"],["es-AR","Spanish","Argentina"],["es-BO","Spanish","Bolivia"],["es-BR","Spanish","Brazil"],["es-BZ","Spanish","Belize"],["es-CL","Spanish","Chile"],["es-CO","Spanish","Colombia"],["es-CR","Spanish","Costa Rica"],["es-CU","Spanish","Cuba"],["es-DO","Spanish","Dominican Republic"],["es-EA","Spanish"],["es-EC","Spanish","Ecuador"],["es-ES","Spanish","Spain"],["es-GQ","Spanish","Equatorial Guinea"],["es-GT","Spanish","Guatemala"],["es-HN","Spanish","Honduras"],["es-IC","Spanish"],["es-MX","Spanish","Mexico"],["es-NI","Spanish","Nicaragua"],["es-PA","Spanish","Panama"],["es-PE","Spanish","Peru"],["es-PH","Spanish","Philippines"],["es-PR","Spanish","Puerto Rico"],["es-PY","Spanish","Paraguay"],["es-SV","Spanish","El Salvador"],["es-US","Spanish","United States"],["es-UY","Spanish","Uruguay"],["es-VE","Spanish","Venezuela"],["et","Estonian"],["et-EE","Estonian","Estonia"],["eu","Basque"],["eu-ES","Basque","Spain"],["fa","Persian"],["fa-AF","Persian","Afghanistan"],["fa-IR","Persian","Iran"],["ff","Fulah"],["ff-CM","Fulah","Cameroon"],["ff-GN","Fulah","Guinea"],["ff-MR","Fulah","Mauritania"],["ff-SN","Fulah","Senegal"],["fi","Finnish"],["fi-FI","Finnish","Finland"],["fo","Faroese"],["fo-DK","Faroese","Denmark"],["fo-FO","Faroese","Faroe Islands"],["fr","French"],["fr-BE","French","Belgium"],["fr-BF","French","Burkina Faso"],["fr-BI","French","Burundi"],["fr-BJ","French","Benin"],["fr-BL","French"],["fr-CA","French","Canada"],["fr-CD","French","Congo"],["fr-CF","French","Central African Republic"],["fr-CG","French","Congo"],["fr-CH","French","Switzerland"],["fr-CI","French, Cote d'Ivoire (Ivory Coast)"],["fr-CM","French","Cameroon"],["fr-DJ","French","Djibouti"],["fr-DZ","French","Algeria"],["fr-FR","French","France"],["fr-GA","French","Gabon"],["fr-GF","French","French Guiana"],["fr-GN","French","Guinea"],["fr-GP","French","Saint Barthelemy"],["fr-GQ","French","Equatorial Guinea"],["fr-HT","French","Haiti"],["fr-KM","French","Comoros"],["fr-LU","French","Luxembourg"],["fr-MA","French","Morocco"],["fr-MC","French","Monaco"],["fr-MF","French"],["fr-MG","French","Madagascar"],["fr-ML","French","Mali"],["fr-MQ","French","Martinique"],["fr-MR","French","Mauritania"],["fr-MU","French","Mauritius"],["fr-NC","French","New Caledonia"],["fr-NE","French","Niger"],["fr-PF","French","French Polynesia"],["fr-PM","French","Saint Pierre and Miquelon"],["fr-RE","French","Reunion"],["fr-RW","French","Rwanda"],["fr-SC","French","Seychelles"],["fr-SN","French","Senegal"],["fr-SY","French","Syria"],["fr-TD","French","Chad"],["fr-TG","French","Togo"],["fr-TN","French","Tunisia"],["fr-VU","French","Vanuatu"],["fr-WF","French","Wallis and Futuna"],["fr-YT","French","Mayotte"],["fy","Western Frisian"],["fy-NL","Western Frisian","Netherlands"],["ga","Irish"],["ga-IE","Irish","Ireland"],["gd","Gaelic"],["gd-GB","Gaelic","United Kingdom"],["gl","Galician"],["gl-ES","Galician","Spain"],["gu","Gujarati"],["gu-IN","Gujarati","India"],["gv","Manx"],["gv-IM","Manx","Isle of Man"],["ha","Hausa"],["ha-GH","Hausa","Ghana"],["ha-NE","Hausa","Niger"],["ha-NG","Hausa","Nigeria"],["he","Hebrew"],["he-IL","Hebrew","Israel"],["hi","Hindi"],["hi-IN","Hindi","India"],["hr","Croatian"],["hr-BA","Croatian","Bosnia and Herzegovina"],["hr-HR","Croatian","Croatia"],["hu","Hungarian"],["hu-HU","Hungarian","Hungary"],["hy","Armenian"],["hy-AM","Armenian","Armenia"],["id","Indonesian"],["id-ID","Indonesian","Indonesia"],["ig","Igbo"],["ig-NG","Igbo","Nigeria"],["ii","Sichuan Yi"],["ii-CN","Sichuan Yi","China"],["is","Icelandic"],["is-IS","Icelandic","Iceland"],["it","Italian"],["it-CH","Italian","Switzerland"],["it-IT","Italian","Italy"],["it-SM","Italian","San Marino"],["it-VA","Italian","Vatican City"],["ja","Japanese"],["ja-JP","Japanese","Japan"],["ka","Georgian"],["ka-GE","Georgian","Georgia"],["ki","Kikuyu"],["ki-KE","Kikuyu","Kenya"],["kk","Kazakh"],["kk-KZ","Kazakh","Kazakhstan"],["kl","Kalaallisut"],["kl-GL","Kalaallisut","Greenland"],["km","Central Khmer"],["km-KH","Central Khmer","Cambodia"],["kn","Kannada"],["kn-IN","Kannada","India"],["ko","Korean"],["ko-KP","Korean","Korea"],["ko-KR","Korean","Korea"],["ks","Kashmiri"],["ks-IN","Kashmiri","India"],["kw","Cornish"],["kw-GB","Cornish","United Kingdom"],["ky","Kirghiz"],["ky-KG","Kirghiz","Kyrgyzstan"],["lb","Luxembourgish"],["lb-LU","Luxembourgish","Luxembourg"],["lg","Ganda"],["lg-UG","Ganda","Uganda"],["li","Limburgan"],["ln","Lingala"],["ln-AO","Lingala","Angola"],["ln-CD","Lingala","Congo"],["ln-CF","Lingala","Central African Republic"],["ln-CG","Lingala","Congo"],["lo","Lao"],["lo-LA","Lao","Laos"],["lorem","Lorem-Ipsum"],["lorem-ipsum","Lorem-Ipsum"],["lt","Lithuanian"],["lt-LT","Lithuanian","Lithuania"],["lu","Luba-Katanga"],["lu-CD","Luba-Katanga","Congo"],["lv","Latvian"],["lv-LV","Latvian","Latvia"],["mg","Malagasy"],["mg-MG","Malagasy","Madagascar"],["mk","Macedonian"],["mk-MK","Macedonian","Macedonia"],["ml","Malayalam"],["ml-IN","Malayalam","India"],["mn","Mongolian"],["mn-MN","Mongolian","Mongolia"],["mr","Marathi"],["mr-IN","Marathi","India"],["ms","Malay"],["ms-BN","Malay","Brunei"],["ms-MY","Malay","Malaysia"],["ms-SG","Malay","Singapore"],["mt","Maltese"],["mt-MT","Maltese","Malta"],["my","Burmese"],["my-MM","Burmese","Myanmar (Burma)"],["nb","Bokm\xE5l Norwegian"],["nb-NO","Bokm\xE5l Norwegian","Norway"],["nb-SJ","Bokm\xE5l Norwegian","Svalbard"],["nd","Ndebele, North"],["nd-ZW","Ndebele, North","Zimbabwe"],["ne","Nepali"],["ne-IN","Nepali","India"],["ne-NP","Nepali","Nepal"],["nl","Dutch"],["nl-AW","Dutch","Aruba"],["nl-BE","Dutch","Belgium"],["nl-BQ","Dutch"],["nl-CW","Dutch"],["nl-NL","Dutch","Netherlands"],["nl-SR","Dutch","Suriname"],["nl-SX","Dutch"],["nn","Norwegian Nynorsk"],["nn-NO","Norwegian Nynorsk","Norway"],["om","Oromo"],["om-ET","Oromo","Ethiopia"],["om-KE","Oromo","Kenya"],["or","Oriya"],["or-IN","Oriya","India"],["os","Ossetian"],["os-GE","Ossetian","Georgia"],["os-RU","Ossetian","Russia"],["pa","Panjabi"],["pa-IN","Panjabi","India"],["pa-PK","Panjabi","Pakistan"],["pl","Polish"],["pl-PL","Polish","Poland"],["ps","Pushto"],["ps-AF","Pushto","Afghanistan"],["pt","Portuguese"],["pt-AO","Portuguese","Angola"],["pt-BR","Portuguese","Brazil"],["pt-CH","Portuguese","Switzerland"],["pt-CV","Portuguese","Cape Verde"],["pt-GQ","Portuguese","Equatorial Guinea"],["pt-GW","Portuguese","Guinea-Bissau"],["pt-LU","Portuguese","Luxembourg"],["pt-MO","Portuguese","Macau"],["pt-MZ","Portuguese","Mozambique"],["pt-PT","Portuguese","Portugal"],["pt-ST","Portuguese","Sao Tome and Principe"],["pt-TL","Portuguese","Timor-Leste (East Timor)"],["qu","Quechua"],["qu-BO","Quechua","Bolivia"],["qu-EC","Quechua","Ecuador"],["qu-PE","Quechua","Peru"],["rm","Romansh"],["rm-CH","Romansh","Switzerland"],["rn","Rundi"],["rn-BI","Rundi","Burundi"],["ro","Romanian"],["ro-MD","Romanian","Moldova"],["ro-RO","Romanian","Romania"],["ru","Russian"],["ru-BY","Russian","Belarus"],["ru-KG","Russian","Kyrgyzstan"],["ru-KZ","Russian","Kazakhstan"],["ru-MD","Russian","Moldova"],["ru-RU","Russian","Russia"],["ru-UA","Russian","Ukraine"],["rw","Kinyarwanda"],["rw-RW","Kinyarwanda","Rwanda"],["se","Northern Sami"],["se-FI","Northern Sami","Finland"],["se-NO","Northern Sami","Norway"],["se-SE","Northern Sami","Sweden"],["sg","Sango"],["sg-CF","Sango","Central African Republic"],["si","Sinhala"],["si-LK","Sinhala","Sri Lanka"],["sk","Slovak"],["sk-SK","Slovak","Slovakia"],["sl","Slovenian"],["sl-SI","Slovenian","Slovenia"],["sn","Shona"],["sn-ZW","Shona","Zimbabwe"],["so","Somali"],["so-DJ","Somali","Djibouti"],["so-ET","Somali","Ethiopia"],["so-KE","Somali","Kenya"],["so-SO","Somali","Somalia"],["sq","Albanian"],["sq-AL","Albanian","Albania"],["sq-MK","Albanian","Macedonia"],["sq-XK","Albanian"],["sr","Serbian"],["sr-BA","Serbian","Bosnia and Herzegovina"],["sr-ME","Serbian","Montenegro"],["sr-RS","Serbian","Serbia"],["sr-XK","Serbian"],["sv","Swedish"],["sv-AX","Swedish","Aland"],["sv-FI","Swedish","Finland"],["sv-SE","Swedish","Sweden"],["sw","Swahili"],["sw-CD","Swahili","Congo"],["sw-KE","Swahili","Kenya"],["sw-TZ","Swahili","Tanzania"],["sw-UG","Swahili","Uganda"],["ta","Tamil"],["ta-IN","Tamil","India"],["ta-LK","Tamil","Sri Lanka"],["ta-MY","Tamil","Malaysia"],["ta-SG","Tamil","Singapore"],["te","Telugu"],["te-IN","Telugu","India"],["th","Thai"],["th-TH","Thai","Thailand"],["ti","Tigrinya"],["ti-ER","Tigrinya","Eritrea"],["ti-ET","Tigrinya","Ethiopia"],["tk","Turkmen"],["tk-TM","Turkmen","Turkmenistan"],["to","Tonga (Tonga Islands)"],["to-TO","Tonga (Tonga Islands)","Tonga"],["tr","Turkish"],["tr-CY","Turkish","Cyprus"],["tr-TR","Turkish","Turkey"],["ug","Uighur"],["ug-CN","Uighur","China"],["uk","Ukrainian"],["uk-UA","Ukrainian","Ukraine"],["ur","Urdu"],["ur-IN","Urdu","India"],["ur-PK","Urdu","Pakistan"],["uz","Uzbek"],["uz-AF","Uzbek","Afghanistan"],["uz-UZ","Uzbek","Uzbekistan"],["vi","Vietnamese"],["vi-VN","Vietnamese","Vietnam"],["vo","Volap\xFCk"],["yi","Yiddish"],["yi-1","Yiddish"],["yo","Yoruba"],["yo-BJ","Yoruba","Benin"],["yo-NG","Yoruba","Nigeria"],["zh","Chinese"],["zh-CN","Chinese","China"],["zh-HK","Chinese","Hong Kong"],["zh-MO","Chinese","Macau"],["zh-SG","Chinese","Singapore"],["zh-TW","Chinese","China"],["zu","Zulu"],["zu-ZA","Zulu","South Africa"]]});var PM=F(Vh=>{"use strict";Object.defineProperty(Vh,"__esModule",{value:!0});Vh.scriptCodes=void 0;var o5=`Code	ISO formal name
Adlm	Adlam
Afak	Afaka
Aghb	Caucasian Albanian
Ahom	Ahom, Tai Ahom
Arab	Arabic
Aran	Arabic (Nastaliq variant)
Armi	Imperial Aramaic
Armn	Armenian
Avst	Avestan
Bali	Balinese
Bamu	Bamum
Bass	Bassa Vah
Batk	Batak
Beng	Bengali (Bangla)
Bhks	Bhaiksuki
Blis	Blissymbols
Bopo	Bopomofo
Brah	Brahmi
Brai	Braille
Bugi	Buginese
Buhd	Buhid
Cakm	Chakma
Cans	Unified Canadian Aboriginal Syllabics
Cari	Carian
Cham	Cham
Cher	Cherokee
Chrs	Chorasmian
Cirt	Cirth
Copt	Coptic
Cpmn	Cypro-Minoan
Cprt	Cypriot syllabary
Cyrl	Cyrillic
Cyrs	Cyrillic (Old Church Slavonic variant)
Deva	Devanagari (Nagari)
Diak	Dives Akuru
Dogr	Dogra
Dsrt	Deseret (Mormon)
Dupl	Duployan shorthand, Duployan stenography
Egyd	Egyptian demotic
Egyh	Egyptian hieratic
Egyp	Egyptian hieroglyphs
Elba	Elbasan
Elym	Elymaic
Ethi	Ethiopic (Ge\u02BBez)
Geok	Khutsuri (Asomtavruli and Nuskhuri)
Geor	Georgian (Mkhedruli and Mtavruli)
Glag	Glagolitic
Gong	Gunjala Gondi
Gonm	Masaram Gondi
Goth	Gothic
Gran	Grantha
Grek	Greek
Gujr	Gujarati
Guru	Gurmukhi
Hanb	Han with Bopomofo (alias for Han + Bopomofo)
Hang	Hangul (Hang\u016Dl, Hangeul)
Hani	Han (Hanzi, Kanji, Hanja)
Hano	Hanunoo (Hanun\xF3o)
Hans	Han (Simplified variant)
Hant	Han (Traditional variant)
Hatr	Hatran
Hebr	Hebrew
Hira	Hiragana
Hluw	Anatolian Hieroglyphs (Luwian Hieroglyphs, Hittite Hieroglyphs)
Hmng	Pahawh Hmong
Hmnp	Nyiakeng Puachue Hmong
Hrkt	Japanese syllabaries (alias for Hiragana + Katakana)
Hung	Old Hungarian (Hungarian Runic)
Inds	Indus (Harappan)
Ital	Old Italic (Etruscan, Oscan, etc.)
Jamo	Jamo (alias for Jamo subset of Hangul)
Java	Javanese
Jpan	Japanese (alias for Han + Hiragana + Katakana)
Jurc	Jurchen
Kali	Kayah Li
Kana	Katakana
Kawi	Kawi
Khar	Kharoshthi
Khmr	Khmer
Khoj	Khojki
Kitl	Khitan large script
Kits	Khitan small script
Knda	Kannada
Kore	Korean (alias for Hangul + Han)
Kpel	Kpelle
Kthi	Kaithi
Lana	Tai Tham (Lanna)
Laoo	Lao
Latf	Latin (Fraktur variant)
Latg	Latin (Gaelic variant)
Latn	Latin
Leke	Leke
Lepc	Lepcha (R\xF3ng)
Limb	Limbu
Lina	Linear A
Linb	Linear B
Lisu	Lisu (Fraser)
Loma	Loma
Lyci	Lycian
Lydi	Lydian
Mahj	Mahajani
Maka	Makasar
Mand	Mandaic, Mandaean
Mani	Manichaean
Marc	Marchen
Maya	Mayan hieroglyphs
Medf	Medefaidrin (Oberi Okaime, Oberi \u0186kaim\u025B)
Mend	Mende Kikakui
Merc	Meroitic Cursive
Mero	Meroitic Hieroglyphs
Mlym	Malayalam
Modi	Modi, Mo\u1E0D\u012B
Mong	Mongolian
Moon	Moon (Moon code, Moon script, Moon type)
Mroo	Mro, Mru
Mtei	Meitei Mayek (Meithei, Meetei)
Mult	Multani
Mymr	Myanmar (Burmese)
Nagm	Nag Mundari
Nand	Nandinagari
Narb	Old North Arabian (Ancient North Arabian)
Nbat	Nabataean
Newa	Newa, Newar, Newari, Nep\u0101la lipi
Nkdb	Naxi Dongba (na\xB2\xB9\u0255i\xB3\xB3 to\xB3\xB3ba\xB2\xB9, Nakhi Tomba)
Nkgb	Nakhi Geba (na\xB2\xB9\u0255i\xB3\xB3 g\u028C\xB2\xB9ba\xB2\xB9, 'Na-'Khi \xB2Gg\u014F-\xB9baw, Nakhi Geba)
Nkoo	N\u2019Ko
Nshu	N\xFCshu
Ogam	Ogham
Olck	Ol Chiki (Ol Cemet\u2019, Ol, Santali)
Orkh	Old Turkic, Orkhon Runic
Orya	Oriya (Odia)
Osge	Osage
Osma	Osmanya
Ougr	Old Uyghur
Palm	Palmyrene
Pauc	Pau Cin Hau
Pcun	Proto-Cuneiform
Pelm	Proto-Elamite
Perm	Old Permic
Phag	Phags-pa
Phli	Inscriptional Pahlavi
Phlp	Psalter Pahlavi
Phlv	Book Pahlavi
Phnx	Phoenician
Piqd	Klingon (KLI pIqaD)
Plrd	Miao (Pollard)
Prti	Inscriptional Parthian
Psin	Proto-Sinaitic
Qaaa-Qabx	Reserved for private use (range)
Ranj	Ranjana
Rjng	Rejang (Redjang, Kaganga)
Rohg	Hanifi Rohingya
Roro	Rongorongo
Runr	Runic
Samr	Samaritan
Sara	Sarati
Sarb	Old South Arabian
Saur	Saurashtra
Sgnw	SignWriting
Shaw	Shavian (Shaw)
Shrd	Sharada, \u015A\u0101rad\u0101
Shui	Shuishu
Sidd	Siddham, Siddha\u1E43, Siddham\u0101t\u1E5Bk\u0101
Sind	Khudawadi, Sindhi
Sinh	Sinhala
Sogd	Sogdian
Sogo	Old Sogdian
Sora	Sora Sompeng
Soyo	Soyombo
Sund	Sundanese
Sunu	Sunuwar
Sylo	Syloti Nagri
Syrc	Syriac
Syre	Syriac (Estrangelo variant)
Syrj	Syriac (Western variant)
Syrn	Syriac (Eastern variant)
Tagb	Tagbanwa
Takr	Takri, \u1E6C\u0101kr\u012B, \u1E6C\u0101\u1E45kr\u012B
Tale	Tai Le
Talu	New Tai Lue
Taml	Tamil
Tang	Tangut
Tavt	Tai Viet
Telu	Telugu
Teng	Tengwar
Tfng	Tifinagh (Berber)
Tglg	Tagalog (Baybayin, Alibata)
Thaa	Thaana
Thai	Thai
Tibt	Tibetan
Tirh	Tirhuta
Tnsa	Tangsa
Toto	Toto
Ugar	Ugaritic
Vaii	Vai
Visp	Visible Speech
Vith	Vithkuqi
Wara	Warang Citi (Varang Kshiti)
Wcho	Wancho
Wole	Woleai
Xpeo	Old Persian
Xsux	Cuneiform, Sumero-Akkadian
Yezi	Yezidi
Yiii	Yi
Zanb	Zanabazar Square (Zanabazarin D\xF6rb\xF6ljin Useg, Xewtee D\xF6rb\xF6ljin Bicig, Horizontal Square Script)
Zinh	Code for inherited script
Zmth	Mathematical notation
Zsym	Symbols
Zsye	Symbols (emoji variant)
Zxxx	Code for unwritten documents
Zyyy	Code for undetermined script
Zzzz	Code for uncoded script
`;Vh.scriptCodes=o5.split(`
`).map(t=>t.split("	"))});var LM=F(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.normalizeCode=h5;cr.isValidCode=g5;cr.lookupLocaleInfo=IM;cr.getLangInfo=_M;cr.getCountryInfo=NM;cr.getScriptInfo=OM;cr.parseLocale=yw;cr.formatLocale=Cw;cr.formatLangAndLocale=C5;var a5=FM(),RM=PM(),AM=/^(?<lang>[a-z]{2})(?:[-_]?(?<script>[a-z]{4}))?[-_]?(?<locale>[a-z0-9]{0,2})$/i,gw=new Map(a5.codes.map(t=>{let[e,n,i=""]=t,r=e.match(AM)?.groups?.locale||"",s={code:e,language:n,country:i,locale:r,lang:e.replace(/-.*/,"")};return[e,s]})),mw=new Map([...gw.values()].map(({lang:t,language:e})=>[t,{lang:t,language:e}]));mw.set("lorem",{lang:"lorem",language:"Lorem-Ipsum"});mw.set("lorem-ipsum",{lang:"lorem-ipsum",language:"Lorem-Ipsum"});var c5=new Map([...gw.values()].map(({locale:t,country:e})=>[t,{locale:t,country:e}])),u5=new Map(RM.scriptCodes.map(([t,e])=>[t,{script:t,scriptName:e}])),l5=new Map(RM.scriptCodes.map(([t])=>[t.toLowerCase(),t])),d5=Object.freeze({lang:"lorem",locale:"",script:""}),f5=Object.freeze({lang:"lorem-ipsum",locale:"",script:""}),p5=/^lorem(?:[-_]?ipsum)?$/i;function h5(t,e=!1){let n=yw(t);return n?Cw(n):e?void 0:t}function g5(t){return gw.has(t)||!!IM(t)}function IM(t){let e=yw(t);if(!e)return;let n=_M(e.lang),i=e.script?OM(e.script):{},r=e.locale?NM(e.locale):{locale:"",country:""};return n!==void 0&&i!==void 0&&r!==void 0&&{...n,...i,...r,code:Cw(e)}||void 0}function _M(t){return mw.get(t.toLowerCase())}function NM(t){return c5.get(t.toUpperCase())}function OM(t){let e=l5.get(t.toLowerCase());return e&&u5.get(e)||void 0}function m5(t){let e=t.slice(0,1),n=t.slice(1);return e.toUpperCase()+n.toLowerCase()}function yw(t){t=t.trim();let e=t.match(AM);if(!e)return y5(t);let{lang:n="",script:i="",locale:r=""}=e.groups||{};return{lang:n.toLowerCase(),script:m5(i),locale:r.toUpperCase()}}function y5(t){return t.toLowerCase()==="lorem"?d5:p5.test(t)?f5:void 0}function Cw({lang:t,locale:e,script:n}){return t+(n&&"-"+n)+(e&&"-"+e)}function C5({lang:t,locale:e}){return t+(e&&"-"+e)}});var MM=F(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.parseLocale=Hi.normalizeCode=Hi.lookupLocaleInfo=Hi.isValidCode=Hi.formatLocale=void 0;var Fl=LM();Object.defineProperty(Hi,"formatLocale",{enumerable:!0,get:function(){return Fl.formatLocale}});Object.defineProperty(Hi,"isValidCode",{enumerable:!0,get:function(){return Fl.isValidCode}});Object.defineProperty(Hi,"lookupLocaleInfo",{enumerable:!0,get:function(){return Fl.lookupLocaleInfo}});Object.defineProperty(Hi,"normalizeCode",{enumerable:!0,get:function(){return Fl.normalizeCode}});Object.defineProperty(Hi,"parseLocale",{enumerable:!0,get:function(){return Fl.parseLocale}})});var yU=F((Gpe,mU)=>{"use strict";mU.exports=function(t){return typeof t=="string"?gU(t):Hx(t)};function Hx(t){return!t||typeof t!="object"||pY(t)||hY(t)?t:fY(t)?yY(t,Hx):CY(mY(t),function(e,n){var i=gU(n);return e[i]=Hx(t[n]),e},{})}function gU(t){return t.replace(/[_.-](\w|$)/g,function(e,n){return n.toUpperCase()})}var fY=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"},pY=function(t){return Object.prototype.toString.call(t)==="[object Date]"},hY=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},gY=Object.prototype.hasOwnProperty,mY=Object.keys||function(t){var e=[];for(var n in t)gY.call(t,n)&&e.push(n);return e};function yY(t,e){if(t.map)return t.map(e);for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i));return n}function CY(t,e,n){if(t.reduce)return t.reduce(e,n);for(var i=0;i<t.length;i++)n=e(n,t[i],i);return n}});var ZU=F((jhe,o0)=>{"use strict";var yQ=function(){function t(e,n){var i=[],r=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),c;!(r=(c=a.next()).done)&&(i.push(c.value),!(n&&i.length===n));r=!0);}catch(u){s=!0,o=u}finally{try{!r&&a.return&&a.return()}finally{if(s)throw o}}return i}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Zg="[\x1B\x9B][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]",QU="\0-\b\v-\x1B\x9B\xAD\u200B\u2028\u2029\uFEFF\uFE00-\uFE0F",s0=`
`+QU,CQ=new RegExp("(?:"+Zg+")|["+QU+"]","g"),i0=new RegExp("(?:"+Zg+")|["+s0+"]","g"),r0=new RegExp("((?:"+Zg+")|[	"+s0+"])?([^	"+s0+"]*)","g");o0.exports={zeroWidthCharacters:i0,ansiEscapeCodes:new RegExp(Zg,"g"),strlen:t=>Array.from(t.replace(i0,"")).length,isBlank:t=>t.replace(i0,"").replace(/\s/g,"").length===0,blank:t=>Array.from(t.replace(CQ,"")).map(e=>e==="	"||e===`
`?e:" ").join(""),partition(t){for(var e,n=[];r0.lastIndex!==t.length&&(e=r0.exec(t));)n.push([e[1]||"",e[2]]);return r0.lastIndex=0,n},first(t,e){let n="",i=0;for(let s of o0.exports.partition(t)){var r=yQ(s,2);let o=r[0],a=r[1],c=Array.from(a).slice(0,e-i);n+=o+c.join(""),i+=c.length}return n}}});var r2=F((Bhe,i2)=>{"use strict";function Ec(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var em=Object,t2=ZU(),vQ=t2.first,tm=t2.strlen,SQ=(t,e)=>vQ(t,e-1)+"\u2026",e2=(t,e)=>{let n=(d,h)=>d.reduce((m,C)=>C.map((D,w)=>[].concat(Ec(m[w]||[]),[D])),[]).map(m=>h.apply(void 0,Ec(m))),i=t.map(d=>d.map(h=>h.replace(/\n/g,"\\n"))),r=i.map(d=>d.map(tm)),s=n(r,Math.max),o=em.assign({delimiter:"  ",minColumnWidths:s.map(d=>0),maxTotalWidth:0},e),a=tm(o.delimiter),c=s.reduce((d,h)=>d+h,0),u=s.map(d=>d/c),f=o.maxTotalWidth-a*(s.length-1),g=Math.max(0,c-f),p=n([o.minColumnWidths,s,u],(d,h,m)=>Math.max(d,Math.floor(h-g*m))),l=r.map(d=>n([p,d],(h,m)=>h-m));return n([i,l],(d,h)=>n([d,h],(m,C)=>C>=0?o.right?" ".repeat(C)+m:m+" ".repeat(C):SQ(m,tm(m)+C)).join(o.delimiter))},n2=t=>em.assign(e=>{var n;if(e[0]&&Array.isArray(e[0]))return e2(e.map(o=>o.map((a,c)=>a===void 0?"":t.print(a,c))),t).join(`
`);let i=[].concat(Ec(new Set((n=[]).concat.apply(n,Ec(e.map(em.keys)))))),r=[i.map(t.title)].concat(Ec(e.map(o=>i.map(a=>o[a]===void 0?"":t.print(o[a],a))))),s=e2(r,t);return(t.dash?[s[0],t.dash.repeat(tm(s[0]))].concat(Ec(s.slice(1))):s).join(`
`)},t,{configure:e=>n2(em.assign({},t,e))});i2.exports=n2({maxTotalWidth:Number.MAX_SAFE_INTEGER,print:String,title:String,dash:"-",right:!1})});var m0=F(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.symbolIsDisposed=ut.symbolDisposableTs=ut.symbolDisposableName=void 0;ut.createDisposable=kc;ut.injectDisposable=LQ;ut.createDisposableFromList=MQ;ut.createDisposeMethodFromList=S2;ut.disposeOf=b2;ut.makeDisposable=qQ;ut.setDisposableName=UQ;ut.getDisposableName=D2;ut.getDisposableTs=T2;ut.isDisposed=jQ;ut.setLogger=BQ;ut.isDisposableHybrid=w2;Symbol.dispose??=Symbol("Symbol.dispose");ut.symbolDisposableName=Symbol("Disposable Name");ut.symbolDisposableTs=Symbol("Disposable Timestamp");ut.symbolIsDisposed=Symbol("Disposable Is Disposed");var gr,ed=0,Zl=0;function kc(t,e,n){let i=!1,r=!1,s={dispose:o,[Symbol.dispose]:o,[ut.symbolDisposableTs]:performance.now(),[ut.symbolDisposableName]:n||void 0,[ut.symbolIsDisposed]:!1};return++Zl,gr?.debug(Fc()+"Created: %s, active: %i",rm(s),Zl),s;function o(){try{if(gr?.debug(Fc()+"Dispose Start -> %s Active %i",rm(s),Zl),++ed,i){s[ut.symbolIsDisposed]=!0,gr?.warn("Already disposed %s",rm(s));return}--Zl,s[ut.symbolIsDisposed]=i=!0,e?t.call(e):t()}catch(a){throw r=!0,a}finally{--ed,gr?.debug(Fc()+"Dispose End   -> %s Active %i%s",rm(s),Zl,r?" ** with errors ** ":"")}}}function rm(t){let e=D2(t)||"",n=T2(t)?.toFixed(4);return e+" "+n}function LQ(t,e,n){return Object.assign(t,kc(e,t,n))}function MQ(t,e="createDisposableFromList"){return kc(S2(t),void 0,e)}function S2(t,e=""){let n=!1,i=performance.now().toFixed(4);gr&&(e="createDisposeMethodFromList "+(e||"<anonymous>")),gr?.debug(Fc()+"Create: %s %s",e,i);let r=0;function s(){try{gr?.debug(Fc()+"Dispose Start -> %s %s",e,i),++ed;let o;if(n&&(gr?.warn("Already disposed %s with %o open.",e,t.length),!t.length))return;n=!0;let a;for(;a=t.pop();)try{b2(a)}catch(c){++r,o??=c}if(o)throw gr?.warn(o),o}finally{--ed,gr?.debug(Fc()+"Dispose End   -> %s %s%s",e,i,r?` *** with ${r} errors ***`:"")}}return s}function b2(t){if(!t)return;if(typeof t=="function"){t();return}let e=t;if(typeof e[Symbol.dispose]=="function"){e[Symbol.dispose].call(t);return}e.dispose.call(t)}function qQ(t,e="makeDisposable"){return w2(t)?t:Symbol.dispose in t?kc(t[Symbol.dispose],t,e):"dispose"in t?kc(t.dispose,t,e):kc(t,void 0,e)}function UQ(t,e){return t[ut.symbolDisposableName]=e,t}function D2(t){return t[ut.symbolDisposableName]}function T2(t){return t[ut.symbolDisposableTs]}function jQ(t){return t[ut.symbolIsDisposed]}function BQ(t){gr=t}function w2(t){return!t||typeof t!="object"?!1:ut.symbolIsDisposed in t}function Fc(){return" ".repeat(ed)}});var x2=F(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.DisposableList=Mr.InheritableDisposable=Mr.noop=void 0;Mr.createDisposableList=KQ;var sm=m0(),WQ=()=>{};Mr.noop=WQ;var om=class{dispose;[Symbol.dispose]=Mr.noop;[sm.symbolIsDisposed]=!1;_disposables;constructor(e,n="InheritableDisposable"){this._disposables=e??[];let i=(0,sm.createDisposeMethodFromList)(this._disposables,n),r=()=>{this.isDisposed()||(this[sm.symbolIsDisposed]=!0,i(),Object.freeze(this._disposables))};this.dispose=r,this[Symbol.dispose]=r}isDisposed(){return this[sm.symbolIsDisposed]}};Mr.InheritableDisposable=om;var am=class extends om{disposables;name;#e;constructor(e=[],n="DisposableList"){super(e),this.disposables=e,this.name=n,this.#e=new WeakSet(e)}push(...e){if(this.isDisposed())throw new Error("Already disposed, cannot add items.");let n=0;for(let i of e)this.add(i)&&n++;return n}add(e){return!e||this.#e.has(e)?!1:(this.#e.add(e),this.disposables.push(e),!0)}delete(e){if(!e)return!0;this.#e.delete(e);let n=this.disposables.indexOf(e);return n<0?!1:(this.disposables.splice(n,1),!0)}get length(){return this.disposables.length}isDisposed(){return super.isDisposed()}has(e){return e?this.#e.has(e):!1}};Mr.DisposableList=am;function KQ(t,e){return new am(t,e)}});var E2=F(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.InheritableDisposable=Rt.DisposableList=Rt.createDisposableList=Rt.setLogger=Rt.makeDisposable=Rt.injectDisposable=Rt.getDisposableTs=Rt.disposeOf=Rt.createDisposeMethodFromList=Rt.createDisposableFromList=Rt.createDisposable=void 0;var Ys=m0();Object.defineProperty(Rt,"createDisposable",{enumerable:!0,get:function(){return Ys.createDisposable}});Object.defineProperty(Rt,"createDisposableFromList",{enumerable:!0,get:function(){return Ys.createDisposableFromList}});Object.defineProperty(Rt,"createDisposeMethodFromList",{enumerable:!0,get:function(){return Ys.createDisposeMethodFromList}});Object.defineProperty(Rt,"disposeOf",{enumerable:!0,get:function(){return Ys.disposeOf}});Object.defineProperty(Rt,"getDisposableTs",{enumerable:!0,get:function(){return Ys.getDisposableTs}});Object.defineProperty(Rt,"injectDisposable",{enumerable:!0,get:function(){return Ys.injectDisposable}});Object.defineProperty(Rt,"makeDisposable",{enumerable:!0,get:function(){return Ys.makeDisposable}});Object.defineProperty(Rt,"setLogger",{enumerable:!0,get:function(){return Ys.setLogger}});var y0=x2();Object.defineProperty(Rt,"createDisposableList",{enumerable:!0,get:function(){return y0.createDisposableList}});Object.defineProperty(Rt,"DisposableList",{enumerable:!0,get:function(){return y0.DisposableList}});Object.defineProperty(Rt,"InheritableDisposable",{enumerable:!0,get:function(){return y0.InheritableDisposable}})});var N2=F(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.defaultApiPrefix=void 0;Qs.createServerApi=$Q;Qs.createClientApi=VQ;var Pc=E2();Qs.defaultApiPrefix={serverRequests:"sr_",serverNotifications:"sn_",clientRequests:"cr_",clientNotifications:"cn_"};function $Q(t,e,n,i=Qs.defaultApiPrefix){let r=[],s=A2(e.serverRequests,n),o=I2(e.serverNotifications,n);k2(t,i.serverRequests,s,r,n),F2(t,i.serverNotifications,o,r,n);let a=P2(t,i.clientRequests,e.clientRequests,n),c=R2(t,i.clientNotifications,e.clientNotifications,n);return(0,Pc.injectDisposable)({clientRequest:a,clientNotification:c,serverRequest:s,serverNotification:o},(0,Pc.createDisposeMethodFromList)(r))}function VQ(t,e,n,i=Qs.defaultApiPrefix){let r=[],s=A2(e.clientRequests,n),o=I2(e.clientNotifications,n);k2(t,i.clientRequests,s,r,n),F2(t,i.clientNotifications,o,r,n);let a=P2(t,i.serverRequests,e.serverRequests,n),c=R2(t,i.serverNotifications,e.serverNotifications,n);return(0,Pc.injectDisposable)({serverRequest:a,serverNotification:c,clientRequest:s,clientNotification:o},(0,Pc.createDisposeMethodFromList)(r))}function k2(t,e,n,i,r){for(let[s,o]of Object.entries(n)){if(r?.log("bindRequest %o",{name:s,fn:typeof o}),!o)continue;let a=o,c=e+s;i.push(t.onRequest(c,u=>(r?.log(`handle request "${s}" %o`,u),a.publish(...u))))}}function F2(t,e,n,i,r){for(let[s,o]of Object.entries(n)){if(r?.log("bindNotifications %o",{name:s,fn:typeof o}),!o)continue;let a=e+s,c=o;i.push(t.onNotification(a,u=>(r?.log(`handle notification "${s}" %o`,u),c.publish(...u))))}}function P2(t,e,n,i){let r=1;return Object.fromEntries(Object.entries(n).map(([s])=>{let o=e+s;return[s,(...c)=>{let u=++r;return i?.log(`send request "${s}" %o: Params: %o`,u,c),t.sendRequest(o,c).then(f=>(i?.log(`send request "${s}" %o: Response: %o`,u,f),f))}]}))}function R2(t,e,n,i){return Object.fromEntries(Object.entries(n).map(([r])=>{let s=e+r;return[r,(...a)=>(i?.log(`send notification "${r}" %o`,a),t.sendNotification(s,a))]}))}function A2(t,e){function n([i,r]){if(!r)return;let s=zQ(i,e);return typeof r=="function"&&s.subscribe(r),[i,s]}return Object.fromEntries(Object.entries(t).map(n).filter(_2))}function I2(t,e){function n([i,r]){if(!r)return;let s=HQ(i,e);return typeof r=="function"&&s.subscribe(r),[i,s]}return Object.fromEntries(Object.entries(t).map(n).filter(_2))}function HQ(t,e){let n=new Set;async function i(...s){for(let o of n)e?.log(`notify ${t} %s`,typeof o),await o(...arguments)}function r(s){return e?.log(`subscribe to ${t} %s`,typeof s),n.add(s),(0,Pc.createDisposable)(()=>n.delete(s))}return{publish:i,subscribe:r}}function zQ(t,e){let n;async function i(...s){return e?.log(`notify ${t} %o`,n),await n?.(...arguments)}function r(s){return n=s,e?.log(`subscribe to ${t} %s`,typeof s),(0,Pc.createDisposable)(()=>{n===s&&(n=void 0)})}return{publish:i,subscribe:r}}function _2(t){return t!==void 0}});var L2=F(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.createServerApi=Rc.createClientApi=void 0;var O2=N2();Object.defineProperty(Rc,"createClientApi",{enumerable:!0,get:function(){return O2.createClientApi}});Object.defineProperty(Rc,"createServerApi",{enumerable:!0,get:function(){return O2.createServerApi}})});var q2=F(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.createServerSideSpellInfoWebviewApi=GQ;cm.createClientSideSpellInfoWebviewApi=JQ;var M2=L2();function GQ(t,e,n){return(0,M2.createServerApi)(t,e,n)}function JQ(t,e,n){return(0,M2.createClientApi)(t,e,n)}});var U2=F(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.supportedViewsByName=ta.namedViews=void 0;ta.namedViews=["todo","hello-world","cspell-info"];ta.supportedViewsByName=Object.freeze(Object.fromEntries(ta.namedViews.map(t=>[t,t])))});var td=F(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.supportedViewsByName=Zs.createServerSideSpellInfoWebviewApi=Zs.createClientSideSpellInfoWebviewApi=void 0;var j2=q2();Object.defineProperty(Zs,"createClientSideSpellInfoWebviewApi",{enumerable:!0,get:function(){return j2.createClientSideSpellInfoWebviewApi}});Object.defineProperty(Zs,"createServerSideSpellInfoWebviewApi",{enumerable:!0,get:function(){return j2.createServerSideSpellInfoWebviewApi}});var XQ=U2();Object.defineProperty(Zs,"supportedViewsByName",{enumerable:!0,get:function(){return XQ.supportedViewsByName}})});var Q2=F((Nge,Y2)=>{"use strict";Y2.exports=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,r,s;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(r=i;r--!==0;)if(!t(e[r],n[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(n).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[r]))return!1;for(r=i;r--!==0;){var o=s[r];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}});var Ic=F(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.stringArray=Ln.array=Ln.func=Ln.error=Ln.number=Ln.string=Ln.boolean=void 0;function EZ(t){return t===!0||t===!1}Ln.boolean=EZ;function aj(t){return typeof t=="string"||t instanceof String}Ln.string=aj;function kZ(t){return typeof t=="number"||t instanceof Number}Ln.number=kZ;function FZ(t){return t instanceof Error}Ln.error=FZ;function PZ(t){return typeof t=="function"}Ln.func=PZ;function cj(t){return Array.isArray(t)}Ln.array=cj;function RZ(t){return cj(t)&&t.every(e=>aj(e))}Ln.stringArray=RZ});var Q0=F(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.Message=Ce.NotificationType9=Ce.NotificationType8=Ce.NotificationType7=Ce.NotificationType6=Ce.NotificationType5=Ce.NotificationType4=Ce.NotificationType3=Ce.NotificationType2=Ce.NotificationType1=Ce.NotificationType0=Ce.NotificationType=Ce.RequestType9=Ce.RequestType8=Ce.RequestType7=Ce.RequestType6=Ce.RequestType5=Ce.RequestType4=Ce.RequestType3=Ce.RequestType2=Ce.RequestType1=Ce.RequestType=Ce.RequestType0=Ce.AbstractMessageSignature=Ce.ParameterStructures=Ce.ResponseError=Ce.ErrorCodes=void 0;var ia=Ic(),F0;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(F0||(Ce.ErrorCodes=F0={}));var P0=class t extends Error{constructor(e,n,i){super(n),this.code=ia.number(e)?e:F0.UnknownErrorCode,this.data=i,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};Ce.ResponseError=P0;var fi=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};Ce.ParameterStructures=fi;fi.auto=new fi("auto");fi.byPosition=new fi("byPosition");fi.byName=new fi("byName");var vt=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return fi.auto}};Ce.AbstractMessageSignature=vt;var R0=class extends vt{constructor(e){super(e,0)}};Ce.RequestType0=R0;var A0=class extends vt{constructor(e,n=fi.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Ce.RequestType=A0;var I0=class extends vt{constructor(e,n=fi.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Ce.RequestType1=I0;var _0=class extends vt{constructor(e){super(e,2)}};Ce.RequestType2=_0;var N0=class extends vt{constructor(e){super(e,3)}};Ce.RequestType3=N0;var O0=class extends vt{constructor(e){super(e,4)}};Ce.RequestType4=O0;var L0=class extends vt{constructor(e){super(e,5)}};Ce.RequestType5=L0;var M0=class extends vt{constructor(e){super(e,6)}};Ce.RequestType6=M0;var q0=class extends vt{constructor(e){super(e,7)}};Ce.RequestType7=q0;var U0=class extends vt{constructor(e){super(e,8)}};Ce.RequestType8=U0;var j0=class extends vt{constructor(e){super(e,9)}};Ce.RequestType9=j0;var B0=class extends vt{constructor(e,n=fi.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Ce.NotificationType=B0;var W0=class extends vt{constructor(e){super(e,0)}};Ce.NotificationType0=W0;var K0=class extends vt{constructor(e,n=fi.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Ce.NotificationType1=K0;var $0=class extends vt{constructor(e){super(e,2)}};Ce.NotificationType2=$0;var V0=class extends vt{constructor(e){super(e,3)}};Ce.NotificationType3=V0;var H0=class extends vt{constructor(e){super(e,4)}};Ce.NotificationType4=H0;var z0=class extends vt{constructor(e){super(e,5)}};Ce.NotificationType5=z0;var G0=class extends vt{constructor(e){super(e,6)}};Ce.NotificationType6=G0;var J0=class extends vt{constructor(e){super(e,7)}};Ce.NotificationType7=J0;var X0=class extends vt{constructor(e){super(e,8)}};Ce.NotificationType8=X0;var Y0=class extends vt{constructor(e){super(e,9)}};Ce.NotificationType9=Y0;var uj;(function(t){function e(r){let s=r;return s&&ia.string(s.method)&&(ia.string(s.id)||ia.number(s.id))}t.isRequest=e;function n(r){let s=r;return s&&ia.string(s.method)&&r.id===void 0}t.isNotification=n;function i(r){let s=r;return s&&(s.result!==void 0||!!s.error)&&(ia.string(s.id)||ia.number(s.id)||s.id===null)}t.isResponse=i})(uj||(Ce.Message=uj={}))});var eE=F(to=>{"use strict";var lj;Object.defineProperty(to,"__esModule",{value:!0});to.LRUCache=to.LinkedMap=to.Touch=void 0;var Mn;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Mn||(to.Touch=Mn={}));var lm=class{constructor(){this[lj]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=Mn.None){let i=this._map.get(e);if(i)return n!==Mn.None&&this.touch(i,n),i.value}set(e,n,i=Mn.None){let r=this._map.get(e);if(r)r.value=n,i!==Mn.None&&this.touch(r,i);else{switch(r={key:e,value:n,next:void 0,previous:void 0},i){case Mn.None:this.addItemLast(r);break;case Mn.First:this.addItemFirst(r);break;case Mn.Last:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(e,r),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let i=this._state,r=this._head;for(;r;){if(n?e.bind(n)(r.value,r.key,this):e(r.value,r.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:n.key,done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}values(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:n.value,done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}entries(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:[n.key,n.value],done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}[(lj=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,i=this.size;for(;n&&i>e;)this._map.delete(n.key),n=n.next,i--;this._head=n,this._size=i,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,i=e.previous;if(!n||!i)throw new Error("Invalid list");n.previous=i,i.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Mn.First&&n!==Mn.Last)){if(n===Mn.First){if(e===this._head)return;let i=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(i.previous=r,r.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===Mn.Last){if(e===this._tail)return;let i=e.next,r=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=r,r.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,i)=>{e.push([i,n])}),e}fromJSON(e){this.clear();for(let[n,i]of e)this.set(n,i)}};to.LinkedMap=lm;var Z0=class extends lm{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=Mn.AsNew){return super.get(e,n)}peek(e){return super.get(e,Mn.None)}set(e,n){return super.set(e,n,Mn.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};to.LRUCache=Z0});var fj=F(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.Disposable=void 0;var dj;(function(t){function e(n){return{dispose:n}}t.create=e})(dj||(dm.Disposable=dj={}))});var no=F(iE=>{"use strict";Object.defineProperty(iE,"__esModule",{value:!0});var tE;function nE(){if(tE===void 0)throw new Error("No runtime abstraction layer installed");return tE}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");tE=n}t.install=e})(nE||(nE={}));iE.default=nE});var Nc=F(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.Emitter=_c.Event=void 0;var AZ=no(),pj;(function(t){let e={dispose(){}};t.None=function(){return e}})(pj||(_c.Event=pj={}));var rE=class{add(e,n=null,i){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(i)&&i.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let i=!1;for(let r=0,s=this._callbacks.length;r<s;r++)if(this._callbacks[r]===e)if(this._contexts[r]===n){this._callbacks.splice(r,1),this._contexts.splice(r,1);return}else i=!0;if(i)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],i=this._callbacks.slice(0),r=this._contexts.slice(0);for(let s=0,o=i.length;s<o;s++)try{n.push(i[s].apply(r[s],e))}catch(a){(0,AZ.default)().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},fm=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,i)=>{this._callbacks||(this._callbacks=new rE),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),r.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(i)&&i.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};_c.Emitter=fm;fm._noop=function(){}});var gm=F(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.CancellationTokenSource=Oc.CancellationToken=void 0;var IZ=no(),_Z=Ic(),sE=Nc(),pm;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:sE.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:sE.Event.None});function e(n){let i=n;return i&&(i===t.None||i===t.Cancelled||_Z.boolean(i.isCancellationRequested)&&!!i.onCancellationRequested)}t.is=e})(pm||(Oc.CancellationToken=pm={}));var NZ=Object.freeze(function(t,e){let n=(0,IZ.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}}),hm=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?NZ:(this._emitter||(this._emitter=new sE.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},oE=class{get token(){return this._token||(this._token=new hm),this._token}cancel(){this._token?this._token.cancel():this._token=pm.Cancelled}dispose(){this._token?this._token instanceof hm&&this._token.dispose():this._token=pm.None}};Oc.CancellationTokenSource=oE});var hj=F(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.SharedArrayReceiverStrategy=Lc.SharedArraySenderStrategy=void 0;var OZ=gm(),od;(function(t){t.Continue=0,t.Cancelled=1})(od||(od={}));var aE=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let n=new SharedArrayBuffer(4),i=new Int32Array(n,0,1);i[0]=od.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){let i=this.buffers.get(n);if(i===void 0)return;let r=new Int32Array(i,0,1);Atomics.store(r,0,od.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};Lc.SharedArraySenderStrategy=aE;var cE=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===od.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},uE=class{constructor(e){this.token=new cE(e)}cancel(){}dispose(){}},lE=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let n=e.$cancellationData;return n===void 0?new OZ.CancellationTokenSource:new uE(n)}};Lc.SharedArrayReceiverStrategy=lE});var fE=F(mm=>{"use strict";Object.defineProperty(mm,"__esModule",{value:!0});mm.Semaphore=void 0;var LZ=no(),dE=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,i)=>{this._waiting.push({thunk:e,resolve:n,reject:i}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,LZ.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(i=>{this._active--,e.resolve(i),this.runNext()},i=>{this._active--,e.reject(i),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};mm.Semaphore=dE});var mj=F(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.ReadableStreamMessageReader=io.AbstractMessageReader=io.MessageReader=void 0;var hE=no(),Mc=Ic(),pE=Nc(),MZ=fE(),gj;(function(t){function e(n){let i=n;return i&&Mc.func(i.listen)&&Mc.func(i.dispose)&&Mc.func(i.onError)&&Mc.func(i.onClose)&&Mc.func(i.onPartialMessage)}t.is=e})(gj||(io.MessageReader=gj={}));var ym=class{constructor(){this.errorEmitter=new pE.Emitter,this.closeEmitter=new pE.Emitter,this.partialMessageEmitter=new pE.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Mc.string(e.message)?e.message:"unknown"}`)}};io.AbstractMessageReader=ym;var gE;(function(t){function e(n){let i,r,s,o=new Map,a,c=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=n.charset??"utf-8",n.contentDecoder!==void 0&&(s=n.contentDecoder,o.set(s.name,s)),n.contentDecoders!==void 0)for(let u of n.contentDecoders)o.set(u.name,u);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,c.set(a.name,a)),n.contentTypeDecoders!==void 0)for(let u of n.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,hE.default)().applicationJson.decoder,c.set(a.name,a)),{charset:i,contentDecoder:s,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:c}}t.fromOptions=e})(gE||(gE={}));var mE=class extends ym{constructor(e,n){super(),this.readable=e,this.options=gE.fromOptions(n),this.buffer=(0,hE.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new MZ.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(i=>{this.onData(i)});return this.readable.onError(i=>this.fireError(i)),this.readable.onClose(()=>this.fireClose()),n}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders(!0);if(!i)return;let r=i.get("content-length");if(!r){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(i))}`));return}let s=parseInt(r);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${r}`));return}this.nextMessageLength=s}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let i=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,r=await this.options.contentTypeDecoder.decode(i,this.options);this.callback(r)}).catch(i=>{this.fireError(i)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,hE.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};io.ReadableStreamMessageReader=mE});var bj=F(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.WriteableStreamMessageWriter=ro.AbstractMessageWriter=ro.MessageWriter=void 0;var yj=no(),ad=Ic(),qZ=fE(),Cj=Nc(),UZ="Content-Length: ",vj=`\r
`,Sj;(function(t){function e(n){let i=n;return i&&ad.func(i.dispose)&&ad.func(i.onClose)&&ad.func(i.onError)&&ad.func(i.write)}t.is=e})(Sj||(ro.MessageWriter=Sj={}));var Cm=class{constructor(){this.errorEmitter=new Cj.Emitter,this.closeEmitter=new Cj.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,i){this.errorEmitter.fire([this.asError(e),n,i])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${ad.string(e.message)?e.message:"unknown"}`)}};ro.AbstractMessageWriter=Cm;var yE;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,yj.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,yj.default)().applicationJson.encoder}}t.fromOptions=e})(yE||(yE={}));var CE=class extends Cm{constructor(e,n){super(),this.writable=e,this.options=yE.fromOptions(n),this.errorCount=0,this.writeSemaphore=new qZ.Semaphore(1),this.writable.onError(i=>this.fireError(i)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(i=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(i):i).then(i=>{let r=[];return r.push(UZ,i.byteLength.toString(),vj),r.push(vj),this.doWrite(e,r,i)},i=>{throw this.fireError(i),i}))}async doWrite(e,n,i){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(i)}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};ro.WriteableStreamMessageWriter=CE});var Dj=F(vm=>{"use strict";Object.defineProperty(vm,"__esModule",{value:!0});vm.AbstractMessageBuffer=void 0;var jZ=13,BZ=10,WZ=`\r
`,vE=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,i=0,r=0,s=0;e:for(;i<this._chunks.length;){let u=this._chunks[i];for(r=0;r<u.length;){switch(u[r]){case jZ:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case BZ:switch(n){case 1:n=2;break;case 3:n=4,r++;break e;default:n=0}break;default:n=0}r++}s+=u.byteLength,i++}if(n!==4)return;let o=this._read(s+r),a=new Map,c=this.toString(o,"ascii").split(WZ);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let f=c[u],g=f.indexOf(":");if(g===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let p=f.substr(0,g),l=f.substr(g+1).trim();a.set(e?p.toLowerCase():p,l)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let n=this.allocNative(e),i=0,r=0;for(;e>0;){let s=this._chunks[r];if(s.byteLength>e){let o=s.slice(0,e);n.set(o,i),i+=e,this._chunks[r]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,i),i+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};vm.AbstractMessageBuffer=vE});var kj=F(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.createMessageConnection=Ne.ConnectionOptions=Ne.MessageStrategy=Ne.CancellationStrategy=Ne.CancellationSenderStrategy=Ne.CancellationReceiverStrategy=Ne.RequestCancellationReceiverStrategy=Ne.IdCancellationReceiverStrategy=Ne.ConnectionStrategy=Ne.ConnectionError=Ne.ConnectionErrors=Ne.LogTraceNotification=Ne.SetTraceNotification=Ne.TraceFormat=Ne.TraceValues=Ne.Trace=Ne.NullLogger=Ne.ProgressType=Ne.ProgressToken=void 0;var Tj=no(),Mt=Ic(),xe=Q0(),wj=eE(),cd=Nc(),SE=gm(),dd;(function(t){t.type=new xe.NotificationType("$/cancelRequest")})(dd||(dd={}));var bE;(function(t){function e(n){return typeof n=="string"||typeof n=="number"}t.is=e})(bE||(Ne.ProgressToken=bE={}));var ud;(function(t){t.type=new xe.NotificationType("$/progress")})(ud||(ud={}));var DE=class{constructor(){}};Ne.ProgressType=DE;var TE;(function(t){function e(n){return Mt.func(n)}t.is=e})(TE||(TE={}));Ne.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var st;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(st||(Ne.Trace=st={}));var xj;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(xj||(Ne.TraceValues=xj={}));(function(t){function e(i){if(!Mt.string(i))return t.Off;switch(i=i.toLowerCase(),i){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(i){switch(i){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(st||(Ne.Trace=st={}));var Pi;(function(t){t.Text="text",t.JSON="json"})(Pi||(Ne.TraceFormat=Pi={}));(function(t){function e(n){return Mt.string(n)?(n=n.toLowerCase(),n==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(Pi||(Ne.TraceFormat=Pi={}));var wE;(function(t){t.type=new xe.NotificationType("$/setTrace")})(wE||(Ne.SetTraceNotification=wE={}));var Sm;(function(t){t.type=new xe.NotificationType("$/logTrace")})(Sm||(Ne.LogTraceNotification=Sm={}));var ld;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(ld||(Ne.ConnectionErrors=ld={}));var qc=class t extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,t.prototype)}};Ne.ConnectionError=qc;var xE;(function(t){function e(n){let i=n;return i&&Mt.func(i.cancelUndispatched)}t.is=e})(xE||(Ne.ConnectionStrategy=xE={}));var bm;(function(t){function e(n){let i=n;return i&&(i.kind===void 0||i.kind==="id")&&Mt.func(i.createCancellationTokenSource)&&(i.dispose===void 0||Mt.func(i.dispose))}t.is=e})(bm||(Ne.IdCancellationReceiverStrategy=bm={}));var EE;(function(t){function e(n){let i=n;return i&&i.kind==="request"&&Mt.func(i.createCancellationTokenSource)&&(i.dispose===void 0||Mt.func(i.dispose))}t.is=e})(EE||(Ne.RequestCancellationReceiverStrategy=EE={}));var Dm;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new SE.CancellationTokenSource}});function e(n){return bm.is(n)||EE.is(n)}t.is=e})(Dm||(Ne.CancellationReceiverStrategy=Dm={}));var Tm;(function(t){t.Message=Object.freeze({sendCancellation(n,i){return n.sendNotification(dd.type,{id:i})},cleanup(n){}});function e(n){let i=n;return i&&Mt.func(i.sendCancellation)&&Mt.func(i.cleanup)}t.is=e})(Tm||(Ne.CancellationSenderStrategy=Tm={}));var wm;(function(t){t.Message=Object.freeze({receiver:Dm.Message,sender:Tm.Message});function e(n){let i=n;return i&&Dm.is(i.receiver)&&Tm.is(i.sender)}t.is=e})(wm||(Ne.CancellationStrategy=wm={}));var xm;(function(t){function e(n){let i=n;return i&&Mt.func(i.handleMessage)}t.is=e})(xm||(Ne.MessageStrategy=xm={}));var Ej;(function(t){function e(n){let i=n;return i&&(wm.is(i.cancellationStrategy)||xE.is(i.connectionStrategy)||xm.is(i.messageStrategy))}t.is=e})(Ej||(Ne.ConnectionOptions=Ej={}));var mr;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(mr||(mr={}));function KZ(t,e,n,i){let r=n!==void 0?n:Ne.NullLogger,s=0,o=0,a=0,c="2.0",u,f=new Map,g,p=new Map,l=new Map,d,h=new wj.LinkedMap,m=new Map,C=new Set,D=new Map,w=st.Off,k=Pi.Text,A,B=mr.New,W=new cd.Emitter,U=new cd.Emitter,ee=new cd.Emitter,Z=new cd.Emitter,H=new cd.Emitter,M=i&&i.cancellationStrategy?i.cancellationStrategy:wm.Message;function V(v){if(v===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+v.toString()}function Q(v){return v===null?"res-unknown-"+(++a).toString():"res-"+v.toString()}function he(){return"not-"+(++o).toString()}function de(v,P){xe.Message.isRequest(P)?v.set(V(P.id),P):xe.Message.isResponse(P)?v.set(Q(P.id),P):v.set(he(),P)}function ge(v){}function Ge(){return B===mr.Listening}function Ee(){return B===mr.Closed}function ke(){return B===mr.Disposed}function ht(){(B===mr.New||B===mr.Listening)&&(B=mr.Closed,U.fire(void 0))}function At(v){W.fire([v,void 0,void 0])}function tn(v){W.fire(v)}t.onClose(ht),t.onError(At),e.onClose(ht),e.onError(tn);function St(){d||h.size===0||(d=(0,Tj.default)().timer.setImmediate(()=>{d=void 0,an()}))}function Jt(v){xe.Message.isRequest(v)?qn(v):xe.Message.isNotification(v)?jn(v):xe.Message.isResponse(v)?Un(v):Xn(v)}function an(){if(h.size===0)return;let v=h.shift();try{let P=i?.messageStrategy;xm.is(P)?P.handleMessage(v,Jt):Jt(v)}finally{St()}}let Jn=v=>{try{if(xe.Message.isNotification(v)&&v.method===dd.type.method){let P=v.params.id,q=V(P),$=h.get(q);if(xe.Message.isRequest($)){let ue=i?.connectionStrategy,ve=ue&&ue.cancelUndispatched?ue.cancelUndispatched($,ge):void 0;if(ve&&(ve.error!==void 0||ve.result!==void 0)){h.delete(q),D.delete(P),ve.id=$.id,nn(ve,v.method,Date.now()),e.write(ve).catch(()=>r.error("Sending response for canceled message failed."));return}}let fe=D.get(P);if(fe!==void 0){fe.cancel(),cn(v);return}else C.add(P)}de(h,v)}finally{St()}};function qn(v){if(ke())return;function P(ie,pe,se){let N={jsonrpc:c,id:v.id};ie instanceof xe.ResponseError?N.error=ie.toJson():N.result=ie===void 0?null:ie,nn(N,pe,se),e.write(N).catch(()=>r.error("Sending response failed."))}function q(ie,pe,se){let N={jsonrpc:c,id:v.id,error:ie.toJson()};nn(N,pe,se),e.write(N).catch(()=>r.error("Sending response failed."))}function $(ie,pe,se){ie===void 0&&(ie=null);let N={jsonrpc:c,id:v.id,result:ie};nn(N,pe,se),e.write(N).catch(()=>r.error("Sending response failed."))}Ai(v);let fe=f.get(v.method),ue,ve;fe&&(ue=fe.type,ve=fe.handler);let Se=Date.now();if(ve||u){let ie=v.id??String(Date.now()),pe=bm.is(M.receiver)?M.receiver.createCancellationTokenSource(ie):M.receiver.createCancellationTokenSource(v);v.id!==null&&C.has(v.id)&&pe.cancel(),v.id!==null&&D.set(ie,pe);try{let se;if(ve)if(v.params===void 0){if(ue!==void 0&&ue.numberOfParams!==0){q(new xe.ResponseError(xe.ErrorCodes.InvalidParams,`Request ${v.method} defines ${ue.numberOfParams} params but received none.`),v.method,Se);return}se=ve(pe.token)}else if(Array.isArray(v.params)){if(ue!==void 0&&ue.parameterStructures===xe.ParameterStructures.byName){q(new xe.ResponseError(xe.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by name but received parameters by position`),v.method,Se);return}se=ve(...v.params,pe.token)}else{if(ue!==void 0&&ue.parameterStructures===xe.ParameterStructures.byPosition){q(new xe.ResponseError(xe.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by position but received parameters by name`),v.method,Se);return}se=ve(v.params,pe.token)}else u&&(se=u(v.method,v.params,pe.token));let N=se;se?N.then?N.then(L=>{D.delete(ie),P(L,v.method,Se)},L=>{D.delete(ie),L instanceof xe.ResponseError?q(L,v.method,Se):L&&Mt.string(L.message)?q(new xe.ResponseError(xe.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${L.message}`),v.method,Se):q(new xe.ResponseError(xe.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,Se)}):(D.delete(ie),P(se,v.method,Se)):(D.delete(ie),$(se,v.method,Se))}catch(se){D.delete(ie),se instanceof xe.ResponseError?P(se,v.method,Se):se&&Mt.string(se.message)?q(new xe.ResponseError(xe.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${se.message}`),v.method,Se):q(new xe.ResponseError(xe.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,Se)}}else q(new xe.ResponseError(xe.ErrorCodes.MethodNotFound,`Unhandled method ${v.method}`),v.method,Se)}function Un(v){if(!ke())if(v.id===null)v.error?r.error(`Received response message without id: Error is: 
${JSON.stringify(v.error,void 0,4)}`):r.error("Received response message without id. No further error information provided.");else{let P=v.id,q=m.get(P);if(Yn(v,q),q!==void 0){m.delete(P);try{if(v.error){let $=v.error;q.reject(new xe.ResponseError($.code,$.message,$.data))}else if(v.result!==void 0)q.resolve(v.result);else throw new Error("Should never happen.")}catch($){$.message?r.error(`Response handler '${q.method}' failed with message: ${$.message}`):r.error(`Response handler '${q.method}' failed unexpectedly.`)}}}}function jn(v){if(ke())return;let P,q;if(v.method===dd.type.method){let $=v.params.id;C.delete($),cn(v);return}else{let $=p.get(v.method);$&&(q=$.handler,P=$.type)}if(q||g)try{if(cn(v),q)if(v.params===void 0)P!==void 0&&P.numberOfParams!==0&&P.parameterStructures!==xe.ParameterStructures.byName&&r.error(`Notification ${v.method} defines ${P.numberOfParams} params but received none.`),q();else if(Array.isArray(v.params)){let $=v.params;v.method===ud.type.method&&$.length===2&&bE.is($[0])?q({token:$[0],value:$[1]}):(P!==void 0&&(P.parameterStructures===xe.ParameterStructures.byName&&r.error(`Notification ${v.method} defines parameters by name but received parameters by position`),P.numberOfParams!==v.params.length&&r.error(`Notification ${v.method} defines ${P.numberOfParams} params but received ${$.length} arguments`)),q(...$))}else P!==void 0&&P.parameterStructures===xe.ParameterStructures.byPosition&&r.error(`Notification ${v.method} defines parameters by position but received parameters by name`),q(v.params);else g&&g(v.method,v.params)}catch($){$.message?r.error(`Notification handler '${v.method}' failed with message: ${$.message}`):r.error(`Notification handler '${v.method}' failed unexpectedly.`)}else ee.fire(v)}function Xn(v){if(!v){r.error("Received empty message.");return}r.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(v,null,4)}`);let P=v;if(Mt.string(P.id)||Mt.number(P.id)){let q=P.id,$=m.get(q);$&&$.reject(new Error("The received response has neither a result nor an error property."))}}function Qe(v){if(v!=null)switch(w){case st.Verbose:return JSON.stringify(v,null,4);case st.Compact:return JSON.stringify(v);default:return}}function pi(v){if(!(w===st.Off||!A))if(k===Pi.Text){let P;(w===st.Verbose||w===st.Compact)&&v.params&&(P=`Params: ${Qe(v.params)}

`),A.log(`Sending request '${v.method} - (${v.id})'.`,P)}else ot("send-request",v)}function Bn(v){if(!(w===st.Off||!A))if(k===Pi.Text){let P;(w===st.Verbose||w===st.Compact)&&(v.params?P=`Params: ${Qe(v.params)}

`:P=`No parameters provided.

`),A.log(`Sending notification '${v.method}'.`,P)}else ot("send-notification",v)}function nn(v,P,q){if(!(w===st.Off||!A))if(k===Pi.Text){let $;(w===st.Verbose||w===st.Compact)&&(v.error&&v.error.data?$=`Error data: ${Qe(v.error.data)}

`:v.result?$=`Result: ${Qe(v.result)}

`:v.error===void 0&&($=`No result returned.

`)),A.log(`Sending response '${P} - (${v.id})'. Processing request took ${Date.now()-q}ms`,$)}else ot("send-response",v)}function Ai(v){if(!(w===st.Off||!A))if(k===Pi.Text){let P;(w===st.Verbose||w===st.Compact)&&v.params&&(P=`Params: ${Qe(v.params)}

`),A.log(`Received request '${v.method} - (${v.id})'.`,P)}else ot("receive-request",v)}function cn(v){if(!(w===st.Off||!A||v.method===Sm.type.method))if(k===Pi.Text){let P;(w===st.Verbose||w===st.Compact)&&(v.params?P=`Params: ${Qe(v.params)}

`:P=`No parameters provided.

`),A.log(`Received notification '${v.method}'.`,P)}else ot("receive-notification",v)}function Yn(v,P){if(!(w===st.Off||!A))if(k===Pi.Text){let q;if((w===st.Verbose||w===st.Compact)&&(v.error&&v.error.data?q=`Error data: ${Qe(v.error.data)}

`:v.result?q=`Result: ${Qe(v.result)}

`:v.error===void 0&&(q=`No result returned.

`)),P){let $=v.error?` Request failed: ${v.error.message} (${v.error.code}).`:"";A.log(`Received response '${P.method} - (${v.id})' in ${Date.now()-P.timerStart}ms.${$}`,q)}else A.log(`Received response ${v.id} without active response promise.`,q)}else ot("receive-response",v)}function ot(v,P){if(!A||w===st.Off)return;let q={isLSPMessage:!0,type:v,message:P,timestamp:Date.now()};A.log(q)}function bt(){if(Ee())throw new qc(ld.Closed,"Connection is closed.");if(ke())throw new qc(ld.Disposed,"Connection is disposed.")}function Vt(){if(Ge())throw new qc(ld.AlreadyListening,"Connection is already listening")}function mn(){if(!Ge())throw new Error("Call listen() first.")}function Ut(v){return v===void 0?null:v}function Wn(v){if(v!==null)return v}function Qn(v){return v!=null&&!Array.isArray(v)&&typeof v=="object"}function yn(v,P){switch(v){case xe.ParameterStructures.auto:return Qn(P)?Wn(P):[Ut(P)];case xe.ParameterStructures.byName:if(!Qn(P))throw new Error("Received parameters by name but param is not an object literal.");return Wn(P);case xe.ParameterStructures.byPosition:return[Ut(P)];default:throw new Error(`Unknown parameter structure ${v.toString()}`)}}function Zn(v,P){let q,$=v.numberOfParams;switch($){case 0:q=void 0;break;case 1:q=yn(v.parameterStructures,P[0]);break;default:q=[];for(let fe=0;fe<P.length&&fe<$;fe++)q.push(Ut(P[fe]));if(P.length<$)for(let fe=P.length;fe<$;fe++)q.push(null);break}return q}let Dt={sendNotification:(v,...P)=>{bt();let q,$;if(Mt.string(v)){q=v;let ue=P[0],ve=0,Se=xe.ParameterStructures.auto;xe.ParameterStructures.is(ue)&&(ve=1,Se=ue);let ie=P.length,pe=ie-ve;switch(pe){case 0:$=void 0;break;case 1:$=yn(Se,P[ve]);break;default:if(Se===xe.ParameterStructures.byName)throw new Error(`Received ${pe} parameters for 'by Name' notification parameter structure.`);$=P.slice(ve,ie).map(se=>Ut(se));break}}else{let ue=P;q=v.method,$=Zn(v,ue)}let fe={jsonrpc:c,method:q,params:$};return Bn(fe),e.write(fe).catch(ue=>{throw r.error("Sending notification failed."),ue})},onNotification:(v,P)=>{bt();let q;return Mt.func(v)?g=v:P&&(Mt.string(v)?(q=v,p.set(v,{type:void 0,handler:P})):(q=v.method,p.set(v.method,{type:v,handler:P}))),{dispose:()=>{q!==void 0?p.delete(q):g=void 0}}},onProgress:(v,P,q)=>{if(l.has(P))throw new Error(`Progress handler for token ${P} already registered`);return l.set(P,q),{dispose:()=>{l.delete(P)}}},sendProgress:(v,P,q)=>Dt.sendNotification(ud.type,{token:P,value:q}),onUnhandledProgress:Z.event,sendRequest:(v,...P)=>{bt(),mn();let q,$,fe;if(Mt.string(v)){q=v;let ie=P[0],pe=P[P.length-1],se=0,N=xe.ParameterStructures.auto;xe.ParameterStructures.is(ie)&&(se=1,N=ie);let L=P.length;SE.CancellationToken.is(pe)&&(L=L-1,fe=pe);let J=L-se;switch(J){case 0:$=void 0;break;case 1:$=yn(N,P[se]);break;default:if(N===xe.ParameterStructures.byName)throw new Error(`Received ${J} parameters for 'by Name' request parameter structure.`);$=P.slice(se,L).map(be=>Ut(be));break}}else{let ie=P;q=v.method,$=Zn(v,ie);let pe=v.numberOfParams;fe=SE.CancellationToken.is(ie[pe])?ie[pe]:void 0}let ue=s++,ve;fe&&(ve=fe.onCancellationRequested(()=>{let ie=M.sender.sendCancellation(Dt,ue);return ie===void 0?(r.log(`Received no promise from cancellation strategy when cancelling id ${ue}`),Promise.resolve()):ie.catch(()=>{r.log(`Sending cancellation messages for id ${ue} failed`)})}));let Se={jsonrpc:c,id:ue,method:q,params:$};return pi(Se),typeof M.sender.enableCancellation=="function"&&M.sender.enableCancellation(Se),new Promise(async(ie,pe)=>{let se=J=>{ie(J),M.sender.cleanup(ue),ve?.dispose()},N=J=>{pe(J),M.sender.cleanup(ue),ve?.dispose()},L={method:q,timerStart:Date.now(),resolve:se,reject:N};try{m.set(ue,L),await e.write(Se)}catch(J){throw m.delete(ue),L.reject(new xe.ResponseError(xe.ErrorCodes.MessageWriteError,J.message?J.message:"Unknown reason")),r.error("Sending request failed."),J}})},onRequest:(v,P)=>{bt();let q=null;return TE.is(v)?(q=void 0,u=v):Mt.string(v)?(q=null,P!==void 0&&(q=v,f.set(v,{handler:P,type:void 0}))):P!==void 0&&(q=v.method,f.set(v.method,{type:v,handler:P})),{dispose:()=>{q!==null&&(q!==void 0?f.delete(q):u=void 0)}}},hasPendingResponse:()=>m.size>0,trace:async(v,P,q)=>{let $=!1,fe=Pi.Text;q!==void 0&&(Mt.boolean(q)?$=q:($=q.sendNotification||!1,fe=q.traceFormat||Pi.Text)),w=v,k=fe,w===st.Off?A=void 0:A=P,$&&!Ee()&&!ke()&&await Dt.sendNotification(wE.type,{value:st.toString(v)})},onError:W.event,onClose:U.event,onUnhandledNotification:ee.event,onDispose:H.event,end:()=>{e.end()},dispose:()=>{if(ke())return;B=mr.Disposed,H.fire(void 0);let v=new xe.ResponseError(xe.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let P of m.values())P.reject(v);m=new Map,D=new Map,C=new Set,h=new wj.LinkedMap,Mt.func(e.dispose)&&e.dispose(),Mt.func(t.dispose)&&t.dispose()},listen:()=>{bt(),Vt(),B=mr.Listening,t.listen(Jn)},inspect:()=>{(0,Tj.default)().console.log("inspect")}};return Dt.onNotification(Sm.type,v=>{if(w===st.Off||!A)return;let P=w===st.Verbose||w===st.Compact;A.log(v.message,P?v.verbose:void 0)}),Dt.onNotification(ud.type,v=>{let P=l.get(v.token);P?P(v.value):Z.fire(v)}),Dt}Ne.createMessageConnection=KZ});var Em=F(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.ProgressType=G.ProgressToken=G.createMessageConnection=G.NullLogger=G.ConnectionOptions=G.ConnectionStrategy=G.AbstractMessageBuffer=G.WriteableStreamMessageWriter=G.AbstractMessageWriter=G.MessageWriter=G.ReadableStreamMessageReader=G.AbstractMessageReader=G.MessageReader=G.SharedArrayReceiverStrategy=G.SharedArraySenderStrategy=G.CancellationToken=G.CancellationTokenSource=G.Emitter=G.Event=G.Disposable=G.LRUCache=G.Touch=G.LinkedMap=G.ParameterStructures=G.NotificationType9=G.NotificationType8=G.NotificationType7=G.NotificationType6=G.NotificationType5=G.NotificationType4=G.NotificationType3=G.NotificationType2=G.NotificationType1=G.NotificationType0=G.NotificationType=G.ErrorCodes=G.ResponseError=G.RequestType9=G.RequestType8=G.RequestType7=G.RequestType6=G.RequestType5=G.RequestType4=G.RequestType3=G.RequestType2=G.RequestType1=G.RequestType0=G.RequestType=G.Message=G.RAL=void 0;G.MessageStrategy=G.CancellationStrategy=G.CancellationSenderStrategy=G.CancellationReceiverStrategy=G.ConnectionError=G.ConnectionErrors=G.LogTraceNotification=G.SetTraceNotification=G.TraceFormat=G.TraceValues=G.Trace=void 0;var mt=Q0();Object.defineProperty(G,"Message",{enumerable:!0,get:function(){return mt.Message}});Object.defineProperty(G,"RequestType",{enumerable:!0,get:function(){return mt.RequestType}});Object.defineProperty(G,"RequestType0",{enumerable:!0,get:function(){return mt.RequestType0}});Object.defineProperty(G,"RequestType1",{enumerable:!0,get:function(){return mt.RequestType1}});Object.defineProperty(G,"RequestType2",{enumerable:!0,get:function(){return mt.RequestType2}});Object.defineProperty(G,"RequestType3",{enumerable:!0,get:function(){return mt.RequestType3}});Object.defineProperty(G,"RequestType4",{enumerable:!0,get:function(){return mt.RequestType4}});Object.defineProperty(G,"RequestType5",{enumerable:!0,get:function(){return mt.RequestType5}});Object.defineProperty(G,"RequestType6",{enumerable:!0,get:function(){return mt.RequestType6}});Object.defineProperty(G,"RequestType7",{enumerable:!0,get:function(){return mt.RequestType7}});Object.defineProperty(G,"RequestType8",{enumerable:!0,get:function(){return mt.RequestType8}});Object.defineProperty(G,"RequestType9",{enumerable:!0,get:function(){return mt.RequestType9}});Object.defineProperty(G,"ResponseError",{enumerable:!0,get:function(){return mt.ResponseError}});Object.defineProperty(G,"ErrorCodes",{enumerable:!0,get:function(){return mt.ErrorCodes}});Object.defineProperty(G,"NotificationType",{enumerable:!0,get:function(){return mt.NotificationType}});Object.defineProperty(G,"NotificationType0",{enumerable:!0,get:function(){return mt.NotificationType0}});Object.defineProperty(G,"NotificationType1",{enumerable:!0,get:function(){return mt.NotificationType1}});Object.defineProperty(G,"NotificationType2",{enumerable:!0,get:function(){return mt.NotificationType2}});Object.defineProperty(G,"NotificationType3",{enumerable:!0,get:function(){return mt.NotificationType3}});Object.defineProperty(G,"NotificationType4",{enumerable:!0,get:function(){return mt.NotificationType4}});Object.defineProperty(G,"NotificationType5",{enumerable:!0,get:function(){return mt.NotificationType5}});Object.defineProperty(G,"NotificationType6",{enumerable:!0,get:function(){return mt.NotificationType6}});Object.defineProperty(G,"NotificationType7",{enumerable:!0,get:function(){return mt.NotificationType7}});Object.defineProperty(G,"NotificationType8",{enumerable:!0,get:function(){return mt.NotificationType8}});Object.defineProperty(G,"NotificationType9",{enumerable:!0,get:function(){return mt.NotificationType9}});Object.defineProperty(G,"ParameterStructures",{enumerable:!0,get:function(){return mt.ParameterStructures}});var kE=eE();Object.defineProperty(G,"LinkedMap",{enumerable:!0,get:function(){return kE.LinkedMap}});Object.defineProperty(G,"LRUCache",{enumerable:!0,get:function(){return kE.LRUCache}});Object.defineProperty(G,"Touch",{enumerable:!0,get:function(){return kE.Touch}});var $Z=fj();Object.defineProperty(G,"Disposable",{enumerable:!0,get:function(){return $Z.Disposable}});var Fj=Nc();Object.defineProperty(G,"Event",{enumerable:!0,get:function(){return Fj.Event}});Object.defineProperty(G,"Emitter",{enumerable:!0,get:function(){return Fj.Emitter}});var Pj=gm();Object.defineProperty(G,"CancellationTokenSource",{enumerable:!0,get:function(){return Pj.CancellationTokenSource}});Object.defineProperty(G,"CancellationToken",{enumerable:!0,get:function(){return Pj.CancellationToken}});var Rj=hj();Object.defineProperty(G,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return Rj.SharedArraySenderStrategy}});Object.defineProperty(G,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return Rj.SharedArrayReceiverStrategy}});var FE=mj();Object.defineProperty(G,"MessageReader",{enumerable:!0,get:function(){return FE.MessageReader}});Object.defineProperty(G,"AbstractMessageReader",{enumerable:!0,get:function(){return FE.AbstractMessageReader}});Object.defineProperty(G,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return FE.ReadableStreamMessageReader}});var PE=bj();Object.defineProperty(G,"MessageWriter",{enumerable:!0,get:function(){return PE.MessageWriter}});Object.defineProperty(G,"AbstractMessageWriter",{enumerable:!0,get:function(){return PE.AbstractMessageWriter}});Object.defineProperty(G,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return PE.WriteableStreamMessageWriter}});var VZ=Dj();Object.defineProperty(G,"AbstractMessageBuffer",{enumerable:!0,get:function(){return VZ.AbstractMessageBuffer}});var Dn=kj();Object.defineProperty(G,"ConnectionStrategy",{enumerable:!0,get:function(){return Dn.ConnectionStrategy}});Object.defineProperty(G,"ConnectionOptions",{enumerable:!0,get:function(){return Dn.ConnectionOptions}});Object.defineProperty(G,"NullLogger",{enumerable:!0,get:function(){return Dn.NullLogger}});Object.defineProperty(G,"createMessageConnection",{enumerable:!0,get:function(){return Dn.createMessageConnection}});Object.defineProperty(G,"ProgressToken",{enumerable:!0,get:function(){return Dn.ProgressToken}});Object.defineProperty(G,"ProgressType",{enumerable:!0,get:function(){return Dn.ProgressType}});Object.defineProperty(G,"Trace",{enumerable:!0,get:function(){return Dn.Trace}});Object.defineProperty(G,"TraceValues",{enumerable:!0,get:function(){return Dn.TraceValues}});Object.defineProperty(G,"TraceFormat",{enumerable:!0,get:function(){return Dn.TraceFormat}});Object.defineProperty(G,"SetTraceNotification",{enumerable:!0,get:function(){return Dn.SetTraceNotification}});Object.defineProperty(G,"LogTraceNotification",{enumerable:!0,get:function(){return Dn.LogTraceNotification}});Object.defineProperty(G,"ConnectionErrors",{enumerable:!0,get:function(){return Dn.ConnectionErrors}});Object.defineProperty(G,"ConnectionError",{enumerable:!0,get:function(){return Dn.ConnectionError}});Object.defineProperty(G,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Dn.CancellationReceiverStrategy}});Object.defineProperty(G,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Dn.CancellationSenderStrategy}});Object.defineProperty(G,"CancellationStrategy",{enumerable:!0,get:function(){return Dn.CancellationStrategy}});Object.defineProperty(G,"MessageStrategy",{enumerable:!0,get:function(){return Dn.MessageStrategy}});var HZ=no();G.RAL=HZ.default});var _j=F(_E=>{"use strict";Object.defineProperty(_E,"__esModule",{value:!0});var Aj=require("util"),rs=Em(),km=class t extends rs.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new Aj.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};km.emptyBuffer=Buffer.allocUnsafe(0);var RE=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),rs.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),rs.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),rs.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),rs.Disposable.create(()=>this.stream.off("data",e))}},AE=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),rs.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),rs.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),rs.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((i,r)=>{let s=o=>{o==null?i():r(o)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},Ij=Object.freeze({messageBuffer:Object.freeze({create:t=>new km(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new Aj.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new RE(t),asWritableStream:t=>new AE(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){let i=setTimeout(t,e,...n);return{dispose:()=>clearTimeout(i)}},setImmediate(t,...e){let n=setImmediate(t,...e);return{dispose:()=>clearImmediate(n)}},setInterval(t,e,...n){let i=setInterval(t,e,...n);return{dispose:()=>clearInterval(i)}}})});function IE(){return Ij}(function(t){function e(){rs.RAL.install(Ij)}t.install=e})(IE||(IE={}));_E.default=IE});var Lj=F($e=>{"use strict";var zZ=$e&&$e.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),GZ=$e&&$e.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&zZ(e,t,n)};Object.defineProperty($e,"__esModule",{value:!0});$e.createMessageConnection=$e.createServerSocketTransport=$e.createClientSocketTransport=$e.createServerPipeTransport=$e.createClientPipeTransport=$e.generateRandomPipeName=$e.StreamMessageWriter=$e.StreamMessageReader=$e.SocketMessageWriter=$e.SocketMessageReader=$e.PortMessageWriter=$e.PortMessageReader=$e.IPCMessageWriter=$e.IPCMessageReader=void 0;var Uc=_j();Uc.default.install();var Nj=require("path"),JZ=require("os"),XZ=require("crypto"),Rm=require("net"),Ri=Em();GZ(Em(),$e);var NE=class extends Ri.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",i=>this.fireError(i)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Ri.Disposable.create(()=>this.process.off("message",e))}};$e.IPCMessageReader=NE;var OE=class extends Ri.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",i=>this.fireError(i)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};$e.IPCMessageWriter=OE;var LE=class extends Ri.AbstractMessageReader{constructor(e){super(),this.onData=new Ri.Emitter,e.on("close",()=>this.fireClose),e.on("error",n=>this.fireError(n)),e.on("message",n=>{this.onData.fire(n)})}listen(e){return this.onData.event(e)}};$e.PortMessageReader=LE;var ME=class extends Ri.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",n=>this.fireError(n))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};$e.PortMessageWriter=ME;var ra=class extends Ri.ReadableStreamMessageReader{constructor(e,n="utf-8"){super((0,Uc.default)().stream.asReadableStream(e),n)}};$e.SocketMessageReader=ra;var sa=class extends Ri.WriteableStreamMessageWriter{constructor(e,n){super((0,Uc.default)().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};$e.SocketMessageWriter=sa;var Fm=class extends Ri.ReadableStreamMessageReader{constructor(e,n){super((0,Uc.default)().stream.asReadableStream(e),n)}};$e.StreamMessageReader=Fm;var Pm=class extends Ri.WriteableStreamMessageWriter{constructor(e,n){super((0,Uc.default)().stream.asWritableStream(e),n)}};$e.StreamMessageWriter=Pm;var Oj=process.env.XDG_RUNTIME_DIR,YZ=new Map([["linux",107],["darwin",103]]);function QZ(){let t=(0,XZ.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;Oj?e=Nj.join(Oj,`vscode-ipc-${t}.sock`):e=Nj.join(JZ.tmpdir(),`vscode-${t}.sock`);let n=YZ.get(process.platform);return n!==void 0&&e.length>n&&(0,Uc.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}$e.generateRandomPipeName=QZ;function ZZ(t,e="utf-8"){let n,i=new Promise((r,s)=>{n=r});return new Promise((r,s)=>{let o=(0,Rm.createServer)(a=>{o.close(),n([new ra(a,e),new sa(a,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),r({onConnected:()=>i})})})}$e.createClientPipeTransport=ZZ;function eee(t,e="utf-8"){let n=(0,Rm.createConnection)(t);return[new ra(n,e),new sa(n,e)]}$e.createServerPipeTransport=eee;function tee(t,e="utf-8"){let n,i=new Promise((r,s)=>{n=r});return new Promise((r,s)=>{let o=(0,Rm.createServer)(a=>{o.close(),n([new ra(a,e),new sa(a,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),r({onConnected:()=>i})})})}$e.createClientSocketTransport=tee;function nee(t,e="utf-8"){let n=(0,Rm.createConnection)(t,"127.0.0.1");return[new ra(n,e),new sa(n,e)]}$e.createServerSocketTransport=nee;function iee(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function ree(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function see(t,e,n,i){n||(n=Ri.NullLogger);let r=iee(t)?new Fm(t):t,s=ree(e)?new Pm(e):e;return Ri.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),(0,Ri.createMessageConnection)(r,s,n,i)}$e.createMessageConnection=see});var qj=F((Sme,Mj)=>{"use strict";Mj.exports=Lj()});var dee={};HE(dee,{activate:()=>aee});module.exports=tB(dee);function oo(t,e,n){let i=t.get(e);if(i!==void 0||t.has(e))return i;let r=n(e);return t.set(e,r),r}var Cd=class{map=new Map;get(e,n){return n?oo(this.map,e,n):this.map.get(e)}has(e){return this.map.has(e)}set(e,n){return this.map.set(e,n),this}delete(e){return this.map.delete(e)}clear(){this.map.clear()}dispose(){this.clear()}};function qm(){return new Cd}var Um={string:!0,undefined:!0},nB={number:!0,undefined:!0};function GE(t){return!t||typeof t!="object"?!1:typeof t.code=="string"}function JE(t){if(!t||typeof t!="object")return!1;let e=t;return typeof e.name=="string"&&typeof e.message=="string"&&typeof e.errno in nB&&typeof e.code in Um&&typeof e.path in Um&&typeof e.stack in Um}function ao(t){return new jm(t)}var jm=class{name;#e=new Set;#t=!1;constructor(e){this.name=e}event=e=>{iB(!this.#t,"EventEmitter is disposed");let i={fn:e};return this.#e.add(i),{dispose:()=>{this.#e.delete(i)}}};fire=e=>{for(let n of this.#e)try{n.fn(e)}catch{}};dispose=()=>{this.#t=!0,this.#e.clear()};get isDisposed(){return this.#t}numListeners(){return this.#e.size}};function iB(t,e="assertion failed"){if(!t)throw new Error(e)}function XE(t,e){let n,i=0,r;return s=>o=>{let a=n??=ao(),c=a.event(o);return r??=s(u=>t(u,a.fire)),++i,{dispose(){if(i&&(--i,c.dispose(),!i))try{e?.dispose(),n?.dispose(),r?.dispose()}finally{n=void 0,r=void 0}}}}}var Bm=Symbol("not set");function Wm(t){let e=Bm,n;function i(){e=Bm,n=void 0}return XE((r,s)=>{e=r,clearTimeout(n),n=setTimeout(o,t);function o(){let a=e;i(),a!==Bm&&s(a)}},{dispose(){clearTimeout(n),i()}})}function Km(t,...e){let n="event"in t?s=>t.event(s):t,i,r=()=>{if(i)return i;let s=n;for(let o of e)s=o(s);return i=s};return s=>r()(s)}function $m(t,e){let n=new Map;for(let i of t){let r=i[e],s=n.get(r)||[];s.push(i),n.set(r,s)}return n}var Le;(function(t){t[t.NONE=0]="NONE",t[t.ERROR=1]="ERROR",t[t.WARNING=2]="WARNING",t[t.INFO=3]="INFO",t[t.DEBUG=4]="DEBUG"})(Le||(Le={}));var rB=[[Le[Le.NONE],Le.NONE],[Le[Le.ERROR],Le.ERROR],[Le[Le.WARNING],Le.WARNING],[Le[Le.INFO],Le.INFO],[Le[Le.DEBUG],Le.DEBUG],["INFORMATION",Le.INFO]],sB=new Map(rB),qr=()=>{},vd=class{logLevel;_connection;seq=0;logs=[];loggers={[Le.NONE]:qr,[Le.ERROR]:qr,[Le.WARNING]:qr,[Le.INFO]:qr,[Le.DEBUG]:qr};logTime=!0;logSequence=!0;constructor(e=Le.DEBUG,n){this.logLevel=e,n&&this.setConnection(n)}writeLog(e){if(!this._connection)this.logs.push(e);else{if(e.level>this.logLevel)return;let n=this.logSequence?`${e.seq}	`:"",i=this.logTime?`${e.ts.toISOString()}	`:"",r=`${n}${i}${e.msg}`,s=this.loggers[e.level];s?s(r):console.error(`Unknown log level: ${e.level}; msg: ${e.msg}`)}}get connection(){return this._connection}logMessage(e,n){let r={seq:++this.seq,level:e,ts:new Date,msg:n};this.writeLog(r)}set level(e){this.logLevel=oB(e)}get level(){return this.logLevel}setConnection(e){this._connection=e,this._connection.onExit(()=>{this._connection=void 0,this.loggers[Le.ERROR]=qr,this.loggers[Le.WARNING]=qr,this.loggers[Le.INFO]=qr,this.loggers[Le.DEBUG]=qr}),this.loggers[Le.ERROR]=n=>{e.console.error(n)},this.loggers[Le.WARNING]=n=>{e.console.warn(n)},this.loggers[Le.INFO]=n=>{e.console.info(n)},this.loggers[Le.DEBUG]=n=>{e.console.log(n)},this.logs.forEach(n=>this.writeLog(n)),this.logs.length=0}error(e){this.logMessage(Le.ERROR,e)}warn(e){this.logMessage(Le.WARNING,e)}info(e){this.logMessage(Le.INFO,e)}debug(e){this.logMessage(Le.DEBUG,e)}log(e){this.debug(e)}getPendingEntries(){return this.logs}clearPendingEntries(){this.logs=[]}};function oB(t){let e=typeof t=="string"?sB.get(t.toUpperCase())||Le.NONE:t;return typeof e!="number"||e<Le.NONE||e>Le.DEBUG?Le.DEBUG:e}var aB="";var gi=new vd;function Bc(t,e){gi.error(cB(t,e))}function cB(t,e){let n=Array.isArray(e)?e:[e];return t+"	"+n.map(uB).join(`
			`)}function uB(t){if(!t)return"";let e=lB(t,aB);return e?t.replace(e,"..."):t}function lB(t,e){let n=dB(t,e);return t.slice(0,n)}function dB(t,e){let n="/",i=t.split(n),r=e.split(n),s=Math.min(i.length,r.length),o=0;for(;o<s&&i[o]===r[o];)++o;return i.slice(0,o).join(n).length}var fB=/^(\w[\w-]{1,63}:\/|data:|stdin:)/i;function pB(t,e){return ss(t instanceof URL?t:new URL(t,e))}function QE(t){if(t=pB(t),t.protocol==="data:")return t;let e=t.pathname.endsWith("/");if(!t.pathname.startsWith("/")){let i=t.pathname.split("/").slice(0,e?-2:-1).join("/");return i=i&&i+"/"||"",new URL(t.protocol+(t.host?"//"+t.host:"")+i+t.search+t.hash)}return new URL(e?"..":".",t)}function Wc(t){return t instanceof URL||fB.test(t)}function ZE(t,e){return e=e.endsWith(":")?e:e+":",typeof t=="string"?t.startsWith(e):t.protocol===e}function ek(t){if(t.pathname.endsWith("/"))return t;let e=new URL(t.href);return e.pathname+="/",e}function tk(t,e){let n=t.pathname,i=e.pathname;if(n===i)return"";if(n=n.endsWith("/")?n:new URL("./",t).pathname,i.startsWith(n))return decodeURIComponent(i.slice(n.length));let r=n,s=i;if(s.startsWith(r))return decodeURIComponent(r===s?"":s.slice(r.lastIndexOf("/")+1));let o=r.split("/").slice(0,-1),a=s.split("/"),c=0;for(c=0;c<o.length&&c<a.length-1&&o[c]===a[c];++c);let u="../".repeat(o.length-c)+a.slice(c).join("/");return decodeURIComponent(u.length<s.length?u:s)}var Vm=/^[\\/]([a-zA-Z]:[\\/])/;var hB=/^(\/+[a-zA-Z])\$/;function ss(t){if(t=typeof t=="string"?new URL(t):t,t.protocol==="file:"){let e=t.pathname.replaceAll("%3A",":").replaceAll("%3a",":").replaceAll("%24","$");if(t.host||(e=e.replace(hB,"$1:")),e=e.replace(Vm,n=>n.toUpperCase()),e!==t.pathname)return t=new URL(t),t.pathname=e,YE(t)}return YE(t)}function YE(t){return t.href.startsWith("file:////")?new URL(t.href.replace(/^file:\/{4}/,"file://")):t}var sk=De(require("node:assert"),1),Ur=De(require("node:path"),1),ok=require("node:url");var oa=require("node:url");var aa=process.platform==="win32",gB=/^\/[a-zA-Z]:\//;function Hm(t){return gB.test(t)}function zm(t){return ZE(t,"file:")}function nk(t){return zm(t)&&t.toString().startsWith("file:///")?mB(t):t.toString()}function mB(t){try{if(aa){let e=new URL(t);if(!Hm(e.pathname)){let n=(0,oa.pathToFileURL)(process.cwd());if(n.hostname)return(0,oa.fileURLToPath)(new URL(e.pathname,n));let i=n.pathname.split("/")[1];return e.pathname=`/${i}${e.pathname}`,(0,oa.fileURLToPath)(e)}}return Jm((0,oa.fileURLToPath)(t))}catch{return t.toString()}}var Gm=/^([a-zA-Z]):[\\/]/;function Jm(t){return t.replace(Gm,e=>e.toUpperCase())}var yB=/^file:\/\/\/[a-zA-Z]:\//;function ik(t){return yB.test(t.toString())}var CB=Gm,vB=Vm,SB=/%/g,bB=/\\/g,DB=/\n/g,TB=/\r/g,wB=/\t/g,xB=/\?/g,EB=/#/g,rk="file:",Sd=class{windows;path;cwd;constructor(e={}){let n=e.path?.sep;this.windows=e.windows??(n?n==="\\":void 0)??aa,this.path=e.path??(this.windows?Ur.default.win32:Ur.default.posix),this.cwd=e.cwd??this.pathToFileURL(this.path.resolve()+"/",this.rootFileURL()),(0,sk.default)(this.path.sep===(this.windows?"\\":"/"),`Path separator should match OS type Windows: ${this.windows===!0?"true":(this.windows??"undefined")||"false"}, sep: ${this.path.sep}, options: `+JSON.stringify({isWindows:aa,sep:`${n}`,windows:e.windows,pathSep:e.path?.sep,n:e.path?.normalize("path/file.txt"),cwd:e.cwd?.href,win32:this.path===Ur.default.win32,posix:this.path===Ur.default.posix,"win32.normalize":this.path.normalize===Ur.default.win32.normalize,"posix.normalize":this.path.normalize===Ur.default.posix.normalize}))}encodePathChars(e){return e=e.replaceAll(SB,"%25"),!this.windows&&!aa&&e.includes("\\")&&(e=e.replaceAll(bB,"%5C")),e=e.replaceAll(DB,"%0A"),e=e.replaceAll(TB,"%0D"),e=e.replaceAll(wB,"%09"),e}normalizeFilePathForUrl(e){return e=this.encodePathChars(e),e=e.replaceAll(xB,"%3F"),e=e.replaceAll(EB,"%23"),e.replaceAll("\\","/").replace(CB,i=>`/${i}`.toUpperCase())}toFileURL(e,n){return ss(this.#e(e,n))}#e(e,n){if(typeof e!="string")return e;if(Wc(e))return ss(new URL(e));if(n??=this.cwd,aa&&(e=e.replaceAll("\\","/")),this.isAbsolute(e)&&zm(n)){let s=this.normalizeFilePathForUrl(e);if(ik(n)&&!Hm(s)){let o=n.toString().slice(0,10);return ss(new URL(o+s))}return ss(new URL("file://"+s))}if(Wc(n)){let s=this.normalizeFilePathForUrl(e);return ss(new URL(s,n))}let i=e.endsWith("/")?"/":"",r=this.normalizeFilePathForUrl(this.path.resolve(n.toString(),e))+i;return ss(new URL("file://"+r))}toFileDirURL(e,n){return ek(this.toFileURL(e,n))}urlToFilePathOrHref(e){return e=this.toFileURL(e),this.#t(e)}#t(e){if(e.protocol!==rk||e.hostname)return e.href;let n=this.path===Ur.default?nk(e):decodeURIComponent(e.pathname.split("/").join(this.path.sep));return Jm(n.replace(vB,"$1"))}relative(e,n){if(e.protocol===n.protocol&&e.protocol===rk){if(e.href===n.href)return"";e=e.pathname.endsWith("/")?e:new URL("./",e);let i=e.pathname,r=n.pathname;if(r.startsWith(i))return decodeURIComponent(r.slice(i.length));let s=this.#t(e),o=this.#t(n),a=n.pathname.endsWith("/"),c=this.normalizeFilePathForUrl(this.path.relative(s,o));return a&&!c.endsWith("/")&&(c+="/"),decodeURIComponent(c)}return decodeURIComponent(tk(e,n))}urlDirname(e){return QE(this.toFileURL(e))}pathToFileURL(e,n){return new URL(this.normalizeFilePathForUrl(e),n||this.cwd)}rootFileURL(e){let n=this.path,i=n.parse(n.normalize(n.resolve(e??".")));return new URL(this.normalizeFilePathForUrl(i.root),this.#n())}#n(){if(this.path===Ur.default)return(0,ok.pathToFileURL)("/");let e=this.path.resolve("/");return new URL(this.normalizeFilePathForUrl(e),"file:///")}isAbsolute(e){return Wc(e)||this.path.isAbsolute(e)}isUrlLike(e){return Wc(e)}};var kB=new Sd;function Xm(t,e){return kB.toFileURL(t,e)}var ak;(()=>{"use strict";var t={470:r=>{function s(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function o(c,u){for(var f,g="",p=0,l=-1,d=0,h=0;h<=c.length;++h){if(h<c.length)f=c.charCodeAt(h);else{if(f===47)break;f=47}if(f===47){if(!(l===h-1||d===1))if(l!==h-1&&d===2){if(g.length<2||p!==2||g.charCodeAt(g.length-1)!==46||g.charCodeAt(g.length-2)!==46){if(g.length>2){var m=g.lastIndexOf("/");if(m!==g.length-1){m===-1?(g="",p=0):p=(g=g.slice(0,m)).length-1-g.lastIndexOf("/"),l=h,d=0;continue}}else if(g.length===2||g.length===1){g="",p=0,l=h,d=0;continue}}u&&(g.length>0?g+="/..":g="..",p=2)}else g.length>0?g+="/"+c.slice(l+1,h):g=c.slice(l+1,h),p=h-l-1;l=h,d=0}else f===46&&d!==-1?++d:d=-1}return g}var a={resolve:function(){for(var c,u="",f=!1,g=arguments.length-1;g>=-1&&!f;g--){var p;g>=0?p=arguments[g]:(c===void 0&&(c=process.cwd()),p=c),s(p),p.length!==0&&(u=p+"/"+u,f=p.charCodeAt(0)===47)}return u=o(u,!f),f?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(c){if(s(c),c.length===0)return".";var u=c.charCodeAt(0)===47,f=c.charCodeAt(c.length-1)===47;return(c=o(c,!u)).length!==0||u||(c="."),c.length>0&&f&&(c+="/"),u?"/"+c:c},isAbsolute:function(c){return s(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,u=0;u<arguments.length;++u){var f=arguments[u];s(f),f.length>0&&(c===void 0?c=f:c+="/"+f)}return c===void 0?".":a.normalize(c)},relative:function(c,u){if(s(c),s(u),c===u||(c=a.resolve(c))===(u=a.resolve(u)))return"";for(var f=1;f<c.length&&c.charCodeAt(f)===47;++f);for(var g=c.length,p=g-f,l=1;l<u.length&&u.charCodeAt(l)===47;++l);for(var d=u.length-l,h=p<d?p:d,m=-1,C=0;C<=h;++C){if(C===h){if(d>h){if(u.charCodeAt(l+C)===47)return u.slice(l+C+1);if(C===0)return u.slice(l+C)}else p>h&&(c.charCodeAt(f+C)===47?m=C:C===0&&(m=0));break}var D=c.charCodeAt(f+C);if(D!==u.charCodeAt(l+C))break;D===47&&(m=C)}var w="";for(C=f+m+1;C<=g;++C)C!==g&&c.charCodeAt(C)!==47||(w.length===0?w+="..":w+="/..");return w.length>0?w+u.slice(l+m):(l+=m,u.charCodeAt(l)===47&&++l,u.slice(l))},_makeLong:function(c){return c},dirname:function(c){if(s(c),c.length===0)return".";for(var u=c.charCodeAt(0),f=u===47,g=-1,p=!0,l=c.length-1;l>=1;--l)if((u=c.charCodeAt(l))===47){if(!p){g=l;break}}else p=!1;return g===-1?f?"/":".":f&&g===1?"//":c.slice(0,g)},basename:function(c,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');s(c);var f,g=0,p=-1,l=!0;if(u!==void 0&&u.length>0&&u.length<=c.length){if(u.length===c.length&&u===c)return"";var d=u.length-1,h=-1;for(f=c.length-1;f>=0;--f){var m=c.charCodeAt(f);if(m===47){if(!l){g=f+1;break}}else h===-1&&(l=!1,h=f+1),d>=0&&(m===u.charCodeAt(d)?--d==-1&&(p=f):(d=-1,p=h))}return g===p?p=h:p===-1&&(p=c.length),c.slice(g,p)}for(f=c.length-1;f>=0;--f)if(c.charCodeAt(f)===47){if(!l){g=f+1;break}}else p===-1&&(l=!1,p=f+1);return p===-1?"":c.slice(g,p)},extname:function(c){s(c);for(var u=-1,f=0,g=-1,p=!0,l=0,d=c.length-1;d>=0;--d){var h=c.charCodeAt(d);if(h!==47)g===-1&&(p=!1,g=d+1),h===46?u===-1?u=d:l!==1&&(l=1):u!==-1&&(l=-1);else if(!p){f=d+1;break}}return u===-1||g===-1||l===0||l===1&&u===g-1&&u===f+1?"":c.slice(u,g)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function(u,f){var g=f.dir||f.root,p=f.base||(f.name||"")+(f.ext||"");return g?g===f.root?g+p:g+"/"+p:p}(0,c)},parse:function(c){s(c);var u={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return u;var f,g=c.charCodeAt(0),p=g===47;p?(u.root="/",f=1):f=0;for(var l=-1,d=0,h=-1,m=!0,C=c.length-1,D=0;C>=f;--C)if((g=c.charCodeAt(C))!==47)h===-1&&(m=!1,h=C+1),g===46?l===-1?l=C:D!==1&&(D=1):l!==-1&&(D=-1);else if(!m){d=C+1;break}return l===-1||h===-1||D===0||D===1&&l===h-1&&l===d+1?h!==-1&&(u.base=u.name=d===0&&p?c.slice(1,h):c.slice(d,h)):(d===0&&p?(u.name=c.slice(1,l),u.base=c.slice(1,h)):(u.name=c.slice(d,l),u.base=c.slice(d,h)),u.ext=c.slice(l,h)),d>0?u.dir=c.slice(0,d-1):p&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,r.exports=a}},e={};function n(r){var s=e[r];if(s!==void 0)return s.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.d=(r,s)=>{for(var o in s)n.o(s,o)&&!n.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:s[o]})},n.o=(r,s)=>Object.prototype.hasOwnProperty.call(r,s),n.r=r=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var i={};(()=>{let r;n.r(i),n.d(i,{URI:()=>p,Utils:()=>Z}),typeof process=="object"?r=process.platform==="win32":typeof navigator=="object"&&(r=navigator.userAgent.indexOf("Windows")>=0);let s=/^\w[\w\d+.-]*$/,o=/^\//,a=/^\/\//;function c(H,M){if(!H.scheme&&M)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${H.authority}", path: "${H.path}", query: "${H.query}", fragment: "${H.fragment}"}`);if(H.scheme&&!s.test(H.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(H.path){if(H.authority){if(!o.test(H.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(H.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let u="",f="/",g=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{static isUri(M){return M instanceof p||!!M&&typeof M.authority=="string"&&typeof M.fragment=="string"&&typeof M.path=="string"&&typeof M.query=="string"&&typeof M.scheme=="string"&&typeof M.fsPath=="string"&&typeof M.with=="function"&&typeof M.toString=="function"}scheme;authority;path;query;fragment;constructor(M,V,Q,he,de,ge=!1){typeof M=="object"?(this.scheme=M.scheme||u,this.authority=M.authority||u,this.path=M.path||u,this.query=M.query||u,this.fragment=M.fragment||u):(this.scheme=function(Ge,Ee){return Ge||Ee?Ge:"file"}(M,ge),this.authority=V||u,this.path=function(Ge,Ee){switch(Ge){case"https":case"http":case"file":Ee?Ee[0]!==f&&(Ee=f+Ee):Ee=f}return Ee}(this.scheme,Q||u),this.query=he||u,this.fragment=de||u,c(this,ge))}get fsPath(){return D(this,!1)}with(M){if(!M)return this;let{scheme:V,authority:Q,path:he,query:de,fragment:ge}=M;return V===void 0?V=this.scheme:V===null&&(V=u),Q===void 0?Q=this.authority:Q===null&&(Q=u),he===void 0?he=this.path:he===null&&(he=u),de===void 0?de=this.query:de===null&&(de=u),ge===void 0?ge=this.fragment:ge===null&&(ge=u),V===this.scheme&&Q===this.authority&&he===this.path&&de===this.query&&ge===this.fragment?this:new d(V,Q,he,de,ge)}static parse(M,V=!1){let Q=g.exec(M);return Q?new d(Q[2]||u,B(Q[4]||u),B(Q[5]||u),B(Q[7]||u),B(Q[9]||u),V):new d(u,u,u,u,u)}static file(M){let V=u;if(r&&(M=M.replace(/\\/g,f)),M[0]===f&&M[1]===f){let Q=M.indexOf(f,2);Q===-1?(V=M.substring(2),M=f):(V=M.substring(2,Q),M=M.substring(Q)||f)}return new d("file",V,M,u,u)}static from(M){let V=new d(M.scheme,M.authority,M.path,M.query,M.fragment);return c(V,!0),V}toString(M=!1){return w(this,M)}toJSON(){return this}static revive(M){if(M){if(M instanceof p)return M;{let V=new d(M);return V._formatted=M.external,V._fsPath=M._sep===l?M.fsPath:null,V}}return M}}let l=r?1:void 0;class d extends p{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=D(this,!1)),this._fsPath}toString(M=!1){return M?w(this,!0):(this._formatted||(this._formatted=w(this,!1)),this._formatted)}toJSON(){let M={$mid:1};return this._fsPath&&(M.fsPath=this._fsPath,M._sep=l),this._formatted&&(M.external=this._formatted),this.path&&(M.path=this.path),this.scheme&&(M.scheme=this.scheme),this.authority&&(M.authority=this.authority),this.query&&(M.query=this.query),this.fragment&&(M.fragment=this.fragment),M}}let h={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function m(H,M,V){let Q,he=-1;for(let de=0;de<H.length;de++){let ge=H.charCodeAt(de);if(ge>=97&&ge<=122||ge>=65&&ge<=90||ge>=48&&ge<=57||ge===45||ge===46||ge===95||ge===126||M&&ge===47||V&&ge===91||V&&ge===93||V&&ge===58)he!==-1&&(Q+=encodeURIComponent(H.substring(he,de)),he=-1),Q!==void 0&&(Q+=H.charAt(de));else{Q===void 0&&(Q=H.substr(0,de));let Ge=h[ge];Ge!==void 0?(he!==-1&&(Q+=encodeURIComponent(H.substring(he,de)),he=-1),Q+=Ge):he===-1&&(he=de)}}return he!==-1&&(Q+=encodeURIComponent(H.substring(he))),Q!==void 0?Q:H}function C(H){let M;for(let V=0;V<H.length;V++){let Q=H.charCodeAt(V);Q===35||Q===63?(M===void 0&&(M=H.substr(0,V)),M+=h[Q]):M!==void 0&&(M+=H[V])}return M!==void 0?M:H}function D(H,M){let V;return V=H.authority&&H.path.length>1&&H.scheme==="file"?`//${H.authority}${H.path}`:H.path.charCodeAt(0)===47&&(H.path.charCodeAt(1)>=65&&H.path.charCodeAt(1)<=90||H.path.charCodeAt(1)>=97&&H.path.charCodeAt(1)<=122)&&H.path.charCodeAt(2)===58?M?H.path.substr(1):H.path[1].toLowerCase()+H.path.substr(2):H.path,r&&(V=V.replace(/\//g,"\\")),V}function w(H,M){let V=M?C:m,Q="",{scheme:he,authority:de,path:ge,query:Ge,fragment:Ee}=H;if(he&&(Q+=he,Q+=":"),(de||he==="file")&&(Q+=f,Q+=f),de){let ke=de.indexOf("@");if(ke!==-1){let ht=de.substr(0,ke);de=de.substr(ke+1),ke=ht.lastIndexOf(":"),ke===-1?Q+=V(ht,!1,!1):(Q+=V(ht.substr(0,ke),!1,!1),Q+=":",Q+=V(ht.substr(ke+1),!1,!0)),Q+="@"}de=de.toLowerCase(),ke=de.lastIndexOf(":"),ke===-1?Q+=V(de,!1,!0):(Q+=V(de.substr(0,ke),!1,!0),Q+=de.substr(ke))}if(ge){if(ge.length>=3&&ge.charCodeAt(0)===47&&ge.charCodeAt(2)===58){let ke=ge.charCodeAt(1);ke>=65&&ke<=90&&(ge=`/${String.fromCharCode(ke+32)}:${ge.substr(3)}`)}else if(ge.length>=2&&ge.charCodeAt(1)===58){let ke=ge.charCodeAt(0);ke>=65&&ke<=90&&(ge=`${String.fromCharCode(ke+32)}:${ge.substr(2)}`)}Q+=V(ge,!0,!1)}return Ge&&(Q+="?",Q+=V(Ge,!1,!1)),Ee&&(Q+="#",Q+=M?Ee:m(Ee,!1,!1)),Q}function k(H){try{return decodeURIComponent(H)}catch{return H.length>3?H.substr(0,3)+k(H.substr(3)):H}}let A=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function B(H){return H.match(A)?H.replace(A,M=>k(M)):H}var W=n(470);let U=W.posix||W,ee="/";var Z;(function(H){H.joinPath=function(M,...V){return M.with({path:U.join(M.path,...V)})},H.resolvePath=function(M,...V){let Q=M.path,he=!1;Q[0]!==ee&&(Q=ee+Q,he=!0);let de=U.resolve(Q,...V);return he&&de[0]===ee&&!M.authority&&(de=de.substring(1)),M.with({path:de})},H.dirname=function(M){if(M.path.length===0||M.path===ee)return M;let V=U.dirname(M.path);return V.length===1&&V.charCodeAt(0)===46&&(V=""),M.with({path:V})},H.basename=function(M){return U.basename(M.path)},H.extname=function(M){return U.extname(M.path)}})(Z||(Z={}))})(),ak=i})();var{URI:Kc,Utils:vr}=ak;var Qm=["file","gist","repo","sftp","untitled","vscode-notebook-cell","vscode-scm","vscode-userdata","comment"],Zm=new Set(Qm);var ck=/^[\w._-]{2,}:/;function bd(t){return FB(t)}function FB(t){if(typeof t=="string")return ck.test(t)?Kc.parse(t):Kc.parse(Xm(t).toString());if(t)return t instanceof URL?Kc.parse(t.toString()):t}function PB(t,e){if(t.scheme!==e.scheme)return uk(e).toString();let n=Ym(t),i=Ym(e),r=0;for(r=0;r<n.length&&r<i.length;++r){let o=n[r],a=i[r];if(o===a)continue;let c=decodeURIComponent(o).toLowerCase(),u=decodeURIComponent(a).toLowerCase();if(!(c.endsWith(":")&&c==u&&c.length==2))break}return("../".repeat(n.length-r)+i.slice(r).join("/")).replace(/\/$/,"")}function uk(t){return t.with({fragment:"",query:""})}function Ii(t,e={}){let{segments:n=2,relativeTo:i}=e;if(i){let s=PB(bd(i),t);if(!ck.test(s))return s.split("/").slice(-n).join("/")}return Ym(t).slice(-n).join("/")}function Ym(t){return uk(t).toString().split("/").filter(e=>!!e)}function lk(t){let e=Kc.isUri(t)?t:bd(t.toString());return e.scheme==="file"?e.fsPath:e.toString()}function ey(t){return[...new Set(t)]}function co(t){let e=new Set;return t?n=>{let i=t(n);return!e.has(i)&&(e.add(i),!0)}:n=>!e.has(n)&&(e.add(n),!0)}function vn(t){return t!=null}function dk(t,e){let n={};for(let i of e)n[i]=t[i];return n}Symbol.dispose??=Symbol("Symbol.dispose");var fk=Symbol("Disposable Name"),pk=Symbol("Disposable Timestamp"),os=Symbol("Disposable Is Disposed"),Sr,Vc=0,$c=0;function Kn(t,e,n){let i=!1,r=!1,s={dispose:o,[Symbol.dispose]:o,[pk]:performance.now(),[fk]:n||void 0,[os]:!1};return++$c,Sr?.debug(ca()+"Created: %s, active: %i",Dd(s),$c),s;function o(){try{if(Sr?.debug(ca()+"Dispose Start -> %s Active %i",Dd(s),$c),++Vc,i){s[os]=!0,Sr?.warn("Already disposed %s",Dd(s));return}--$c,s[os]=i=!0,e?t.call(e):t()}catch(a){throw r=!0,a}finally{--Vc,Sr?.debug(ca()+"Dispose End   -> %s Active %i%s",Dd(s),$c,r?" ** with errors ** ":"")}}}function Dd(t){let e=RB(t)||"",n=hk(t)?.toFixed(4);return e+" "+n}function uo(t,e,n){return Object.assign(t,Kn(e,t,n))}function Td(t,e="createDisposableFromList"){return Kn(ua(t),void 0,e)}function ua(t,e=""){let n=!1,i=performance.now().toFixed(4);Sr&&(e="createDisposeMethodFromList "+(e||"<anonymous>")),Sr?.debug(ca()+"Create: %s %s",e,i);let r=0;function s(){try{Sr?.debug(ca()+"Dispose Start -> %s %s",e,i),++Vc;let o;if(n&&(Sr?.warn("Already disposed %s with %o open.",e,t.length),!t.length))return;n=!0;let a;for(;a=t.pop();)try{ln(a)}catch(c){++r,o??=c}if(o)throw Sr?.warn(o),o}finally{--Vc,Sr?.debug(ca()+"Dispose End   -> %s %s%s",e,i,r?` *** with ${r} errors ***`:"")}}return s}function ln(t){if(!t)return;if(typeof t=="function"){t();return}let e=t;if(typeof e[Symbol.dispose]=="function"){e[Symbol.dispose].call(t);return}e.dispose.call(t)}function as(t,e="makeDisposable"){return AB(t)?t:Symbol.dispose in t?Kn(t[Symbol.dispose],t,e):"dispose"in t?Kn(t.dispose,t,e):Kn(t,void 0,e)}function RB(t){return t[fk]}function hk(t){return t[pk]}function AB(t){return!t||typeof t!="object"?!1:os in t}function ca(){return" ".repeat(Vc)}var IB=()=>{},la=class{dispose;[Symbol.dispose]=IB;[os]=!1;_disposables;constructor(e,n="InheritableDisposable"){this._disposables=e??[];let i=ua(this._disposables,n),r=()=>{this.isDisposed()||(this[os]=!0,i(),Object.freeze(this._disposables))};this.dispose=r,this[Symbol.dispose]=r}isDisposed(){return this[os]}},wd=class extends la{disposables;name;#e;constructor(e=[],n="DisposableList"){super(e),this.disposables=e,this.name=n,this.#e=new WeakSet(e)}push(...e){if(this.isDisposed())throw new Error("Already disposed, cannot add items.");let n=0;for(let i of e)this.add(i)&&n++;return n}add(e){return!e||this.#e.has(e)?!1:(this.#e.add(e),this.disposables.push(e),!0)}delete(e){if(!e)return!0;this.#e.delete(e);let n=this.disposables.indexOf(e);return n<0?!1:(this.disposables.splice(n,1),!0)}get length(){return this.disposables.length}isDisposed(){return super.isDisposed()}has(e){return e?this.#e.has(e):!1}};function Ye(t,e){return new wd(t,e)}var qt=De(require("vscode"),1);var mi={};zE(mi,De(bk(),1));var MB={git:!1,output:!1,debug:!1},qB={gist:!0,repo:!0,file:!0,sftp:!0,untitled:!0,"vscode-notebook-cell":!0,"vscode-vfs":!0,vsls:!0,...MB};function UB(t,e){if(e.allowedSchemas){let n=Object.fromEntries(e.allowedSchemas.map(i=>[i,!0]));t={...t,...n}}return e.enabledSchemes&&(t={...t,...e.enabledSchemes}),t}function Tk(...t){let e={...qB};return t.reduce(UB,e)}function ny(...t){let e=Tk(...t);return Object.entries(e).filter(([,n])=>n).map(([n])=>n)}function Dk(t,e){if(!e)return t;let n=Object.fromEntries(WB(e).map(i=>i.startsWith("!")?[i.slice(1),!1]:[i,!0]));return t={...t,...n},t}function jB(t,e){return e?{...t,...e}:t}function BB(t,e){return t=Dk(t,e.enabledLanguageIds),t=Dk(t,e.enableFiletypes),t=jB(t,e.enabledFileTypes),t}function kd(t,e={}){return BB(e,t)}function iy(t){return Object.keys(kd(t)).sort()}function WB(t){return t.map(e=>e.replace(/!/g,"~")).sort().map(e=>e.replace(/~/g,"!")).map(e=>e.replace(/^(!!)+/,""))}var Me={...mi.ConfigFields,"advanced.feature.useReferenceProviderRemove":"advanced.feature.useReferenceProviderRemove","advanced.feature.useReferenceProviderWithRename":"advanced.feature.useReferenceProviderWithRename","experimental.symbols":"experimental.symbols",autoFormatConfigFile:"autoFormatConfigFile",blockCheckingWhenAverageChunkSizeGreaterThan:"blockCheckingWhenAverageChunkSizeGreaterThan",blockCheckingWhenLineLengthGreaterThan:"blockCheckingWhenLineLengthGreaterThan",blockCheckingWhenTextChunkSizeGreaterThan:"blockCheckingWhenTextChunkSizeGreaterThan",checkLimit:"checkLimit",checkOnlyEnabledFileTypes:"checkOnlyEnabledFileTypes",checkVSCodeSystemFiles:"checkVSCodeSystemFiles",customDictionaries:"customDictionaries",customFolderDictionaries:"customFolderDictionaries",customUserDictionaries:"customUserDictionaries",customWorkspaceDictionaries:"customWorkspaceDictionaries",diagnosticLevel:"diagnosticLevel",diagnosticLevelFlaggedWords:"diagnosticLevelFlaggedWords",fixSpellingWithRenameProvider:"fixSpellingWithRenameProvider",hideAddToDictionaryCodeActions:"hideAddToDictionaryCodeActions",logLevel:"logLevel",logFile:"logFile",maxDuplicateProblems:"maxDuplicateProblems",maxNumberOfProblems:"maxNumberOfProblems",mergeCSpellSettings:"mergeCSpellSettings",mergeCSpellSettingsFields:"mergeCSpellSettingsFields",noSuggestDictionaries:"noSuggestDictionaries",reportUnknownWords:"reportUnknownWords",showAutocompleteDirectiveSuggestions:"showAutocompleteDirectiveSuggestions",showCommandsInEditorContextMenu:"showCommandsInEditorContextMenu",showStatus:"showStatus",showStatusAlignment:"showStatusAlignment",showSuggestionsLinkInEditorContextMenu:"showSuggestionsLinkInEditorContextMenu",spellCheckDelayMs:"spellCheckDelayMs",spellCheckOnlyWorkspaceFiles:"spellCheckOnlyWorkspaceFiles",suggestionMenuType:"suggestionMenuType",suggestionNumChanges:"suggestionNumChanges",suggestionsTimeout:"suggestionsTimeout",useLocallyInstalledCSpellDictionaries:"useLocallyInstalledCSpellDictionaries",workspaceRootPath:"workspaceRootPath",trustedWorkspace:"trustedWorkspace",allowedSchemas:"allowedSchemas",enabledFileTypes:"enabledFileTypes",enabledLanguageIds:"enabledLanguageIds",enabledSchemes:"enabledSchemes",hideIssuesWhileTyping:"hideIssuesWhileTyping",revealIssuesAfterDelayMS:"revealIssuesAfterDelayMS",useCustomDecorations:"useCustomDecorations",doNotUseCustomDecorationForScheme:"doNotUseCustomDecorationForScheme",textDecoration:"textDecoration",textDecorationLine:"textDecorationLine",textDecorationStyle:"textDecorationStyle",textDecorationThickness:"textDecorationThickness",textDecorationColor:"textDecorationColor",textDecorationColorFlagged:"textDecorationColorFlagged",textDecorationColorSuggestion:"textDecorationColorSuggestion",overviewRulerColor:"overviewRulerColor",dark:"dark",light:"light"};var _n=De(require("vscode"),1);var Oq=require("util"),Oe=require("vscode");var KB={name:void 0,extensionContext:void 0,client:void 0,dictionaryHelper:void 0,issueTracker:void 0,eventLogger:void 0},$B=Object.keys(KB),fa={};function Hc(){return fa}function wk(t,e){Object.defineProperty(fa,t,{get:function(){let n=e();return Object.defineProperty(this,t,{value:n}),n}})}function Ze(t){if(Object.getOwnPropertyDescriptor(fa,t)===void 0)throw new Error(`Missing Dependency Resolver: '${t}'`);return fa[t]}function lo(){return Ze("client")}function ry(){return Ze("extensionContext")}function sy(){return Ze("issueTracker")}function zc(t,e){Object.defineProperty(fa,t,{value:e,configurable:!0,enumerable:!0})}function VB(t){Object.defineProperty(fa,t,{get:function(){throw new Error(`Missing Dependency: ${t}`)},configurable:!0,enumerable:!0})}function HB(){$B.forEach(VB)}HB();var ly=De(require("vscode"),1);var oy=require("vscode");function Ve(t){return typeof t=="string"?oy.Uri.from(bd(t)):t&&oy.Uri.from(t)||void 0}var Gc={Dictionary:"dictionary",Cspell:"cspell",Vscode:"vscode"};function ay(t){return e=>typeof e=="object"&&e.kind===t}var _te=ay(Gc.Dictionary),Nte=ay(Gc.Cspell),Ote=ay(Gc.Vscode),Fd={user:1,workspace:2,folder:3,unknown:4};function zB(t,e){return Fd[t]-Fd[e]}function GB(t,e){return Fd[e]-Fd[t]}function Jc(t,e=!0){let n=e?GB:zB;return[...t].sort(n)}var br=require("vscode"),xk={[br.ConfigurationTarget.Global]:"user",[br.ConfigurationTarget.Workspace]:"workspace",[br.ConfigurationTarget.WorkspaceFolder]:"folder"},JB={user:br.ConfigurationTarget.Global,workspace:br.ConfigurationTarget.Workspace,folder:br.ConfigurationTarget.WorkspaceFolder},cy=[br.ConfigurationTarget.Global,br.ConfigurationTarget.Workspace,br.ConfigurationTarget.WorkspaceFolder];function Oi(t){return xk[t]}function Pd(t){return XB(t)}function XB(t){return JB[t]}function uy(t){return xk[t]}function Ek(t){let e=[],n=cy.indexOf(t);if(n<0)return e;for(let i=n;i<cy.length;++i)e.push(uy(cy[i]));return e.push("unknown"),e}var YB={dictionary:"dictionary",cspell:"cspell",vscode:"vscode",unknown:"unknown",folder:"folder",workspace:"workspace",user:"user"};var fo={dictionary:!0,cspell:!0,vscode:!0};var QB={cspell:!0},fy={vscode:!0},ZB={dictionary:!0,cspell:!1,vscode:!1};var Xc={unknown:!0,folder:!0,workspace:!0,user:!0},eW={unknown:!0,folder:!0,workspace:!0,user:!1},kk={user:!0},Fk={workspace:!0},Pk={folder:!0};var tW=Object.freeze(Object.values(Gc)),nW=Object.freeze(Object.values(YB)),Rd=cs(fo,eW),Rk=cs(fo,kk),Ak=cs(fo,Fk),Ik=cs(fo,Pk),_k=cs(QB,Xc),Nk=cs(fy,kk),Ok=cs(fy,Fk),Lk=cs(fy,Pk),Ad=Yc(lW(ZB),Xc),Vte=Yc(fo,Xc);function iW(t,e){let n=[];for(let i of e)if(!(!t[i.kind]||!t[i.scope])){if(n.length&&(n[0].kind!==i.kind||n[0].scope!==i.scope))break;n.push(i)}return n}function cs(...t){let e=Yc(...t);return rW(e)}function rW(t,e=!1){return async function(n){let i=iW(t,n);return Id(i,e)}}async function Id(t,e=!1){if(!t.length)throw new dy("No matching configuration found.");if(t.length===1)return t;let n="Choose Destination",i=t.map(o=>({label:o.name,_found:o})),r=e?await ly.window.showQuickPick(i,{title:n,canPickMany:!0}):await ly.window.showQuickPick(i,{title:n});return r?(Array.isArray(r)?r:[r]).map(o=>o._found):void 0}async function _d(t){let e=await Id(t,!1);return e&&e[0]}function Nd(t,e){let n=typeof e=="function"?e:sW(e);return t.filter(n)}function Mk(t,e){return t.filter(n=>n.kind!=="cspell"||e in mi.ConfigFields)}function sW(t){return e=>oW(e,t)}function oW(t,e){return!!e[t.kind]&&!!e[t.scope]}function Yc(...t){let e={};for(let n of t)typeof n=="string"?e[n]=!0:e=aW(e,n,nW);return e}function aW(t,e,n){let i=Object.assign({},t);for(let r of n){let s=e[r];s!==void 0&&(i[r]=s)}return i}function cW(t,e){let n={};for(let i of e)n[i]=uW(t[i]);return n}function uW(t){return t===void 0?void 0:!t}function lW(t){return cW(t,tW)}function qk(t,e,n){let i=Oi(t);return{kind:"vscode",scope:i,name:i,docUri:Ve(e),configScope:n}}var dy=class extends Error{};var py=require("util"),jk=require("vscode");function Qc(t){if(t instanceof Error)return!0;if(!t||typeof t!="object")return!1;let e=t;return e.message!==void 0&&e.name!==void 0}function Zc(t,e){return!Wk(t)&&Qc(t)?(console.error(gy(t,e)),po(jk.window.showErrorMessage(t.message),"showError Resolver showErrorMessage").then(()=>{})):Promise.resolve(void 0)}function eu(t,e){return!Wk(t)&&Qc(t)&&console.log(gy(t,e)),Promise.resolve(void 0)}function hy(t,e){let n=gy(t,e);return Promise.resolve(void 0)}function et(t,e,n=Zc){return(typeof t=="function"?(async()=>t())():t).catch(dW(e,n))}function tu(t,e,n=Zc){return(...i)=>et(()=>t(...i),e,n)}function dn(t,e){return et(Promise.resolve(t),e,eu)}function po(t,e){return et(Promise.resolve(t),e,hy)}function Bk(t,e){return et(Promise.resolve(t),e,Zc)}function dW(t,e){return n=>e(n,t)}function gy(t,e){return(0,py.format)("Error: context (%s): %o",e,t)}var Uk="Canceled";function Wk(t){return t instanceof Error&&t.name===Uk&&t.message===Uk}function pa(t){if(Qc(t))return t;let e=new Error((0,py.format)("Error: %o",t));return e.cause=t,e}function Kk(t,e){return jr(t,Ik,e)}function Od(t,e){return jr(t,Ak,e)}function Ld(t){return jr(t,Rk,void 0)}function jr(t,e,n){return et(fW(t,e,n),"addWordToTarget")}function fW(t,e,n){return n=Ve(n),Ze("dictionaryHelper").addWordsToTargets(t,e,n)}function Dr(t,e){return(n,i)=>t(n,e,i)}var In=require("vscode");var I8=require("vscode");var Ea=De(GF(),1),BA=require("vscode");var Hf=De(MA(),1);var kr=require("vscode");var Kf=require("vscode");async function qA(t){try{return!!(await Kf.workspace.fs.stat(t)).type}catch(e){if(!(e instanceof Kf.FileSystemError))throw e;return!1}}var wv=kr.workspace.fs,UA={FileNotFound:!0,EntryNotFound:!0,ENOENT:!0},m8=kr.FileSystemError.FileNotFound().code;UA[m8]=!0;async function y8(t){return await wv.createDirectory(t)}async function C8(t,e,n="utf8"){let i=xv(t);return i?v8(i,e):S8(t,e,n)}async function v8(t,e){let n=t.getText();if(n===e)return;let i=new kr.Range(t.positionAt(0),t.positionAt(n.length)),r=new kr.WorkspaceEdit;r.replace(t.uri,i,e),await kr.workspace.applyEdit(r),await t.save()}async function S8(t,e,n){return await wv.writeFile(t,Buffer.from(e,n))}async function b8(t,e){return Buffer.from(await wv.readFile(t)).toString(e)}function D8(t){return GE(t)?t.code in UA:!1}function xv(t){let e=t.toString(!0);return kr.workspace.textDocuments.find(n=>n.uri.toString(!0)===e)}var Ht={createDirectory:y8,writeFile:C8,readFile:b8,fileExists:qA,isFileNotFoundError:D8};function Ev(t,e){let n={};for(let i of e)n[i]=t[i];return n}var WA=Symbol("format"),T8=[{match:/package\.json$/i,handler:t=>new Av(t)},{match:/\.jsonc?$/i,handler:t=>new Rv(t)},{match:/\.ya?ml$/i,handler:t=>new Iv(t)}],w8=4,jA=2;async function _v(t,e){try{return await zf(t)._read()}catch(n){return Ht.isFileNotFoundError(n)?Promise.resolve(e):Promise.reject(n)}}function Nv(t,e){return zf(t).write(e)}function zf(t){return x8(t)}function x8(t){let e=E8(t);if(e)return e.handler(t);throw new Vf(t)}function E8(t){let n=t.with({fragment:"",query:""}).toString();for(let i of T8)if(i.match.test(n))return i}var Ov={version:"0.2",ignorePaths:[],dictionaryDefinitions:[],dictionaries:[],words:[],ignoreWords:[],import:[]};function KA(t,e){return t.catch(n=>{if(!Ht.isFileNotFoundError(n))throw n;return e})}var Vf=class extends Error{constructor(e){super(`Unhandled file type: "${vr.basename(e)}"`)}},kv=class extends Error{constructor(n,i,r){super(n);this.code=i;this.errno=r}},Fv=class extends Error{};function $f(t){let e=A8(t),n=(0,Ea.parse)(t);if(n==null)return{};if(typeof n!="object")throw new Fv("Invalid cspell JSON file.");return k8(n,e)}function Pv(t,e,n=!0){let i=F8(t);e=i?.spaces||e||w8;let r=i?.newlineAtEndOfFile??!0,s=n?(0,Ea.stringify)(t,null,e):JSON.stringify(t,null,e);return r?s+`
`:s}function k8(t,e){return t==null||typeof t!="object"||(t[WA]=e),t}function F8(t){if(!(t==null||typeof t!="object"))return t[WA]}function P8(t){return/\n$/.test(t)}function R8(t){let e=t.match(/^[ \t]+(?=")/m);if(e)return e[0]}function A8(t){return{spaces:R8(t),newlineAtEndOfFile:P8(t)}}var ju=class{constructor(e){this.uri=e}async read(e){return Ev(await this._read(),e)}update(e,n){return this._update(i=>e(Ev(i,n)))}async mkdir(){return await Ht.createDirectory(BA.Uri.joinPath(this.uri,".."))}},Rv=class extends ju{async _update(e){let n=await KA(this._read(),Ov),i=(0,Ea.assign)(n,e(n));return this.write(i)}async write(e){await this.mkdir();let n=Pv(e),i=n[n.length-1]!==`
`?n+`
`:n;return Ht.writeFile(this.uri,i)}async _read(){let e=this.uri,n=await Ht.readFile(e,"utf8");return $f(n)}},Av=class extends ju{async _update(e){let n=await Ht.readFile(this.uri,"utf8"),i=$f(n),r=i.cspell||{...Ov};return i.cspell=Object.assign(r,e(r)),Ht.writeFile(this.uri,Pv(i,jA,!1))}async write(e){let n=await Ht.readFile(this.uri,"utf8"),i=$f(n);return i.cspell=e,Ht.writeFile(this.uri,Pv(i,jA,!1))}async _read(){let e=await Ht.readFile(this.uri,"utf8"),n=$f(e);if(!n.cspell||typeof n.cspell!="object")throw new kv("`cspell` section missing from package.json","ENOENT");return n.cspell}},Iv=class extends ju{async _update(e){let n=await KA(this._read(),Ov),i=Object.assign({},n,e(n));return this.write(i)}async write(e){return await this.mkdir(),Ht.writeFile(this.uri,(0,Hf.stringify)(e))}async _read(){let e=await Ht.readFile(this.uri,"utf8");return(0,Hf.parse)(e)}};var _8="0.2";var N8=[".cspell.json","cspell.json",".cSpell.json","cSpell.json",".cspell.jsonc","cspell.jsonc",".vscode/cspell.json",".vscode/cSpell.json",".vscode/.cspell.json","cspell.config.json","cspell.config.jsonc","cspell.config.yaml","cspell.config.yml","cspell.yaml","cspell.yml","package.json","cspell.config.js","cspell.config.cjs","cspell.config.mjs",".config/.cspell.json",".config/cspell.json",".config/.cSpell.json",".config/cSpell.json",".config/.cspell.jsonc",".config/cspell.jsonc",".config/cspell.config.json",".config/cspell.config.jsonc",".config/cspell.config.yaml",".config/cspell.config.yml",".config/cspell.yaml",".config/cspell.yml",".config/cspell.config.js",".config/cspell.config.cjs"],$A=new Set(N8.map(t=>t.split("/").slice(-1)[0])),Lv=Object.freeze($A),O8=`**/{${[...$A].join(",")}}`;var Gf=".cspell",VA=["cspell.json","cspell.config.yaml","package.json"],Uie=Object.freeze({version:_8});var L8=/[^\w\p{L}\p{M}_'’-]+/gu,M8=/^[\w\p{L}\p{M}_'’-]+$/u;function HA(t){return M8.test(t)}function $r(t){return t=typeof t!="string"?t.join(" "):t,t.replace(L8," ").split(" ").map(e=>e.trim()).filter(e=>!!e).filter(co())}var $s=De(require("vscode"),1),fc=require("vscode");var VM=require("path"),zt=require("vscode");function bs(t,e){let n=q8(t,e);return{updateFn:r=>({[t]:n(r[t])}),keys:[t]}}function Mv(t,e){return{updateFn:typeof e=="function"?e:()=>e,keys:t}}function q8(t,e){return typeof e=="function"?e:()=>e}var Zt=require("vscode");var Bt="cSpell",Bu=Bt;var ka=require("vscode");var Wu=require("vscode");function Ds(t){if(!t)return Wu.window.activeTextEditor;let e=t.toString();for(let n of Wu.window.visibleTextEditors)if(n.document.uri.toString()===e)return n}function Fr(t){if(!t)return;let e=t.toString();for(let n of Wu.workspace.textDocuments)if(n.uri.toString()===e)return n}var U8={git:!0,output:!0,debug:!0,vscode:!0},j8=Object.freeze(Object.assign(Object.create(null),U8));function Jf(t){if(t===void 0||t.scheme in j8)return;let e=B8(t);if(e){let n=Xf(t);return n?{uri:n.notebook.uri,languageId:n.document.languageId}:e}if(t.scheme==="file")return t}function B8(t){let e=Fr(t);if(e)return e;let n=new Set(ka.workspace.workspaceFolders?.map(s=>s.uri.scheme)).add("file"),i,r=t.path;for(let s of ka.workspace.textDocuments){let o=s.uri;if(o.path===r&&(i=s,n.has(o.scheme)))return s}return i}function W8(t){return t.scheme==="vscode-notebook-cell"}function Ku(t){return Xf(t.uri)}function Xf(t){if(W8(t))for(let e of ka.workspace.notebookDocuments){let i=e.getCells().find(r=>r.document.uri.toString()===t.toString());if(i)return i}}function Yf(t){let e=Ku(t);return e?e.notebook:t}function zA(t){if(t){if(t instanceof ka.Uri)return t;if("uri"in t)return t.uri}}var _r=require("vscode");var Vi=require("vscode"),Us=De(ac());var El=require("vscode"),kl=De(ac()),lM={[El.DiagnosticSeverity.Error]:kl.DiagnosticSeverity.Error,[El.DiagnosticSeverity.Warning]:kl.DiagnosticSeverity.Warning,[El.DiagnosticSeverity.Information]:kl.DiagnosticSeverity.Information,[El.DiagnosticSeverity.Hint]:kl.DiagnosticSeverity.Hint};function fM(t){return Us.CodeAction.is(t)}function pM(t){let e=t.kind!==void 0&&Vi.CodeActionKind.Empty.append(t.kind)||void 0,n=new Vi.CodeAction(t.title,e);return n.command=t.command&&t.command,n}function hM(t){return Us.Diagnostic.create(dw(t.range),t.message,lM[t.severity],void 0,t.source)}function dw(t){let{start:e,end:n}=t;return Us.Range.create(dM(e),dM(n))}function dM(t){let{line:e,character:n}=t;return Us.Position.create(e,n)}function Uh(t){return t instanceof Vi.Position?t:Array.isArray(t)?new Vi.Position(t[0],t[1]):new Vi.Position(t.line,t.character)}function gM(t){return t instanceof Vi.Range?t:Array.isArray(t)?new Vi.Range(Uh(t[0]),Uh(t[1])):new Vi.Range(Uh(t.start),Uh(t.end))}var mM=["al","asciidoc","bat","c","clojure","coffeescript","cpp","csharp","css","dart","diff","dockerfile","elixir","erlang","fsharp","git-commit","git-rebase","github-actions-workflow","go","graphql","groovy","handlebars","haskell","html","ini","jade","java","javascript","javascriptreact","json","jsonc","julia","jupyter","latex","less","lua","makefile","markdown","objective-c","perl","perl6","php","plaintext","powershell","properties","pug","python","r","razor","restructuredtext","ruby","rust","scala","scminput","scss","shaderlab","shellscript","sql","swift","text","typescript","typescriptreact","vb","vue","xml","xsl","yaml"];var yM=require("vscode"),fw=class{listeners=new Set;send(e){for(let n of this.listeners)n(e)}listen(e){return this.listeners.add(e),new yM.Disposable(()=>this.listeners.delete(e))}};function jh(){return new fw}var CM=De(require("assert"));var Bh=class{_attached=void 0;_resolve=()=>{};_reject=()=>{};_promise;constructor(){this._promise=new Promise((e,n)=>{this._resolve=e,this._reject=n})}get promise(){return this._promise}attach(e){this._attached!==e&&((0,CM.default)(this._attached===void 0,"Already Resolved"),this._attached=e,this._attached.then(this._resolve,this._reject).catch(()=>{}))}isPending(){return!this._attached}isResolved(){return!this.isPending()}};var $6={serverRequests:"sr_",serverNotifications:"sn_",clientRequests:"cr_",clientNotifications:"cn_"};function pw(t,e,n,i=$6){let r=[],s=J6(e.clientRequests,n),o=X6(e.clientNotifications,n);V6(t,i.clientRequests,s,r,n),H6(t,i.clientNotifications,o,r,n);let a=z6(t,i.serverRequests,e.serverRequests,n),c=G6(t,i.serverNotifications,e.serverNotifications,n);return uo({serverRequest:a,serverNotification:c,clientRequest:s,clientNotification:o},ua(r))}function V6(t,e,n,i,r){for(let[s,o]of Object.entries(n)){if(r?.log("bindRequest %o",{name:s,fn:typeof o}),!o)continue;let a=o,c=e+s;i.push(t.onRequest(c,u=>(r?.log(`handle request "${s}" %o`,u),a.publish(...u))))}}function H6(t,e,n,i,r){for(let[s,o]of Object.entries(n)){if(r?.log("bindNotifications %o",{name:s,fn:typeof o}),!o)continue;let a=e+s,c=o;i.push(t.onNotification(a,u=>(r?.log(`handle notification "${s}" %o`,u),c.publish(...u))))}}function z6(t,e,n,i){let r=1;return Object.fromEntries(Object.entries(n).map(([s])=>{let o=e+s;return[s,(...c)=>{let u=++r;return i?.log(`send request "${s}" %o: Params: %o`,u,c),t.sendRequest(o,c).then(f=>(i?.log(`send request "${s}" %o: Response: %o`,u,f),f))}]}))}function G6(t,e,n,i){return Object.fromEntries(Object.entries(n).map(([r])=>{let s=e+r;return[r,(...a)=>(i?.log(`send notification "${r}" %o`,a),t.sendNotification(s,a))]}))}function J6(t,e){function n([i,r]){if(!r)return;let s=Q6(i,e);return typeof r=="function"&&s.subscribe(r),[i,s]}return Object.fromEntries(Object.entries(t).map(n).filter(vM))}function X6(t,e){function n([i,r]){if(!r)return;let s=Y6(i,e);return typeof r=="function"&&s.subscribe(r),[i,s]}return Object.fromEntries(Object.entries(t).map(n).filter(vM))}function Y6(t,e){let n=new Set;async function i(...s){for(let o of n)e?.log(`notify ${t} %s`,typeof o),await o(...arguments)}function r(s){return e?.log(`subscribe to ${t} %s`,typeof s),n.add(s),Kn(()=>n.delete(s))}return{publish:i,subscribe:r}}function Q6(t,e){let n;async function i(...s){return e?.log(`notify ${t} %o`,n),await n?.(...arguments)}function r(s){return n=s,e?.log(`subscribe to ${t} %s`,typeof s),Kn(()=>{n===s&&(n=void 0)})}return{publish:i,subscribe:r}}function vM(t){return t!==void 0}var SM=(t=>(t[t.Unknown=0]="Unknown",t[t.File=1]="File",t[t.Directory=2]="Directory",t[t.SymbolicLink=64]="SymbolicLink",t))(SM||{}),Wh="_",e5={serverNotifications:Wh,serverRequests:Wh,clientNotifications:Wh,clientRequests:Wh};function hw(t,e,n){return pw(t,e,n,e5)}var An=De(ac());var js=require("vscode");async function bM(t){let e=js.Uri.parse(t);return await js.workspace.fs.stat(e)}async function DM(t){let e=js.Uri.parse(t);return await js.workspace.fs.readDirectory(e)}async function TM(t){let e=js.Uri.parse(t),n=await js.workspace.fs.readFile(e);return{uri:t,encoding:"base64",content:Buffer.from(n).toString("base64")}}async function xM(t,e){let n=An.CodeActionRequest.type;return await t.sendRequest(n,e)}function EM(t){let n=hw(t,{serverRequests:{isSpellCheckEnabled:!0,getConfigurationForDocument:!0,getConfigurationTargets:!0,getSpellCheckingOffsets:!0,spellingSuggestions:!0,splitTextIntoWords:!0,traceWord:!0,checkDocument:!0},serverNotifications:{notifyConfigChange:!0,registerConfigurationFile:!0},clientNotifications:{onSpellCheckDocument:!0,onDocumentConfigChange:!0,onBlockFile:!0},clientRequests:{onWorkspaceConfigForDocumentRequest:!0,vfsReadDirectory:DM,vfsReadFile:TM,vfsStat:bM}},{log:()=>{}}),{serverNotification:i,serverRequest:r,clientNotification:s,clientRequest:o}=n;return{isSpellCheckEnabled:Zr(r.isSpellCheckEnabled,"isSpellCheckEnabled"),getConfigurationForDocument:Zr(r.getConfigurationForDocument,"getConfigurationForDocument"),getConfigurationTargets:Zr(r.getConfigurationTargets,"getConfigurationTargets"),getSpellCheckingOffsets:Zr(r.getSpellCheckingOffsets,"getSpellCheckingOffsets"),spellingSuggestions:Zr(r.spellingSuggestions,"spellingSuggestions"),notifyConfigChange:Zr(i.notifyConfigChange,"notifyConfigChange"),registerConfigurationFile:Zr(i.registerConfigurationFile,"registerConfigurationFile"),traceWord:Zr(r.traceWord,"traceWord"),checkDocument:Zr(r.checkDocument,"checkDocument"),onSpellCheckDocument:c=>s.onSpellCheckDocument.subscribe(Kh(c,"onSpellCheckDocument")),onDocumentConfigChange:c=>s.onDocumentConfigChange.subscribe(Kh(c,"onDocumentConfigChange")),onBlockFile:c=>s.onBlockFile.subscribe(Kh(c,"onBlockFile")),onWorkspaceConfigForDocumentRequest:c=>o.onWorkspaceConfigForDocumentRequest.subscribe(Kh(c,"onWorkspaceConfigForDocumentRequest")),dispose:n.dispose}}var t5=0,wM=!1,n5=!0,i5=!0;function Zr(t,e){return(...n)=>r5(n,t(...n),e)}function r5(t,e,n){return kM("Server R/N",t,e,n,n5)}function Kh(t,e){return(...n)=>s5(n,t(...n),e)}function s5(t,e,n){return kM("Client R/N",t,e,n,i5)}async function kM(t,e,n,i,r){let s=++t5,o;r&&wM&&console.log("%s %i Start %s: %s(%o)",new Date().toISOString(),s,t,i,e);try{return o=await n,o}finally{r&&wM&&console.log("%s %i End   %s: %s, %o",new Date().toISOString(),s,t,i,o)}}var qM=De(MM(),1);function Hh(t=""){return Array.isArray(t)&&(t=t.join(",")),v5(t).join(",")}function v5(t=""){return t.replace(/[|;\s]/g,",").replace(/[*]/g,"").split(",").map(e=>(0,qM.normalizeCode)(e)).map(e=>e.trim()).filter(e=>!!e).filter(co())}var S5=["--nolazy","--inspect=60048"],b5=Bu+"Server",UM="||",zh=class t{client;import=new Set;languageIds;allowedSchemas;serverApi;disposables=Ye();broadcasterOnSpellCheckDocument=jh();broadcasterOnDocumentConfigChange=jh();broadcasterOnBlockFile=jh();ready=new Bh;diagEmitter=new _r.EventEmitter;constructor(e,n){let i=e.asAbsolutePath("packages/_server/dist/main.cjs"),r={enabledLanguageIds:qo(Me.enabledLanguageIds,Bs.Workspace),enableFiletypes:qo(Me.enableFiletypes,Bs.Workspace),enabledFileTypes:qo(Me.enabledFileTypes,Bs.Workspace),allowedSchemas:qo(Me.allowedSchemas,Bs.Workspace)||Qm,enabledSchemes:qo(Me.enabledSchemes,Bs.Workspace)};this.allowedSchemas=new Set(ny(r)),Zm.clear(),this.allowedSchemas.forEach(l=>Zm.add(l)),this.languageIds=new Set([...n,...mM,...iy(r)]);let s=(l,d)=>{this.diagEmitter.fire({uri:l,diagnostics:d})},o=[...this.languageIds],c={documentSelector:[...this.allowedSchemas].flatMap(l=>o.map(d=>({language:d,scheme:l}))),diagnosticCollectionName:b5,synchronize:{configurationSection:[xi,"search"]},middleware:{handleDiagnostics:s}},u=this.calcServerArgs(),f={execArgv:u},g={execArgv:[...u,...S5]},p={run:{module:i,transport:An.TransportKind.ipc,options:f},debug:{module:i,transport:An.TransportKind.ipc,options:g}};this.registerDisposable(this.broadcasterOnDocumentConfigChange.listen(l=>this.clearCacheGetConfigurationForDocument(l.uris))),this.client=new An.LanguageClient("cspell","Code Spell Checker Server",p,c),this.client.registerProposedFeatures(),this.serverApi=EM(this.client),e.subscriptions.push(this.serverApi),this.initWhenReady()}start(){return this.ready.isPending()&&this.ready.attach(this.client.start()),this.ready.promise}async restart(){try{gi.log("Restarting the server"),await this.client.restart(),gi.log("Server restarted")}catch(e){gi.error(`Failed to restart the server: ${pa(e).message}`)}}async isSpellCheckEnabled(e){let{uri:n,languageId:i=""}=e;return!n||!i?{uri:n}:{...await this.serverApi.isSpellCheckEnabled({uri:n.toString(),languageId:i}),uri:n}}async getConfigurationTargets(e){let{uri:n,languageId:i}=e||{},r={configTargets:[]};try{let s=Sw(n);return!n||!s.uri?await this.serverApi.getConfigurationTargets({workspaceConfig:s}):await this.serverApi.getConfigurationTargets({uri:n.toString(),languageId:i,workspaceConfig:s})}catch(s){return console.error(`Failed to get configuration for document: ${n} ${i} ${s}`),r}}#e=this.factoryGetConfigurationForDocument();getConfigurationForDocument(e,n){return this.#e(e,n)}async _getConfigurationForDocument(e,n){let{uri:i,languageId:r}=e||{},s={enabled:void 0,enabledVSCode:void 0,configFiles:[],configTargets:[],fileEnabled:!1,fileIsIncluded:!1,fileIsExcluded:!1};try{let o=Sw(i);return!i||!o.uri?await this.serverApi.getConfigurationForDocument({workspaceConfig:o,fields:n}):await this.serverApi.getConfigurationForDocument({uri:i.toString(),languageId:r,workspaceConfig:o,fields:n})}catch(o){return console.error(`Failed to get configuration for document: ${i} ${r} ${o}`),s}}cacheGetConfigurationForDocument=new Map;factoryGetConfigurationForDocument(){return(e,n)=>{let i=e?.uri?.toString()+UM+Object.keys(n).sort().join(","),r=this.cacheGetConfigurationForDocument.get(i);if(r)return r;let s=this._getConfigurationForDocument(e,n);return this.cacheGetConfigurationForDocument.set(i,s),s}}clearCacheGetConfigurationForDocument(e){if(!e){this.cacheGetConfigurationForDocument.clear();return}let n=new Set(e.map(i=>_r.Uri.parse(i).toString()));for(let i of this.cacheGetConfigurationForDocument.keys()){if(!i)continue;let r=i?.split(UM)[0];n.has(r)&&this.cacheGetConfigurationForDocument.delete(i)}}notifySettingsChanged(){return this.clearCacheGetConfigurationForDocument(),setTimeout(()=>this.clearCacheGetConfigurationForDocument(),250),po(this.whenReady(()=>this.serverApi.notifyConfigChange()),"notifySettingsChanged")}registerConfiguration(e){return dn(this.whenReady(()=>this.serverApi.registerConfigurationFile(e)),"registerConfiguration")}get diagnostics(){return this.client&&this.client.diagnostics||void 0}triggerSettingsRefresh(){return this.notifySettingsChanged()}async whenReady(e){return await this.onReady(),await e()}onReady(){return this.ready.promise}static create(e){return Promise.resolve(_r.languages.getLanguages().then(n=>new t(e,n)))}registerDisposable(...e){this.disposables.push(...e)}dispose(){this.client.stop(),this.disposables.dispose()}calcServerArgs(){return[]}onSpellCheckDocumentNotification(e){return this.broadcasterOnSpellCheckDocument.listen(e)}onDocumentConfigChangeNotification(e){return this.broadcasterOnDocumentConfigChange.listen(e)}onBlockFile(e){return this.broadcasterOnBlockFile.listen(e)}async requestSpellingSuggestionsCodeActions(e,n,i){let r={textDocument:An.TextDocumentIdentifier.create(e.uri.toString()),range:dw(n),context:An.CodeActionContext.create(i.map(hM))},s=await xM(this.client,r);return s?s.filter(fM).map(pM):[]}async requestSpellingSuggestions(e,n){let i={uri:n.uri.toString()};return this.serverApi.spellingSuggestions(e,i)}onDiagnostics(e){return as(this.diagEmitter.event(e))}async initWhenReady(){await this.onReady(),this.registerHandleNotificationsFromServer(),this.registerHandleOnWorkspaceConfigForDocumentRequest()}registerHandleOnWorkspaceConfigForDocumentRequest(){this.registerDisposable(this.serverApi.onWorkspaceConfigForDocumentRequest(D5))}registerHandleNotificationsFromServer(){this.registerDisposable(this.serverApi.onSpellCheckDocument(e=>this.broadcasterOnSpellCheckDocument.send(e)),this.serverApi.onDocumentConfigChange(e=>this.broadcasterOnDocumentConfigChange.send(e)),this.serverApi.onBlockFile(e=>this.broadcasterOnBlockFile.send(e)))}};function D5(t){let{uri:e}=t,n=_r.Uri.parse(e);return Sw(n)}function Sw(t){let e=Jf(t),n=zA(e),i=Gh(e,["words","userWords","ignoreWords"]),r=_r.workspace.workspaceFile?.toString(),s=n&&_r.workspace.getWorkspaceFolder(n)?.uri.toString(),o=r!==void 0,a=vw(i.userWords,o),c=vw(i.words,o),u=vw(i.ignoreWords,o);return c.user=a.user,{uri:n?.toString(),workspaceFile:r,workspaceFolder:s,words:c,ignoreWords:u}}function vw(t,e){if(!t)return{};let{globalValue:n,workspaceValue:i,workspaceFolderValue:r}=t;return{user:n!==void 0||void 0,workspace:i!==void 0||void 0,folder:e&&(r!==void 0||void 0)}}var Pl=class{constructor(e,n=1e3,i=5e3){this.getConfigurationForDocument=e;this.staleTimeMs=n;this.maxAgeMs=i;this.configs=new Map}configs=new Map;get(e){let n=this.configs.get(e.toString());if(!n||!n.config||this.isTooOld(n)){this.fetch(e);return}return this.isState(n)||this.fetch(e),n.config}set(e,n){let i=e.toString(),r=this.configs.get(i)||{config:n,timestamp:performance.now(),pending:void 0};r.config=n,this.configs.set(i,r)}delete(e){let n=e.toString();return this.configs.delete(n)}clear(){this.configs.clear()}async fetchAsync(e,n){try{let i=await this.getConfigurationForDocument(e);return n.config=i,n.timestamp=performance.now(),n.pending=void 0,i}finally{n.pending=void 0,this.cleanup()}}fetch(e){let n=e.toString(),i=this.configs.get(n)||{config:void 0,timestamp:performance.now(),pending:void 0};if(i.pending)return i.pending;this.configs.set(n,i);let r=this.fetchAsync(e,i);return i.pending=r,r}isState(e){return e.timestamp+this.staleTimeMs>performance.now()}isTooOld(e){return e.timestamp+this.maxAgeMs<performance.now()}cleanup(){for(let[e,n]of this.configs)!n.pending&&this.isTooOld(n)&&this.configs.delete(e)}};var on=require("vscode"),xi=Bt,oae=Zt.ConfigurationTarget.Global,Bs={Default:"defaultValue",Global:"globalValue",Workspace:"workspaceValue",Folder:"workspaceFolderValue"},BM=["defaultValue","globalValue","workspaceValue","workspaceFolderValue"],T5=new Map(BM.map((t,e)=>[t,e]));function WM(t){return[xi,t].filter(e=>!!e).join(".")}function es(t,e){return Rl(e).get(xi,{})[t]}function qo(t,e){return w5(t,e).value}function w5(t,e){e=R5(e);let n=x5(t,e.resource);return I5(n,e.scope)}function x5(t,e){return E5(e,t)}function Tw(t){return Rl(t).inspect(xi)||{key:xi}}function E5(t,e){let n=Rl(t),i=[xi,e].join(".");return n.inspect(i)||{key:i}}function k5(t,e){let n=[xi,e].join(".");return t.inspect(n)||{key:n}}function Gh(t,e){let n=Rl(t),i={};for(let r of e){let s={[r]:k5(n,r)};Object.assign(i,s)}return i}function F5(t){return typeof t=="object"&&t.target!==void 0}var aae={[Zt.ConfigurationTarget.Global]:"globalValue",[Zt.ConfigurationTarget.Workspace]:"workspaceValue",[Zt.ConfigurationTarget.WorkspaceFolder]:"workspaceFolderValue"},cae={[Zt.ConfigurationTarget.Global]:"user",[Zt.ConfigurationTarget.Workspace]:"workspace",[Zt.ConfigurationTarget.WorkspaceFolder]:"folder"};function P5(t){return typeof t=="object"}function R5(t){return P5(t)?{scope:t.scope,resource:t.scope===Bs.Folder?A5(t.resource):void 0}:{scope:t,resource:void 0}}function A5(t){if(t)return Zt.workspace.getWorkspaceFolder(t)?.uri}function I5(t,e){for(let n=T5.get(e);n!==void 0&&n>=0;n-=1){let i=BM[n],r=t[i];if(r!==void 0)return{scope:i,value:r}}return{scope:"defaultValue",value:void 0}}function Rl(t){return Zt.workspace.getConfiguration(void 0,M5(t))}function ww(t){return F5(t)?t:{target:t,uri:void 0}}function xw(t,e,n,i){let r={},s=Gh(e,n),o=i?_5:N5;for(let a of n)o(r,t,a,s);return r}function _5(t,e,n,i){let r=i[n],s=L5(e,r);s!==void 0&&(t[n]=s)}function N5(t,e,n,i){let r=i[n],s=O5(e,r);s!==void 0&&(t[n]=s)}function O5(t,e){if(e!==void 0)switch(t){case Zt.ConfigurationTarget.Global:return e.globalLanguageValue??e.globalValue;case Zt.ConfigurationTarget.Workspace:return e.workspaceLanguageValue??e.workspaceValue;case Zt.ConfigurationTarget.WorkspaceFolder:return e.workspaceFolderLanguageValue??e.workspaceFolderValue}}function L5(t,e){if(e===void 0)return;let n=Dw(e.defaultValue,e.defaultLanguageValue,e.globalValue,e.globalLanguageValue);if(t===Zt.ConfigurationTarget.Global||(n=Dw(n,e.workspaceValue,e.workspaceLanguageValue),t===Zt.ConfigurationTarget.Workspace))return n;if(n=Dw(n,e.workspaceFolderValue,e.workspaceFolderLanguageValue),t!==Zt.ConfigurationTarget.WorkspaceFolder)throw new Error(`Unknown Config Target "${t}"`);return n}function Dw(...t){let e;for(let n of t)if(n!==void 0){if(typeof e!="object"||typeof n!="object"||Array.isArray(n)||Array.isArray(e)){e=n;continue}e=Object.assign({},e,n)}return e}async function Ew(t,e,n,i,r){let s=xw(t,e,n,r),o=i(s),a=Rl(e);await Object.entries(o).map(([c,u])=>a.update(`${Bt}.${c}`,u,t))}function M5(t){return q5(t)?Jf(jM(t)):U5(t)?KM(t.uri)?t:{...t,uri:jM(t.uri)}:t}function jM(t){return KM(t)?t:Zt.Uri.parse(t.toString())}function q5(t){if(!t||typeof t!="object")return!1;let e=t;return e.authority!==void 0&&e.fragment!==void 0&&e.path!=null&&e.query!=null&&e.scheme!=null}function KM(t){return t instanceof Zt.Uri}function U5(t){return!t||typeof t!="object"?!1:t.uri!==void 0}function $M(t,e,n){return new kw(t,e,n)}var kw=class{constructor(e,n,i){this.target=e;this.scope=n;this.useMerge=i;this.name=Oi(e)}name;async read(e){return xw(this.target,this.scope,e,this.useMerge)}async write(e){await Ew(this.target,this.scope,[],()=>e,!1)}async update(e,n){await Ew(this.target,this.scope,n,e,this.useMerge)}};var Jh=class{setValue(e,n){return this.update(bs(e,n))}updateValue(e,n){return this.update(bs(e,n))}};function Al(t,e){let n=B5(t)?t:zf(t),i=!!es(Me.autoFormatConfigFile,n.uri);return new Uo(n,e,i)}function Xh(t,e,n){let i=j5(t)?t:$M(t,e,!!n);return new cc(i)}function j5(t){return typeof t=="object"&&!!t.read&&!!t.write}function B5(t){let e=t;return!!e.update&&!!e.uri}var Uo=class t extends Jh{constructor(n,i,r){super();this.configRW=n;this.formatConfig=r;this.name=i||Ii(n.uri),this.kind="cspell",this.configFileUri=n.uri}name;kind;defaultDictionaryScope;configFileUri;getValue(n){return this.configRW.read([n])}async update(n){let i=this.formatConfig,r=this.configFileUri,s=xv(r);if(s&&s.isDirty){let o=VM.posix.basename(r.path),a=await zt.window.showInformationMessage(`Save "${o}"?`,"Yes","No","Open");if(a==="Open"){await zt.window.showTextDocument(s);return}if(a!=="Yes")return;await s.save(),await zt.workspace.save(s.uri)}await this.configRW.update($5(n),n.keys),i&&await W5(r)}static isCSpellConfigRepository(n){return n instanceof t}};async function W5(t){let e=await zt.workspace.openTextDocument(t),n=await zt.commands.executeCommand("vscode.executeFormatDocumentProvider",t);if(!n||!n.length)return;let i=new zt.WorkspaceEdit;i.set(t,n),await zt.workspace.applyEdit(i),await zt.workspace.save(e.uri),await H5(1e3),e.isDirty&&await zt.workspace.save(e.uri)}var cc=class t extends Jh{constructor(n){super();this.rw=n;this.name=n.name,this.defaultDictionaryScope=Oi(n.target),this.kind="vscode"}name;kind;defaultDictionaryScope;get target(){return this.rw.target}get scope(){return this.rw.scope}getWorkspaceFolder(){if(this.defaultDictionaryScope==="user")return;if(this.defaultDictionaryScope==="workspace")return zt.workspace.workspaceFolders?.[0];let n=this.scope;if(n)return K5(n)?n:Fw(n)?zt.workspace.getWorkspaceFolder(n):V5(n)?zt.workspace.getWorkspaceFolder(n.uri):zt.workspace.workspaceFolders?.[0]}update(n){let{fn:i,keys:r}=this.mappers(n.keys,n.updateFn);return this.rw.update(i,r)}getValue(n){return this.rw.read([n])}mappers(n,i){if(this.target!==zt.ConfigurationTarget.Global)return{fn:i,keys:n};let r=new Set(n);r.has(Me.words)&&r.add(Me.userWords);function s(c){let{userWords:u,words:f,...g}=c,p={...g};return(r.has(Me.userWords)||u||f)&&(p.words=u?.concat(f??[])??f),p}function o(c){let{words:u,userWords:f,...g}=c,p={...g};return Object.keys(c).includes(Me.words)&&(p.words=void 0,p.userWords=u?.concat(f||[])),p}return{fn:c=>o(i(s(c))),keys:[...r]}}static isVSCodeRepository(n){return n instanceof t}};function K5(t){if(!t)return!1;let e=t;return Fw(e.uri)&&typeof e.name=="string"&&typeof e.index=="number"}function $5(t){return e=>t.updateFn(dk(e,t.keys))}function V5(t){return typeof t!="object"?!1:Fw(t.uri)}function Fw(t){if(typeof t!="object")return!1;if(t instanceof zt.Uri)return!0;let e=t;return e.scheme!==void 0&&e.authority!==void 0&&e.path!==void 0}function H5(t){return new Promise(e=>setTimeout(e,t))}var z5=new Set(["dictionary","cspell","vscode"]);function Il(t){if(!z5.has(t.kind))throw new Error(`Unknown target ${t.kind}`);switch(t.kind){case"dictionary":return;case"cspell":return Al(Ve(t.configUri),t.name);case"vscode":return Xh(Pd(t.scope),t.configScope||t.docUri,!!t.useMerge)}}function HM(t,e){let i=e.map(GM).map(r=>r.update(t));return Promise.all(i).then(()=>{})}function zM(t,e){let n=e.map(async i=>{let s=await GM(i).getValue(t);return[i,s]});return Promise.all(n)}function GM(t){let e=Il(t);if(e===void 0)throw new Pw(t);return e}var Pw=class extends Error{constructor(n){super(`Cannot find appropriate config repository for ${n.kind}:${n.name}`);this.target=n}};function Yh(t,e){return zM(e,t)}function _l(t,e,n,i){t=i?Nd(t,i):t;let r=bs(e,n);return HM(r,t)}function Rw(t){let e=t.map(r=>r.scope),n=Jc(e,!0),i=[];return n.map(r=>t.filter(s=>s.scope===r)).forEach(r=>r.forEach(s=>i.push(s))),i}async function uc(t,e,n){t=Mk(t,e);let i=await Id(t);if(!(!i||!i.length))return _l(i,e,n)}function JM(t,e,n){let i;for(let[r,s]of[...t].reverse()){if(r===e)break;i??=s[n]}return i}function Aw(t){let{targets:e,scopes:n}=t,i=new Set(Jc(n)),r=Rw(e),s=r.filter(o=>i.has(o.scope));return{targets:e,possibleScopes:n,orderedTargets:r,possibleTargets:s}}var Ws=require("vscode");var Qh=De(require("vscode"),1);function G5(t){let e=t.toString();return Qh.window.visibleTextEditors.map(i=>i.document).filter(i=>!!i).filter(i=>i.uri.toString()===e)[0]}function XM(t){let e=t.toString();return((Qh.workspace||{}).textDocuments||[]).filter(r=>r.uri.toString()===e)[0]||G5(t)}function Zh(t){switch(t.kind){case"vscode":return J5(t);case"cspell":return X5(t);case"dictionary":return Y5(t)}}function J5(t){let{name:e,kind:n,scope:i,docUri:r}=t;return{name:e,kind:n,scope:i,docUri:Ve(r),configScope:void 0}}function X5(t){let{name:e,kind:n,scope:i,configUri:r,docUri:s}=t;return{name:e,kind:n,scope:i,docUri:Ve(s),configUri:Ve(r)}}function Y5(t){let{name:e,kind:n,scope:i,dictionaryUri:r,docUri:s}=t;return{name:e,kind:n,scope:i,docUri:Ve(s),dictionaryUri:Ve(r)}}async function eg(t,e,n,i){let r=i?[uy(t)]:Ek(t),s=Yc(fo,Xc,{dictionary:!1});return e=Ve(e),{targets:(await(e?jo(e,s):tg(Ws.window.activeTextEditor?.document,s))).map(a=>a.kind==="vscode"?{...a,configScope:n}:a),scopes:r}}async function YM(t,e,n){let i=await eg(t,e,n),{targets:r,scopes:s}=i,o=new Set(s);return r.filter(a=>o.has(a.scope))}async function tg(t,e=Ad){let{uri:n,languageId:i}=t||{},s=(await Ze("client").getConfigurationForDocument({uri:n,languageId:i},{})).configTargets.map(Zh);return Nd(s,e)}async function jo(t,e=Ad){t=Ve(t);let n=t?await Q5(t):Ws.window.activeTextEditor?.document;return tg(n,e)}async function Q5(t){let e=XM(t);return e||((await Ws.workspace.fs.stat(t)).type!==Ws.FileType.File?{uri:t}:await Ws.workspace.openTextDocument(t))}var lc="enabled";function Bo(t,e){let{possibleTargets:n}=Aw(t);return uc(n,lc,e)}async function dc(t){let{possibleTargets:e,orderedTargets:n}=Aw(t),i=new Map(await Yh(n,lc)),r=e.filter(g=>i.get(g)?.[lc]!==void 0);if(!e.length)return;let s=r[r.length-1]??e[e.length-1],o=i.get(s)?.[lc],c=JM(i,s,lc)??!0,u=o??c,f=c!==u?void 0:!u;return _l([s],lc,()=>f)}async function ng(t,e,n,i){n=n.map(g=>({...g,useMerge:g.useMerge??g.kind==="vscode"}));let r=new Set(Jc(i)),s=new Set(Rw(n)),o=new Map(await Yh([...s],"language")),a=new Set([...s].filter(g=>r.has(g.scope)));if(!e)[...o].filter(([g,p])=>!t7(t,p.language)).forEach(([g])=>a.delete(g));else{let g=[...a],p=new Set([...o].filter(([d,h])=>n7(t,h.language)).map(([d])=>d)),l=!1;for(let d of a)l=l||p.has(d),l&&a.delete(d);a.size||g.filter(d=>!p.has(d)).forEach(d=>a.add(d))}let c=a.size>1?await _d([...a]):[...a][0];if(!c)return;let u=i7("language",c,o);return _l([c],"language",e?g=>Z5(t,g||u):g=>e7(t,g))}function Ks(t){return Hh(t).split(",").filter(e=>!!e)}function Z5(t,e){let n=Ks(t),i=new Set(Ks(e||""));return n.forEach(r=>i.add(r)),[...i].join(",")||void 0}function e7(t,e){let n=Ks(t),i=new Set(Ks(e||""));return n.forEach(r=>i.delete(r)),[...i].join(",")||void 0}function t7(t,e){if(!t||!e)return!1;let n=new Set(Ks(t)),i=Ks(e);for(let r of i)if(n.has(r))return!0;return!1}function n7(t,e){if(!t||!e)return!1;let n=new Set(Ks(e)),i=Ks(t);for(let r of i)if(!n.has(r))return!1;return!0}function i7(t,e,n){let i=[...n].reverse(),r;for(let[s,o]of i)if(r??=o[t],s===e)break;return r}function r7(t){return t&&$s.workspace.getWorkspaceFolder(t)||fc.workspace.workspaceFolders?.[0]}function Iw(t,e){let n=$r(e);return uc(t,"ignoreWords",i=>ey(n.concat(i||[]).sort()))}function QM(t,e){return{...e,...t}}function ig(t,e){return uc(e,"enabledFileTypes",i=>QM(t,i))}var s7={version:"0.2",ignorePaths:[],dictionaryDefinitions:[],dictionaries:[],words:[],ignoreWords:[],import:[]};async function o7(t,e){let n=await _v(t);if(!e&&n&&Object.keys(n).length>1){let i="Overwrite",r="Open";switch(await $s.window.showWarningMessage("Configuration file already exists.",{modal:!0},i,r)){case i:break;case r:await $s.window.showTextDocument(t);return;default:return}}return await Nv(t,s7),t}async function a7(t){let e=fc.Uri.joinPath(t,"package.json");try{return(await fc.workspace.fs.stat(e)).type===$s.FileType.File}catch{return!1}}function c7(t){return a7(t.uri)}var u7="Unable to determine location for configuration file.";async function _w(t,e){let n=r7(t);if(!n)throw new Error(u7);let i=new Set(VA);await c7(n)||i.delete("package.json");let r=await $s.window.showQuickPick([...i],{title:"Choose config file"});if(!r)return;let s=fc.Uri.joinPath(n.uri,r);return await o7(s,e),s}async function Vs(t,e){let n=await jo(e);return ig(t,n)}function l7(t,e){return uc(e,"enabledSchemes",i=>QM(t,i))}async function ZM(t,e){let n=await jo(e);return l7(t,n)}function rg(t,e){if(d7(t))return t;let n=t.match(/^\/(.*)\/([gimsuy]*)$/);return n?new RegExp(n[1],n[2]||void 0):new RegExp(t,e)}function d7(t){return t instanceof RegExp}var Nw=require("vscode");function Hs(t,e,n=hy){let i=Promise.resolve(t).then(()=>{});return et(i,e,n)}function sg(t){return Hs(Nw.window.showErrorMessage(t),"showErrorMessage helper")}function f7(...t){return po(Nw.window.showInformationMessage(...t),"pvShowInformationMessage")}function Ow(t){return Hs(f7(t),"pvShowInformationMessage")}var p7=Me.fixSpellingWithRenameProvider,h7=Me["advanced.feature.useReferenceProviderWithRename"],g7=Me["advanced.feature.useReferenceProviderRemove"];function m7(t,e,n){let i=e.toString();return t.filter(r=>(!n||r.range.contains(n))&&r.uri.toString()===i)}async function y7(t,e){try{let n=await In.commands.executeCommand("vscode.executeReferenceProvider",t,e.start);return!Array.isArray(n)||!n.length?void 0:n}catch{return}}async function C7(t,e,n){if(n){let r=await y7(t.uri,e);if(r!==void 0)return{locations:r,refUsed:!0}}let i=t.getWordRangeAtPosition(e.start);if(!(!i||!i.contains(e)))return{locations:[new In.Location(t.uri,i)],refUsed:!1}}async function v7(t,e,n){let i=await C7(t,e,n);if(!i)return;let r=m7(i.locations,t.uri,e)[0];if(r)return{range:r.range,referenced:i.refUsed}}function S7(t,e){function n(i){return t.asTextEdit(i)}return e.map(n)}function b7(t,e){let n=new In.WorkspaceEdit;return n.set(t,e),n}async function D7(t,e,n){let{range:i,newText:r}=e;if(i.start.line!==i.end.line)return;let{useReference:s,removeRegExp:o}=n,a=await v7(t,i,s);if(!a||!a.range.contains(i)||!a.referenced)return;let c=a.range,u=c.start.character,f=i.start.character-u,g=i.end.character-u,p=t.getText(c),l=[p.slice(0,f),r,p.slice(g)].join(""),d=o?l.replace(o,""):l,h=await dn(In.commands.executeCommand("vscode.executeDocumentRenameProvider",t.uri,i.start,d),"attemptRename");return h?.size&&h||void 0}async function eq(t,e,n){let i=Ze("client").client.protocol2CodeConverter;return w7(t,S7(i,n),e)}function Lw(t){let e=In.workspace.getConfiguration(xi,t),n=!!e.get(p7),i=!!e.get(h7),r=E7(e.get(g7));return{useRename:n,useReference:i,removeRegExp:r}}async function T7(t,e,n){if(e.length===1&&n.useRename){let i=e[0],r=await D7(t,i,n);if(r)return r}return b7(t.uri,e)}async function w7(t,e,n){let i=Fr(t);if(!i)return sg(`Unable to find document: ${t}`);if(n&&i.version!==n)return sg("Spelling changes are outdated and cannot be applied to the document.");let r=Lw(i),s=await Mw(i,e,r);await iq(s,"Failed to apply spelling changes to the document.")}async function x7(t,e){return await Bk(In.workspace.applyEdit(t),e)}function E7(t,e="g"){if(t)try{return rg(t,e)}catch{console.log("Invalid Regular Expression: %s",t)}}async function tq(t,e,n,i){let r=Fr(t);if(!r)return og("Unable to find document.");for(let a of i)if(r.getText(a)!==e)return og();let s=i.map(a=>new In.TextEdit(a,n));return await Mw(r,s,Lw(r))?void 0:og()}async function ag(t){t??=In.window.activeTextEditor?.document.uri;let e=Ds(t)?.document||Fr(t);if(!t||!e)return Ow("Unable to fix spelling issues in current document, document not found.");let i=Ze("issueTracker").getSpellingIssues(t)?.map(s=>({issue:s,suggestions:s.providedSuggestions()})).filter(({issue:s,suggestions:o})=>o?.[0]?.isPreferred&&!o?.[1]?.isPreferred&&s.word&&s.isIssueTypeSpelling()&&!s.isSuggestion()).filter(({issue:s})=>e.getText(s.range)===s.word).map(({issue:s})=>{let o=s.providedSuggestions()?.[0].word;return nq(o!==void 0),new In.TextEdit(s.range,o)});if(!i?.length){let s=Ii(t);return Ow(`No auto fixable spelling issues found in ${s}.`)}let r=await Mw(e,i,Lw(e));await iq(r,"Failed to apply spelling changes to the document.")}function nq(t,e="A truthy value is expected."){if(!t)throw Error(e)}function k7(t){return t.sort((e,n)=>e.range.start.line-n.range.start.line||e.range.start.character-n.range.start.character)}function F7(t,e){let n=[];for(let i of e)i.range.intersection(t)&&n.push(i);return n}function P7(t,e,n){let i=t.get(e.uri);if(!i)return[];let r=new Set(n),s=new Set;for(let o of i){let a=F7(o.range,r);for(let c of a)s.add(c),r.delete(c)}return[...s]}function R7(t,e){for(let[n,i]of e)t.set(n,i)}async function A7(t,e,n){let i=new Set(k7(e)),r=new In.WorkspaceEdit;for(;i.size;){let s=i.size,o=i.values().next();if(o.done)break;let a=o.value,c=await T7(t,[a],n);R7(r,c.entries());let u=P7(c,t,e);for(let f of u)i.delete(f);nq(s>i.size,"No progress was made.")}return r}async function Mw(t,e,n){let i=Ze("eventLogger");for(let s of e){let o=t.getText(s.range);o!==s.newText&&o&&s.newText&&i.logReplace(o,s.newText)}let r=await A7(t,e,n);return x7(r,"applyTextEditsToDocumentWithRename")}async function iq(t,e){return t||await og(e),t}function og(t){return sg(t||"Failed to apply spelling changes to the document.")}var ts=require("vscode");var pc=De(require("vscode"),1);var oq=require("vscode");var rq=require("vscode");var I7=require("vscode");function qw(){let t=[];for(let e of rq.window.tabGroups.all)for(let n of e.tabs){let{label:i,input:r}=n;_7(r)&&t.push({tab:n,label:i,uri:r.uri})}return t}function _7(t){return!t||typeof t!="object"?!1:"uri"in t}function sq(t){let e=t.toString();return qw().some(i=>i.uri.toString()===e)}var N7=new Set(["vscode-scm"]);function cg(t){if(!t)return()=>!0;let e=qw(),n=new Set([...e.map(i=>i.uri.toString()),...oq.window.visibleTextEditors.map(i=>i.document.uri.toString())]);return i=>n.has(i.toString())||N7.has(i.scheme)}function zi(t,e){let n=Hc().issueTracker;if(!t)return[];let i=n.rawIssues(t);return(e!==void 0?i?.filter(s=>s.isIssueType(e)):i)?.map(s=>s.diag)||[]}function aq(t,e=Bu){return t.filter(n=>n.source===e)}function cq(t,e,n){return!t||!n?void 0:Uw(t,e,n)?.map(r=>t.getText(r))}function Uw(t,e,n){if(!t||!n)return;let i=e&&t.getText(e);return n.map(s=>s.range).map(s=>O7(i,e,s)).filter(vn)}function O7(t,e,n){if(!e||t===void 0||n.contains(e))return n;let i=e.intersection(n);if(!(!i||i.isEmpty))return HA(t)?e:n}function uq(t,e){let n=Ye(),i=Hc().issueTracker,r=pc.default.languages.createDiagnosticCollection(Bu),s,o=!0;function a(){let g=pc.default.workspace.getConfiguration(Bt);o=!g.get(Me.useCustomDecorations),s=g.get(Me.doNotUseCustomDecorationForScheme)}function c(g){let p=g.scheme,l=s?.[p];return l?!!l:o}function u(g){if(!t){r.clear();return}g||(r.clear(),g=i.getUrisWithIssues()),r.forEach(l=>{c(l)||r.delete(l)});let p=cg(!0);for(let l of g){if(!c(l)){r.set(l,void 0);continue}let d=p(l)&&i.getSpellingIssues(l)||void 0;r.set(l,d?.map(h=>h.diag))}for(let[l]of r)c(l)||p(l)||r.set(l,void 0)}function f(g){u()}return n.push(r,e(g=>{t=g,u()}),pc.default.workspace.onDidChangeConfiguration(a),pc.default.window.onDidChangeVisibleTextEditors(f),pc.default.window.tabGroups.onDidChangeTabs(f),i.onDidChangeDiagnostics(({uris:g})=>u(g))),a(),n}async function jw(t,e,n){let i=Ds(t),r=i?.document,s=i?.selection,o=e&&gM(e),a=o||s&&r?.getWordRangeAtPosition(s.active),c=r?zi(r.uri):void 0,u=Uw(r,s,c),f=o||u?.[0]||a,g=f&&c?.filter(m=>!!m.range.intersection(f));if(!r||!s||!f||!g)return Hs(ts.window.showInformationMessage("Nothing to suggest."),"actionSuggestSpellingCorrections");if(es(Me.suggestionMenuType,r)==="quickFix"&&i)return o&&(i.selection=new ts.Selection(o.start,o.end)),await ts.commands.executeCommand("editor.action.quickFix");let l=await Bw(r,f,g);if(!l||!l.length)return Hs(ts.window.showInformationMessage(`No Suggestions Found for ${r.getText(f)}`),"actionSuggestSpellingCorrections");let d=l.map(m=>({label:m.title,_action:m})),h=await ts.window.showQuickPick(d);if(h&&h._action.command){let{command:m,arguments:C=[]}=h._action.command;ts.commands.executeCommand(m,...C)}}function Bw(t,e,n){return Ze("client").requestSpellingSuggestionsCodeActions(t,e,n)}var Nr=require("vscode");var lq=new Intl.Collator().compare;function fq(t,e){return async function(n,i){let r=await L7(t,n,i);if(!r)return;let s=Nr.window.activeTextEditor;await e(r.text,r.uri),await(s?.document&&Nr.window.showTextDocument(s.document))}}async function L7(t,e,n){if(n=n?Ve(n):e instanceof Nr.Uri?e:void 0,typeof e=="string"&&e)return{text:e,uri:n||Nr.window.activeTextEditor?.document.uri};let i=Ds(n),r=i?.document,s=i?.selection,o=s&&r?.getWordRangeAtPosition(s.active),a=r?zi(r.uri):void 0,c=$r(cq(r,s,a)||[]);if(c.length){let p=s?.anchor.isEqual(s.active)&&c.length===1?c:await dq(c.sort(lq),{title:t,placeHolder:"Choose words"});return p?{text:p.join(" "),uri:r?.uri}:void 0}if(!o||!s||!r||!r.getText(o)){let p=await Nr.window.showInputBox({title:t,prompt:t});return p?{text:p,uri:r?.uri}:void 0}let u=s.contains(o)?r.getText(s):r.getText(o),f=$r(u),g=f.length>1?await dq(f.sort(lq),{title:t,placeHolder:"Choose words"}):[await Nr.window.showInputBox({title:t,prompt:t,value:f[0]})];if(g)return{text:g.join(" "),uri:r.uri}}async function dq(t,e){if(t.length<=1){let r=await Nr.window.showInputBox({...e,value:t[0]});return r?[r]:void 0}let n=t.map(r=>({label:r,picked:!0}));return(await Nr.window.showQuickPick(n,{...e,canPickMany:!0}))?.map(r=>r.label)}var yq=require("util"),ug=require("vscode");function pq(t){return bs("words",Ww(t))}function hq(t){return bs("words",Kw(t))}function Ww(t=[]){return e=>gq([...new Set((e||[]).concat(t))])}function Kw(t){return e=>{let n=new Set(e||[]);for(let i of t)n.delete(i);return gq([...n])}}function gq(t){return t.sort(M7)}function M7(t,e){return t.localeCompare(e)}var zs=require("vscode");async function mq(t,e){let n=new zs.WorkspaceEdit,i=new zs.Range(t.positionAt(0),t.positionAt(t.getText().length)),r=zs.TextEdit.replace(i,e);n.set(t.uri,[r]);let s=await zs.workspace.applyEdit(n);return s&&await t.save(),s}var q7=/(\.((gz|jsonc?|yaml|yml|c?js)$|trie\b)|^$|[/\\]$)/i,$w=class{constructor(e,n){this.uri=e;this.name=n??Ii(e)}name;addWords(e){return j7(e,this)}removeWords(e){return Cq(Kw(e),this)}},Vw=class{constructor(e){this.rep=e;this.name=e.name}name;addWords(e){return this.rep.update(pq(e))}removeWords(e){return this.rep.update(hq(e))}};function lg(t,e){let{uri:n,name:i}=U7(t)?t:{uri:t,name:e};return new $w(n,i)}function U7(t){let e=t;return typeof e.name=="string"&&typeof e.uri=="object"}function Nl(t){return new Vw(t)}async function j7(t,e){return Cq(Ww(t),e)}async function Cq(t,e){if(q7.test(e.uri.path))return Promise.reject(new Error(`Failed to add words to dictionary "${e.name}", unsupported format: "${lk(e.uri)}".`));try{await B7(e.uri);let n=await ug.workspace.openTextDocument(e.uri),i=n.getText(),s=t(i.split(/\r?\n/g).filter(a=>!!a)).join(`
`).trim()+`
`;await mq(n,s)||await ug.window.showInformationMessage(`Unable to add words to dictionary "${e.name}"`)}catch(n){let i=JE(n)?n.message:(0,yq.format)(n);return Promise.reject(new Error(`Failed to add words to dictionary "${e.name}", ${i}`))}}async function B7(t){await Ht.fileExists(t)||(await Ht.createDirectory(vr.dirname(t)),await Ht.writeFile(t,""))}var Sq=De(require("node:assert"),1),dg=require("vscode");var W7=Bt;function*bq(t,e){typeof e!="object"&&(yield[t,e]);for(let[n,i]of Object.entries(e))yield*bq(`${t}.${n}`,i)}var vq=new Map,Dq=Object.freeze({usesConfigFile:!1,usesCustomDictionary:!1,hasIssues:!1,showCreateConfig:!1,showCreateDictionary:!1}),Tq=Object.freeze({addWordToFolderDictionary:!1,addWordToWorkspaceDictionary:!1,addWordToUserDictionary:!1,addWordToFolderSettings:!1,addWordToWorkspaceSettings:!1,addWordToUserSettings:!1,addWordToDictionary:!1,addWordToCSpellConfig:!1,addIssuesToDictionary:!1,showSuggestions:!1,createCustomDictionary:!1,createCSpellConfig:!1,addIgnoreWord:!1}),K7={output:!1};async function wq(t){return Wo(t,W7)}async function Wo(t,e="cSpell.context"){(0,Sq.default)(e.startsWith(Bt));let i=[...bq(e,t)].filter(([s,o])=>o!==vq.get(s)),r=i.map(([s,o])=>dg.commands.executeCommand("setContext",s,o));i.forEach(([s,o])=>vq.set(s,o)),await Promise.all(r)}var Hw=new WeakMap,$7=1e3;async function hc(t,e){let n={documentConfigContext:{...Dq},editorMenuContext:{...Tq}};if(!e){await wq(n);return}if(K7[e.uri.scheme]===!1)return;let i=e,r=Hw.get(i);if(r)return r.stale=!r.pending,r.value;let s={value:V7(t,i),pending:!0,stale:!1};s.value.finally(()=>{s.pending=!1,setTimeout(o,$7)});function o(){Hw.delete(i),s.stale&&hc(t,i)}return Hw.set(i,s),s.value}async function V7(t,e){let n={documentConfigContext:{...Dq},editorMenuContext:{...Tq}},i=t.getConfigurationForDocument(e,{showCommandsInEditorContextMenu:!0,showSuggestionsLinkInEditorContextMenu:!0}),r=zi(e.uri),s=await i,{agg:o,matrix:a,configFoundInWorkspace:c}=H7(s.configTargets),u=(o.dictionary||0)-(a.dictionary.user||0),f=!!o.cspell,g=u>0,p=r.length>0,l=r.length>1,d=!c||!o.cspell,h=!g,m=!!a.vscode.workspace,C=!!a.vscode.folder;n.documentConfigContext={usesConfigFile:f,usesCustomDictionary:g,hasIssues:p,showCreateConfig:d,showCreateDictionary:h};let D=!!s.settings?.showCommandsInEditorContextMenu;n.editorMenuContext.addWordToFolderDictionary=D&&p&&!!a.dictionary.folder,n.editorMenuContext.addWordToWorkspaceDictionary=D&&p&&!!a.dictionary.workspace,n.editorMenuContext.addWordToUserDictionary=D&&p&&!!a.dictionary.user,n.editorMenuContext.addWordToFolderSettings=D&&p&&C,n.editorMenuContext.addWordToWorkspaceSettings=D&&p&&m,n.editorMenuContext.addWordToUserSettings=D&&p&&!a.dictionary.user,n.editorMenuContext.addWordToDictionary=D&&p&&!!a.dictionary.unknown,n.editorMenuContext.addWordToCSpellConfig=D&&p&&f&&!g,n.editorMenuContext.addIssuesToDictionary=D&&p&&l,n.editorMenuContext.createCustomDictionary=D&&h,n.editorMenuContext.createCSpellConfig=D&&d,n.editorMenuContext.addIgnoreWord=D&&p,n.editorMenuContext.hasIssues=p,n.editorMenuContext.hasMultipleIssues=l,n.editorMenuContext.showSuggestions=(D||s.settings?.showSuggestionsLinkInEditorContextMenu||!1)&&p,await wq(n)}function H7(t){let e={},n={vscode:{},cspell:{},dictionary:{}},i=!1;for(let r of t)e[r.kind]=(e[r.kind]||0)+1,e[r.scope]=(e[r.scope]||0)+1,n[r.kind][r.scope]=(n[r.kind][r.scope]||0)+1,i=i||r.kind==="cspell"&&!!dg.workspace.getWorkspaceFolder(Ve(r.configUri));return{agg:e,matrix:n,configFoundInWorkspace:i}}var pg=require("vscode");var xq=De(require("node:assert"),1);var Or=require("vscode"),fg=class t{constructor(e,n){this.uri=e;this.#e=n?.data,this.#n=n?.signature,(0,xq.default)(!n||n.id==="memento","Invalid memento data"),this.#t=ao(),this.#i=z7(e,this.#r.bind(this))}#e;#t;#n;#i;keys(){return this.#e?Object.keys(this.#e):[]}get(e,n){return(this.#e?this.#e[e]:void 0)??n}async update(e,n){let i=[];if(typeof e=="string"){let r=e;this.#e=this.#e??{},n===void 0?delete this.#e[r]:this.#e[r]=n,i.push(r)}else{let r=e;i.push(...Object.keys(r)),this.#e={...this.#e,...r}}this.#n=`s${performance.now()}/${performance.now()}`,await t.#l(this.uri,{id:"memento",v:"v1",ts:Date.now(),signature:this.#n,data:this.#e}),this.#t.fire(i)}onDidChange(e){return this.#t.event(e)}dispose=()=>{this.#i.dispose()};#r(e){this.#s().catch(()=>{})}async#s(){let e=await t.#d(this.uri);if(!e){this.#e=void 0;return}e.signature!==this.#n&&(this.#e=e.data,this.#n=e.signature,this.#t.fire(void 0))}static async#l(e,n){let i=JSON.stringify(n,null,2);await Or.workspace.fs.createDirectory(Or.Uri.joinPath(e,"..")),await Or.workspace.fs.writeFile(e,Buffer.from(i))}static async#d(e){try{let n=await Or.workspace.fs.readFile(e),r=new TextDecoder().decode(n);return JSON.parse(r)}catch{return}}static async createMemento(e){let n=await t.#d(e);return new t(e,n)}};function z7(t,e){let n=Or.Uri.joinPath(t,".."),i=t.path.split("/").slice(-1).join(""),r=Or.workspace.createFileSystemWatcher(new Or.RelativePattern(n,i));return r.onDidChange(e),r.onDidCreate(e),r.onDidDelete(e),r}function Eq(t,e){return[Date.now(),0,"replace",1,t,e]}function kq(){return[Date.now(),0,"activate",1]}var zw=class{constructor(e){this.uriStorageDir=e;this.#t=fg.createMemento(pg.Uri.joinPath(e,"eventLog.json")),this.#t.then(n=>this.#e=n)}#e;#t;#n=[];#i=void 0;#r=void 0;log(e){this.#n.push(e),this.queueFlush()}logActivate(){this.log(kq())}logReplace(e,n){this.log(Eq(e,n))}get eventLog(){return this.#e?this.#e.get("log",[]):[]}queueFlush(){this.#r||(this.#r=setTimeout(()=>{this.#r=void 0,dn(this.flush(),"EventLogger.flush")},10))}flush(){let e=async()=>{if(!this.#n.length)return;let i=this.#e??await this.#t,r=i.get("machineId",pg.env.machineId),s=Date.now(),o=[...i.get("log",[]),...this.#n];this.#n=[],await i.update({machineId:r,ts:s,log:o})},n=this.#i?this.#i.then(e):e();return this.#i=n,n.finally(()=>{this.#i===n&&(this.#i=void 0)}),n}dispose(){this.#e?this.#e.dispose():this.#t.then(e=>e.dispose())}};function Gw(t){return new zw(t)}var gc=require("vscode");var Fq=require("vscode");async function hg(t){return Fq.env.openExternal(t.toString())}async function Jw(){let t=gc.Uri.joinPath(ry().extensionUri,"resources/pages/About the Spell Checker.md");return gc.commands.executeCommand("markdown.showPreview",null,[t],{lock:!0})}function Xw(){return Zw("resources/pages/Spell Checker Support Request.md")}function Yw(){return Zw("resources/pages/Spell Checker Report Issue.md")}function Ol(){return hg("https://streetsidesoftware.com/sponsor/")}function Qw(){return Zw("resources/pages/Spell Checker Release Notes.md")}async function Zw(t){return typeof t=="string"&&(t=gc.Uri.joinPath(ry().extensionUri,t)),gc.commands.executeCommand("markdown.showPreview",null,[t],{lock:!0})}var Gi=require("vscode");var G7=`# Feedback

Thank you for providing feedback on the Spell Checker. Your feedback is important to us.

## How can the Spell Checker be improved?

<!-- Please provide details on how the Spell Checker can be improved. -->

## What issues are you experiencing?

<!-- Please provide details on the issues you are experiencing. -->

`;async function ex(){await hg(J7())}function J7(){return X7({title:"Feedback",body:G7,labels:["feedback"]})}function X7(t){let e=new URL("https://github.com/streetsidesoftware/vscode-spell-checker/issues/new"),n=e.searchParams;return t?.title&&n.set("title",t.title),t?.body&&n.set("body",t.body),t?.labels&&n.set("labels",t.labels.join(",")),e}async function tx(){let t=["\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F","\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F","\u2B50\uFE0F\u2B50\uFE0F","\u2B50\uFE0F"],e=await Gi.window.showInformationMessage("How would you rate the Spell Checker?",...t);if(!e)return;let i=4-t.indexOf(e);if(i===1)return await Gi.window.showInformationMessage("Thank you for your feedback. Would you provide more detail on how the Spell Checker can be improved by opening an issue on GitHub?","Open Issue","Not Now")==="Open Issue"?ex():void 0;if(i===2){await Gi.window.showInformationMessage("Thank you for your feedback.","Close");return}switch(await Gi.window.showInformationMessage("Does the Spell Checker help you avoid spelling mistakes and get things done?","Yes","No")){case"Yes":{switch(await Gi.window.showInformationMessage("Thank you for your feedback. The Spell Checker needs your support to continue to improve. Would you consider sponsoring the Spell Checker?","Open Sponsor Page","Ask me Later","No")){case"Open Sponsor Page":await Ol();return;case"Ask me Later":await Gi.window.showInformationMessage("Thank you. We will ask again in about a month.","Close");return;case"No":{if(await Gi.window.showInformationMessage("Are you already a sponsor?","Yes","No")==="Yes"){await Gi.window.showInformationMessage("Thank you for your support!","Close");return}await Gi.window.showInformationMessage("Thank you for your feedback. Would you provide more detail on how the Spell Checker can be improved by opening an issue on GitHub?","Open Issue","Not Now");return}}return}case"No":return await Gi.window.showInformationMessage("Thank you for your feedback. Would you provide more detail on how the Spell Checker can be improved by opening an issue on GitHub?","Open Issue","Not Now")==="Open Issue"?ex():void 0}await Gi.window.showInformationMessage("Thank you for your feedback.","Close")}var cx=require("vscode");var Ko=require("vscode");async function nx(t){try{return await Ko.commands.executeCommand("vscode.executeDocumentSymbolProvider",t)||void 0}catch{return}}async function ix(t){try{return await Ko.commands.executeCommand("vscode.executeWorkspaceSymbolProvider",`query=${t}`)||void 0}catch{return}}async function rx(t,e){try{return await Ko.commands.executeCommand("vscode.executeReferenceProvider",t,e)||void 0}catch{return}}async function sx(t,e){try{return await Ko.commands.executeCommand("vscode.executeDefinitionProvider",t,e)||void 0}catch{return}}async function ox(t,e){try{return await Ko.commands.executeCommand("vscode.executeTypeDefinitionProvider",t,e)||void 0}catch{return}}async function ax(t,e){try{return await Ko.commands.executeCommand("vscode.executeImplementationProvider",t,e)||void 0}catch{return}}async function ux(){let t=cx.window.activeTextEditor?.document,e=t?.uri,n=cx.window.activeTextEditor?.selection.active,i=await nx(e);if(console.log("docSym %o",i),t&&n){let r=t.getWordRangeAtPosition(n),s=t.getText(r),o=s&&await ix(s);console.log("workspaceSym %s %o",s,o)}if(e&&n){let r={fetchReferences:rx,fetchDefinitions:sx,fetchTypeDefinitions:ox,fetchImplementation:ax};await Promise.all(Object.entries(r).map(async([s,o])=>{let a=await o(e,n);console.log(`${s} %o`,a)}))}}var Y7="timeline_start",Pq=process.hrtime(),lx=class{timeLine=[];timeLineEvents=new Map;startEvent;constructor(){this.startEvent=this.createEvent(Y7),this.addEvent(this.startEvent)}mark(e){let n=this.createEvent(e);this.addEvent(n)}measure(e,n,i){let r=this.timeLineEvents.get(n)||this.startEvent,s=this.timeLineEvents.get(i)||this.startEvent,o=Q7(r.startTime,s.startTime),a={name:e,startTime:process.hrtime(Pq),duration:o};this.addEvent(a)}getLastEvent(){return this.timeLine[this.timeLine.length-1]}getLastEventName(){return this.getLastEvent().name||""}addEvent(e){this.timeLine.push(e),this.timeLineEvents.set(e.name,e)}getEntries(){return this.timeLine}getLatestEntryByName(e){return this.timeLineEvents.get(e)}getEntriesByName(e){return this.timeLine.filter(n=>n.name===e)}createEvent(e){return{name:e,startTime:process.hrtime(Pq),duration:0}}};function Q7(t,e){return gg(e)-gg(t)}function gg(t){return(t[0]+t[1]*1e-9)*1e3}var Gt=new lx;var mg=De(require("vscode"));function yg(t,e){let n=t.document,i=n.getText().indexOf(e);if(i<0)return!1;let r=n.positionAt(i),s=new mg.Range(r.line,r.character,r.line,r.character+e.length);return s&&t.revealRange(s,mg.TextEditorRevealType.InCenterIfOutsideViewport),!0}var Z7={"cSpell.addWordsToConfigFileFromServer":(t,e,n)=>Rq(t,Al(Ve(n.uri),n.name)),"cSpell.addWordsToDictionaryFileFromServer":(t,e,n)=>gJ(t,lg(Ve(n.uri),n.name)),"cSpell.addWordsToVSCodeSettingsFromServer":(t,e,n)=>{let i=Pd(n),r=Xh(i,Ve(e),!1);return Rq(t,r)}},zn=fq,$o=(t,e=!1)=>eg(t,void 0,void 0,e),eJ=zn("Add Words to Folder Dictionary",Kk),tJ=zn("Add Words to Workspace Dictionaries",Od),nJ=zn("Add Words to User Dictionary",Ld),iJ=zn("Add Words to Folder Settings",Dr(jr,Lk)),rJ=zn("Add Words to Workspace Settings",Dr(jr,Ok)),sJ=zn("Add Words to User Settings",Dr(jr,Nk)),oJ=zn("Remove Words from Folder Dictionary",vJ),aJ=zn("Remove Words from Workspace Dictionaries",SJ),cJ=zn("Remove Words from Global Dictionary",bJ),uJ=zn("Ignore Words",Dr(vg,void 0)),lJ=zn("Ignore Words in Folder Settings",Dr(vg,on.ConfigurationTarget.WorkspaceFolder)),dJ=zn("Ignore Words in Workspace Settings",Dr(vg,on.ConfigurationTarget.Workspace)),fJ=zn("Ignore Words in User Settings",Dr(vg,on.ConfigurationTarget.Global)),pJ=zn("Add Words to cSpell Configuration",Dr(jr,_k)),hJ=zn("Add Words to Dictionary",Dr(jr,Rd)),mc={"cSpell.addWordToDictionary":hJ,"cSpell.addWordToFolderDictionary":eJ,"cSpell.addWordToWorkspaceDictionary":tJ,"cSpell.addWordToUserDictionary":nJ,"cSpell.addWordToFolderSettings":iJ,"cSpell.addWordToWorkspaceSettings":rJ,"cSpell.addWordToUserSettings":sJ,"cSpell.removeWordFromFolderDictionary":oJ,"cSpell.removeWordFromWorkspaceDictionary":aJ,"cSpell.removeWordFromUserDictionary":cJ,"cSpell.addIgnoreWord":uJ,"cSpell.addIgnoreWordsToFolder":lJ,"cSpell.addIgnoreWordsToWorkspace":dJ,"cSpell.addIgnoreWordsToUser":fJ,"cSpell.suggestSpellingCorrections":jw,"cSpell.goToNextSpellingIssue":()=>Cg("next",!1),"cSpell.goToPreviousSpellingIssue":()=>Cg("previous",!1),"cSpell.goToNextSpellingIssueAndSuggest":()=>Cg("next",!0),"cSpell.goToPreviousSpellingIssueAndSuggest":()=>Cg("previous",!0),"cSpell.enableForGlobal":async()=>Bo(await $o(on.ConfigurationTarget.Global),!0),"cSpell.disableForGlobal":async()=>Bo(await $o(on.ConfigurationTarget.Global),!1),"cSpell.toggleEnableForGlobal":async()=>dc(await $o(on.ConfigurationTarget.Global,!0)),"cSpell.enableForWorkspace":async()=>Bo(await $o(on.ConfigurationTarget.Workspace),!0),"cSpell.disableForWorkspace":async()=>Bo(await $o(on.ConfigurationTarget.Workspace),!1),"cSpell.toggleEnableForWorkspace":async()=>dc(await $o(on.ConfigurationTarget.Workspace)),"cSpell.toggleEnableSpellChecker":async()=>dc(await $o(on.ConfigurationTarget.Global)),"cSpell.enableCurrentFileType":Ll,"cSpell.disableCurrentFileType":Ml,"cSpell.editText":eq,"cSpell.logPerfTimeline":xJ,"cSpell.openSettings":_q("workbench.action.openSettings",()=>[{query:"cSpell."}]),"cSpell.addWordToCSpellConfig":pJ,"cSpell.addIssuesToDictionary":yJ,"cSpell.createCustomDictionary":wJ,"cSpell.createCSpellConfig":EJ,"cSpell.openFileAtLine":PJ,"cSpell.selectRange":_J,"cSpell.fixSpellingIssue":tq,"cSpell.autoFixSpellingIssues":ag,"cSpell.issueViewer.item.openSuggestionsForIssue":Ji,"cSpell.issueViewer.item.autoFixSpellingIssues":Ji,"cSpell.issueViewer.item.addWordToDictionary":Ji,"cSpell.issuesViewByFile.item.autoFixSpellingIssues":Ji,"cSpell.issuesViewByFile.item.addWordToDictionary":Ji,"cSpell.insertDisableNextLineDirective":NJ,"cSpell.insertDisableLineDirective":OJ,"cSpell.insertIgnoreWordsDirective":LJ,"cSpell.insertWordsDirective":MJ,"cSpell.toggleTraceMode":Ji,"cSpell.toggleVisible":Ji,"cSpell.show":Ji,"cSpell.hide":Ji,"cSpell.createCSpellTerminal":Ji,"cspell.showActionsMenu":Ji,"cSpell.openIssuesPanel":_q("cSpellIssuesViewByFile.focus"),"cSpell.openFileInfoView":Nq,"cSpell.displayCSpellInfo":Nq,"cSpell.hideCSpellInfo":qJ,"cSpell.experimental.executeDocumentSymbolProvider":BJ,"cSpell.restart":UJ,"cSpell.reload":jJ,"cSpell.supportRequest":Xw,"cSpell.reportIssue":Yw,"cSpell.about":Jw,"cSpell.sponsor":Ol,"cSpell.rateTheSpellChecker":tx,"cSpell.releaseNotes":Qw,"cSpell.enableLanguage":fx,"cSpell.disableLanguage":px,"cSpell.enableCurrentLanguage":Ll,"cSpell.disableCurrentLanguage":Ml},di=Object.fromEntries(Object.keys(mc).map(t=>[t,t]));function Lq(t){let e=new Set,n=Object.entries({...mc,...t}).filter(([r])=>!e.has(r)).map(([r,s])=>Aq(r,s)),i=Object.entries(Z7).map(([r,s])=>Aq(r,s));return[...n,...i]}function Ji(){}function Rq(t,e){return et(Ze("dictionaryHelper").addWordsToConfigRep(t,e),"addWordsToConfig")}function gJ(t,e){return et(Ze("dictionaryHelper").addWordToDictionary(t,e),"addWordsToDictionaryTarget")}function mJ(){}function Aq(t,e){return e===Ji?{dispose:mJ}:Oe.commands.registerCommand(t,tu(e,`Register command: ${t}`))}function yJ(){return et(Ze("dictionaryHelper").addIssuesToDictionary(),"addAllIssuesFromDocument")}function vg(t,e,n){return et(CJ(t,e,n),Sg("addIgnoreWordsToTarget",void 0,n))}async function CJ(t,e,n){n=Ve(n);let i=await jo(n),r=e?i.filter(s=>s.scope===Oi(e)):i;return Iw(r,t)}function vJ(t,e){return dx(t,on.ConfigurationTarget.WorkspaceFolder,e)}function SJ(t,e){return dx(t,on.ConfigurationTarget.Workspace,e)}function bJ(t){return dx(t,on.ConfigurationTarget.Global,void 0)}function dx(t,e,n){return et(DJ(t,e,n),Sg("removeWordFromTarget",e,n))}function DJ(t,e,n){n=Ve(n);let i=qk(e,n,void 0);return Ze("dictionaryHelper").removeWordsFromTargets(t,[i],n)}function fx(t,e){return Mq(t,Ve(e),void 0,!0)}function px(t,e){return Mq(t,Ve(e),void 0,!1)}function Mq(t,e,n,i){return et(async()=>{let r=await(n?YM(n,e):jo(e));return ig({[t]:i},r)},Sg(`enableDisableLanguageId enable: ${i}`,n,e))}function TJ(t,e,n,i,r){return et(async()=>{let{targets:s,scopes:o}=await eg(n||on.ConfigurationTarget.Global,e,i);return ng(t,r,s,o)},Sg(`enableDisableLocale enable: ${r}`,n,e))}function hx(t,e,n){let i=typeof t=="boolean"?t?on.ConfigurationTarget.Global:on.ConfigurationTarget.Workspace:t,r=ww(i);return TJ(e,r.uri,r.target,r.configScope,n)}function Ll(t,e){let n=qq(t,e);return et(async()=>{let{languageId:i,uri:r}=n;if(!(!r||!i))return Vs({[i]:!0},r)},"enableCurrentFileType")}function Ml(t,e){let n=qq(t,e);return et(async()=>{let{languageId:i,uri:r}=n;if(!(!r||!i))return Vs({[i]:!1},r)},"disableCurrentFileType")}function qq(t,e){t=typeof t=="string"?t:void 0,e=typeof e=="string"||e instanceof Oe.Uri?e:void 0;let n=Oe.window.activeTextEditor?.document;return e??=n?.uri,t??=n?.languageId,{languageId:t,uri:e}}function Sg(t,e,n){let i=e?Oi(e):"";return i?`${t} ${i} ${Ve(n)}`:`${t} ${Ve(n)}`}async function wJ(){let t=await tg(Oe.window.activeTextEditor?.document),e=await _d(t);if(!e)return;let n=Il(e);n&&await Ze("dictionaryHelper").createCustomDictionary(n)}function xJ(){Gt.getEntries().forEach(t=>{console.log(t.name,gg(t.startTime),t.duration)})}async function EJ(){let t=await _w(Oe.window.activeTextEditor?.document.uri);if(t){let e=await Oe.window.showTextDocument(t);yg(e,'"cspell":')}}function kJ(t,e){return t.filter(n=>n.range?.start.isAfter(e.end)).concat(t[0])[0]}function FJ(t,e){return[t[t.length-1]].concat(t.filter(n=>n.range?.end.isBefore(e.start))).pop()}async function Cg(t,e){let n=Oe.window.activeTextEditor;if(!n)return;let i=n.document,r=n.selection,s=i?zi(i.uri):void 0,o=s?t==="next"?kJ(s,r):FJ(s,r):void 0,a=o?.range;if(!i||!r||!a||!o)return Hs(Oe.window.showInformationMessage("No issues found in this document."),"actionJumpToSpellingError");if(n.revealRange(a,Oe.TextEditorRevealType.InCenterIfOutsideViewport),n.selection=new Oe.Selection(a.start,a.end),e)return jw()}async function PJ(t,e){t=Ve(t);let n=e&&{selection:RJ(e)}||void 0;await Oe.window.showTextDocument(t,n)}function RJ(t){if(t===void 0)return;t=typeof t=="string"?Number.parseInt(t):t;let e=new Oe.Position(t-1,0);return new Oe.Range(e,e)}function bg(t,e,n,i){let r=i.map(IJ);return{title:t,command:"cSpell.editText",arguments:[e.toString(),n,r]}}function gx(t,...e){return typeof t=="string"?`command:${t}?${encodeURIComponent(JSON.stringify(e))}`:`command:${t.command}?${t.arguments?encodeURIComponent(JSON.stringify(t.arguments)):""}`}function Iq(t){let{line:e,character:n}=t;return{line:e,character:n}}function AJ(t){return{start:Iq(t.start),end:Iq(t.end)}}function IJ(t){let{range:e,newText:n}=t;return{range:AJ(e),newText:n}}async function _J(t,e,n){if(!(!t||!e))try{let i=Xf(t);if(i){let s=i.notebook;if(i.index<0)return;let o=new Oe.NotebookRange(i.index,i.index+1);await Oe.window.showNotebookDocument(s,{selections:[o]})}let r=await Oe.window.showTextDocument(t,{selection:e});r.selection=n?new Oe.Selection(e.end,e.start):new Oe.Selection(e.start,e.end)}catch(i){Bc((0,Oq.format)("Error: handleSelectRange",i),t.toString())}}var Dg="${BLOCK_COMMENT_START/^(<!--)$/$1-/}",Tg="${BLOCK_COMMENT_END/^(-->)$/-$1/}";function NJ(t,e){return et(async()=>{let n=t||Oe.window.activeTextEditor;if(!n)return;let{document:i,selection:r}=n,{line:s}=r.active,o=i.lineAt(s),a=o.text.slice(0,o.firstNonWhitespaceCharacterIndex),c=o.text.length>o.firstNonWhitespaceCharacterIndex?`
`:"";return await n.insertSnippet(new Oe.SnippetString(`${a}${Dg} cspell:disable-next-line ${Tg}`+c),new Oe.Range(o.range.start,o.range.start))},"handleInsertDisableNextLineDirective")}function OJ(t,e){return et(async()=>{let n=t||Oe.window.activeTextEditor;if(!n)return;let{document:i,selection:r}=n,{line:s}=r.active,o=i.lineAt(s),a=o.text.endsWith(" ")?"":" ";return await n.insertSnippet(new Oe.SnippetString(`${a}${Dg} cspell:disable-line ${Tg}
`),new Oe.Range(o.range.end,o.range.end))},"handleInsertDisableLineDirective")}function LJ(t,e){return et(async()=>{let n=t||Oe.window.activeTextEditor;if(!n)return;let{document:i,selection:r}=n,{line:s}=r.active,o=i.lineAt(s),a=o.text.slice(0,o.firstNonWhitespaceCharacterIndex),c=o.text.length>o.firstNonWhitespaceCharacterIndex?`
`:"";return await n.insertSnippet(new Oe.SnippetString(`${a}${Dg} cspell:ignore \${0:$TM_CURRENT_WORD} ${Tg}`+c),new Oe.Range(o.range.start,o.range.start))},"handleInsertIgnoreWordsDirective")}function MJ(t,e){return et(async()=>{let n=t||Oe.window.activeTextEditor;if(!n)return;let{document:i,selection:r}=n,{line:s}=r.active,o=i.lineAt(s),a=o.text.slice(0,o.firstNonWhitespaceCharacterIndex),c=o.text.length>o.firstNonWhitespaceCharacterIndex?`
`:"";return await n.insertSnippet(new Oe.SnippetString(`${a}${Dg} cspell:words \${0:$TM_CURRENT_WORD} ${Tg}`+c),new Oe.Range(o.range.start,o.range.start))},"handleInsertWordsDirective")}function _q(t,e){return async()=>{let n=e?.()||[];return Oe.commands.executeCommand(t,...n)}}async function Nq(){await Wo({displayCSpellInfo:!0}),await Oe.commands.executeCommand("cSpellInfoView.focus")}async function qJ(){await Wo({displayCSpellInfo:!1})}function UJ(){return et(lo().restart(),"handle restart server")}function jJ(){return et(lo().notifySettingsChanged(),"handle restart server")}function BJ(){return et(ux(),"handleCmdExperimentalExecuteDocumentSymbolProvider")}var KJ=!1,ur=KJ?console.log:()=>{};function Uq(t){let e=Ye();return e.push(_n.default.commands.registerCommand("cspell.showActionsMenu",()=>$J(t))),e}async function $J(t){let e=_n.default.window.activeTextEditor?.document,n=await et(e?lo().getConfigurationForDocument(e,{}):Promise.resolve(void 0),"Language Status"),i=[JJ(e?.uri,n?.languageId,n?.languageIdEnabled),XJ(e?.uri,n?.schemeIsAllowed),...YJ(n?.configFiles.map(r=>_n.default.Uri.parse(r))),{label:"",kind:_n.default.QuickPickItemKind.Separator},GJ(t),Vo({title:"$(file) Show File Info...",command:di["cSpell.openFileInfoView"]}),Vo({title:"$(console) Open Spell Checker REPL Console.",command:di["cSpell.createCSpellTerminal"]}),Vo({title:"$(issues) Open Spelling Issues Panel.",command:"cSpell.openIssuesPanel"}),zJ(),Vo({title:"$(keyboard) Edit Keyboard Shortcuts...",command:"workbench.action.openGlobalKeybindings",arguments:["Spell:"]}),Vo({title:"$(gear) Edit Settings...",command:"workbench.action.openSettings",arguments:[Bt]})].filter(vn);return VJ({items:i,title:"Spell Checker Actions Menu"}).catch(()=>{})}async function VJ(t){t={...t};let e=!0;for(;e;)try{e=!1;let n=await HJ(t);if(n instanceof yc){t.selected=n,await n.action();continue}if(typeof n=="function"){await n();continue}return}catch(n){if(n===Gs.back)throw ur("Going back",t.title),Gs.redraw;if(n===Gs.cancel){ur("Cancel",t.title);return}if(n===Gs.redraw){ur("Redraw",t.title),e=!0;continue}throw n}}async function HJ(t){let e=performance.now(),n=Ye();try{return await new Promise((i,r)=>{let s=_n.default.window.createQuickPick();n.push(s),s.title=t.title,s.items=t.items,t.enableBackButton&&(s.buttons=[_n.default.QuickInputButtons.Back]),t.selected&&(s.activeItems=[t.selected]),t.matchOnDescription!==void 0&&(s.matchOnDescription=t.matchOnDescription),t.matchOnDetail!==void 0&&(s.matchOnDetail=t.matchOnDetail),n.push(s.onDidChangeSelection(o=>{ur("onDidChangeSelection",o)}),s.onDidChangeActive(o=>{ur("onDidChangeActive",o)}),s.onDidTriggerButton(o=>{ur("onDidTriggerButton",o),o===_n.default.QuickInputButtons.Back&&r(Gs.back)}),s.onDidTriggerItemButton(o=>{ur("onDidTriggerItemButton",o);let a=o.button;a instanceof wg&&a.action&&i(a.action)}),s.onDidAccept(()=>{ur("onDidAccept",s.selectedItems);let o=s.selectedItems[0];i(o)}),s.onDidHide(()=>{ur(`onDidHide: ${t.title} - ${e}`),r(Gs.cancel)})),ur(`Showing menu: ${t.title} - ${e}`),s.show()})}finally{ur(`Disposing of menu: ${t.title} - ${e}`),n.dispose()}}var Gs=class t{static back=new t;static cancel=new t;static redraw=new t},wg=class{constructor(e,n,i){this.iconPath=e;this.tooltip=n;this.action=i}},xg=class extends wg{constructor(n,i){super(new _n.default.ThemeIcon("gear"),i.tooltip??i.title,jq(i));this.iconPath=n;this.command=i}},yc=class{constructor(e,n,i){this.label=e;this.description=n;this.#e=i||(()=>Promise.resolve(void 0))}#e;kind;detail;picked;iconPath;alwaysShow;buttons;resourceUri;get action(){return this.#e}set action(e){this.#e=e}},ql=class extends yc{constructor(n,i){super(n.title,i,jq(n));this.command=n;this.description=i}};function Vo(t,e){return new ql(t,e)}function zJ(){return{label:"",kind:_n.default.QuickPickItemKind.Separator}}function GJ(t){let e=t.areIssuesVisible();return Vo(e?{title:"$(eye-closed) Hide Spelling Issues",command:"cSpell.hide"}:{title:"$(eye) Show Spelling Issues",command:"cSpell.show"})}function JJ(t,e,n){if(!e||n===void 0)return;let i="$(code)",r=()=>Vs({[e]:!n},t),s=new yc(`${i} ${n?"Disable":"Enable"} File Type:`,e,r);return s.detail=`File Type: "${e}" is currently ${n?"enabled":"disabled"}.`,s.buttons=[new xg(new _n.default.ThemeIcon("gear"),{title:"Edit Enable File Type in Settings",command:"workbench.action.openSettings",arguments:[Me.enabledFileTypes]})],s}function XJ(t,e){if(!t)return;let n=new yc(`$(code) ${e?"Exclude":"Allow"} Scheme:`,t.scheme);return n.detail=`Scheme: "${t.scheme}" is currently ${e?"allowed":"excluded"}.`,n.action=()=>ZM({[t.scheme]:!e},t),n.buttons=[new xg(new _n.default.ThemeIcon("gear"),{title:"Edit Enable Scheme in Settings",command:"workbench.action.openSettings",arguments:[Me.enabledSchemes]})],n}function YJ(t){return t?.length?t.map(e=>{let n=new ql({title:"Open Config File:",command:"vscode.open",arguments:[e]},_n.default.workspace.asRelativePath(e));return n.iconPath=_n.default.ThemeIcon.File,n.detail=_n.default.workspace.asRelativePath(e,!0),n.resourceUri=e,n}):[new ql({title:"$(new-file) Create Config...",command:di["cSpell.createCSpellConfig"]})]}async function QJ(t){await _n.default.commands.executeCommand(t.command,...t.arguments||[])}function jq(t){return()=>QJ(t)}async function Eg(t,e){return Ze("client").serverApi.checkDocument(t,e)}var Ho=De(require("vscode"),1),Nn=require("vscode");var ZJ=/\b(?:spell-?checker|c?spell|LocalWords)::?(.*)/gi,yx=/(?<=\b(?:spell-?checker|c?spell)::?)(?!:)\s*(.*)/i,eX=[{pfx:"cspell:",min:3},{pfx:"cSpell:",min:2},{pfx:"spell:",min:5},{pfx:"spell-checker:",min:5},{pfx:"spellchecker:",min:5},{pfx:"LocalWords:",min:6}];async function Wq(t){t.push(Ho.languages.registerInlineCompletionItemProvider({pattern:"**"},uX))}var tX=[{label:"words",insertText:"words",description:"Words to be allowed in the document",sortText:"1"},{label:"ignore words",insertText:"ignore",description:"Words to be ignored in the document",sortText:"2"},{label:"ignoreRegExp",insertText:"ignoreRegExp",snippetText:"ignoreRegExp /${1:expression}/g",description:"Ignore text matching the regular expression.",kind:Ho.CompletionItemKind.Snippet},{label:"disable-next-line",insertText:"disable-next-line",description:"Do not spell check the next line",sortText:"3"},{label:"disable-line",insertText:"disable-line",description:"Do not spell check the current line"},{label:"disable spell checker",insertText:"disable",description:"Disable spell checking from this point further."},{label:"enable spell checker",insertText:"enable",description:"Enable spell checking from this point further."},{label:"dictionaries",insertText:"dictionaries",commitCharacters:[" "],description:"Add dictionaries to be used in this document."},{label:"locale",insertText:"locale",snippetText:"locale ${1:en}",description:"Set the language locale to be used in this document. (i.e. fr,en)",kind:Ho.CompletionItemKind.Snippet},{label:"disable compound words",insertText:"disableCompoundWords",description:"Turn OFF Allow Compound Words."},{label:"enable compound words",insertText:"enableCompoundWords",description:"Turn ON Allow Compound Words."}];function nX(t){let e="showAutocompleteDirectiveSuggestions";try{return es(e,t)??!0}catch{return!1}}var iX={dictionaryDefinitions:!0,dictionaries:!0},mx=class{cacheConfig;cacheDocDictionaries=qm();constructor(){this.cacheConfig=new Pl(e=>Ze("client").getConfigurationForDocument({uri:e},iX))}provideInlineCompletionItems(e,n,i,r){if(!nX(e.uri)||!this.getConfigForDocument(e))return;let a=e.lineAt(n.line).text,c=a.slice(0,n.character),u=c.match(ZJ);if(!u)return rX(c,n);let f={items:[]},g=new RegExp(yx),p=u.index||0;g.lastIndex=p;let l=g.exec(c);if(!l){let w="LocalWords:";return u[0].startsWith(w)?Bq(e,n,a,p+w.length):void 0}let d=l[1],h=(l.index||0)+l[0].length-d.length;if(d.startsWith("dictionaries")||d.startsWith("dictionary"))return oX(e,n,a,h,w=>this.getListOfDictionaries(w));if(d.startsWith("words")||d.startsWith("ignore"))return Bq(e,n,a,aX(a,h));let m=d.split(/\s+/);if(m.length>1)return;let C=new Ho.Range(n.line,h,n.line,n.character),D=tX.filter(w=>w.insertText.startsWith(m[0])).map(w=>sX(w,C));return f.items.push(...D),f}getConfigForDocument(e){return this.cacheConfig.get(e.uri)}getListOfDictionaries(e){let n=this.getConfigForDocument(e),i=e.uri.toString(),r=this.cacheDocDictionaries.get(i,()=>({available:void 0,enabled:void 0}));if(!n||!(n.docSettings||n.settings))return r;let o=lX(n);return this.cacheDocDictionaries.set(i,o),o}};function rX(t,e){let n={items:[]},r=t.lastIndexOf(" ")+1,s=t.slice(r),o=s.length,a=eX.filter(f=>f.pfx.startsWith(s)&&o>=f.min).map(f=>f.pfx);if(!a.length)return;let c=new Nn.Range(e.line,r,e.line,e.character),u=a.map(f=>new Nn.InlineCompletionItem(f,c));return n.items.push(...u),n}function sX(t,e){if(t.snippetText){let i=new Nn.SnippetString(t.snippetText),r=new Nn.InlineCompletionItem(i,e);r.filterText=t.insertText}return new Nn.InlineCompletionItem(t.insertText,e)}function oX(t,e,n,i,r){let s=new RegExp(yx,"s");s.lastIndex=i;let o=s.exec(n);if(!o)return;let a=o[1],c=(o.index||0)+o[0].length-a.length,u=e.character,f=Kq(n,c);if(f<u)return;let g=r(t);if(!g.available)return;let p=/\s|$/ms;p.lastIndex=u;let l=p.exec(n)?"":" ",d=n.lastIndexOf(" ",u-1)+1,h=d<=c?" ":"",m=/[\s,]+/g,C=n.slice(c,d).split(m),D=n.slice(u,f).split(m),w=new Set([...g.enabled||[],...C,...D]),k=g.available.filter(B=>!w.has(B));if(!k.length)return;let A=new Nn.Range(e.line,d,e.line,u);return new Nn.InlineCompletionList(k.map(B=>new Nn.InlineCompletionItem(h+B+l,A)))}function Bq(t,e,n,i){let r=e.character;if(Kq(n,i)<r)return;let o=dX(t);if(!o.length)return;let a=/\s|$/ms;a.lastIndex=r;let c=a.exec(n)?"":" ",u=n.lastIndexOf(" ",r-1)+1,f=u<=i?" ":"",g=n.slice(f?r:u,r),p=cX(t,e,o,g),l=new Nn.Range(e.line,u,e.line,r);return new Nn.InlineCompletionList(p.map(d=>new Nn.InlineCompletionItem(f+d+c,l)))}function aX(t,e){let n=new RegExp(yx,"s");n.lastIndex=e;let i=n.exec(t);if(!i)return 0;let r=i[1];return(i.index||0)+i[0].length-r.length}function cX(t,e,n,i){let s=e.line,o=new Nn.Range(Math.max(s-3,0),0,s+3,0),a=n.filter(u=>o.contains(u.range)).filter(u=>t.getText(u.range).startsWith(i));if(a.length)return a.sort((f,g)=>Math.abs(f.range.start.line-s)-Math.abs(g.range.start.line-s)),[...new Set(a.map(f=>t.getText(f.range)))];let c=[...new Set(n.map(u=>t.getText(u.range)))];return c.sort(),c}function Kq(t,e){let n=/[^a-z0-9_\s,\p{L}-]/giu;n.lastIndex=e;let i=n.exec(t);return i?i.index:t.length}var uX=new mx;function lX(t){try{let e=(t.docSettings?.dictionaryDefinitions||[]).filter(i=>!!i).map(i=>i.name).filter(i=>!!i),n=t.docSettings?.dictionaries||[];return{available:e,enabled:n}}catch{return{available:void 0,enabled:void 0}}}function dX(t){return zi(t.uri).filter(e=>!e.data?.issueType)}var zo=require("vscode");var kg=class{constructor(e){this.issueTracker=e}static providedCodeActionKinds=[zo.CodeActionKind.QuickFix];async provideCodeActions(e,n,i){if(aq(i.diagnostics).length)return[];let s=this.issueTracker.getSpellingIssues(e.uri)?.filter(a=>a.range.contains(n));if(s?.length!==1)return[];let o=s.map(a=>this.diagToAction(e,a));return(await Promise.all(o)).flatMap(a=>a)}async diagToAction(e,n){let i=n.providedSuggestions();return i?.length?i.map(r=>fX(e,n.range,r)):await Bw(e,n.range,[n.diag])}};function fX(t,e,n){let i=`Replace with: ${n.word}`,r=new zo.CodeAction(i,zo.CodeActionKind.QuickFix);return r.isPreferred=n.isPreferred,r.command=bg(i,t.uri,t.version,[{range:e,newText:n.word}]),r}function $q(t){return zo.languages.registerCodeActionsProvider("*",new kg(t),{providedCodeActionKinds:kg.providedCodeActionKinds})}function Fg(...t){function e(n){for(let i of t)n=i(n);return n}return e}function Pg(t){function e(n){function i(){let r=n[Symbol.iterator]();function s(){let{done:o,value:a}=r.next();return o?{done:o,value:void 0}:{value:t(a)}}return{next:s}}return{[Symbol.iterator]:i}}return e}function Rg(t,...e){return Fg(...e)(t)}var Cc=De(require("vscode"),1);var Vq=["package.json",".cspell.json","cspell.json",".cSpell.json","cSpell.json",".cspell.jsonc","cspell.jsonc",".vscode/cspell.json",".vscode/cSpell.json",".vscode/.cspell.json",".cspell.config.json",".cspell.config.jsonc",".cspell.config.yaml",".cspell.config.yml","cspell.config.json","cspell.config.jsonc","cspell.config.yaml","cspell.config.yml","cspell.config.mjs","cspell.config.cjs","cspell.config.js",".cspell.config.mjs",".cspell.config.cjs",".cspell.config.js",".cspell.yaml",".cspell.yml","cspell.yaml","cspell.yml",".config/.cspell.json",".config/cspell.json",".config/.cSpell.json",".config/cSpell.json",".config/.cspell.jsonc",".config/cspell.jsonc",".config/cspell.config.json",".config/cspell.config.jsonc",".config/cspell.config.yaml",".config/cspell.config.yml",".config/cspell.config.mjs",".config/cspell.config.cjs",".config/cspell.config.js",".config/.cspell.config.json",".config/.cspell.config.jsonc",".config/.cspell.config.yaml",".config/.cspell.config.yml",".config/.cspell.config.mjs",".config/.cspell.config.cjs",".config/.cspell.config.js",".config/cspell.yaml",".config/cspell.yml"];function Hq(){return new Cx}var hX=new Set(["cspell.yml","cspell.yaml",".cspell.yml",".cspell.yaml"]),Cx=class{#e=Ye(void 0,"ConfigWatcher");#t;#n=new Cc.EventEmitter;#i=yX();constructor(){this.#e.push(this.#n)}dispose(){this.#e.dispose(),this.#t=void 0}get on(){return this.onDidChangeConfig}get onDidChangeConfig(){return this.#r(),this.#n.event}#r(){if(this.#t)return this.#t;let e=Cc.workspace.createFileSystemWatcher(`**/{${this.#i.join(",")}}`);return this.#e.push(e,e.onDidChange(this.#s),e.onDidCreate(this.#s),e.onDidDelete(this.#s)),this.#t=e,e}#s=e=>{this.#n.fire(e)};async scanWorkspaceForConfigFiles(e){let n=await Cc.workspace.findFiles(`**/{${this.#i.join(",")}}`,"**/node_modules/**",void 0,e),i=n.filter(o=>o.path.endsWith("/package.json")),r=n.filter(o=>!o.path.endsWith("/package.json")),s=Rg(i,mX(3),Pg(o=>({uri:o,hasConfig:gX(o)})));for(let{uri:o,hasConfig:a}of s)await a&&r.push(o);return r}};async function gX(t){if(!t.path.endsWith("/package.json"))return!0;try{let n=new TextDecoder().decode(await Cc.workspace.fs.readFile(t));return"cspell"in JSON.parse(n)}catch{return!1}}function mX(t){function*e(n){let i=[];for(let r of n)if(i.push(r),i.length>=t-1){let s=i[0];i.shift(),yield s}yield*i}return e}function yX(){let t=new Set;for(let e of Vq){let n=e.split("/");if(n.length===1){hX.has(e)||t.add(e);continue}let i=n[n.length-1];t.has(i)||t.add(e)}return[...t]}var Ue=De(require("vscode"),1);var zq="Word",Gq=1e3,CX=!1,Ag=CX?console.log:()=>{},Ul=class t{constructor(e,n){this.context=e;this.issueTracker=n;this.getConfiguration();let i=this.createDecorators();this._visible=e.globalState.get(t.globalStateKey,!0),this.decorationTypeForIssues=i?.decoratorIssues,this.decorationTypeForFlagged=i?.decoratorFlagged,this.decorationTypeForSuggestions=i?.decoratorSuggestions,this.decorationTypeForDebug=i?.decoratorDebug,this.disposables.push(()=>this.clearDecoration(),Ue.workspace.onDidChangeConfiguration(r=>this.#s(r)),Ue.window.onDidChangeActiveColorTheme(()=>this.resetDecorator()),n.onDidChangeDiagnostics(r=>this.handleOnDidChangeDiagnostics(r)),Ue.window.onDidChangeActiveTextEditor(r=>this.refreshEditor(r)),Ue.window.onDidChangeVisibleTextEditors(r=>this.handleOnDidChangeVisibleTextEditors(r)),Ue.window.onDidChangeTextEditorSelection(r=>this.#n(r)),Ue.workspace.onDidChangeTextDocument(r=>this.#i(r)),Ue.workspace.onDidCloseTextDocument(r=>this.docChanges.delete(r.uri.toString()))),this.setContext(this._visible)}decorationTypeForIssues;decorationTypeForFlagged;decorationTypeForSuggestions;decorationTypeForDebug;disposables=Ye();visibleEditors=new Set;_visible=!0;dispose=this.disposables.dispose;docChanges=new Map;refreshTimeout;urisToRefresh=new Set;hideIssuesWhileTyping=zq;revealIssuesAfterDelayMS=Gq;emitterVisibility=new Ue.default.EventEmitter;overrides={};handleOnDidChangeDiagnostics(e){this.refreshDiagnostics(e.uris)}handleOnDidChangeVisibleTextEditors(e){let n=e.filter(i=>!this.visibleEditors.has(i));this.visibleEditors.clear(),this.visibleEditors=new Set(e),this.refreshDiagnostics([...n].map(i=>i.document.uri))}refreshEditor(e){if(e??=Ue.window.activeTextEditor,!!e)return this.refreshDiagnostics([e.document.uri])}refreshDiagnostics(e){e??=Ue.window.visibleTextEditors.map(r=>r.document.uri);let n=new Set(e.map(r=>r.toString()));Ue.window.visibleTextEditors.filter(r=>n.has(r.document.uri.toString())).forEach(r=>this.refreshDiagnosticsInEditor(r))}refreshDiagnosticsInEditor(e){if(!this.decorationTypeForIssues||!this.decorationTypeForFlagged||!this.decorationTypeForDebug||!this.decorationTypeForSuggestions)return;let n=e.document;if(!this.#r(n.uri)){e.setDecorations(this.decorationTypeForIssues,[]),e.setDecorations(this.decorationTypeForFlagged,[]),e.setDecorations(this.decorationTypeForSuggestions,[]);return}let i=this.revealIssuesAfterDelayMS,r=this.hideIssuesWhileTyping,s=n.validateRange(new Ue.Range(n.positionAt(0),n.positionAt(n.getText().length))),o=r==="Word"?C=>Xq(C,n.getWordRangeAtPosition(C.start),n.getWordRangeAtPosition(C.end)):r==="Line"?C=>n.lineAt(C.start.line).range:C=>s,a=performance.now(),c=this.docChanges.get(n.uri.toString()),u=c&&i-(a-c.timestamp);Ag("refreshDiagnosticsInEditor %o",{t:performance.now().toFixed(2),version:c?.version,delay:i,mode:r,delta:a-(c?.timestamp||a),toDelay:u});let f=(r!=="Off"&&c&&a-c.timestamp<i&&c.ranges||[]).map(o),g=e.selections.map(C=>{let D=f.filter(w=>w.intersection(C));if(D.length)return Xq(C,...D)}).filter(vn),p=!1,l=(this.issueTracker.getSpellingIssues(n.uri)||[]).filter(C=>{let D=C.range,w=g.some(k=>k.intersection(D));return p||=w,!w});p&&this.#t(n.uri);let d=l.filter(C=>!C.isFlagged()&&!C.treatAsSuggestion()).map(C=>Sx(C)).filter(vn);e.setDecorations(this.decorationTypeForIssues,d);let h=l.filter(C=>C.treatAsSuggestion()).map(C=>Sx(C)).filter(vn);e.setDecorations(this.decorationTypeForSuggestions,h);let m=l.filter(C=>C.isFlagged()&&C.isIssueTypeSpelling()).map(C=>Sx(C)).filter(vn);e.setDecorations(this.decorationTypeForFlagged,m)}get visible(){return this.context.globalState.get(t.globalStateKey,this._visible)}set visible(e){this.setContext(e),this._visible!==e&&(this._visible=e,this.resetDecorator())}toggleVisible(){this.visible=!this.visible}onDidChangeVisibility=this.emitterVisibility.event;setContext(e){this.context.globalState.update(t.globalStateKey,e),this.emitterVisibility.fire(e),Promise.resolve(Wo({showDecorations:e})).catch(()=>{})}clearDecoration(){this.visibleEditors.clear(),this.decorationTypeForIssues?.dispose(),this.decorationTypeForIssues=void 0,this.decorationTypeForFlagged?.dispose(),this.decorationTypeForFlagged=void 0,this.decorationTypeForSuggestions?.dispose(),this.decorationTypeForSuggestions=void 0,this.decorationTypeForDebug?.dispose(),this.decorationTypeForDebug=void 0}getConfiguration(){let e=Ue.workspace.getConfiguration(Bt);this.hideIssuesWhileTyping=e.hideIssuesWhileTyping??zq,this.revealIssuesAfterDelayMS=e.revealIssuesAfterDelayMS??Gq,this.overrides=e[Me.doNotUseCustomDecorationForScheme]??this.overrides}resetDecorator(){this.docChanges.clear(),this.getConfiguration();let e=this.createDecorators();this.decorationTypeForIssues=e?.decoratorIssues,this.decorationTypeForFlagged=e?.decoratorFlagged,this.decorationTypeForSuggestions=e?.decoratorSuggestions,this.decorationTypeForDebug=e?.decoratorDebug,this.refreshDiagnostics()}createDecorators(){if(this.clearDecoration(),!(this.visible&&(Ue.workspace.getConfiguration(Bt).get("useCustomDecorations")??!0)))return;let n=vX(Ue.window.activeColorTheme.kind),i=Ue.workspace.getConfiguration(Bt),r=i[n]?.overviewRulerColor||i.overviewRulerColor||void 0,s=Ue.window.createTextEditorDecorationType({isWholeLine:!1,rangeBehavior:Ue.default.DecorationRangeBehavior.ClosedClosed,overviewRulerLane:Ue.default.OverviewRulerLane.Right,overviewRulerColor:r,textDecoration:vx(i,n,"textDecorationColor")}),o=Ue.window.createTextEditorDecorationType({isWholeLine:!1,rangeBehavior:Ue.default.DecorationRangeBehavior.ClosedClosed,overviewRulerLane:Ue.default.OverviewRulerLane.Right,overviewRulerColor:r,textDecoration:vx(i,n,"textDecorationColorFlagged")}),a=Ue.window.createTextEditorDecorationType({isWholeLine:!1,rangeBehavior:Ue.default.DecorationRangeBehavior.ClosedClosed,overviewRulerLane:Ue.default.OverviewRulerLane.Right,overviewRulerColor:r,textDecoration:vx(i,n,"textDecorationColorSuggestion")}),c=Ue.window.createTextEditorDecorationType({isWholeLine:!1,rangeBehavior:Ue.default.DecorationRangeBehavior.ClosedClosed,backgroundColor:"rgba(255, 0, 0, 0.5)"});return{decoratorIssues:s,decoratorFlagged:o,decoratorSuggestions:a,decoratorDebug:c}}#e(){this.refreshTimeout||this.urisToRefresh.size<1||(this.refreshTimeout=setTimeout(()=>{this.refreshTimeout=void 0;let e=[...this.urisToRefresh];this.urisToRefresh.clear();let n=performance.now();e.forEach(r=>{let s=this.docChanges.get(r.toString());!s||n-s.timestamp>=this.revealIssuesAfterDelayMS||this.urisToRefresh.add(r)});let i=e.filter(r=>!this.urisToRefresh.has(r));this.refreshDiagnostics(i),this.#e()},100))}#t(e){this.urisToRefresh.add(e),this.#e()}#n(e){Ag("onSelectionChange %o",{t:performance.now().toFixed(2),kind:e.kind,v:e.textEditor.document.version,sel:JSON.stringify(e.selections.map(n=>n.active)),uri:e.textEditor.document.uri.toString()})}#i(e){let{document:n,contentChanges:i}=e,r=n.uri.toString(),s=Ds(n.uri);if(!s){this.docChanges.delete(r);return}Ag("onDocumentChange %o",{t:performance.now().toFixed(2),v:n.version,sel:JSON.stringify(s.selections.map(a=>a.active)),c:JSON.stringify(i.map(a=>({r:a.range,t:a.text}))),uri:n.uri.toString()});let o=bX(i);if(!o.length){this.docChanges.delete(r);return}this.docChanges.set(r,{uri:n.uri,version:n.version,ranges:o,timestamp:performance.now()})}#r(e){return!this.overrides[e.scheme]}#s(e){e.affectsConfiguration(Bt)&&this.resetDecorator()}clearActiveChanges(){this.docChanges.clear()}static globalStateKey="showDecorations"};function vx(t,e,n){let i=t[e]?.textDecoration||t.textDecoration||"",r=t[e]?.textDecorationLine||t.textDecorationLine||"underline",s=t[e]?.textDecorationStyle||t.textDecorationStyle||"wavy",o=t[e]?.textDecorationThickness||t.textDecorationThickness||"auto",a=t[e]?.[n]||t[n]||"#fc4";return i||`${r} ${s} ${a} ${o}`}function Sx(t){let{range:e}=t,n=t.providedSuggestions(),i=t.isFlagged(),r=t.isKnown(),s=t.treatAsSuggestion(),o=t.word,a=t.document,c=gx("cSpell.suggestSpellingCorrections",a.uri,e,o),u=Jq("Suggestions $(chevron-right)",c,"Show suggestions."),f=i?"$(error)":s?"$(info)":r?"$(warning)":"$(issues)",g=new Ue.MarkdownString(f+" ",!0);g.appendMarkdown("***").appendText(o).appendMarkdown("***: ");let p=i?"Forbidden word.":r?"Misspelled word.":"Unknown word.";if(t.isIssueTypeSpelling())t.isSuggestion()?(g.appendText("Has Suggestions."),n?.length||g.appendText(" ").appendMarkdown(u)):(g.appendText(p),g.appendText(" ").appendMarkdown(u));else if(t.isIssueTypeDirective())g.appendText("Unknown directive."),g.appendText(" ").appendMarkdown(u);else{Ag("Unknown issue type: %o",t);return}if(n?.length)for(let l of n){let{word:d}=l,h=bg("fix",a.uri,a.version,[{range:e,newText:d}]);g.appendMarkdown(`
- `+Jq(d,gx(h),`Fix with ${d}`)+`
`)}return g.isTrusted=!0,{range:e,hoverMessage:g}}function Jq(t,e,n){let i=n?` "${n}"`:"";return`[${t}](${e}${i})`}function vX(t){switch(t){case Ue.ColorThemeKind.Dark:case Ue.ColorThemeKind.HighContrast:return"dark";case Ue.ColorThemeKind.HighContrastLight:case Ue.ColorThemeKind.Light:return"light"}}function SX(t){return t.range.with(void 0,t.range.start.with(void 0,t.text.length+t.range.start.character))}function bX(t){return t.map(SX)}function Xq(t,...e){return e.filter(vn).reduce((n,i)=>n.union(i),t)}var Ei=De(require("vscode"),1);var Js=class extends la{_subscriptions=new Set;_eventListeners=new Set;_isRunning=!1;_isNotifyBusy=!1;constructor(){super([()=>this.done(),()=>this._eventListeners.clear()],"AbstractSubscribable")}_hasSubscribers(){return!!this._subscriptions.size}_stop(){this._isRunning=!1,this.sendEvents({name:"onStop"})}_tryToStop(){this._hasSubscribers()||this._stop()}_markAsDone(e){typeof e!="function"&&e.done?.()}_markAllSubscriptionsAsDone(){for(let e of this._subscriptions)this._subscriptions.delete(e),this._markAsDone(e)}_unSub(e){this._subscriptions.delete(e),this._tryToStop()}_start(){this._isRunning||(this.sendEvents({name:"onStart"}),this._isRunning=!0)}_notifySubscriber(e,n){return typeof e=="function"?e(n):e.notify(n)}_notify(e){if(!this._isNotifyBusy)try{this._isNotifyBusy=!0;for(let n of this._subscriptions)this._notifySubscriber(n,e)}finally{this._isNotifyBusy=!1}}subscribe(e){return this._subscriptions.add(e),this._start(),Kn(()=>this._unSub(e),void 0,"subscribe")}notify(e){this.sendEvents({name:"onNotify",value:e}),this._notify(e)}done(){this.sendEvents({name:"onDone"}),this._markAllSubscriptionsAsDone(),this._subscriptions.clear(),this._stop()}sendEvents(e){for(let n of this._eventListeners)n(e)}onEvent(e,n){if(typeof e=="function")return this._eventListeners.add(e),Kn(()=>this._eventListeners.delete(e),void 0,"onEvent");let i=e,r=s=>{s.name===i&&n?.(s)};return this._eventListeners.add(r),Kn(()=>this._eventListeners.delete(r),void 0,`onEvent ${i}`)}};var Ig=class extends Js{notify(e){super.notify(e)}done(){super.done()}};function Yq(t,e){return(typeof t=="function"?t:i=>t.subscribe(i))(e)??(()=>{})}var Go=class extends Js{_source;_dispose;constructor(e){super(),this._source=e}_stop(){super._stop(),ln(this._dispose),this._dispose=void 0}_start(){super._start(),this._isRunning&&!this._dispose&&(this._dispose=Yq(this._source,{notify:e=>this.notify(e),done:()=>this.done()}))}};function lr(){return new Ig}function _g(t){return new Go(t)}function Qq(t){return typeof t!="function"?t:{notify:t}}function vc(t){return typeof t=="function"?t:e=>t.notify(e)}function Jo(t,e){function n(i){let r=Qq(i),s=o=>r.notify(o);return t.subscribe({notify:o=>{e(o,s)},done:()=>r.done?.()})}return _g(n)}var bx=Symbol("not set");function Dx(t){let e=bx,n;return i=>{let r=Jo(i,(s,o)=>{e=s,clearTimeout(n),n=setTimeout(a,t);function a(){let c=e;e=bx,n=void 0,c!==bx&&o(c)}});return r.onEvent("onStop",()=>clearTimeout(n)),r}}function Tx(t){return e=>Jo(e,(n,i)=>i(t(n)))}var wx=Symbol("not set");function jl(t){let e=wx,n;return i=>{let r=Jo(i,(s,o)=>{if(e=s,n)return;function a(){let c=e;e=wx,n=void 0,c!==wx&&(n=setTimeout(a,t),o(c))}a()});return r.onEvent("onStop",()=>clearTimeout(n)),r}}function Xo(t,...e){let n=t;for(let i of e)n=i(n);return n}function Zq(t){let e=lr(),n=!1,i=e.onEvent(r);function r(o){o.name==="onStart"&&setTimeout(s),(o.name==="onStop"||o.name==="onDone")&&(n=!0)}async function s(){try{for await(let o of t){if(n)break;e.notify(o)}}finally{ln(i),e.done()}}return e}function eU(t){let e=lr(),n=!1,i=e.onEvent(r);function r(o){o.name==="onStart"&&setTimeout(s),(o.name==="onStop"||o.name==="onDone")&&(n=!0)}function s(){try{for(let o of t){if(n)break;e.notify(o)}}finally{ln(i),e.done()}}return e}function tU(t){return typeof t=="function"?_g(t):t}function Bl(t,...e){return Xo(DX(t),...e)}function DX(t){return Symbol.iterator in t?eU(t):Symbol.asyncIterator in t?Zq(t):tU(t)}var Ng=Symbol("has been set"),xx=class extends Go{_value=Ng;constructor(e,n=!0){if(super(e),n){let i=this.subscribe({notify:()=>{},done:()=>(ln(i),i=void 0)})}}get value(){return this._value===Ng?void 0:this._value}notify(e){this._value=e,super.notify(e)}subscribe(e){let n=super.subscribe(e);return this._value!==Ng&&vc(e)(this._value),n}hasValue(){return this._value!==Ng}};function Ex(t,e){return new xx(t,e)}var nU={output:!0},Wl=class t{constructor(e,n){this.context=e;this.client=n;this._visible=e.globalState.get(t.globalStateKey,!1),this.disposables.push(()=>this.clearDecoration(),Ei.default.window.onDidChangeActiveTextEditor(i=>this.refreshEditor(i)),Ei.default.workspace.onDidChangeConfiguration(i=>i.affectsConfiguration(Bt)&&this.refreshEditor(void 0)),Ei.default.workspace.onDidChangeTextDocument(i=>this.refreshDocument(i.document)),Ei.default.languages.registerHoverProvider("*",this.getHoverProvider()),Xo(this.eventEmitter,Tx(i=>(i&&this._pendingUpdates.add(i),i)),jl(100)).subscribe(()=>this.handlePendingUpdates()))}decorationType;disposables=Ye();dispose=this.disposables.dispose;eventEmitter=lr();_visible=!1;_pendingUpdates=new Set;get visible(){return this._visible}set visible(e){this.context.globalState.update(t.globalStateKey,e),this._visible!==e&&(this._visible=e,this.resetDecorator())}toggleVisible(){this.visible=!this.visible}refreshEditor(e){e??=Ei.default.window.activeTextEditor,e&&this.eventEmitter.notify(e)}refreshDocument(e){if(!this.visible)return;let n=Ei.default.window.visibleTextEditors.find(i=>i.document===e);n&&this.refreshEditor(n)}clearDecoration(){this.decorationType?.dispose(),this.decorationType=void 0}resetDecorator(){this.clearDecoration(),this.visible&&(this.createDecorator(),this.refreshEditor())}createDecorator(){this.decorationType?.dispose(),this.decorationType=Ei.default.window.createTextEditorDecorationType({opacity:"0.5"})}async getOffsets(e){let n=e?.document;return n?n.uri.scheme in nU?[]:(await this.client.serverApi.getSpellCheckingOffsets({uri:n.uri.toString()})).offsets:[]}handlePendingUpdates(){let e=[...this._pendingUpdates];this._pendingUpdates.clear();for(let n of e)this.updateDecorations(n)}async updateDecorations(e){if(!this.decorationType||!e)return;let n=new Ei.default.MarkdownString("Excluded from spell checking");try{let i=e.document,r=[],s=await this.getOffsets(e);if(s.length<2)return;let o=0;for(let c=0;c<s.length-1;c+=2){let u=s[c];if(u<=o){o=s[c+1];continue}let f=new Ei.default.Range(i.positionAt(o),i.positionAt(u));r.push({range:f,hoverMessage:n}),o=s[c+1]}let a=i.getText().length;if(o<a){let c=new Ei.default.Range(i.positionAt(o),i.positionAt(a));r.push({range:c})}e.setDecorations(this.decorationType,r)}catch(i){e.setDecorations(this.decorationType,[]),eu(i,"Failed to update decorations")}}getHoverProvider(){return{provideHover:async(e,n)=>{if(!this.visible||e.uri.scheme in nU)return;let i=e.getWordRangeAtPosition(n);if(!i)return;let r=e.getText(i),s=await this.client.serverApi.traceWord({uri:e.uri.toString(),word:r}),o=new Ei.default.MarkdownString;if(o.appendMarkdown(`### Trace:
`),o.isTrusted=!0,o.baseUri=e.uri,o.supportThemeIcons=!0,s.errors&&o.appendMarkdown("**Errors:** ").appendText(s.errors+`
`),s.traces)for(let c of s.traces){let u=c.traces.filter(g=>g.found),f=c.word;o.appendMarkdown(`**\`${f.replace(/`/g,"'")}\`:** ${c.found?"Found":"Not Found"}
`);for(let g of u)wX(g.dictSource||"")&&!g.dictSource.includes("node_modules")?o.appendMarkdown("- $(book) [").appendText(g.dictName).appendMarkdown("](").appendText(g.dictSource).appendMarkdown(")"):o.appendMarkdown("- $(book) _").appendText(g.dictName).appendMarkdown("_"),g.foundWord&&g.foundWord!==f&&o.appendMarkdown(" **").appendText(g.foundWord.trim()).appendMarkdown("**"),o.appendMarkdown(`
`);o.appendMarkdown(`
`)}return o.appendMarkdown(`
[Disable Trace Mode](command:cSpell.toggleTraceMode)`),new Ei.default.Hover(o,i)}}}static globalStateKey="showTrace"},TX=/^([a-z-]{2,}):\/\//i;function wX(t){return TX.test(t)}var oU=require("util"),kt=De(require("vscode"),1);var Kl=De(ac(),1);var kx=De(ac(),1);function iU(t){async function e(i,r){let s=new kx.RequestType(i);return await t.sendRequest(s,r)}return{matchPatternsInDocument:i=>e("matchPatternsInDocument",i)}}var xX=["--nolazy","--inspect=60148"],EX=!1,Og=class t{client;serverApi;static create(e){return new t(e)}constructor(e){let n=e.asAbsolutePath("packages/_serverPatternMatcher/dist/main.cjs"),i={documentSelector:[{scheme:"file"},{scheme:"vscode-vfs"},{scheme:"untitled"}],diagnosticCollectionName:"cspell-pattern-matcher",initializationFailedHandler:c=>(console.error("Server initialization failed. %o",c),!1)},r=[],s={execArgv:r},o={execArgv:[...r,...xX]},a={run:{module:n,transport:Kl.TransportKind.ipc,options:s},debug:{module:n,transport:Kl.TransportKind.ipc,options:o}};this.client=new Kl.LanguageClient("cspell-pattern-matcher",a,i),this.client.registerProposedFeatures(),this.serverApi=iU(this.client),dn(this.initWhenReady(),"Init Pattern Matcher Server")}async matchPatternsInDocument(e,n,i){return this.serverApi.matchPatternsInDocument({uri:e.uri.toString(),patterns:n,settings:i})}dispose(){Fx("Dispose: Pattern Matcher Client"),this.client.stop()}onReady(){return this.client.start()}async initWhenReady(){Fx("waiting initWhenReady"),await this.onReady(),Fx("done initWhenReady")}},Fx=(...t)=>{EX&&console.log(...t)};var dr=De(require("vscode"),1),Lg=class{_onDidChangeTreeData=new dr.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;outline;refresh(e){this.outline=e?kX(e):void 0,this._onDidChangeTreeData.fire(void 0)}getChildren(e){return e?Promise.resolve(e.children):Promise.resolve(this.outline?.children)}getTreeItem(e){return e.treeItem}getParent(e){return e.parent}};function kX(t){let e={treeItem:new dr.TreeItem("root",dr.TreeItemCollapsibleState.Expanded)};return e.children=[...t.entries()].map(n=>FX(e,...n)),e}function FX(t,e,n){return{parent:t,treeItem:new dr.TreeItem(e,dr.TreeItemCollapsibleState.Expanded),children:n.map(rU)}}function rU(t){let n={treeItem:new Px(t)};return n.children=RX(n),n}function PX(t){return t.length<=50?t:t.substr(0,49)+"\u2026"}function RX(t){let e=t.treeItem.pattern;if(e.defs.length<2)return;let n=e.name;return e.defs.map((i,r)=>({name:`${n}.${r}`,defs:[i]})).map(rU)}var Px=class extends dr.TreeItem{constructor(n){super(PX(n.name),n.defs.length>1?dr.TreeItemCollapsibleState.Expanded:dr.TreeItemCollapsibleState.None);this.pattern=n;this.pattern=n;let{timeMs:i,errorMsg:r,toolTip:s,count:o}=AX(n),a=r?" "+r:"",c=[`${i}ms`,`(${o})`,a].filter(u=>!!u);this.description=c.join(" "),this.tooltip=s,this.command={command:"cSpellRegExpTester.selectRegExp",arguments:[n.defs[0]?.regexp],title:"Select RegExp"},this.contextValue="regexp"}};function AX(t){let e=t.defs.map(o=>o.elapsedTime).reduce((o,a)=>o+a,0).toFixed(2),n=t.defs.map(o=>o.errorMessage).filter(o=>!!o).join(", "),i=t.defs.map(o=>o.regexp.toString()),r=i.length>1?"Multi Pattern":i.join(""),s=t.defs.map(o=>o.matches.length).reduce((o,a)=>o+a,0);return{timeMs:e,errorMsg:n,toolTip:r,count:s}}var IX=5;function aU(t,e){let n=new Set,i=new Lg,r;n.add(kt.window.registerTreeDataProvider("cSpellRegExpView",i));let s,o=kt.window.createTextEditorDecorationType({overviewRulerColor:"green",overviewRulerLane:kt.OverviewRulerLane.Center,light:{backgroundColor:"#C0C0FFCC"},dark:{backgroundColor:"#347890CC"}}),a=sU(),c=a?kt.window.activeTextEditor:void 0,u,f=[],g=tu(p,"updateDecorations",Zc);async function p(){if(!a||!c){d();return}let Z=c.document,H=Z.version,M=await e.getConfigurationForDocument(Z,{includeRegExpList:!0,ignoreRegExpList:!0,patterns:!0}),V=_X(M.docSettings,f),Q=V.map(Ge=>Ge.pattern),he=u?0:-1,de=await U(),ge={patterns:M.docSettings?.patterns||M.settings?.patterns||[]};await de.matchPatternsInDocument(Z,Q,ge).then(Ge=>{if(!kt.window.activeTextEditor||Z.version!==H||kt.window.activeTextEditor?.document!=Z||Ge.message)return;let Ee=Ge&&new Map;Ge?.patternMatches.forEach((tn,St)=>{let Jt=V[St].category,an=Ee?.get(Jt)||[];an.push(tn),Ee?.set(Jt,an)}),i.refresh(Ee);let ke=kt.window.activeTextEditor,At=Ge.patternMatches.filter((tn,St)=>St===he).map(l).reduce((tn,St)=>tn.concat(St),[]).map(tn=>{let{range:St,message:Jt}=tn,an=ke.document.positionAt(St[0]),Jn=ke.document.positionAt(St[1]);return{range:new kt.Range(an,Jn),hoverMessage:Jt}});ke.setDecorations(o,At)})}function l(Z){let{name:H,defs:M}=Z;return M.map(V=>V.matches.map(Q=>({range:Q,elapsedTime:V.elapsedTime})).map(({range:Q,elapsedTime:he})=>({range:Q,message:h(H,he)}))).reduce((V,Q)=>V.concat(Q),[])}function d(){c?.setDecorations(o,[])}function h(Z,H){return new kt.MarkdownString().appendText(Z+" "+H.toFixed(2)+"ms")}function m(){s&&(clearTimeout(s),s=void 0),s=setTimeout(g,100)}c&&m(),kt.window.onDidChangeActiveTextEditor(Z=>{a&&(c=Z,Z&&m())},null,t.subscriptions),kt.workspace.onDidChangeTextDocument(Z=>{a&&c&&Z.document===c.document&&m()},null,t.subscriptions);function C(){}function D(Z){function H(V){try{rg(V,"g")}catch(Q){return Qc(Q)?Q.message:(0,oU.format)(Q)}}u=Z||u;let M=kt.window.showInputBox({prompt:"Enter a Regular Expression",placeHolder:"Example: /\bw+/g",value:u?.toString(),validateInput:H}).then(V=>{u=V||void 0,k(u),m()});return dn(M,"userTestRegExp")}function w(Z){return typeof Z=="string"&&!!Z}function k(Z){f=[...new Set([Z].concat(f))].filter(w),f.length=Math.min(f.length,IX)}function A(Z){u===Z?u=void 0:u=Z,k(u),m()}function B(Z){if(Z?.treeItem?.pattern){m();let{defs:H,name:M}=Z.treeItem.pattern;D(H[0]?.regexp||M)}}function W(){let Z=a;a=sU(),Z!=a&&(a?(c=kt.window.activeTextEditor,m()):d())}function U(){r||(r=Og.create(t));let Z=r;return Z.onReady().then(()=>Z)}function ee(){for(let Z of n)Z.dispose();n.clear()}t.subscriptions.push({dispose:ee},kt.commands.registerCommand("cSpellRegExpTester.testRegExp",tu(D,"testRegExp",eu)),kt.commands.registerCommand("cSpellRegExpTester.selectRegExp",A),kt.commands.registerCommand("cSpellRegExpTester.editRegExp",B),kt.workspace.onDidChangeConfiguration(W))}function _X(t,e){let n=[];return e.forEach(i=>n.push({category:"User Patterns",pattern:i})),t?.includeRegExpList?.forEach(i=>n.push({category:"Include Regexp List",pattern:i.toString()})),t?.ignoreRegExpList?.forEach(i=>n.push({category:"Exclude Regexp List",pattern:i.toString()})),t?.patterns?.forEach(i=>n.push({category:"Patterns",pattern:NX(i)})),n}function NX(t){let{name:e,pattern:n}=t;function i(s){return s.toString()}function r(s){return Array.isArray(s)?s.map(i):i(s)}return{name:e,pattern:r(n)}}function sU(){return!!kt.workspace.getConfiguration(Bt)?.get("experimental.enableRegexpView")}var cU=require("vscode");var Mg=class{constructor(e){this.client=e;this.disposables.push(e.onDiagnostics(n=>this.handleDiagsFromServer(n))),this.disposables.push(cU.workspace.onDidCloseTextDocument(n=>this.handleDocClose(n)))}disposables=Ye();issues=new Map;subscribable=lr();cachedSuggestions=new Map;getSpellingIssues(e){return this.getIssues(e,n=>n.isIssueTypeSpelling())}getDirectiveIssues(e){return this.getIssues(e,n=>n.isIssueTypeDirective())}getIssues(e,n){let i=this.rawIssues(e);if(i)return n?new qg(i.filter(n)):new qg(i)}getSpellingIssueByFile(){return[...this.issues.values()].map(e=>({...e,issues:e.issues.filter(n=>n.isIssueTypeSpelling())}))}getIssuesByIssueType(e,n){return this.getIssues(n,i=>i.isIssueType(e))}getIssueCount(e,n=i=>i.isIssueTypeSpelling()){return e?this.issues.get(e.toString())?.issues.filter(n).length||0:[...this.issues.values()].reduce((i,r)=>i+r.issues.filter(n).length,0)}getUrisWithIssues(){return[...this.issues.values()].filter(e=>e.issues.length).map(e=>e.uri)}onDidChangeDiagnostics(e){return this.subscribable.subscribe(e)}getSuggestionsForIssue(e){let n=e.document.uri.toString(),i=oo(this.cachedSuggestions,n,()=>new Map);return oo(i,e.word,()=>this.fetchSuggestionsForIssue(e))}async fetchSuggestionsForIssue(e){return(await this.client.requestSpellingSuggestions(e.word,e.document)).suggestions}dispose=this.disposables.dispose;handleDiagsFromServer(e){let n=this.mapToFileIssues(e);if(!n)return;let i=n.uri.toString();this.cachedSuggestions.delete(i),this.issues.set(i,n),this.subscribable.notify({uris:[e.uri]})}handleDocClose(e){let n=e.uri.toString();this.cachedSuggestions.delete(n),this.issues.delete(n)}mapToFileIssues(e){let n=Fr(e.uri);if(!n){Bc(`Failed to find document for ${e.uri.toString()}`);return}return{uri:n.uri,document:n,issues:e.diagnostics.map(i=>Rx.fromDiagnostic(n,i,e.version||n.version))}}rawIssues(e){return e?this.issues.get(e.toString())?.issues:[...this.issues.values()].flatMap(n=>n.issues)}getConfigurationTargets(e){return this.client.getConfigurationTargets({uri:e})}},Rx=class t{constructor(e,n,i){this.document=e;this.diag=n;this.version=i;this.document=e}get uri(){return this.document.uri}isFlagged(){return this.diag.data?.isFlagged||!1}isKnown(){return this.diag.data?.isKnown||!1}isSuggestion(){return this.diag.data?.isSuggestion||!1}treatAsSuggestion(){return this.isSuggestion()||!this.applyStrictRules()&&!this.isFlagged()&&!this.isKnown()}applyStrictRules(){return this.diag.data?.strict??!0}hasPreferredSuggestions(){let e=this.providedSuggestions();return e?e.filter(n=>n.isPreferred).length===1:!1}getPreferredSuggestions(){let e=this.providedSuggestions();if(!e)return;let n=e.filter(i=>i.isPreferred);if(n.length===1)return n.map(i=>i.word)}get word(){let e=this.diag.data?.text;return e!==void 0?e:this.document.getText(this.diag.range)}isIssueTypeSpelling(){return!this.diag.data?.issueType}isIssueTypeDirective(){return this.diag.data?.issueType===mi.IssueType.directive}isIssueType(e){return this.diag.data?.issueType===e}isStale(){return this.version!==this.document.version}get severity(){return this.diag.severity}get range(){return this.diag.range}providedSuggestions(){return this.diag.data?.suggestions}static fromDiagnostic(e,n,i){return new t(e,n,i)}},qg=class{constructor(e){this.issues=e;this.map=e.map.bind(e),this.filter=e.filter.bind(e),this.forEach=e.forEach.bind(e)}map;filter;forEach;get length(){return this.issues.length}getSpellingIssues(){return this.issues.filter(e=>e.isIssueTypeSpelling())}getDirectiveIssues(){return this.issues.filter(e=>e.isIssueTypeDirective())}getStats(){let e={spelling:0,directive:0,flagged:0,suggestions:0,haveSuggestions:0};for(let n of this.issues)n.isIssueTypeSpelling()?(e.spelling++,n.isFlagged()&&e.flagged++,n.isSuggestion()&&e.suggestions++,n.providedSuggestions()?.length&&e.haveSuggestions++):n.isIssueTypeDirective()&&e.directive++;return e}[Symbol.iterator](){return this.issues[Symbol.iterator]()}};var it=De(require("vscode"),1),Vl=require("vscode");var gn=()=>{};var ki=De(require("vscode"),1),fr={issue:new ki.ThemeIcon("issues",new ki.ThemeColor("list.warningForeground")),info:new ki.ThemeIcon("info"),warning:new ki.ThemeIcon("warning",new ki.ThemeColor("list.warningForeground")),error:new ki.ThemeIcon("error",new ki.ThemeColor("list.errorForeground")),doc:new ki.ThemeIcon("go-to-file"),applySuggestion:new ki.ThemeIcon("pencil"),applySuggestionPreferred:new ki.ThemeIcon("pencil"),gear:new ki.ThemeIcon("gear")};function uU(t){return Ax({isFlagged:()=>t.isFlagged(),isKnown:()=>t.isKnown(),isSuggestion:()=>t.treatAsSuggestion()})}function Ax(t){return t.isFlagged()?fr.error:t.isKnown()?fr.warning:t.isSuggestion()?fr.info:fr.issue}function $l(t){let e=cg(t);return n=>e(n.uri)}var On=class{};function Ug(t){return Yo(t).replace(/^`+/g,"").replace(/`+$/g,"")}function Yo(t){let e=[...t.matchAll(/`+/g)].map(i=>i[0].length).reduce((i,r)=>Math.max(i,r),0),n="`".repeat(e+1);return t=t.replace(/\t/g,"\u21E5").replace(/\r?\n/g,"\u23CE").replace(/\r/g,"\u23CE").replace(/\s/g," ").replace("`$","` ").replace("^`"," `"),n+t+n}var LX=!1,ns=LX?console.log:gn,MX=200;function Ox(t,e){t.subscriptions.push(Ix.register(e)),t.subscriptions.push(it.commands.registerCommand(di["cSpell.issuesViewByFile.item.autoFixSpellingIssues"],UX),it.commands.registerCommand(di["cSpell.issuesViewByFile.item.addWordToDictionary"],jX),it.commands.registerCommand("cSpell.issuesViewByFile.item.addWordToTarget",BX))}var Ix=class t{disposeList=Ye();treeView;treeDataProvider;uiEventFnEmitter=ao();constructor(e){let n=new _x({issueTracker:e,setDescription:i=>{this.treeView.description=i},setMessage:i=>{this.treeView.message=i},onDidUpdate:()=>this.onDidUpdate()});this.treeDataProvider=n,this.treeView=it.window.createTreeView(t.viewID,{treeDataProvider:n,showCollapseAll:!0}),this.disposeList.push(this.treeView,this.uiEventFnEmitter,Km(this.uiEventFnEmitter,Wm(MX))(i=>i()),it.window.onDidChangeActiveTextEditor(i=>this._emitUIEvent(()=>this.onDidChangeActiveTextEditor(i))),it.window.onDidChangeActiveNotebookEditor(i=>this._emitUIEvent(()=>this.onDidChangeActiveNotebookEditor(i))),n.onDidChangeTreeData(i=>this.onDidChangeTreeData(i)),this.treeView.onDidChangeSelection(i=>this.onDidChangeSelection(i)),this.treeView.onDidChangeVisibility(i=>(ns("onDidChangeVisibility",i),this._emitUIEvent(()=>this.onDidChangeActiveTextEditor(it.window.activeTextEditor))))),this.treeView.title="Spelling Issues",this.treeView.message="No open documents."}_emitUIEvent(e){this.uiEventFnEmitter.fire(e)}onDidChangeActiveTextEditor(e){e&&(ns("onDidChangeActiveTextEditor",e.document.uri.toString()),dn(this.adjustRevel(e.document,e.visibleRanges),"onDidChangeActiveTextEditor"))}onDidChangeActiveNotebookEditor(e,n){if(!e)return;let i=e.notebook;n??=e.visibleRanges;let r=it.window.visibleTextEditors,s=$m(r,"document"),o=[];for(let u of n)for(let f=u.start;f<u.end;f++){let g=i.cellAt(f);if(!s.get(g.document))continue;let l=void 0;l&&o.push(l)}if(!o.length)return;let a=o.reduce((u,f)=>(u.top??=f.top,u.bottom=f.bottom??u.bottom,u.closest??=f.closest,u),{...o[0]}),c=o.map(u=>u.middle).filter(vn);a.middle=c[Math.floor(c.length/2)]}onDidUpdate(){ns("IssueExplorerByFile.onDidUpdate",it.window.activeTextEditor?.document.uri.toString()),this.onDidChangeActiveTextEditor(it.window.activeTextEditor)}onDidChangeTreeData(e){ns("onDidChangeTreeData");let n=this.treeDataProvider.getIssueCount();this.treeView.badge=n?{tooltip:`Issues found: ${n}`,value:n}:void 0}onDidChangeSelection(e){ns("onDidChangeSelection",e.selection.length);let n=e.selection[0];n instanceof Sc&&ns("IssueExplorerByFile.onDidChangeSelection",n.issue.diag.message)}async adjustRevel(e,n){if(!this.treeView.visible)return;let i=this.treeDataProvider.findMatchingChild(e.uri);if(!i)return;let r=i.findMatchingIssues(n);return r?this.revealItems(r,!1):this.revealItems([i],!0)}async revealItems(e,n){if(ns("revealItems",e.length,this.treeView.visible),!this.treeView.visible||!e.length)return;let i=e[e.length-1],r=e[0];await this.treeView.reveal(i,{select:!1,focus:!1,expand:n}),await this.treeView.reveal(r,{select:!1,focus:!1,expand:n})}dispose=this.disposeList.dispose;static viewID="cSpellIssuesViewByFile";static register(e){return new t(e)}},_x=class{constructor(e){this.options=e;this.issueTracker=void 0,this.disposeList.push(this.emitOnDidChange,it.window.onDidChangeVisibleTextEditors(()=>this.updateChild()),it.window.tabGroups.onDidChangeTabs(()=>this.updateChild())),e.issueTracker.then(n=>{this.issueTracker=n,this.disposeList.push(this.issueTracker.onDidChangeDiagnostics(i=>this.handleOnDidChangeDiagnostics(i))),this.updateChild()})}emitOnDidChange=new it.EventEmitter;disposeList=Ye();issueTracker;children;getTreeItem(e){return e.getTreeItem()}getChildren(e){if(!this.issueTracker)return;if(e)return e.getChildren();if(this.children)return this.children;let n={onlyVisible:!0,issueTracker:this.issueTracker,invalidate:i=>this.updateChild(i),requestSuggestions:i=>this.issueTracker?.getSuggestionsForIssue(i)||Promise.resolve([])};return this.children=qX(n),this.updateMessage(this.children.length?void 0:"No issues found..."),setTimeout(()=>this.options.onDidUpdate(),10),this.children}getParent(e){if(e instanceof On)return e.getParent()}onDidChangeTreeData=this.emitOnDidChange.event;handleOnDidChangeDiagnostics(e){ns("IssuesTreeDataProvider.handleOnDidChangeDiagnostics",e.uris.map(n=>n.toString(!0))),this.updateChild()}updateChild(e=void 0){e||(this.children=void 0),this.emitOnDidChange.fire(e)}updateMessage(e,n){this.options.setDescription(n),this.options.setMessage(e)}getIssueCount(){if(!this.issueTracker)return 0;let e=$l(!0);return this.issueTracker.getIssueCount(void 0,n=>n.isIssueTypeSpelling()&&e(n))}findMatchingChild(e){return this.children?.find(n=>n.document.uri.toString()===e.toString())}dispose=this.disposeList.dispose},jg=class extends On{constructor(n,i,r){super();this.context=n;this.document=i;this.issues=r}children;targets;getTreeItem(){let n=it.workspace.asRelativePath(this.document.uri,!0),i=new Vl.TreeItem(n);i.resourceUri=this.document.uri,i.iconPath=it.ThemeIcon.File,i.description=`${this.issues.length}`;let r=this.issues.some(a=>a.hasPreferredSuggestions());i.contextValue=r?"issue.FileWithIssuesTreeItem.hasPreferred":"issue.FileWithIssuesTreeItem";let o=[it.window.activeTextEditor?.document.uri,it.window.activeNotebookEditor?.notebook.uri,...it.window.activeNotebookEditor?.notebook.getCells().map(a=>a.document.uri)||[]].includes(this.document.uri);return i.collapsibleState=this.issues.length?o?it.TreeItemCollapsibleState.Expanded:it.TreeItemCollapsibleState.Collapsed:void 0,i}getChildren(){return this.children?this.children:(this.children=this.issues.map(n=>new Sc(this.context,this,n,this.getTargets)).sort(Sc.compare),this.children)}getParent(){}findMatchingIssues(n){if(!n)return this.children;let i=this.children?.filter(r=>r.findMatchingIssues(n));return i?.length?i:void 0}getTargets=()=>this.targets?this.targets:(this.targets=this.context.issueTracker.getConfigurationTargets(this.document.uri).then(n=>({targets:n.configTargets})),this.targets);toString(){return`FileWithIssuesTreeItem: ${this.document.uri.toString()}`}},Sc=class extends On{constructor(n,i,r,s){super();this.context=n;this.file=i;this.issue=r;this.getTargets=s;this.cell=Ku(r.document),this.document=this.cell?.document??r.document,this.cellIndex=this.cell?this.cell.index:-1,this.range=r.range}children;pChildren;cell;document;cellIndex;range;getTreeItem(){let n=this.issue,i=new Vl.TreeItem(n.diag.message),r=n.range;i.id=[n.uri.toString(),r.start.line,r.start.character,r.end.line,r.end.character].join(":");let s=`${this.cellIndex>=0?`Cell ${this.cellIndex+1}, `:""}Ln ${this.range.start.line+1}, Col ${this.range.start.character+1}`,o=this.issue.getPreferredSuggestions(),a=o?` (fix with: ${o.join(", ")})`:"";i.description=s+a;let c=!!this.issue.diag.data?.isFlagged;return i.contextValue="issue.FileIssueTreeItem"+(c?".flagged":""),i.collapsibleState=!this.children||this.children.length?it.TreeItemCollapsibleState.Collapsed:it.TreeItemCollapsibleState.None,i.iconPath=uU(this.issue),i.tooltip=this.tooltip(),i.command=this.getCommand(),i}getCommand(){return{title:"Goto Issue",command:"vscode.open",arguments:[this.issue.document.uri,{selection:this.range,preserveFocus:!0}]}}getChildren(){if(this.children)return this.children;this.pChildren??=this.#e()}async#e(){if(this.children)return this.children;let n=await this.context.requestSuggestions(this.issue),i=await this.getTargets(this.issue.uri),r=this.children=[...n.map(s=>new Nx(this,this.issue,s)),...i.targets.map(s=>new Bg(this,this.issue,s))];return this.pChildren=void 0,this.context.invalidate(this),r}getParent(){return this.file}findMatchingIssues(n){if(!n)return[this];for(let i of n)if(i.contains(this.range))return[this]}tooltip(){}toString(){return`FileIssueTreeItem: ${this.issue.diag.message}`}static compare(n,i){let r=n.cellIndex-i.cellIndex;if(r)return r;let s=n.range.start.line-i.range.start.line;return s||n.range.start.character-i.range.start.character}},Nx=class extends On{constructor(n,i,r){super();this.parent=n;this.issue=i;this.suggestion=r}getTreeItem(){let n=this.issue,{word:i,isPreferred:r}=this.suggestion,s=new Vl.TreeItem(i);s.id=lU(n.uri,n.range,i),s.iconPath=r?fr.applySuggestionPreferred:fr.applySuggestion,s.description=r&&"(preferred)";let o=Yo(i),c="Replace Issue with: "+Ug(i);return s.command={title:c,command:di["cSpell.fixSpellingIssue"],arguments:[this.issue.uri,this.issue.word,i,[this.issue.range]]},s.tooltip=new it.MarkdownString().appendMarkdown(`Fix Issue with: ${o}`),s.accessibilityInformation={label:c},s.contextValue=r?"issue.suggestion-preferred":"issue.suggestion",s}getChildren(){}getParent(){return this.parent}isPreferred(){return this.suggestion.isPreferred||!1}toString(){return`IssueSuggestionTreeItem: ${this.issue.word} -> ${this.suggestion.word}`}},Bg=class extends On{constructor(n,i,r){super();this.parent=n;this.issue=i;this.target=r}getTreeItem(){let n=this.issue,i=new Vl.TreeItem("Add to "+this.target.name);i.id=lU(n.uri,n.range,this.target.name),i.iconPath=fr.gear,i.description="";let r=Yo(n.word),s=this.target.kind==="dictionary"?"dictionary":"configuration",o=`Add ${r} to ${this.target.name} ${s}.`;return i.tooltip=new it.MarkdownString().appendMarkdown(o),i.accessibilityInformation={label:o},i.command={title:o,command:"cSpell.issuesViewByFile.item.addWordToTarget",arguments:[this]},i}getChildren(){}getParent(){return this.parent}isPreferred(){return!1}applyFix(){return et(Ze("dictionaryHelper").addWordsToTargetServerConfigTarget(this.issue.word,this.target,this.issue.document.uri),"addWordsToConfig")}toString(){return`IssueAddToTargetTreeItem: ${this.issue.word} to ${this.target.name}`}};function qX(t){let e=$l(!0),n=t.issueTracker.getSpellingIssueByFile().filter(e).map(a=>({...a,doc:Fr(a.uri)})),i=o(n),r=new Intl.Collator().compare;return[...i].filter(([a,c])=>c.length).map(([a,c])=>new jg(t,a,c)).sort((a,c)=>r(a.document.uri.toString(!0),c.document.uri.toString(!0)));function o(a){let c=new Map;for(let f of a)u(f);return c;function u(f){if(!f.doc)return;let g=f.doc,p=Yf(g),l=c.get(p)||[];l.push(...f.issues),c.set(p,l)}}}function UX(t){if(t instanceof jg)return ag(t.document.uri)}function jX(t){if(!(t instanceof Sc))return;let e=t.document;return mc["cSpell.addWordToDictionary"](t.issue.word,e.uri)}function BX(t){if(t instanceof Bg)return ns("handleAddWordToTarget %o",{word:t.issue.word,target:t.target}),t.applyFix()}function lU(t,e,...n){return[t.toString(),e.start.line,e.start.character,e.end.line,e.end.character,...n].join(":")}var en=De(require("vscode"),1),bc=require("vscode");function Bx(t,e){t.subscriptions.push(Lx.register(e)),t.subscriptions.push(en.commands.registerCommand(di["cSpell.issueViewer.item.openSuggestionsForIssue"],VX),en.commands.registerCommand(di["cSpell.issueViewer.item.autoFixSpellingIssues"],HX),en.commands.registerCommand(di["cSpell.issueViewer.item.addWordToDictionary"],zX))}var WX=100,Lx=class t{disposeList=Ye();treeView;uiEventFnEmitter=lr();treeDataProvider;constructor(e){this.treeDataProvider=new Mx({issueTracker:void 0,setDescription:n=>{this.treeView.description=n},setMessage:n=>{this.treeView.message=n}}),e.then(n=>this.treeDataProvider.setIssuesTracker(n)),this.treeView=en.window.createTreeView(t.viewID,{treeDataProvider:this.treeDataProvider,showCollapseAll:!0}),this.disposeList.push(this.treeView,Bl(this.uiEventFnEmitter,Dx(WX)).subscribe(n=>n()),this.listenEvent(en.window.onDidChangeTextEditorSelection,n=>this.handleOnDidChangeTextEditorSelection(n)),this.listenEvent(en.window.onDidChangeActiveTextEditor,n=>this.handleTextEditorChange(n)),this.listenEvent(this.treeDataProvider.onDidChangeTreeData.bind(this.treeDataProvider),()=>this.handleTextEditorChange(en.window.activeTextEditor))),this.treeView.title="Words with Issues",this.treeView.message="No open documents."}dispose=this.disposeList.dispose;handleOnDidChangeTextEditorSelection(e){this.handleTextEditorChange(e.textEditor)}handleTextEditorChange(e){if(!this.treeView.visible||!e)return;let n=this.treeDataProvider.findRelatedIssue(e);n&&this.treeView.reveal(n,{select:!0,focus:!1})}listenEvent(e,n){return e(i=>this.uiEventFnEmitter.notify(()=>n(i)))}static viewID="cSpellIssuesViewByIssue";static register(e){return new t(e)}},Mx=class{constructor(e){this.options=e;this.issueTracker=void 0,this.disposeList.push(this.emitOnDidChange,en.window.onDidChangeVisibleTextEditors(()=>this.refresh()),en.window.tabGroups.onDidChangeTabs(()=>this.refresh())),this.options.issueTracker&&this.setIssuesTracker(this.options.issueTracker)}emitOnDidChange=lr();disposeList=Ye();suggestions=new Map;issueTracker;children;setIssuesTracker(e){this.issueTracker=e,this.disposeList.push(this.issueTracker.onDidChangeDiagnostics(n=>this.handleOnDidChangeDiagnostics(n))),this.refresh()}getTreeItem(e){return e.getTreeItem()}getChildren(e){if(!this.issueTracker)return;if(e)return e.getChildren();let n={onlyVisible:!0,issueTracker:this.issueTracker,invalidate:r=>this.emitOnDidChange.notify(r),requestSuggestions:r=>(dn(this.fetchSuggestions(r),"IssuesTreeDataProvider requestSuggestions"),this.suggestions.get(r.word))},i=KX(n);return this.children=i,this.updateMessage(i.length?void 0:"No issues found..."),i}getParent(e){if(e instanceof On)return e.getParent()}onDidChangeTreeData(e,n,i){this.children=void 0;let r=n?e.bind(n):e,s=this.emitOnDidChange.subscribe(o=>r(o));return i&&i.push(s),s}findRelatedIssue(e){return this.children?this.children.find(i=>i.intersectsActiveSelection(e)):void 0}handleOnDidChangeDiagnostics(e){this.refresh()}refresh(e){this.emitOnDidChange.notify(e)}async fetchSuggestions(e){if(!this.issueTracker)return;let{word:n}=e,i=await this.issueTracker.getSuggestionsForIssue(e);this.suggestions.set(n,i),e.onUpdate(i)}updateMessage(e){this.options.setMessage(e)}dispose=this.disposeList.dispose},Hl=class extends On{constructor(n,i,r=[]){super();this.context=n;this.word=i;r.forEach(s=>this.addIssue(s))}suggestions;suggestionsByDocument=new Map;conicalDocuments=new Set;issues=[];addIssue(n){let i=n.document,r=this.context.requestSuggestions({word:this.word,document:i,onUpdate:s=>this.onUpdate(i,s)});return this.suggestionsByDocument.set(i,r||[]),this.conicalDocuments.add(Yf(i)),this.issues.push(n)}getTreeItem(){let n=new bc.TreeItem(this.word),i=this.hasPreferred(),r=this.issues.some(c=>c.isFlagged()),s=this.issues.some(c=>c.isKnown());n.iconPath=Ax({isFlagged:()=>r,isKnown:()=>s,isSuggestion:()=>this.issues.some(c=>c.treatAsSuggestion())}),n.description=`${dU(this.issues.length,"issue","issues")} in ${dU(this.conicalDocuments.size,"file","files")}${i?"*":""}`;let o=`Number of occurrences: ${this.issues.length}, files: ${this.conicalDocuments.size}`+(i?" (auto fix)":""),a=Yo(this.word);return n.tooltip=new en.MarkdownString().appendMarkdown((r?"Flagged":s?"Misspelled":"Unknown")+" word: "+a).appendText(`

`).appendText(o),n.collapsibleState=en.TreeItemCollapsibleState.Collapsed,n.contextValue=i?"issue.hasPreferred":"issue",n}getParent(){}getChildren(){let{context:n,word:i,issues:r,suggestions:s}=this;return[new qx(n,this,i,r),new Ux(this,i,r,s)]}getRange(){}hasPreferred(){return this.suggestions?.filter(i=>i.isPreferred)?.length===1}getPreferred(){let n=this.suggestions?.filter(r=>r.isPreferred);if(n?.length!==1)return;let{word:i}=n[0];return{text:this.word,newText:i,ranges:this.issues.map(r=>r.range)}}intersectsActiveSelection(n){let{document:i,selection:r}=n,{issues:s}=this;return!!s.filter(a=>a.document===i).find(a=>a.range.intersection(r))}async addToDictionary(){let n=this.issues[0]?.document;return mc["cSpell.addWordToDictionary"](this.word,n?.uri)}onUpdate(n,i){this.suggestionsByDocument.set(n,i),this.suggestions=GX(this.suggestionsByDocument),this.context.invalidate(this)}toString(){return`WordIssueTreeItem ${this.word}`}},qx=class extends On{constructor(n,i,r,s){super();this.context=n;this.parent=i;this.word=r;this.issues=s}getTreeItem(){let n=new bc.TreeItem("Locations:");return n.collapsibleState=en.TreeItemCollapsibleState.Collapsed,n}getChildren(){return this.issues.map(n=>new Wg(this,n)).sort(Wg.compare)}getParent(){return this.parent}toString(){return`IssueLocationsTreeItem ${this.word}`}},Ux=class extends On{constructor(n,i,r,s){super();this.parent=n;this.word=i;this.issues=r;this.suggestions=s}suggestions;getTreeItem(){return new bc.TreeItem("Fixes:",en.TreeItemCollapsibleState.Expanded)}getChildren(){return this.suggestions?.map(n=>new jx(this,this.word,n))}getParent(){return this.parent}toString(){return`IssueFixesTreeItem ${this.word}`}},Wg=class extends On{constructor(n,i){super();this.parent=n;this.issue=i;this.cell=Ku(this.doc)}cell;get doc(){return this.issue.document}getTreeItem(){let n=this.issue.range,r=`${this.cell?`Cell ${this.cell.index+1} `:" "}Ln ${n.start.line+1} Col ${n.start.character+1}`,s=new bc.TreeItem("");return s.resourceUri=this.doc.uri,s.label=void 0,s.iconPath=en.ThemeIcon.File,s.description=r,s.command={title:"Goto Issue",command:"vscode.open",arguments:[this.issue.document.uri,{selection:this.issue.range}]},s.contextValue="issue.location",s}getChildren(){}getParent(){return this.parent}getRange(){return this.issue.range}toString(){return`IssueLocationTreeItem ${this.issue.word}`}static compare(n,i){let r=n.cell?.document.uri||n.doc.uri,s=i.cell?.document.uri||i.doc.uri,o=r.toString().localeCompare(s.toString());if(o!==0)return o;if(n.cell?.index!==i.cell?.index)return(n.cell?.index||0)-(i.cell?.index||0);let a=n.issue.range,c=i.issue.range;return a.start.line-c.start.line||a.start.character-c.start.character}},jx=class extends On{constructor(n,i,r){super();this.parent=n;this.word=i;this.suggestion=r}getTreeItem(){let{word:n,isPreferred:i}=this.suggestion,r=new bc.TreeItem(n);r.iconPath=i?fr.applySuggestionPreferred:fr.applySuggestion,r.description=i&&"(preferred)";let s=Yo(n),a="Find and Replace Issue with: "+Ug(n);return r.command={title:a,command:"workbench.action.findInFiles",arguments:[{query:this.word,replace:n,preserveCase:!0,triggerSearch:!0,isRegex:!1,isCaseSensitive:!1,onlyOpenEditors:!0}]},r.tooltip=new en.MarkdownString().appendMarkdown(`Fix Issue with: ${s}`),r.accessibilityInformation={label:a},r.contextValue=i?"issue.suggestion-preferred":"issue.suggestion",r}getChildren(){}getParent(){return this.parent}isPreferred(){return this.suggestion.isPreferred||!1}toString(){return`IssueSuggestionTreeItem ${this.word}`}};function KX(t){let e=$l(t.onlyVisible),n=(t.issueTracker.getSpellingIssues()||[]).filter(e),i=new Map,r=$X(i,c=>new Hl(t,c));n.forEach(a);let s=new Intl.Collator().compare;return[...i.values()].sort((c,u)=>s(c.word,u.word));function a(c){r(c.word).addIssue(c)}}function $X(t,e){return n=>{let i=t.get(n);if(i!==void 0)return i;let r=e(n);return t.set(n,r),r}}function VX(t){t instanceof On}function HX(t){t instanceof Hl}function zX(t){if(t instanceof Hl)return t.addToDictionary()}function dU(t,e,n){return`${t} ${t===1?e:n}`}function GX(t){let e=new Map;for(let s of t.values())for(let o of s){let a=e.get(o.word)||o.isPreferred;e.set(o.word,a)}let n=[...e.entries()].map(([s,o])=>({word:s,isPreferred:o})),i=n.filter(s=>s.isPreferred),r=n.filter(s=>!s.isPreferred);return[...i,...r]}var pU=require("os"),Xi=De(require("vscode"),1),Lr=require("vscode");function Wx(t){return t.map(JX)}function JX(t){let e=Il(t);if(e)return Nl(e);if(t.kind!=="dictionary")throw new Error(`Unknown config target ${t.kind}`);return lg(t.dictionaryUri,t.name)}var fU="custom-dictionary",XX=`# Custom Dictionary Words
`,Kg=class{constructor(e){this.client=e}async addWordsToTargets(e,n,i){let r=await this.resolveTargets(n,i);if(r)return this.addWordToDictionaries(e,r)}addWordsToConfigRep(e,n){let i=Nl(n);return this.addWordToDictionary(e,i)}addWordToDictionaries(e,n){return Promise.all(n.map(r=>this.addWordToDictionary(e,r))).then(()=>{})}async addWordToDictionary(e,n){e=$r(e);try{await n.addWords(e)}catch(i){throw new Vx(`Unable to add "${e}"`,n,e,i)}}async removeWordsFromTargets(e,n,i){e=$r(e);let r=await this.resolveTargets(n,i);if(r)return this.removeWordFromDictionaries(e,r)}removeWordsFromConfigRep(e,n){let i=Nl(n);return this.removeWordFromDictionary(e,i)}removeWordFromDictionaries(e,n){return Promise.all(n.map(r=>this.removeWordFromDictionary(e,r))).then(()=>{})}async removeWordFromDictionary(e,n){e=$r(e);try{await n.removeWords(e)}catch(i){throw new $g(`Unable to remove "${e}" from "${n.name}"`,n,i)}}async addIssuesToDictionary(e){if(e=e||Xi.window.activeTextEditor?.document,!e)return;let n=YX(e)?e:await Xi.workspace.openTextDocument(e),i=zi(n.uri);if(!i.length)return;let r=new Set(i.map(s=>n.getText(s.range)));return this.addWordsToTargets([...r],Rd,n.uri)}async createCustomDictionary(e,n){let i=await QX(e);if(!i)throw new Error("Unable to determine location to create dictionary.");if(await this.addCustomDictionaryToConfig(e,i.relPath,n||i.name,i.scope),Uo.isCSpellConfigRepository(e)){let r=await Xi.window.showTextDocument(e.configFileUri,{viewColumn:Xi.ViewColumn.Active});yg(r,"dictionaryDefinitions")}await Xi.window.showTextDocument(i.uri,{viewColumn:Xi.ViewColumn.Beside})}addCustomDictionaryToConfig(e,n,i,r){let s={name:i,path:n,addWords:!0,scope:r??e.defaultDictionaryScope};return rY(e,s)}async getDocConfig(e){if(e){let n=await Xi.workspace.openTextDocument(e);return this.client.getConfigurationForDocument(n,{})}return this.client.getConfigurationForDocument(void 0,{})}async resolveTargets(e,n){if(typeof e!="function")return Wx(e);let r=(await this.getDocConfig(n)).configTargets.map(Zh),s=await e(r);return s&&Wx(s)}addWordsToTargetServerConfigTarget(e,n,i){return i=i||n.docUri&&Lr.Uri.parse(n.docUri)||void 0,this.addWordsToTargets(e,[lY(n,i)],i)}};function YX(t){return"uri"in t}async function QX(t){let e=ZX(t);if(e)return await iY(e.uri),e}function ZX(t){return Uo.isCSpellConfigRepository(t)?eY(t):cc.isVSCodeRepository(t)?tY(t):void 0}function eY(t){let e=t.defaultDictionaryScope,n=$x(e),i=vr.dirname(t.configFileUri),r=`${Gf}/${n}.txt`,s=Lr.Uri.joinPath(i,r),o="./"+r;return{uri:s,relPath:o,name:n,scope:e}}function tY(t){let e=Oi(t.target);if(t.target===Xi.ConfigurationTarget.Global){let c=$x(e),u=`${Gf}/${c}.txt`,f=Lr.Uri.file((0,pU.homedir)()),g=Lr.Uri.joinPath(f,u),p="~/"+u;return{uri:g,relPath:p,name:c,scope:e}}let n=t.getWorkspaceFolder();if(!n)return;let i=e==="folder"?"-"+nY(n.name):"",r=$x(Oi(t.target))+i,s=`${Gf}/${r}.txt`,o=Lr.Uri.joinPath(n.uri,s),a=`\${workspaceFolder:${n.name}}/${s}`;return{uri:o,relPath:a,name:r,scope:e}}function $x(t){return t?`${fU}-${t}`:fU}function nY(t){return t.toLowerCase().replace(/[^\w]/g,"-")}async function iY(t,e=!1){e=e||!await Ht.fileExists(t),e&&(await Ht.createDirectory(vr.dirname(t)),await Ht.writeFile(t,XX,"utf8"))}async function rY(t,e){let n=Uo.isCSpellConfigRepository(t)?sY(e):cc.isVSCodeRepository(t)?oY(e):void 0;if(!n)throw Error(`Unsupported config ${t.kind}`);return t.update(n)}function sY(t){let e=t.name;return Mv([Me.dictionaries,Me.dictionaryDefinitions],n=>{let{dictionaries:i=[],dictionaryDefinitions:r=[]}=n,s=new Map(r.map(a=>[a.name,a])),o=new Set(i);return s.set(e,t),o.add(e),{dictionaries:[...o],dictionaryDefinitions:[...s.values()]}})}function oY(t){let e=t.name;return Mv([Me.customDictionaries,Me.customFolderDictionaries,Me.customWorkspaceDictionaries,Me.customUserDictionaries],n=>{let{customDictionaries:i,...r}=aY(n);return i[e]=t,{...r,customDictionaries:i}})}function aY(t){let{customDictionaries:e={},customFolderDictionaries:n=[],customWorkspaceDictionaries:i=[],customUserDictionaries:r=[]}=t;return{customDictionaries:{...[r.map(Kx("user")),i.map(Kx("workspace")),n.map(Kx("folder"))].reduce(cY,e),...e},customFolderDictionaries:void 0,customWorkspaceDictionaries:void 0,customUserDictionaries:void 0}}function Kx(t){return e=>typeof e=="string"?e:{...e,scope:e.scope||t}}function cY(t,e){return e.reduce(uY,t)}function uY(t,e){let n={...t};return typeof e=="string"?n[e]=!0:n[e.name]=e,n}function lY(t,e){switch(t.kind){case"cspell":return{kind:t.kind,name:t.name,scope:"unknown",configUri:Lr.Uri.parse(t.configUri)};case"vscode":return{kind:t.kind,name:t.name,scope:t.scope,docUri:t.docUri&&Lr.Uri.parse(t.docUri)||e||void 0,configScope:e};case"dictionary":return{kind:t.kind,name:t.name,scope:"unknown",docUri:t.docUri&&Lr.Uri.parse(t.docUri)||e||void 0,dictionaryUri:Lr.Uri.parse(t.dictionaryUri)}}}var $g=class extends Error{constructor(n,i,r){super(n);this.dictTarget=i;this.cause=r}},Vx=class extends $g{constructor(n,i,r,s){super(n,i,s);this.words=r;this.cause=s}};function hU(){gi.setConnection({console,onExit:()=>{}}),wk("dictionaryHelper",()=>new Kg(Ze("client")))}var f0=De(require("node:assert"),1),y2=De(require("node:readline/promises"),1),p0=require("node:util"),C2=De(yU(),1),Pt=De(require("vscode"),1);var pr={};HE(pr,{beep:()=>$Y,clearScreen:()=>jY,clearTerminal:()=>BY,cursorBackward:()=>xY,cursorDown:()=>TY,cursorForward:()=>wY,cursorGetPosition:()=>FY,cursorHide:()=>AY,cursorLeft:()=>SU,cursorMove:()=>DY,cursorNextLine:()=>PY,cursorPrevLine:()=>RY,cursorRestorePosition:()=>kY,cursorSavePosition:()=>EY,cursorShow:()=>IY,cursorTo:()=>bY,cursorUp:()=>vU,enterAlternativeScreen:()=>WY,eraseDown:()=>LY,eraseEndLine:()=>NY,eraseLine:()=>bU,eraseLines:()=>_Y,eraseScreen:()=>zx,eraseStartLine:()=>OY,eraseUp:()=>MY,exitAlternativeScreen:()=>KY,iTerm:()=>zY,image:()=>HY,link:()=>VY,scrollDown:()=>UY,scrollUp:()=>qY});var Hg=De(require("node:process"),1);var Vg=globalThis.window?.document!==void 0,Jpe=globalThis.process?.versions?.node!==void 0,Xpe=globalThis.process?.versions?.bun!==void 0,Ype=globalThis.Deno?.version?.deno!==void 0,Qpe=globalThis.process?.versions?.electron!==void 0,Zpe=globalThis.navigator?.userAgent?.includes("jsdom")===!0,ehe=typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope,the=typeof DedicatedWorkerGlobalScope<"u"&&globalThis instanceof DedicatedWorkerGlobalScope,nhe=typeof SharedWorkerGlobalScope<"u"&&globalThis instanceof SharedWorkerGlobalScope,ihe=typeof ServiceWorkerGlobalScope<"u"&&globalThis instanceof ServiceWorkerGlobalScope,zl=globalThis.navigator?.userAgentData?.platform,rhe=zl==="macOS"||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform==="darwin",she=zl==="Windows"||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform==="win32",ohe=zl==="Linux"||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform==="linux",ahe=zl==="iOS"||globalThis.navigator?.platform==="MacIntel"&&globalThis.navigator?.maxTouchPoints>1||/iPad|iPhone|iPod/.test(globalThis.navigator?.platform),che=zl==="Android"||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform==="android";var rt="\x1B[",Jl="\x1B]",Dc="\x07",Gl=";",CU=!Vg&&Hg.default.env.TERM_PROGRAM==="Apple_Terminal",vY=!Vg&&Hg.default.platform==="win32",SY=Vg?()=>{throw new Error("`process.cwd()` only works in Node.js, not the browser.")}:Hg.default.cwd,bY=(t,e)=>{if(typeof t!="number")throw new TypeError("The `x` argument is required");return typeof e!="number"?rt+(t+1)+"G":rt+(e+1)+Gl+(t+1)+"H"},DY=(t,e)=>{if(typeof t!="number")throw new TypeError("The `x` argument is required");let n="";return t<0?n+=rt+-t+"D":t>0&&(n+=rt+t+"C"),e<0?n+=rt+-e+"A":e>0&&(n+=rt+e+"B"),n},vU=(t=1)=>rt+t+"A",TY=(t=1)=>rt+t+"B",wY=(t=1)=>rt+t+"C",xY=(t=1)=>rt+t+"D",SU=rt+"G",EY=CU?"\x1B7":rt+"s",kY=CU?"\x1B8":rt+"u",FY=rt+"6n",PY=rt+"E",RY=rt+"F",AY=rt+"?25l",IY=rt+"?25h",_Y=t=>{let e="";for(let n=0;n<t;n++)e+=bU+(n<t-1?vU():"");return t&&(e+=SU),e},NY=rt+"K",OY=rt+"1K",bU=rt+"2K",LY=rt+"J",MY=rt+"1J",zx=rt+"2J",qY=rt+"S",UY=rt+"T",jY="\x1Bc",BY=vY?`${zx}${rt}0f`:`${zx}${rt}3J${rt}H`,WY=rt+"?1049h",KY=rt+"?1049l",$Y=Dc,VY=(t,e)=>[Jl,"8",Gl,Gl,e,Dc,t,Jl,"8",Gl,Gl,Dc].join(""),HY=(t,e={})=>{let n=`${Jl}1337;File=inline=1`;return e.width&&(n+=`;width=${e.width}`),e.height&&(n+=`;height=${e.height}`),e.preserveAspectRatio===!1&&(n+=";preserveAspectRatio=0"),n+":"+Buffer.from(t).toString("base64")+Dc},zY={setCwd:(t=SY())=>`${Jl}50;CurrentDir=${t}${Dc}`,annotation(t,e={}){let n=`${Jl}1337;`,i=e.x!==void 0,r=e.y!==void 0;if((i||r)&&!(i&&r&&e.length!==void 0))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return t=t.replaceAll("|",""),n+=e.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",e.length>0?n+=(i?[t,e.length,e.x,e.y]:[e.length,t]).join("|"):n+=t,n+Dc}};var DU=(t=0)=>e=>`\x1B[${e+t}m`,TU=(t=0)=>e=>`\x1B[${38+t};5;${e}m`,wU=(t=0)=>(e,n,i)=>`\x1B[${38+t};2;${e};${n};${i}m`,Ft={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},xU=Object.keys(Ft.modifier),GY=Object.keys(Ft.color),JY=Object.keys(Ft.bgColor),EU=[...GY,...JY];function XY(){let t=new Map;for(let[e,n]of Object.entries(Ft)){for(let[i,r]of Object.entries(n))Ft[i]={open:`\x1B[${r[0]}m`,close:`\x1B[${r[1]}m`},n[i]=Ft[i],t.set(r[0],r[1]);Object.defineProperty(Ft,e,{value:n,enumerable:!1})}return Object.defineProperty(Ft,"codes",{value:t,enumerable:!1}),Ft.color.close="\x1B[39m",Ft.bgColor.close="\x1B[49m",Ft.color.ansi=DU(),Ft.color.ansi256=TU(),Ft.color.ansi16m=wU(),Ft.bgColor.ansi=DU(10),Ft.bgColor.ansi256=TU(10),Ft.bgColor.ansi16m=wU(10),Object.defineProperties(Ft,{rgbToAnsi256:{value:(e,n,i)=>e===n&&n===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5),enumerable:!1},hexToRgb:{value:e=>{let n=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!n)return[0,0,0];let[i]=n;i.length===3&&(i=[...i].map(s=>s+s).join(""));let r=Number.parseInt(i,16);return[r>>16&255,r>>8&255,r&255]},enumerable:!1},hexToAnsi256:{value:e=>Ft.rgbToAnsi256(...Ft.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value:e=>{if(e<8)return 30+e;if(e<16)return 90+(e-8);let n,i,r;if(e>=232)n=((e-232)*10+8)/255,i=n,r=n;else{e-=16;let a=e%36;n=Math.floor(e/36)/5,i=Math.floor(a/6)/5,r=a%6/5}let s=Math.max(n,i,r)*2;if(s===0)return 30;let o=30+(Math.round(r)<<2|Math.round(i)<<1|Math.round(n));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(e,n,i)=>Ft.ansi256ToAnsi(Ft.rgbToAnsi256(e,n,i)),enumerable:!1},hexToAnsi:{value:e=>Ft.ansi256ToAnsi(Ft.hexToAnsi256(e)),enumerable:!1}}),Ft}var YY=XY(),hr=YY;var QY=[...EU,...xU].map(t=>[t,e=>hr[t].open+e+hr[t].close]),Lt=Object.fromEntries(QY);function Tc(t){return hr.green.open+t+hr.green.close}function zg(t){return hr.red.open+t+hr.red.close}function Xl(t){return hr.yellow.open+t+hr.yellow.close}function Gx(t){return t.replace(/\n/g,`\r
`).replace(/\r+\r/g,"\r")}function kU(t){return hr.dim.open+t+hr.dim.close}function FU(t,...e){return n=>e.reduce((i,r)=>r(i),t(n))}function PU(){return pr.clearScreen}function Gg(t){return t>0?pr.eraseEndLine:t<0?pr.eraseStartLine:pr.eraseLine}function RU(){return pr.eraseDown}function AU(t,e){return pr.cursorMove(t,e)}function IU(t,e){return pr.cursorTo(t,e)}function Jx(){return pr.eraseLine+"\r"}var NU=require("node:util"),Jg=De(require("assert"),1);function Yl(t,e){let n=[],i=ZY(t.replace(/\t/g,"    ")).flatMap(a=>a.split(/ /)),r=0,s="",o="";for(let a of i){if(a===`
`||a==="\r"){n.push(s),s="",o="",r=0;continue}s&&r+o.length+a.length>e&&(n.push(s),s="",o="",r=0),s+=o+a,r+=o.length+a.length,o=" "}return n.push(s),n.map(a=>a.trimEnd())}function ZY(t){return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.split(`
`).flatMap(n=>[n,`
`]).slice(0,-1)}var eQ=80,Gn=class{constructor(e,n,i,r,s){this.name=e;this.description=n;for(let[a,c]of Object.entries(i))this.#e.push(new Yx(a,c));for(let[a,c]of Object.entries(r))this.#t.push(new Yg(a,c));this.#t.find(a=>a.name=="help")||this.#t.push(new Yg("help",{type:"boolean",description:"Show help",short:"h"})),this.#n=s}#e=[];#t=[];#n;handler(e){return this.#n=e,this}handles(e){return e[0]==this.name}parse(e){let n=iQ(this);(0,Jg.default)(e[0]==this.name,`Command name mismatch: ${e[0]} != ${this.name}`);let i=n(e.slice(1)),r=[],s={_:r},o=s,a={},c=a,u=this.arguments,f=0;for(let g of i)switch(g.kind){case"option":{let p=!1,l=this.#t.find(m=>m.name==g.name);if(l||g.name.startsWith("no-")&&(l=this.#t.find(m=>m.name==g.name.slice(3)),p=!0),!l)throw new Error(`Unknown option: ${g.name}`);let d=l.name,h=rQ(g.value,l.baseType);p&&typeof h=="boolean"&&(h=!h),c[d]=l.multiple?_U(a[d],h):h}break;case"positional":{if(r.push(g.value),f>=u.length)throw new Error(`Unexpected argument: ${g.value}`);let p=u[f],l=g.value;o[p.name]=p.multiple?_U(s[p.name],l):l,f+=p.multiple?0:1}break;case"option-terminator":break}return{args:s,options:a,argv:e}}async exec(e){(0,Jg.default)(this.#n,"handler not set"),(0,Jg.default)(e[0]==this.name);let n=this.parse(e);await this.#n(n)}getArgString(){return this.#e.join(" ")}get options(){return this.#t}get arguments(){return this.#e}},Xg=class{constructor(e,n="",i=""){this.name=e;this.description=n;this.usage=i}#e=new Map;displayWidth=eQ;addCommand(...e){for(let n of e)this.#e.set(n.name,n);return this}addCommands(e){return this.addCommand(...e)}getHelp(e,n){let i=e?this.#e.get(e):void 0;if(e&&!i)throw new Error(`Unknown command: ${e}`);return n=n||this.displayWidth,i?this.#n(i,n):this.#t(n)}getApplicationHeader(e=this.displayWidth){return this.#i(e)}#t(e){let n=[];n.push(this.#i(e));let i=[...this.#e.values()].sort((o,a)=>o.name.localeCompare(a.name)),r="  ",s=i.map(o=>tQ(o)).map(o=>[r+o.cmd+" "+o.args,o.description.trim()]);return n.push("Commands:"),n.push(Xx(s,e,"  ")),n.join(`
`)}#n(e,n){let i=[],r=e.options.length?" [options]":"";i.push(`Usage: ${e.name}${r} ${e.getArgString()}`),i.push("",...Yl(e.description,n));let s="  ",o=e.arguments.map(c=>[s+c,c.description.trim()]);o.length&&(i.push(""),i.push("Arguments:"),i.push(Xx(o,n,"  ")));let a=e.options.map(c=>[s+c,c.description.trim()]);return a.length&&(i.push(""),i.push("Options:"),i.push(Xx(a,n,"  "))),i.join(`
`)}#i(e){let n=[];return n.push(this.name,""),this.description&&n.push(...Yl(this.description,e),""),this.usage&&n.push("Usage:",...Yl(this.usage,e),""),n.join(`
`)}getCommand(e){return this.#e.get(e)}parseArgs(e){let n=e[0],i=this.getCommand(n);if(!i)throw new Error(`Unknown command: ${n}`);return i.parse(e)}async exec(e,n){let i=e[0],r=this.getCommand(i);if(!r)throw new Error(`Unknown command: ${i}`);if(r.parse(e).options.help){n(this.#n(r,this.displayWidth));return}await r.exec(e)}getCommandNames(){return[...this.#e.keys()]}};function tQ(t){let e=t.getArgString();return{cmd:t.name,args:e,description:t.description}}var Yx=class{constructor(e,n){this.name=e;this.description=n.description,this.type=n.type,this.required=n.required||!1,this.multiple=this.type.endsWith("[]")}multiple;description;type;required;toString(){let e=this.multiple?"...":"",n=`${this.name}${e}`;return this.required?`<${n}>`:`[${n}]`}},Yg=class{constructor(e,n){this.name=e;if(this.description=n.description,this.type=n.type,this.short=n.short||"",this.param=n.param||this.name,this.required=n.required??!0,this.baseType=nQ(this.type),this.multiple=this.type.endsWith("[]"),this.variadic=n.variadic||!1,this.variadic&&!this.multiple)throw new Error("variadic option must be multiple")}multiple;description;type;short;param;required;baseType;variadic;toString(){let e=this.short?`-${this.short}, `:"",n=this.param||this.name,i=this.variadic?"...":"",r=["boolean","boolean[]"].includes(this.type)?"":`${n}${i}`,s=r&&(this.required?` <${r}>`:` [${r}]`);return`${e}--${this.name}${s}`}};function Xs(t,e,n,i){return{[t]:{type:e,description:n,required:i}}}function Qo(t,e,n,i){return{[t]:{type:e,description:n,short:i||void 0}}}function Xx(t,e,n="  "){let i=[],r=Math.max(...t.map(([s])=>s.length),0);for(let[s,o]of t){let a=Yl(o,e-r-n.length);i.push(`${s.padEnd(r)}${n}${a[0]||""}`);for(let c of a.slice(1))i.push(" ".repeat(r)+n+c)}return i.join(`
`)}function nQ(t){return t.replace("[]","")}function _U(...t){return t.flatMap(e=>e).filter(e=>e!==void 0)}function iQ(t){let e={};for(let n of t.options)e[n.name]={type:n.baseType!=="boolean"?"string":"boolean",multiple:n.multiple},n.short&&(e[n.name].short=n.short);return n=>(0,NU.parseArgs)({args:n,options:e,allowPositionals:!0,tokens:!0,strict:!1}).tokens||[]}function rQ(t,e){switch(e){case"boolean":return sQ(t??!0);case"number":return oQ(t);case"string":return typeof t=="string"?t:`${t}`}}function sQ(t){if(t!==void 0){if(typeof t=="boolean")return t;if(typeof t=="number")return!!t;if(typeof t=="string"){let e=t.toLowerCase().trim();if(["true","t","yes","y","1","ok"].includes(e))return!0;if(["false","f","no","n","0",""].includes(e))return!1}throw new Error(`Invalid boolean value: ${t}`)}}function oQ(t){let e=Number(t);if(!Number.isNaN(e))return e;throw new Error(`Invalid number value: ${t}`)}var OU=De(require("vscode"),1),aQ=/^.*:/;function Qx(t){let e=OU.workspace.asRelativePath(t,!1);return aQ.test(e)?e:e.split("\\").join("/")}function LU(t,e){let n=typeof t=="string"?t:t.path;if(n.length>e){let i=n.split("/"),r=0,s=i.length,o="",a="",c="\u2026";n=c;let u=n.length;for(;r<s;){let f=i[r],g=i[s-1];if(o.length+f.length<=a.length+g.length){if(u+f.length+1>e)break;u+=f.length+1,o+=f+"/",r++}else{if(u+g.length+1>e)break;u+=g.length+1,a="/"+g+a,s--}}n=o+c+a,n===c&&(a=i[i.length-1],n=c+a.slice(-e+1))}return n}var cQ=60;async function uQ(t){let{uri:e,options:n,index:i,count:r,result:s,startTs:o,endTs:a}=t,{output:c,log:u,width:f}=n,g=lQ(i,r);c(`${g}${Lt.gray(LU(Qx(e),Math.min(cQ,f-10-g.length)))}`);let p=await s,d=((a||performance.now())-o).toFixed(2)+"ms";if(p.skipped){u(` ${d} Skipped`);return}let h=[],m=p.issues?.filter(D=>!D.isSuggestion),C=!!(p.errors||m?.length);if(h.push(` ${d}${C?Lt.red(" X"):""}`),!C){c(h.join("")+"\r"+Gg(0));return}if(p.errors&&h.push(`${Lt.red("Errors: ")} ${p.errors}`),m)for(let D of m)h.push(dQ(e,D));u("%s",h.join(`
`))}function lQ(t,e){if(typeof t>"u"||typeof e>"u")return"";let n=e.toString();return`${(t+1).toString().padStart(n.length," ")}/${n} `}function dQ(t,e){let{range:n,text:i,suggestions:r,isFlagged:s}=e,o=`:${n.start.line+1}:${n.start.character+1}`,a=s?"Flagged word ":"Unknown word ",c=Qx(t),u=r?` fix: (${r.map(f=>Lt.yellow(f.word)).join(", ")})`:"";return`  ${Lt.green(c)}${Lt.yellow(o)} - ${a} (${Lt.red(i)})${u}`}function MU(t,e,n,i){let{forceCheck:r}=e,s=performance.now(),o=Eg({uri:t.toString()},{forceCheck:r}),a={index:n,count:i,uri:t,startTs:s,options:e,result:o};return o.finally(()=>a.endTs=performance.now()),a}var fQ=10;async function qU(t,e){let n=t.length,i=[];try{let r=0;for(;r<fQ&&r<n;r++){let s=t[r];i.push(MU(s,e,r,n))}for(;!e.cancellationToken.isCancellationRequested;)try{let s=i.shift();if(!s)break;if(await uQ(s),r<n){let o=t[r];i.push(MU(o,e,r,n)),r++}}catch(s){e.error(s);break}Promise.all(i.map(s=>s.result)).catch(s=>e.error(s))}catch{return}}var Ql=require("vscode");var KU=require("node:os"),$U=require("node:path/posix"),xc=require("vscode"),Yi=De(require("vscode"),1);async function*UU(t,e=10){function*n(){let i=!1,r=[],s=t[Symbol.iterator]();function o(){for(;r.length<e;){let a=s.next();if(i=!!a.done,i||a.done)return;r.push(Promise.resolve(a.value()))}}for(o();!i&&r.length;)yield r[0],r.shift(),o();yield*r}for await(let i of n())yield i}var BU=require("node:os"),wc=require("vscode");function Zx(t,e){return new wc.RelativePattern(e||Zo(),t)}function e0(t){if(t)return typeof t=="string"?t:t.length>1?`{${t.join(",")}}`:t[0]}function WU(t,e){if((t==="~"||t.startsWith("~/"))&&(e=wc.Uri.file((0,BU.homedir)()),t=t.slice(2)),!jU(t))return["",wc.Uri.joinPath(e,t)];let n=t.split("/"),i=0;for(;i<n.length&&!jU(n[i]);++i)e=wc.Uri.joinPath(e,n[i]);return[n.slice(i).join("/"),e]}function jU(t){return/[*?{}[\]]/.test(t)}function Zo(){return Yi.workspace.workspaceFolders?.[0].uri||hQ(pQ())||xc.Uri.file(".")}function pQ(){return Yi.window.activeTextEditor?.document.uri}function hQ(t){return t&&xc.Uri.joinPath(t,"..")}async function*VU(t,e){if(e?.isCancellationRequested)return[];let n=t.map(i=>async()=>[i,await Yi.workspace.fs.stat(i)]);for await(let i of UU(n,10)){if(e?.isCancellationRequested)break;yield i}}async function Qg(t,e,n,i,r){let s=Zx(t,e),o=await Yi.workspace.findFiles(s,n&&Zx(n,e),i,r);return r?.isCancellationRequested&&gn("globSearch cancelled"),o}function t0(t,e){return typeof t=="string"&&t.startsWith("~")&&(e=xc.Uri.file((0,KU.homedir)()),t=t.slice(2)),typeof t=="string"?xc.Uri.joinPath(e||Zo(),t):t||Zo()}async function HU(t,e){let n=t0(t,e);return await Yi.workspace.fs.readDirectory(n)}async function*n0(t,e=!1,n){if(!n?.isCancellationRequested)for await(let[i,r]of await Yi.workspace.fs.readDirectory(t)){if(n?.isCancellationRequested)return;let s=e?await Yi.workspace.fs.stat(xc.Uri.joinPath(t,i)):{type:r};yield[i,s]}}function zU(t){if(!t)return;let e=t.toString().replace(/\/$/,""),n=Yi.workspace.workspaceFolders?.find(i=>i.uri.toString()===e);return n?n.name+"/":Yi.workspace.asRelativePath(t,!0)}function GU(t,e){return(0,$U.relative)(t.path,e.path)}async function JU(t){try{return await Yi.workspace.fs.stat(t)}catch(e){return pa(e)}}var gQ=t=>t;async function XU(t,e){let{log:n,dirSuffix:i="/"}=e;for await(let r of mQ(t,e.cwd,e.cancellationToken)){let[s,o]=r;if(o instanceof Error){n(zg("Error: ")+`${Xl(s)}: No such file or directory`);continue}let c=o.type,u=c&Ql.FileType.Directory?i:"",f=c&Ql.FileType.SymbolicLink?Xl:c&Ql.FileType.Directory?Tc:gQ;s.startsWith(".")&&(f=FU(f,kU)),n(f(s+u))}}async function*mQ(t,e,n){let i=new Intl.Collator(void 0,{numeric:!0,sensitivity:"variant"});if(!t?.length){yield*n0(e,!1,n);return}for(let r of t){if(n?.isCancellationRequested)return;let[s,o]=WU(r,e);if(!s){let a=await JU(o);if(a instanceof Error){yield[r,a];continue}if(a.type&Ql.FileType.Directory){yield*n0(o,!1,n);continue}yield[r,a];continue}try{let a=await Qg(s,o,void 0,void 0,n);a.sort((c,u)=>i.compare(c.path,u.path));for await(let[c,u]of VU(a,n))yield[GU(e,c),u]}catch(a){yield[r,pa(a)]}}}async function YU(t,e){let r=(await Ze("client").serverApi.spellingSuggestions(t,{uri:e.toString()})).suggestions,s=[];s.push(`Suggestions for "${t}":`),r||s.push(Lt.yellow("  No suggestions"));for(let o of r){let a=o.isPreferred||o.word===t?Lt.green(o.word):o.word;s.push(`  ${a}${o.isPreferred?Lt.yellow("*"):""}`)}return s.join(`
`)}var s2=De(r2(),1);async function o2(t,e,n){let{width:i}=n,s=await Ze("client").serverApi.traceWord({word:t,uri:e.toString(),searchAllDictionaries:!0,languageId:n.filetype,allowCompoundWords:n.allowCompoundWords});if(!s)return"No trace results";let o=[];o.push(`Trace: "${s.word}"`),s.errors&&(o.push(Lt.red("Errors:")),o.push(`  ${s.errors}`));let a=s2.default.configure({maxTotalWidth:i}),c=[n.all?void 0:f=>f.found||f.dictEnabled,n.onlyFound?f=>f.found:void 0,n.onlyEnabled?f=>f.dictEnabled:void 0].filter(vn),u=bQ(c);for(let f of s.traces||[]){o.push(`${f.word}: ${f.found?"":Lt.yellow("Not found")}`);let p=[...f.traces].filter(u).sort((l,d)=>l.dictName.localeCompare(d.dictName)).map(l=>{let d=Lt.yellow(l.dictName);return{Word:DQ(l.word,l.foundWord,l.found),F:l.found?Lt.whiteBright("*"):Lt.dim("-"),Dictionary:l.dictEnabled?d:Lt.dim(d)}});o.push(a(p))}return o.join(`
`)}function bQ(t){return e=>t.every(n=>n(e))}function DQ(t,e,n){e&&(e=e.split("+").map(Lt.green).join(Lt.gray("+")));let i=e||Lt.green(t);return n?i:Lt.dim(i)}var u0=De(require("node:stream"),1);var TQ=!1,Qi=TQ?console.debug:()=>{};function a2(t){return new a0(t)}var wQ={ascii:!0,utf8:!0,utf16le:!0,ucs2:!0,base64:!0,base64url:!0,latin1:!0,binary:!0,hex:!0,"utf-8":!0,"ucs-2":!0,"utf-16le":!0},a0=class extends u0.default.Writable{#e={columns:80,rows:24};constructor(e){super({write:(n,i,r)=>{let s=i in wQ?i:void 0,o=n.toString(s);Qi("write: %o",u2(o)),e.fire(o),setTimeout(r,0)}})}get dimensions(){return this.#e}set dimensions(e){this.#e=e}clearLine(e,n){return Qi("clearLine: %o",e),this.write(Gg(e),n)}clearScreenDown(e){return Qi("clearScreenDown"),this.write(RU(),e)}cursorTo(e,n,i){return Qi("cursorTo: %o, %o",e,n),i=typeof n=="function"?n:i,n=typeof n=="number"?n:void 0,this.write(IU(e,n),i)}moveCursor(e,n,i){return Qi("moveCursor: %o, %o",e,n),this.write(AU(e,n),i)}getColorDepth(e){return Qi("getColorDepth"),256}hasColors(e,n){return Qi("hasColors: %o",e),typeof e!="number"||e<=256}getWindowSize(){return Qi("getWindowSize: %o",this.#e),[this.#e.columns,this.#e.rows]}get columns(){return Qi("columns: %o",this.#e.columns),this.#e.columns}get rows(){return Qi("rows: %o",this.#e.rows),this.#e.rows}get isTTY(){return Qi("isTTY"),!0}},c0=class extends u0.default.Readable{buffer=[];paused=!0;disposable;constructor(e){super({}),this.disposable=e.event(n=>{this.buffer.push(n),this.pushBuffer()})}_read(){this.paused=!1,this.pushBuffer()}_destroy(){this.disposable.dispose()}pushBuffer(){if(!this.paused)for(let e=this.buffer.shift();e!==void 0&&!this.paused;e=this.buffer.shift())Qi("read: %o",u2(e)),this.push(e)}};function c2(t){return new c0(t)}var xQ={"\x1B":"\u241B","\n":"\u21B5","\r":"\u21A4","	":"\u21E5"," ":"\u2423"};function u2(t){return[...t].map(e=>xQ[e]||e).join("")}var nm=De(require("node:assert"),1),l2={n:`
`,r:"\r",t:"	",f:"\f",'"':'"',"'":"'"};function d0(t){return h2(f2(t))}var EQ=[" ","	",`
`,"\r"];function f2(t){let e=[],n=0,i=0,r;for(;n<t.length;){let f=t[n];switch(f){case`
`:case"\r":case"	":case" ":s(r),r=void 0,s(o(),!0);break;case"\\":if([`
`,"\r"].includes(t[n+1])){s(r),r=void 0,s(o(),!0);continue}r=(r||"")+a();break;case'"':case"'":case"`":s(r),r=void 0,s(u(),!1,f);break;default:r=(r||"")+f,++n;break}}return s(r),e;function s(f,g=!1,p=""){f!==void 0&&(e.push({i:n,value:f,original:t.slice(i,n),quote:p,separator:g}),i=n)}function o(){let f=t[n++];for(;n<t.length&&EQ.includes(t[n]);n++)f+=t[n];return f}function a(){return(0,nm.default)(t[n]==="\\"),++n,n>=t.length?"\\":t[n++]}function c(){if(n>=t.length)return"\\";let f=t[n++];return f===`
`||f==="\r"?(f==="\r"&&t[n]===`
`&&++n,""):f in l2?l2[f]:"\\"+f}function u(){let f=t[n++],g="";for(;n<t.length;){let p=t[n++];if(p==="\\")g+=c();else{if(p===f)return g;g+=p}}return g}}var p2={"\n":"\\n","\r":"\\r","	":"\\t","\f":"\\f","\\":"\\\\"},kQ=[" ","&",";","|","<",">","`",'"',"'","\\"],FQ=Object.fromEntries(kQ.map(t=>[t,"\\"+t])),PQ={...p2,...FQ};function h2(t){return g2(t).map(n=>n.arg)}function g2(t){let e=[],n;for(let[i,r]of t.entries()){if(r.separator){n!==void 0&&(e.push(n),n=void 0);continue}if(!n){n={arg:r.value,startTokenIndex:i,tokens:[r]};continue}n.arg+=r.value,n.tokens.push(r)}return n!==void 0&&e.push(n),e}function m2(t){return new l0(f2(t))}var l0=class t{constructor(e=[]){this.tokens=e}get line(){return this.tokens.map(e=>e.original).join("")}get args(){return h2(this.tokens)}setArg(e,n,i){let s=g2(this.tokens)[e];(0,nm.default)(s,"Invalid index"),i??=s.tokens[0].quote,this.tokens.splice(s.startTokenIndex,s.tokens.length,{value:n,original:d2(n,i),quote:i,separator:!1})}pushArg(e,n=""){let i={value:e,original:d2(e,n),quote:n,separator:!1},r=this.tokens[this.tokens.length-1];r&&!r.separator&&this.pushSeparator(),this.tokens.push(i)}hasTrailingSeparator(){return this.tokens[this.tokens.length-1]?.separator||!1}pushSeparator(e=" "){this.tokens.push({value:e,original:e,quote:"",separator:!0})}clone(){return new t([...this.tokens])}};function d2(t,e=""){return t?e?RQ(t,e):AQ(t):e+e||'""'}function RQ(t,e){(0,nm.default)(e==='"'||e==="'","Invalid quote");let n="";for(let i of t){let r=p2[i]||i;r===e?n+="\\"+e:n+=r}return e+n+e}function AQ(t){if(!t)return'""';let e="";for(let n of t)e+=PQ[n]||n;return e}var IQ=80;function h0(){let t=new im;Pt.window.createTerminal({name:"Spell Checker REPL",pty:t}).show()}function g0(){return Pt.window.registerTerminalProfileProvider("cSpell.terminal-profile",{provideTerminalProfile:()=>new Pt.TerminalProfile({name:"Spell Checker REPL",pty:new im})})}var im=class{#e=new Pt.EventEmitter;#t=new Pt.EventEmitter;#n=new Pt.EventEmitter;onDidWrite=this.#t.event;onDidClose=this.#n.event;handleInput=e=>this.#e.fire(e);#i=a2(this.#t);#r=c2(this.#e);#s=e=>this.#t.fire(e);#l=new AbortController;#d={signal:this.#l.signal};#c=Zo();#o;#a;#f=!1;#u;#p;open(e){gn("Repl.open"),(0,f0.default)(!this.#a,"Repl already open"),(0,f0.default)(!this.#f,"Repl already closed"),e&&(this.#u=e,this.#i.dimensions=e),this.#a=y2.default.createInterface({input:this.#r,output:this.#i,completer:this.completer,terminal:!0});let n=this.#a;n.on("SIGTSTP",()=>{}),n.on("SIGINT",this.#I),n.on("close",()=>(gn("rl close"),this.close())),n.on("line",this.#b),this.#u=e,e&&(this.log("CSpell REPL"),this.log('Type "help" or "?" for help.'),this.#C())}setDimensions(e){this.#u=e,this.#i.dimensions=e,gn("Repl.setDimensions %o",e),this.#v()}dispose=()=>{gn("Repl.dispose"),this.close()};#b=e=>{e=e.trim(),gn("Repl.processLine %o",{line:e,args:d0(e)});let n=async()=>{if(!e)return;if(e==="?"){this.showHelp();return}let i=d0(e);return this.#h().exec(i,this.log)};this.#C(n())};#h(){if(this.#p)return this.#p;let e=new Xg("CSpell REPL"),n=new Gn("check","Spell check the files matching the globs.",{...Xs("globs","string[]","File glob patterns.")},{},h=>this.#D(h.args.globs)),i=new Gn("echo","Echo the values.",{...Xs("values","string[]","Echo the values to the console.")},{},h=>this.#T(h.args.values)),r=new Gn("trace","Trace which dictionaries contain the word.",{...Xs("word","string","The word to trace.",!0)},{...Qo("all","boolean","Show all dictionaries.",""),...Qo("only-found","boolean","Show only found dictionaries.","f"),...Qo("only-enabled","boolean","Show only enabled dictionaries.",""),...Qo("filetype","string","The file type to use. Example: `python`","t"),...Qo("allow-compound-words","boolean","Allow compound words.","")},h=>this.#F(h.args,h.options)),s=new Gn("suggestions","Generate suggestions for a word.",{...Xs("word","string","The word to make suggestions.",!0)},{...Qo("max","number","The maximum number of suggestions to generate.","")},h=>this.#A(h.args.word,h.options)),o=new Gn("pwd","Print the current working directory.",{},{},()=>this.#S()),a=new Gn("cd","Change the current working directory.",{...Xs("path","string","The path to change to.")},{},h=>this.#R(h.args.path)),c=new Gn("ls","List the directory contents.",{...Xs("paths","string[]","The paths to list.")},{},h=>this.#P(h.args)),u=new Gn("env","Show environment variables.",{...Xs("filter","string[]","Optional filter.")},{},h=>this.#k(h.args.filter)),f=new Gn("exit","Exit the REPL.",{},{},()=>{this.log("Exiting..."),this.close()}),g=new Gn("help","Show help.",{command:{type:"string",description:"Show Help",required:!1}},{},h=>this.showHelp(h.args.command)),p=new Gn("cls","Clear the screen.",{},{},()=>this.#s(PU())),l=new Gn("info","Show information about the REPL.",{},{},()=>{this.log("CSpell REPL"),this.log('Type "help" or "?" for help.'),this.log("Working Directory: %s",Tc(this.#c.toString(!0))),this.log("Dimensions: %o",this.#u)}),d=[n,i,r,o,a,c,u,f,g,p,l,s];return e.addCommands(d),this.#p=e,e}showHelp(e){this.log(this.#h().getHelp(e))}#C(e){(async()=>{try{if(await e,e)this.#o?.dispose(),this.#o=void 0;else if(this.#o)return}catch(i){i instanceof Error&&this.error(i.message)}if(this.#v(),this.#a?.prompt(),this.#a){let{cursor:i,line:r,terminal:s}=this.#a;gn("cursor pos: %o",{cursorPos:this.#a.getCursorPos(),dim:this.#u,cursor:i,line:r,terminal:s})}})()}#v(){this.#a?.setPrompt(`cspell ${Tc(zU(Pt.Uri.joinPath(this.#c,"/"))||"")} > `)}async#D(e){gn("Repl.cmdCheck");let{log:n,error:i}=this,r=this.#s,s=e0(e);if(s||(s=await this.#a?.question("File glob pattern: ",this.#d)),!s)return;r(Jx()+"Gathering Files...");let o=Pt.workspace.getConfiguration("search.exclude"),a=Object.keys(o).filter(f=>o[f]===!0),c=e0(a),u=await Qg(s,Zo(),c,void 0,this.#y());n(Jx()+"Checking..."),await qU(u,{log:n,error:i,output:r,cancellationToken:this.#y(),width:this.width})}async#T(e){gn("Repl.cmdEcho"),this.log((e||[]).join(" "))}getCommandNames(){return this.#h().getCommandNames().sort()}completer=async e=>{let n=this.getCommandNames();if(!e.trim())return[n,""];let i=m2(e),r=i.args;if(r.length===1&&e===r[0])return[this.#m(e,n).map(f=>f+" "),e];let s=r[0],o=i.hasTrailingSeparator()?0:r.length-1,a=o?r[o]:"";return[(await this.#w(s,a,r)).map(f=>{let g=i.clone();return o?g.setArg(o,f):g.pushArg(f),g.line}).filter(f=>f.startsWith(e)),e]};#w=async(e,n,i)=>{switch(console.error("Repl.cmdCompletion %o",{command:e,current:n}),e){case"check":return this.#x(n);case"cd":return this.#E(n,i);case"ls":return this.#g(n,!1);case"help":return this.#m(n,this.getCommandNames())}return[]};#x=async e=>this.#g(e,!1);#E=async(e,n)=>n.length>2||n.length===2&&n[1]!==e?[]:this.#g(e,!0);#g=async(e,n)=>{try{let i=await this.readDirEntryNames(e,n?Pt.FileType.Directory:void 0);return this.#m(e,i.map(r=>r.startsWith("-")?`./${r}`:r))}catch{return[]}};#m=(e,n)=>{let i=n.filter(s=>s.startsWith(e)),r=NQ(i);return r&&r!==e?[r]:i};#S(){gn("Repl.cmdPwd"),this.log(this.#c?.toString(!1)||"No Working Directory")}#k(e){gn("Repl.cmdEnv"),this.log("Environment:");let n=Object.entries(process.env).filter(([i])=>!e||e.find(r=>i.toLowerCase().includes(r))).sort((i,r)=>i[0].localeCompare(r[0]));for(let[i,r]of n)this.log(`${Tc(i)}${Xl("=")}${r}`)}async#F(e,n){gn("Repl.cmdTrace %o",e);let{word:i}=e;if(!i){this.log("No word specified.");return}let r=await o2(i,this.#c,{...(0,C2.default)(n),width:this.width});this.log("%s",r)}get width(){return this.#u?.columns||IQ}async#P(e){gn("Repl.cmdLs %o",e),await XU(e.paths,{log:this.log,cwd:this.#c,cancellationToken:this.#y()})}async readDir(e){return HU(e,this.#c)}async readDirEntryNames(e,n){let i=e.split("/").slice(0,-1).join("/"),r=n?([,c])=>c&n:()=>!0,s=i?[]:[["..",Pt.FileType.Directory]],o=i?i+"/":"";return[...s,...(await this.readDir(i)).map(([c,u])=>[o+c,u])].filter(r).map(([c,u])=>c+(u&Pt.FileType.Directory?"/":""))}async#R(e){if(!e)return this.#S();try{let n=t0(e,this.#c);if((await Pt.workspace.fs.stat(n)).type&Pt.FileType.Directory)this.#c=n;else throw Pt.FileSystemError.FileNotADirectory(n)}catch(n){if(n instanceof Pt.FileSystemError){this.log(`"${e}" is not a valid directory.`);return}this.log("Error: %o",n)}}async#A(e,n){if(!e)return;let i=await YU(e,this.#c);this.log("%s",i)}close=()=>{gn("Repl.close"),!this.#f&&(this.#f=!0,this.#o?.cancel(),this.#l.abort(),this.#a?.close(),this.#r.destroy(),this.#i.destroy(),this.#n.fire(),this.#o?.dispose(),this.#o=void 0)};log=(...e)=>this.#s(Gx((0,p0.formatWithOptions)({colors:!0},...e)+`
`));error=(...e)=>this.#s(zg("Error: ")+Gx((0,p0.formatWithOptions)({colors:!0},...e)+`
`));#I=()=>this.#o?.cancel();#_(){return this.#N().token}#y(){return this.#o?.token||this.#_()}#N(){this.#o?.dispose();let e=_Q(this.#l);return this.#o=e,e}};function _Q(t){let e=new Pt.CancellationTokenSource;return t.signal.onabort=()=>e.cancel(),e}function NQ(t){if(!t.length)return"";let e=t[0];for(let n of t){let i=0;for(;i<e.length&&i<n.length&&e[i]===n[i];++i);if(e=e.slice(0,i),!e)return e}return e}var ea=De(require("vscode"),1);var OQ=!0;function v2(t){let e=Ye();if(!OQ)return e;let n=new Map,i,r,s;return e.push(ea.default.window.onDidChangeActiveTextEditor(u)),e.push(ea.default.workspace.onDidChangeConfiguration(f=>{f.affectsConfiguration(Bt)&&u()})),e.push(sy().onDidChangeDiagnostics(()=>c())),e.push(t.onDidChangeVisibility(()=>c(!1))),c(),e;function o(f){let g=oo(n,f,p=>ea.default.languages.createLanguageStatusItem(p,{language:"*"}));return e.add(g),g}function a(f){let g="cspell-issues",{enabled:p,fileEnabled:l,languageIdEnabled:d,languageId:h=""}=f||{},m=p&&l&&d,C=ea.default.window.activeTextEditor?.document,w=(C?sy().getSpellingIssues(C.uri):void 0)?.getStats()||{},k=o(g);k.name="Issues";let A=[],B=w.spelling||0,W=w.flagged||0,U=B-W;m===void 0&&A.push("$(repo-sync)"),m===!1&&A.push("$(exclude)"),m&&!t.areIssuesVisible()&&A.push("$(eye-closed)"),m&&!B&&A.push("$(check)"),m&&W&&A.push(`$(error) ${W}`),m&&U&&A.push(`$(warning) ${U}`);let ee=A.join(" ");k.severity=ea.default.LanguageStatusSeverity.Information,k.text=`${ee} Spell`;let Z=[];if(m===!1&&Z.push("- Spell checking is NOT enabled for this file."),d===!1&&Z.push(`- File Type: \`${h}\` is NOT enabled.`),f?.fileIsExcluded){let H=[];f.excludedBy?.forEach(M=>H.push(`- Excluded by ${M.name}`)),Z.push(...H)}k.detail=Z.length?Z.join(`
`):void 0,k.command={command:di["cspell.showActionsMenu"],title:"menu"}}function c(f=!0){if(f){let g=ea.default.window.activeTextEditor?.document;g!==s&&(s=g,r=void 0),et(g?lo().isSpellCheckEnabled(g):Promise.resolve(void 0),"Language Status").then(p=>a(r=p))}a(r)}function u(){i&&clearTimeout(i),i=setTimeout(()=>{i=void 0,c()},100)}}var Lm=require("vscode"),Kj=De(td(),1);function C0(t){let e;return new Promise((n,i)=>{let r=!1;e=t.subscribe(s=>{if(!r){r=!0;try{n(s)}finally{ln(e)}}})})}var Fi;(function(t){t[t.none=0]="none",t[t.debug=1]="debug",t[t.log=2]="log",t[t.info=4]="info",t[t.warn=8]="warn",t[t.error=16]="error",t[t.everything=31]="everything"})(Fi||(Fi={}));var nd;(function(t){t[t.none=0]="none",t[t.debug=1]="debug",t[t.log=2]="log",t[t.info=3]="info",t[t.warn=4]="warn",t[t.error=5]="error"})(nd||(nd={}));var v0=class{logger;logLevelMask=0;constructor(e,n){this.logger=e,this.logLevelMask=YQ(n)}log=this.bindLogger("log",Fi.log);error=this.bindLogger("error",Fi.error);warn=this.bindLogger("warn",Fi.warn);info=this.bindLogger("info",Fi.info);debug=this.bindLogger("debug",Fi.debug);enableLog=this.bindEnable("log");enableError=this.bindEnable("error");enableWarn=this.bindEnable("warn");enableInfo=this.bindEnable("info");enableDebug=this.bindEnable("debug");isMethodEnabled(e){return!!(Fi[e]&this.logLevelMask)}setLogger(e){return this.logger=e,this}enableMethod(e,n=!0){let i=Fi[e];return n?this.logLevelMask|=i:this.logLevelMask&=~i,this}setLogLevelMask(e){return this.logLevelMask=e,this}bindLogger(e,n){return(...i)=>this.logLevelMask&n&&this.logger[e](...i)||void 0}bindEnable(e){return n=>this.enableMethod(e,n)}};function YQ(t){return t?Fi.everything&Fi.everything<<t-1:0}function B2(t=console,e=nd.log){return new v0(t,e)}var na=require("vscode");var is=De(require("vscode"),1),id=require("vscode");function W2(t){return e=>e===void 0?t:e}function S0(t){return e=>e===void 0?void 0:t(e)}function K2(t){if(arguments.length>1){let e=[...arguments].slice(1),n=t;for(let i of e)n=i(n);return n}return t}async function z2(t,e,n,i){let r=e||sZ(t?.uri),s=Tw(r),o=await n.getConfigurationForDocument(t,{enabledFileTypes:!0,enabledLanguageIds:!0,enableFiletypes:!0,dictionaries:!0,dictionaryDefinitions:!0,languageSettings:!0,language:!0});return{knownLanguageIds:[...n.languageIds].sort(),dictionaries:J2(o.settings),configs:ZQ(s,o,t,i),workspace:hZ(n.allowedSchemas,is.workspace),activeFileUri:t?.uri.toString(),activeFolderUri:r?.toString()}}var $2={defaultValue:"default",globalValue:"user",workspaceValue:"workspace",workspaceFolderValue:"folder"},G2=["defaultValue","globalValue","workspaceValue","workspaceFolderValue"],QQ=new Map(G2.map((t,e)=>[t,e]));function ZQ(t,e,n,i){return{user:b0(1,t),workspace:b0(2,t),folder:b0(3,t),file:nZ(e,n,i)}}function V2(t){return QQ.get(t)||0}function eZ(t,e){return V2(t)>V2(e)?t:e}function um(t,e,n){for(let i=t;i>0;--i){let r=G2[i],s=n[r];if(s&&s[e])return r}return"defaultValue"}function b0(t,e){let n=um(t,"language",e),i=um(t,Me.enabledLanguageIds,e),r=um(t,Me.enableFiletypes,e),s=um(t,Me.enabledFileTypes,e),o=mZ(e[i],e[r],e[s]),a=eZ(i,r);return{inherited:{locales:$2[n],languageIdsEnabled:$2[a]},locales:D0(e[n]?.language),languageIdsEnabled:o}}function tZ(t){if(t)return t.map(e=>({...e,name:e.name||e.configUri&&Ii(Ve(e.configUri))}))}function nZ(t,e,n){if(!e)return;let{uri:i,fileName:r,languageId:s,isUntitled:o}=e,{enabled:a,enabledVSCode:c,languageIdEnabled:u,docSettings:f,fileEnabled:g,fileIsExcluded:p,fileIsIncluded:l,gitignoreInfo:d,excludedBy:h,uriUsed:m,workspaceFolderUri:C}=t,D=new Set(f&&f.dictionaries||[]),w=J2(f).filter(U=>D.has(U.name)),k=m?id.Uri.parse(m):i,A=C&&is.workspace.getWorkspaceFolder(id.Uri.parse(C))||is.workspace.getWorkspaceFolder(k);function B(){if(!d)return;let{glob:U,gitIgnoreFile:ee,line:Z,matched:H,root:M}=d,V=id.Uri.file(ee);return{matched:H,glob:U,line:Z,root:M,gitignoreFileUri:V.toString(),gitignoreName:Ii(V)}}return{enabled:a,enabledVSCode:c,uri:i.toString(),uriActual:k.toString(),fileName:r,name:k.path.split("/").slice(-1)[0],isUntitled:o,locales:D0(f?.language),languageId:s,dictionaries:w,languageIdEnabled:u,fileEnabled:g,configFiles:cZ(t),fileIsExcluded:p,fileIsIncluded:l,fileIsInWorkspace:!!A||!!C||o,excludedBy:tZ(h),gitignoreInfo:B(),blockedReason:t.blockedReason,workspaceFolder:iZ(A)}}function iZ(t){if(t)return{uri:t.uri.toString(),name:t.name,index:t.index}}function rZ(){return is.workspace.workspaceFolders?.[0]}function sZ(t){return t&&is.workspace.getWorkspaceFolder(t)?.uri||rZ()?.uri}function oZ(t){return is.workspace.asRelativePath(t,!0)}function aZ(t){return t.scheme==="file"||is.workspace.getWorkspaceFolder(t)?is.workspace.asRelativePath(t,!0):t.toString(!0)}function cZ(t){let{configFiles:e,configTargets:n}=t,i=n.filter(uZ).map(({name:s,configUri:o})=>({name:s,uri:o}));return i.length?i:e.map(s=>({name:Ii(Ve(s)),uri:s}))}function uZ(t){return t.kind==="cspell"}var lZ=/\.txt$/,dZ=/(?:@|%40)cspell\//;function J2(t){if(!t)return[];let e=t.dictionaryDefinitions||[],n=new Map(e.map(fZ).map(r=>[r.name,r]));return(t.languageSettings||[]).forEach(r=>{let s=D0(r.locale||r.local),o=X2(r.languageId);(r.dictionaries||[]).forEach(c=>{let u=n.get(c);u&&(u.locales=H2(u.locales,s),u.languageIds=H2(u.languageIds,o))})}),[...n.values()]}function fZ(t){let e=pZ(t),n=e?.toString(),i=n&&(t.addWords||lZ.test(n)&&!dZ.test(n));return{name:t.name,locales:[],languageIds:[],description:t.description,uri:i?n:void 0,uriName:i&&e?aZ(e):void 0}}function pZ(t){if(!(!t.path&&!t.file))return id.Uri.joinPath(Ve(t.path||""),t.file||"")}function D0(t){return X2(t)}function X2(t){return K2(t,S0(e=>typeof e=="string"?e:e.join(",")),S0(e=>e.replace(/\*/g,"").split(/[,;]/).map(n=>n.trim()).filter(n=>!!n)),W2([]))}function H2(t,e){return t.concat(e).filter(co())}function hZ(t,e){function n(c){let{name:u,index:f}=c;return{uri:c.uri.toString(),name:u,index:f}}function i(c){let{fileName:u,languageId:f,isUntitled:g}=c;return{uri:c.uri.toString(),fileName:oZ(u),languageId:f,isUntitled:g}}let{name:r,workspaceFolders:s,textDocuments:o}=e;return{name:r,workspaceFolders:s?s.map(n):void 0,textDocuments:o.filter(c=>t.has(c.uri.scheme)).map(i)}}function gZ(...t){let e={};return t.reduce((n,i)=>kd(i,n),e)}function mZ(...t){let e=gZ(...t.filter(vn));return Object.entries(e).filter(([,n])=>n).map(([n])=>n)}var Z2=De(Q2());function w0(t){return new T0(t)}var T0=class extends Js{_value;constructor(e){super(),this._value=e}get value(){return this._value}set value(e){this.set(e)}set(e){this._value===e||(0,Z2.default)(this._value,e)||(this._value=e,this.notify(e))}subscribe(e){let n=super.subscribe(e);return vc(e)(this._value),n}update(e){return this.set(e(this._value))}};var rd=require("vscode"),nj=De(td(),1);var ej=[{uuid:1,done:!1,text:"finish Svelte tutorial"},{uuid:2,done:!1,text:"build an app"},{uuid:3,done:!1,text:"world domination"}];function x0(t){return CZ(t,eo())}var yZ={...console},ij=B2(yZ,nd.none);function Ac(){return ij}function CZ(t,e){let n,i=new Set,r=Ye([()=>ln(n)],"bindApiAndStore"),s=r.dispose,a=(0,nj.createServerSideSpellInfoWebviewApi)(t,{serverRequests:{whatTimeIsIt:u,getLogDebug:()=>e.state.logDebug.value,getTodos:()=>tj(e.state.todos),getCurrentDocument:()=>tj(e.state.currentDocument),getDocSettings:E0,updateEnabledFileTypes:g=>Vs(g.enabledFileTypes,g.url),setLogDebug:g=>e.state.logDebug.value=g,setTodos:g=>vZ(g,e.state.todos),watchFields:c,resetTodos:f},serverNotifications:{async showInformationMessage(g){await rd.window.showInformationMessage("Show Message: "+g)},async openTextDocument(g){if(!g)return;let p=rd.Uri.parse(g);await rd.window.showTextDocument(p)}},clientRequests:{},clientNotifications:{onStateChange:!0}},ij);return r.push(as(a)),uo({...a},s,"bindApiAndStore");function c(g){ln(n),g.forEach(p=>i.add(p)),n=rj(i,p=>{a.clientNotification.onStateChange(p)})}function u(){return new Date().toString()}function f(){return k0(void 0,ej.map(g=>({...g})),e.state.todos)}}function vZ(t,e){return k0(t.seq,t.value,e)}function tj(t){return SZ(C0(t))}async function SZ(t){let e=await t;return bZ(e)}function bZ(t){return{seq:eo().seq,value:t}}var DZ=!1;DZ&&Ac().setLogLevelMask(Fi.everything);var sd;function eo(){if(sd)return sd;let t=Bl(TZ),e=Xo(t,jl(500),Ex);function n(){ln(t);let s=sd;sd=void 0,s&&Object.values(s.state).forEach(o=>ln(o))}let i={logDebug:w0(Ac().isMethodEnabled("debug")),todos:w0([])};return sd=uo({seq:1,state:{...i,currentDocument:e}},n,"getWebviewGlobalStore")}function TZ(t){let e=vc(t),n=[],i=Td(n);return r(na.window.activeTextEditor),n.push(oj(na.window.onDidChangeActiveTextEditor(r,void 0))),n.push(oj(na.window.onDidChangeTextEditorSelection(s=>s.textEditor===na.window.activeTextEditor&&r(s.textEditor),void 0))),i;function r(s){if(!s)return;let o=s.document,a={url:o.uri.toString(),version:o.version};e(a)}}async function E0(t){let e=t&&wZ(t)||void 0,n=Hc();return z2(e,void 0,n.client,console.log)}function k0(t,e,n){let i=eo();return t&&t!==i.seq?{seq:i.seq,value:n.value,success:!1}:(i.seq++,n.set(e),{seq:i.seq,value:n.value,success:!0})}function rj(t,e){let n=eo(),r=[...t].map(s=>({field:s,sub:n.state[s]})).map(s=>s.sub.subscribe(()=>e([s.field])));return Td(r)}function wZ(t){for(let e of na.workspace.textDocuments)if(!xZ(e.uri,t))return e}function xZ(t,e){let n=sj(t),i=sj(e);return n===i?0:n<i?-1:1}function sj(t){return decodeURIComponent(decodeURIComponent(t.toString())).normalize("NFC").replace(/^file:\/\/\/[a-z]:/i,n=>n.toLowerCase())}function oj(t){return Kn(()=>t.dispose(),void 0,"disposeClassic")}var fd=require("vscode");var Bj=De(td(),1);var BE=require("vscode");var jc=De(qj(),1),qE=class extends jc.AbstractMessageReader{webview;logger;constructor(e,n){super(),this.webview=e,this.logger=n}listen(e){return this.logger?.debug("start listening"),this.webview.onDidReceiveMessage(n=>{this.logger?.debug("listen: %o",n),e(n)})}},UE=class extends jc.AbstractMessageWriter{webview;logger;errorCount;constructor(e,n){super(),this.webview=e,this.logger=n,this.errorCount=0}async write(e){try{await this.webview.postMessage(e),this.errorCount=0}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};function jE(t,e){return(0,jc.createMessageConnection)(new qE(t,e),new UE(t,e),e)}function Uj(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var jj=require("vscode");function Am(t,e,...n){return t.asWebviewUri(jj.Uri.joinPath(e,...n))}var so=class t{constructor(e,n,i){this.webview=e;this.extensionUri=n;this.viewName=i;e.options=this.calcOptions(),e.html=this._getWebviewContent();let r=jE(e,Ac());this._disposables.push(as(x0(r),"createApi")),r.listen(),this._disposables.push(as(r,"rpc"))}_disposables=Ye(void 0,"AppView");dispose=this._disposables.dispose;calcOptions(){let e=this.extensionUri;return{enableScripts:!0,localResourceRoots:[BE.Uri.joinPath(e,"out"),BE.Uri.joinPath(e,"packages/webview-ui/public")]}}_getWebviewContent(){let{webview:e,extensionUri:n,viewName:i}=this,r=Am(e,n,"packages/webview-ui/public/build/bundle.css"),s=Am(e,n,"packages/webview-ui/public/assets/css/codicon.css"),o=Am(e,n,"packages/webview-ui/public/build/bundle.js"),a=Uj();return`
      <!DOCTYPE html>
      <html lang="en">
        <head>
          <title>Hello World</title>
          <meta charset="UTF-8" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0" />
          <meta http-equiv="Content-Security-Policy" content="
            default-src 'none';
            font-src ${e.cspSource};
            style-src 'nonce-${a}';
            style-src-elem 'nonce-${a}';
            script-src 'nonce-${a}';
          ">
          <meta property="csp-nonce" content="${a}" />
          <meta property="view-name" content="${i}" />
          <link rel="stylesheet" type="text/css" nonce="${a}" href="${r}">
          <link rel="stylesheet" type="text/css" nonce="${a}" href="${s}">
          <script nonce="${a}">
            var process = { env: { NODE_ENV: 'production' } };
          </script>
          <script defer nonce="${a}" src="${o}"></script>
        </head>
        <body>
        </body>
      </html>
    `}static bindView(e,n,i){return new t(e,n,i)}};var Im=class{static bindView(e,n){return new so(e,n,Bj.supportedViewsByName["hello-world"])}};var pd=class t{static currentPanel;_panel;_disposables=Ye(void 0,"HelloWorldPanel");constructor(e,n){this._panel=e,this._disposables.push(this._panel),this._disposables.push(this._panel.onDidDispose(()=>this.dispose())),this._disposables.push(Im.bindView(this._panel.webview,n))}static render(e){if(t.currentPanel){t.currentPanel._panel.reveal(fd.ViewColumn.One);return}let n=fd.window.createWebviewPanel("showHelloWorld","Hello World",fd.ViewColumn.One,{});t.currentPanel=new t(n,e)}dispose(){t.currentPanel===this&&(t.currentPanel=void 0),this._disposables.dispose()}};var Wj=De(td(),1);var _m=class{static bindView(e,n){return new so(e,n,Wj.supportedViewsByName.todo)}};var Nm=class{constructor(e){this.extensionUri=e}viewType="cspell-info.todoView";_view;resolveWebviewView(e,n,i){this._view=e;let r=_m.bindView(e.webview,this.extensionUri);this._view.onDidDispose(()=>r.dispose())}};var Om=class{constructor(e,n,i){this.extensionUri=e;this.viewName=n;this.viewType=i}_view;resolveWebviewView(e,n,i){this._view=e;let r=so.bindView(e.webview,this.extensionUri,this.viewName);this._view.onDidDispose(()=>r.dispose())}};var $j=["cspell-info.showHelloWorld"],oee=Object.fromEntries($j.map(t=>[t,t]));function WE(t){let{subscriptions:e,extensionUri:n}=t,i=[new Nm(n),new Om(n,Kj.supportedViewsByName["cspell-info"],"cSpellInfoView")];for(let s of i)e.push(Lm.window.registerWebviewViewProvider(s.viewType,s));let r=Lm.commands.registerCommand(oee["cspell-info.showHelloWorld"],()=>{pd.render(t.extensionUri)});e.push(r,{dispose:()=>pd.currentPanel?.dispose()}),e.push(eo())}Gt.mark("cspell_done_import");var Hj=!1,hd;hU();function aee(t){try{Gt.mark("cspell_activate_start"),zc("extensionContext",t);let e=Gw(t.globalStorageUri);zc("eventLogger",e),e.logActivate(),Gj();let n=new qt.EventEmitter,i=new Promise(r=>n.event(r));return Gt.mark("activateIssueViewer"),Bx(t,i),Gt.mark("activateFileIssuesViewer"),Ox(t,i),Gt.mark("start_async_activate"),cee({context:t,eIssueTracker:n}).catch(r=>{throw Vj(r)})}catch(e){throw Vj(e)}}function Vj(t){return new Error(`Failed to activate: (${Gt.getLastEventName()}) ${t}`,{cause:t})}async function cee(t){let{context:e,eIssueTracker:n}=t,i=qt.window.createOutputChannel("Code Spell Checker",{log:!0}),r=uee(i);Gt.mark("create client");let s=await zh.create(e);if(e.subscriptions.push(s,i,r),zc("client",s),Hj){let V=qt.Uri.joinPath(e.globalStorageUri,"data.json");console.log('Extension "Code Spell Checker" is now active! %o',{extensionUri:e.extensionUri.toJSON(),globalStorageUri:e.globalStorageUri.toJSON(),dataFileUri:V.toJSON(),dataFileDirUri:qt.Uri.joinPath(V,"..").toJSON(),workspaceState:e.workspaceState.keys(),globalState:e.globalState.keys()})}Gt.mark("ExtensionRegEx.activate"),aU(e,s),Gt.mark("start client"),await s.start(),Gt.mark("start IssueTracker");let o=new Mg(s);zc("issueTracker",o),n.fire(o),n.dispose();function a(V=0){setTimeout(c,V)}function c(){po(s.triggerSettingsRefresh(),"triggerGetSettings").then(()=>{}).catch(()=>{})}function u(V){gi.log(`Configuration Change: ${V.toString()}`),hd=void 0,a()}Gt.mark("createConfigWatcher");let f=Hq(),g=new Ul(e,o),p=new Wl(e,s),l={"cSpell.toggleTraceMode":()=>p.toggleVisible(),"cSpell.toggleVisible":()=>g.toggleVisible(),"cSpell.show":()=>g.visible=!0,"cSpell.hide":()=>g.visible=!1,"cSpell.createCSpellTerminal":h0};Gt.mark("register"),e.subscriptions.push(o,f,f.onDidChangeConfig(u),qt.workspace.onDidSaveTextDocument(h),qt.workspace.onDidRenameFiles(m),qt.workspace.onDidDeleteFiles(C),qt.workspace.onDidCreateFiles(D),qt.workspace.onDidOpenTextDocument(w),qt.workspace.onDidChangeConfiguration(k),qt.window.onDidChangeActiveTextEditor(A),qt.window.onDidChangeVisibleTextEditors(B),o.onDidChangeDiagnostics(W),g,p,$q(o),uq(g.visible,g.onDidChangeVisibility),g0(),...Lq(l),qt.workspace.onDidChangeConfiguration(d),v2({areIssuesVisible:()=>g.visible,onDidChangeVisibility:g.onDidChangeVisibility}),Uq({areIssuesVisible:()=>g.visible}),s.onBlockFile(lee)),Gt.mark("registerCspellInlineCompletionProviders"),await Wq(e.subscriptions).catch(()=>{});function d(V){V.affectsConfiguration(xi)&&a()}function h(V){U([V.uri])}function m(V){let Q=V.files.map(he=>he.newUri).concat(V.files.map(he=>he.oldUri));U(Q)}function C(V){U(V.files)}function D(V){U(V.files)}function w(V){}function k(V){V.affectsConfiguration(WM("logLevel"))&&Gj()}function A(V){dn(hc(s,V?.document),"handleOnDidChangeActiveTextEditor")}function B(V){dn(hc(s,qt.window.activeTextEditor?.document),"handleOnDidChangeVisibleTextEditors")}function W(V){let Q=qt.window.activeTextEditor;if(!Q)return;new Set(V.uris.map(de=>de.toString())).has(Q.document.uri.toString())&&setTimeout(()=>{dn(hc(s,Q.document),"handleOnDidChangeDiagnostics")},10)}function U(V){for(let Q of V)if(Lv.has(vr.basename(Q))){a();break}}function ee(V){s.registerConfiguration(V)}let Z={enableLocale:(V,Q)=>hx(V,Q,!0),disableLocale:(V,Q)=>hx(V,Q,!1)},H=(V,Q)=>s.getConfigurationForDocument(V,Q);Gt.mark("setup Extension API");let M={registerConfig:ee,triggerGetSettings:a,enableLanguageId:fx,disableLanguageId:px,enableCurrentFileType:Ll,disableCurrentFileType:Ml,addWordToUserDictionary:Ld,addWordToWorkspaceDictionary:Od,enableLocale:Z.enableLocale,disableLocale:Z.disableLocale,updateSettings:()=>!1,cSpellClient:()=>s,getConfigurationForDocument:H,checkDocument:Eg,enableLocal:Z.enableLocale,disableLocal:Z.disableLocale,enableCurrentLanguage:Ll,disableCurrentLanguage:Ml};return Gt.mark("activateWebview"),WE(e),Gt.mark("cspell_activate_end"),Gt.measure("cspell_activation","cspell_activate_start","cspell_activate_end"),M}function uee(t){let e=Ye(),n=zj(),i={log:(...r)=>Hj||n==="Debug"?t.info(...r):t.debug(...r),error:t.error.bind(t),info:t.info.bind(t),warn:t.warn.bind(t)};return gi.setConnection({console:i,onExit:r=>e.push(r)}),gi.logTime=!1,gi.logSequence=!1,e}Gt.mark("cspell_done_load");function zj(){return hd||(hd=es("logLevel",void 0)||"Error",hd)}function Gj(t){let e=t??zj();gi.level=e}async function lee(t){try{let{uri:e,reason:n}=t;if(!sq(e))return;let i=[{title:"Ok"},{title:"Open Settings"}];(await qt.window.showInformationMessage(`File "${Ii(qt.Uri.parse(e))}" not spell checked:
${n.notificationMessage}
`,...i))?.title==="Open Settings"&&await qt.commands.executeCommand("workbench.action.openSettings",n.settingsID)}catch{}}0&&(module.exports={activate});
/*! Bundled license information:

repeat-string/index.js:
  (*!
   * repeat-string <https://github.com/jonschlinkert/repeat-string>
   *
   * Copyright (c) 2014-2015, Jon Schlinkert.
   * Licensed under the MIT License.
   *)
*/
//# sourceMappingURL=extension.cjs.map
