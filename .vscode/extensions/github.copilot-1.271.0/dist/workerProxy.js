"use strict";var Yl=Object.create;var xr=Object.defineProperty;var Ql=Object.getOwnPropertyDescriptor;var ec=Object.getOwnPropertyNames;var tc=Object.getPrototypeOf,rc=Object.prototype.hasOwnProperty;var n=(e,t)=>xr(e,"name",{value:t,configurable:!0});var X=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),nn=(e,t)=>{for(var r in t)xr(e,r,{get:t[r],enumerable:!0})},ls=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of ec(t))!rc.call(e,a)&&a!==r&&xr(e,a,{get:()=>t[a],enumerable:!(o=Ql(t,a))||o.enumerable});return e};var on=(e,t,r)=>(r=e!=null?Yl(tc(e)):{},ls(t||!e||!e.__esModule?xr(r,"default",{value:e,enumerable:!0}):r,e)),nc=e=>ls(xr({},"__esModule",{value:!0}),e);var cs=X(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.bytePairEncode=Ze.BinaryMap=Ze.binaryMapKey=void 0;var oc=n((e,t,r)=>{let o=r-t,a=16777215>>>Math.max(0,(3-o)*8),u=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&a,i=16777215>>>Math.min(31,Math.max(0,(6-o)*8)),s=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&i;return u+16777216*s},"binaryMapKey");Ze.binaryMapKey=oc;var Sr=class Sr{constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,o=t.length){var i;let a=o<6+r,u=(0,Ze.binaryMapKey)(t,r,o);return a?this.final.get(u):(i=this.nested.get(u))==null?void 0:i.get(t,6+r,o)}set(t,r){let o=(0,Ze.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(o,r);return}let u=this.nested.get(o);if(u instanceof Sr)u.set(t.subarray(6),r);else{let i=new Sr;i.set(t.subarray(6),r),this.nested.set(o,i)}}};n(Sr,"BinaryMap");var no=Sr;Ze.BinaryMap=no;var qe=new Int32Array(128),be=new Int32Array(128);function ic(e,t,r){var l;if(r===1)return[t.get(e)];let o=2147483647,a=-1;for(;qe.length<r*2;)be=new Int32Array(be.length*2),qe=new Int32Array(qe.length*2);for(let c=0;c<r-1;c++){let d=(l=t.get(e,c,c+2))!=null?l:2147483647;d<o&&(o=d,a=c),be[c]=c,qe[c]=d}be[r-1]=r-1,qe[r-1]=2147483647,be[r]=r,qe[r]=2147483647;let u=r+1;function i(c,d=0){if(c+d+2<u){let m=t.get(e,be[c],be[c+d+2]);if(m!==void 0)return m}return 2147483647}for(n(i,"getRank");o!==2147483647;){qe[be[a]]=i(a,1),a>0&&(qe[be[a-1]]=i(a-1,1));for(let c=a+1;c<u-1;c++)be[c]=be[c+1];u--,a=-1,o=2147483647;for(let c=0;c<u-1;c++){let d=qe[be[c]];qe[be[c]]<o&&(o=d,a=c)}}let s=[];for(let c=0;c<u-1;c++)s.push(t.get(e,be[c],be[c+1]));return s}n(ic,"bytePairEncode");Ze.bytePairEncode=ic});var ds=X(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.makeTextEncoder=void 0;var so=class so{constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}};n(so,"UniversalTextEncoder");var oo=so,ao=class ao{constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}};n(ao,"NodeTextEncoder");var io=ao,sc=n(()=>typeof Buffer<"u"?new io:new oo,"makeTextEncoder");sn.makeTextEncoder=sc});var ms=X(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.LRUCache=void 0;var co=class co{constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let o=this.nodes.get(t);if(o)o.value=r,this.moveToHead(o);else{let a=new lo(t,r);this.nodes.set(t,a),this.addNode(a),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};n(co,"LRUCache");var uo=co;an.LRUCache=uo;var mo=class mo{constructor(t,r){this.key=t,this.value=r}};n(mo,"Node");var lo=mo});var _o=X(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.TikTokenizer=void 0;var ac=require("fs"),uc=require("util"),un=cs(),lc=ds(),cc=ms();function dc(e){let t=new Map;try{let o=ac.readFileSync(e,"utf-8");return r(o),t}catch(o){throw new Error(`Failed to load from BPE encoder file stream: ${o}`)}function r(o){for(let a of o.split(/[\r\n]+/)){if(a.trim()==="")continue;let u=a.split(" ");if(u.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let i=new Uint8Array(Buffer.from(u[0],"base64")),s=parseInt(u[1]);if(!isNaN(s))t.set(i,s);else throw new Error(`Can't parse ${u[1]} to integer`)}}n(r,"processBpeRanks")}n(dc,"loadTikTokenBpe");function mc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}n(mc,"escapeRegExp");var fo=class fo{constructor(t,r,o,a=8192){this.textEncoder=(0,lc.makeTextEncoder)(),this.textDecoder=new uc.TextDecoder("utf-8"),this.cache=new cc.LRUCache(a);let u=typeof t=="string"?dc(t):t;this.init(u,r,o)}init(t,r,o){this.encoder=new un.BinaryMap;for(let[a,u]of t)this.encoder.set(a,u);this.regex=new RegExp(o,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(a=>mc(a)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[a,u]of t)this.decoder.set(u,a);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[a,u]of r)this.specialTokensDecoder.set(u,a)}findNextSpecialToken(t,r,o){let a=r,u=null;if(o&&this.specialTokensRegex)for(;u=t.slice(a).match(this.specialTokensRegex),!(!u||o&&o.includes(u[0]));)a+=u.index+1;let i=u?a+u.index:t.length;return[u,i]}encode(t,r){let o=[],a=0;for(;;){let u,i;if([u,i]=this.findNextSpecialToken(t,a,r),i>a&&this.encodeByIndex(t,o,a,i),u){if(a=a+this.encodeSpecialToken(o,u),a>=t.length)break}else break}return o}encodeSpecialToken(t,r){var a;let o=(a=this.specialTokensEncoder)==null?void 0:a.get(r[0]);return t.push(o),r.index+r[0].length}encodeByIndex(t,r,o,a){let u,i=t.substring(o,a);for(this.regex.lastIndex=0;u=this.regex.exec(i);){let s=this.cache.get(u[0]);if(s)for(let l of s)r.push(l);else{let l=this.textEncoder.encode(u[0]),c=this.encoder.get(l,0,this.textEncoder.length);if(c!==void 0)r.push(c),this.cache.set(u[0],[c]);else{let d=(0,un.bytePairEncode)(l,this.encoder,this.textEncoder.length);for(let m of d)r.push(m);this.cache.set(u[0],d)}}}}encodeTrimSuffixByIndex(t,r,o,a,u,i,s){let l,c=t.substring(o,a);for(this.regex.lastIndex=0;l=this.regex.exec(c);){let d=l[0],m=this.cache.get(d);if(m)if(i+m.length<=u)i+=m.length,s+=d.length,r.push(...m);else{let f=u-i;i+=f,s+=d.length,r.push(...m.slice(0,f));break}else{let f=this.textEncoder.encode(d),_=this.encoder.get(f,0,f.length);if(_!==void 0)if(this.cache.set(d,[_]),i+1<=u)i++,s+=d.length,r.push(_);else break;else{let b=(0,un.bytePairEncode)(f,this.encoder,this.textEncoder.length);if(this.cache.set(d,b),i+b.length<=u){i+=b.length,s+=d.length;for(let y of b)r.push(y)}else{let y=u-i;i+=y,s+=d.length;for(let x=0;x<y;x++)r.push(b[x]);break}}}if(i>=u)break}return{tokenCount:i,encodeLength:s}}encodeTrimSuffix(t,r,o){let a=[],u=0,i=0,s=0;for(;;){let c,d;if([c,d]=this.findNextSpecialToken(t,u,o),d>u){let{tokenCount:m,encodeLength:f}=this.encodeTrimSuffixByIndex(t,a,u,d,r,i,s);if(i=m,s=f,i>=r)break}if(c!==null){if(i++,i<=r&&(u=u+this.encodeSpecialToken(a,c),s+=c[0].length,u>=t.length)||i>=r)break}else break}let l=s===t.length?t:t.slice(0,s);return{tokenIds:a,text:l}}encodeTrimPrefix(t,r,o){let a=[],u=0,i=0,s=0,l=new Map;for(l.set(i,s);;){let f,_;if([f,_]=this.findNextSpecialToken(t,u,o),_>u){let b,y=t.substring(u,_);for(this.regex.lastIndex=0;b=this.regex.exec(y);){let x=b[0],w=this.cache.get(x);if(w)i+=w.length,s+=x.length,a.push(...w),l.set(i,s);else{let L=this.textEncoder.encode(x),T=this.encoder.get(L);if(T!==void 0)this.cache.set(x,[T]),i++,s+=x.length,a.push(T),l.set(i,s);else{let M=(0,un.bytePairEncode)(L,this.encoder,this.textEncoder.length);this.cache.set(x,M),i+=M.length,s+=x.length;for(let v of M)a.push(v);l.set(i,s)}}}}if(f!==null){if(u=u+this.encodeSpecialToken(a,f),i++,s+=f[0].length,l.set(i,s),u>=t.length)break}else break}if(i<=r)return{tokenIds:a,text:t};let c=i-r,d=0,m=0;for(let[f,_]of l)if(f>=c){d=f,m=_;break}if(d>r){let f=this.encode(t,o),_=f.slice(f.length-r);return{tokenIds:_,text:this.decode(_)}}return{tokenIds:a.slice(d),text:t.slice(m)}}decode(t){var o,a;let r=[];for(let u of t){let i=[],s=(o=this.decoder)==null?void 0:o.get(u);if(s!==void 0)i=Array.from(s);else{let l=(a=this.specialTokensDecoder)==null?void 0:a.get(u);if(l!==void 0){let c=this.textEncoder.encode(l);i=Array.from(c.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};n(fo,"TikTokenizer");var po=fo;ln.TikTokenizer=po});var Ss=X(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.createTokenizer=re.createByEncoderName=re.createByModelName=re.getRegexByModel=re.getRegexByEncoder=re.getSpecialTokensByModel=re.getSpecialTokensByEncoder=re.MODEL_TO_ENCODING=void 0;var dn=require("fs"),go=require("path"),pc=_o(),fc=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);re.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var cn="<|endoftext|>",ps="<|fim_prefix|>",_s="<|fim_middle|>",gs="<|fim_suffix|>",hs="<|endofprompt|>",Er="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",bs="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",_c=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],ys=_c.join("|");function ho(e){let t="";if(re.MODEL_TO_ENCODING.has(e))t=re.MODEL_TO_ENCODING.get(e);else for(let[r,o]of fc)if(e.startsWith(r)){t=o;break}return t}n(ho,"getEncoderFromModelName");async function gc(e,t){let r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${r.status}`);let o=await r.text();dn.writeFileSync(t,o)}n(gc,"fetchAndSaveFile");function bo(e){let t=new Map([[cn,50256]]);switch(e){case"o200k_base":t=new Map([[cn,199999],[hs,200018]]);break;case"cl100k_base":t=new Map([[cn,100257],[ps,100258],[_s,100259],[gs,100260],[hs,100276]]);break;case"p50k_edit":t=new Map([[cn,50256],[ps,50281],[_s,50282],[gs,50283]]);break;default:break}return t}n(bo,"getSpecialTokensByEncoder");re.getSpecialTokensByEncoder=bo;function hc(e){let t=ho(e);return bo(t)}n(hc,"getSpecialTokensByModel");re.getSpecialTokensByModel=hc;function Is(e){switch(e){case"o200k_base":return ys;case"cl100k_base":return bs;default:break}return Er}n(Is,"getRegexByEncoder");re.getRegexByEncoder=Is;function bc(e){let t=ho(e);return Is(t)}n(bc,"getRegexByModel");re.getRegexByModel=bc;async function yc(e,t=null){return ws(ho(e),t)}n(yc,"createByModelName");re.createByModelName=yc;async function ws(e,t=null){let r,o,a=bo(e);switch(e){case"o200k_base":r=ys,o="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=bs,o="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=Er,o="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=Er,o="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=Er,o="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=Er,o="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(a=new Map([...a,...t]));let u=go.basename(o),i=go.resolve(__dirname,"..","model");dn.existsSync(i)||dn.mkdirSync(i,{recursive:!0});let s=go.resolve(i,u);return dn.existsSync(s)||(console.log(`Downloading file from ${o}`),await gc(o,s),console.log(`Saved file to ${s}`)),xs(s,a,r)}n(ws,"createByEncoderName");re.createByEncoderName=ws;function xs(e,t,r,o=8192){return new pc.TikTokenizer(e,t,r,o)}n(xs,"createTokenizer");re.createTokenizer=xs});var Es=X(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.createTokenizer=ne.createByEncoderName=ne.createByModelName=ne.getSpecialTokensByModel=ne.getSpecialTokensByEncoder=ne.getRegexByModel=ne.getRegexByEncoder=ne.MODEL_TO_ENCODING=ne.TikTokenizer=void 0;var Ic=_o();Object.defineProperty(ne,"TikTokenizer",{enumerable:!0,get:n(function(){return Ic.TikTokenizer},"get")});var dt=Ss();Object.defineProperty(ne,"MODEL_TO_ENCODING",{enumerable:!0,get:n(function(){return dt.MODEL_TO_ENCODING},"get")});Object.defineProperty(ne,"getRegexByEncoder",{enumerable:!0,get:n(function(){return dt.getRegexByEncoder},"get")});Object.defineProperty(ne,"getRegexByModel",{enumerable:!0,get:n(function(){return dt.getRegexByModel},"get")});Object.defineProperty(ne,"getSpecialTokensByEncoder",{enumerable:!0,get:n(function(){return dt.getSpecialTokensByEncoder},"get")});Object.defineProperty(ne,"getSpecialTokensByModel",{enumerable:!0,get:n(function(){return dt.getSpecialTokensByModel},"get")});Object.defineProperty(ne,"createByModelName",{enumerable:!0,get:n(function(){return dt.createByModelName},"get")});Object.defineProperty(ne,"createByEncoderName",{enumerable:!0,get:n(function(){return dt.createByEncoderName},"get")});Object.defineProperty(ne,"createTokenizer",{enumerable:!0,get:n(function(){return dt.createTokenizer},"get")})});var il=X((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=n((i,s)=>{throw s},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(i){return Module.locateFile?Module.locateFile(i,scriptDirectory):scriptDirectory+i}n(locateFile,"locateFile");function logExceptionOnExit(i){i instanceof ExitStatus||err("exiting due to exception: "+i)}if(n(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=n((i,s)=>(i=isFileURI(i)?new URL(i):nodePath.normalize(i),fs.readFileSync(i,s?void 0:"utf8")),"read_"),readBinary=n(i=>{var s=read_(i,!0);return s.buffer||(s=new Uint8Array(s)),s},"readBinary"),readAsync=n((i,s,l)=>{i=isFileURI(i)?new URL(i):nodePath.normalize(i),fs.readFile(i,function(c,d){c?l(c):s(d.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=n((i,s)=>{if(keepRuntimeAlive())throw process.exitCode=i,s;logExceptionOnExit(s),process.exit(i)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=n(i=>{var s=new XMLHttpRequest;return s.open("GET",i,!1),s.send(null),s.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=n(i=>{var s=new XMLHttpRequest;return s.open("GET",i,!1),s.responseType="arraybuffer",s.send(null),new Uint8Array(s.response)},"readBinary")),readAsync=n((i,s,l)=>{var c=new XMLHttpRequest;c.open("GET",i,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?s(c.response):l()},c.onerror=l,c.send(null)},"readAsync"),setWindowTitle=n(i=>document.title=i,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(i,s,l){for(var c=s+l,d=s;i[d]&&!(d>=c);)++d;if(d-s>16&&i.buffer&&UTF8Decoder)return UTF8Decoder.decode(i.subarray(s,d));for(var m="";s<d;){var f=i[s++];if(128&f){var _=63&i[s++];if((224&f)!=192){var b=63&i[s++];if((f=(240&f)==224?(15&f)<<12|_<<6|b:(7&f)<<18|_<<12|b<<6|63&i[s++])<65536)m+=String.fromCharCode(f);else{var y=f-65536;m+=String.fromCharCode(55296|y>>10,56320|1023&y)}}else m+=String.fromCharCode((31&f)<<6|_)}else m+=String.fromCharCode(f)}return m}n(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(i,s){return i?UTF8ArrayToString(HEAPU8,i,s):""}n(UTF8ToString,"UTF8ToString");function stringToUTF8Array(i,s,l,c){if(!(c>0))return 0;for(var d=l,m=l+c-1,f=0;f<i.length;++f){var _=i.charCodeAt(f);if(_>=55296&&_<=57343&&(_=65536+((1023&_)<<10)|1023&i.charCodeAt(++f)),_<=127){if(l>=m)break;s[l++]=_}else if(_<=2047){if(l+1>=m)break;s[l++]=192|_>>6,s[l++]=128|63&_}else if(_<=65535){if(l+2>=m)break;s[l++]=224|_>>12,s[l++]=128|_>>6&63,s[l++]=128|63&_}else{if(l+3>=m)break;s[l++]=240|_>>18,s[l++]=128|_>>12&63,s[l++]=128|_>>6&63,s[l++]=128|63&_}}return s[l]=0,l-d}n(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(i,s,l){return stringToUTF8Array(i,HEAPU8,s,l)}n(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(i){for(var s=0,l=0;l<i.length;++l){var c=i.charCodeAt(l);c<=127?s++:c<=2047?s+=2:c>=55296&&c<=57343?(s+=4,++l):s+=3}return s}n(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(i){buffer=i,Module.HEAP8=HEAP8=new Int8Array(i),Module.HEAP16=HEAP16=new Int16Array(i),Module.HEAP32=HEAP32=new Int32Array(i),Module.HEAPU8=HEAPU8=new Uint8Array(i),Module.HEAPU16=HEAPU16=new Uint16Array(i),Module.HEAPU32=HEAPU32=new Uint32Array(i),Module.HEAPF32=HEAPF32=new Float32Array(i),Module.HEAPF64=HEAPF64=new Float64Array(i)}n(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}n(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}n(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}n(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}n(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}n(postRun,"postRun");function addOnPreRun(i){__ATPRERUN__.unshift(i)}n(addOnPreRun,"addOnPreRun");function addOnInit(i){__ATINIT__.unshift(i)}n(addOnInit,"addOnInit");function addOnPostRun(i){__ATPOSTRUN__.unshift(i)}n(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(i){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}n(addRunDependency,"addRunDependency");function removeRunDependency(i){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var s=dependenciesFulfilled;dependenciesFulfilled=null,s()}}n(removeRunDependency,"removeRunDependency");function abort(i){throw Module.onAbort&&Module.onAbort(i),err(i="Aborted("+i+")"),ABORT=!0,EXITSTATUS=1,i+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(i)}n(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(i){return i.startsWith(dataURIPrefix)}n(isDataURI,"isDataURI");function isFileURI(i){return i.startsWith("file://")}n(isFileURI,"isFileURI");function getBinary(i){try{if(i==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(i);throw"both async and sync fetching of the wasm failed"}catch(s){abort(s)}}n(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){if(!i.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return i.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(i,s){readAsync(wasmBinaryFile,function(l){i(new Uint8Array(l))},s)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}n(getBinaryPromise,"getBinaryPromise");function createWasm(){var i={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function s(d,m){var f=d.exports;f=relocateExports(f,1024);var _=getDylinkMetadata(m);_.neededDynlibs&&(dynamicLibraries=_.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(f,"main"),Module.asm=f,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}n(s,"t");function l(d){s(d.instance,d.module)}n(l,"r");function c(d){return getBinaryPromise().then(function(m){return WebAssembly.instantiate(m,i)}).then(function(m){return m}).then(d,function(m){err("failed to asynchronously prepare wasm: "+m),abort(m)})}if(n(c,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(i,s)}catch(d){return err("Module.instantiateWasm callback failed with error: "+d),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?c(l):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(d){return WebAssembly.instantiateStreaming(d,i).then(l,function(m){return err("wasm streaming compile failed: "+m),err("falling back to ArrayBuffer instantiation"),c(l)})}),{}}n(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(i){this.name="ExitStatus",this.message="Program terminated with exit("+i+")",this.status=i}n(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:n(function(i,s){var l=GOT[s];return l||(l=GOT[s]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(s)||(l.required=!0),l},"get")};function callRuntimeCallbacks(i){for(;i.length>0;)i.shift()(Module)}n(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(i){var s=0,l=0;function c(){for(var B=0,E=1;;){var te=i[s++];if(B+=(127&te)*E,E*=128,!(128&te))break}return B}n(c,"_");function d(){var B=c();return UTF8ArrayToString(i,(s+=B)-B,B)}n(d,"n");function m(B,E){if(B)throw new Error(E)}n(m,"s");var f="dylink.0";if(i instanceof WebAssembly.Module){var _=WebAssembly.Module.customSections(i,f);_.length===0&&(f="dylink",_=WebAssembly.Module.customSections(i,f)),m(_.length===0,"need dylink section"),l=(i=new Uint8Array(_[0])).length}else{m(new Uint32Array(new Uint8Array(i.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),m(i[8]!==0,"need the dylink section to be first"),s=9;var b=c();l=s+b,f=d()}var y={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(f=="dylink"){y.memorySize=c(),y.memoryAlign=c(),y.tableSize=c(),y.tableAlign=c();for(var x=c(),w=0;w<x;++w){var L=d();y.neededDynlibs.push(L)}}else for(m(f!=="dylink.0");s<l;){var T=i[s++],M=c();if(T===1)y.memorySize=c(),y.memoryAlign=c(),y.tableSize=c(),y.tableAlign=c();else if(T===2)for(x=c(),w=0;w<x;++w)L=d(),y.neededDynlibs.push(L);else if(T===3)for(var v=c();v--;){var R=d();256&c()&&y.tlsExports.add(R)}else if(T===4)for(v=c();v--;)d(),R=d(),(3&c())==1&&y.weakImports.add(R);else s+=M}return y}n(getDylinkMetadata,"getDylinkMetadata");function getValue(i,s="i8"){switch(s.endsWith("*")&&(s="*"),s){case"i1":case"i8":return HEAP8[i>>0];case"i16":return HEAP16[i>>1];case"i32":case"i64":return HEAP32[i>>2];case"float":return HEAPF32[i>>2];case"double":return HEAPF64[i>>3];case"*":return HEAPU32[i>>2];default:abort("invalid type for getValue: "+s)}return null}n(getValue,"getValue");function asmjsMangle(i){return i.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(i)?i:"_"+i}n(asmjsMangle,"asmjsMangle");function mergeLibSymbols(i,s){for(var l in i)if(i.hasOwnProperty(l)){asmLibraryArg.hasOwnProperty(l)||(asmLibraryArg[l]=i[l]);var c=asmjsMangle(l);Module.hasOwnProperty(c)||(Module[c]=i[l]),l=="__main_argc_argv"&&(Module._main=i[l])}}n(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(i,s,l){var c=Module["dynCall_"+i];return l&&l.length?c.apply(null,[s].concat(l)):c.call(null,s)}n(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(i){var s=wasmTableMirror[i];return s||(i>=wasmTableMirror.length&&(wasmTableMirror.length=i+1),wasmTableMirror[i]=s=wasmTable.get(i)),s}n(getWasmTableEntry,"getWasmTableEntry");function dynCall(i,s,l){return i.includes("j")?dynCallLegacy(i,s,l):getWasmTableEntry(s).apply(null,l)}n(dynCall,"dynCall");function createInvokeFunction(i){return function(){var s=stackSave();try{return dynCall(i,arguments[0],Array.prototype.slice.call(arguments,1))}catch(l){if(stackRestore(s),l!==l+0)throw l;_setThrew(1,0)}}}n(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(i,s){return HEAPU8.fill(0,i,i+s),i}n(zeroMemory,"zeroMemory");function getMemory(i){if(runtimeInitialized)return zeroMemory(_malloc(i),i);var s=___heap_base,l=s+i+15&-16;return ___heap_base=l,GOT.__heap_base.value=l,s}n(getMemory,"getMemory");function isInternalSym(i){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(i)}n(isInternalSym,"isInternalSym");function uleb128Encode(i,s){i<128?s.push(i):s.push(i%128|128,i>>7)}n(uleb128Encode,"uleb128Encode");function sigToWasmTypes(i){for(var s={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},l={parameters:[],results:i[0]=="v"?[]:[s[i[0]]]},c=1;c<i.length;++c)l.parameters.push(s[i[c]]),i[c]==="j"&&l.parameters.push("i32");return l}n(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(i,s){var l=i.slice(0,1),c=i.slice(1),d={i:127,p:127,j:126,f:125,d:124};s.push(96),uleb128Encode(c.length,s);for(var m=0;m<c.length;++m)s.push(d[c[m]]);l=="v"?s.push(0):s.push(1,d[l])}n(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(i,s){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(s),i);var l=[1];generateFuncType(s,l);var c=[0,97,115,109,1,0,0,0,1];uleb128Encode(l.length,c),c.push.apply(c,l),c.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var d=new WebAssembly.Module(new Uint8Array(c));return new WebAssembly.Instance(d,{e:{f:i}}).exports.f}n(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(i,s){if(functionsInTableMap)for(var l=i;l<i+s;l++){var c=getWasmTableEntry(l);c&&functionsInTableMap.set(c,l)}}n(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(i){throw i instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":i}return wasmTable.length-1}n(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(i,s){wasmTable.set(i,s),wasmTableMirror[i]=wasmTable.get(i)}n(setWasmTableEntry,"setWasmTableEntry");function addFunction(i,s){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(i))return functionsInTableMap.get(i);var l=getEmptyTableSlot();try{setWasmTableEntry(l,i)}catch(c){if(!(c instanceof TypeError))throw c;setWasmTableEntry(l,convertJsFunctionToWasm(i,s))}return functionsInTableMap.set(i,l),l}n(addFunction,"addFunction");function updateGOT(i,s){for(var l in i)if(!isInternalSym(l)){var c=i[l];l.startsWith("orig$")&&(l=l.split("$")[1],s=!0),GOT[l]||(GOT[l]=new WebAssembly.Global({value:"i32",mutable:!0})),(s||GOT[l].value==0)&&(typeof c=="function"?GOT[l].value=addFunction(c):typeof c=="number"?GOT[l].value=c:err("unhandled export type for `"+l+"`: "+typeof c))}}n(updateGOT,"updateGOT");function relocateExports(i,s,l){var c={};for(var d in i){var m=i[d];typeof m=="object"&&(m=m.value),typeof m=="number"&&(m+=s),c[d]=m}return updateGOT(c,l),c}n(relocateExports,"relocateExports");function resolveGlobalSymbol(i,s){var l;return s&&(l=asmLibraryArg["orig$"+i]),l||(l=asmLibraryArg[i])&&l.stub&&(l=void 0),l||(l=Module[asmjsMangle(i)]),!l&&i.startsWith("invoke_")&&(l=createInvokeFunction(i.split("_")[1])),l}n(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(i,s){return Math.ceil(i/s)*s}n(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(i){var s=resolveGlobalSymbol(i,!1);return s||(s=moduleExports[i]),s}n(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:n(function(i,s){switch(s){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(s in asmLibraryArg)return asmLibraryArg[s];var l;return s in i||(i[s]=function(){return l||(l=resolveSymbol(s)),l.apply(null,arguments)}),i[s]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(n(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(n(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(i){return postInstantiation(i.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return n(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(i,s){return i.then(function(){return loadDynamicLibrary(s,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(i){loadDynamicLibrary(i,flags)}),loadModule())}n(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(i,s,l){s=s||{global:!0,nodelete:!0};var c=LDSO.loadedLibsByName[i];if(c)return s.global&&!c.global&&(c.global=!0,c.module!=="loading"&&mergeLibSymbols(c.module,i)),s.nodelete&&c.refcount!==1/0&&(c.refcount=1/0),c.refcount++,l&&(LDSO.loadedLibsByHandle[l]=c),!s.loadAsync||Promise.resolve(!0);function d(_){if(s.fs&&s.fs.findObject(_)){var b=s.fs.readFile(_,{encoding:"binary"});return b instanceof Uint8Array||(b=new Uint8Array(b)),s.loadAsync?Promise.resolve(b):b}if(_=locateFile(_),s.loadAsync)return new Promise(function(y,x){readAsync(_,w=>y(new Uint8Array(w)),x)});if(!readBinary)throw new Error(_+": file not found, and synchronous loading of external files is not available");return readBinary(_)}n(d,"n");function m(){if(typeof preloadedWasm<"u"&&preloadedWasm[i]){var _=preloadedWasm[i];return s.loadAsync?Promise.resolve(_):_}return s.loadAsync?d(i).then(function(b){return loadWebAssemblyModule(b,s,l)}):loadWebAssemblyModule(d(i),s,l)}n(m,"s");function f(_){c.global&&mergeLibSymbols(_,i),c.module=_}return n(f,"a"),c={refcount:s.nodelete?1/0:1,name:i,module:"loading",global:s.global},LDSO.loadedLibsByName[i]=c,l&&(LDSO.loadedLibsByHandle[l]=c),s.loadAsync?m().then(function(_){return f(_),!0}):(f(m()),!0)}n(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var i in GOT)if(GOT[i].value==0){var s=resolveGlobalSymbol(i,!0);if(!s&&!GOT[i].required)continue;if(typeof s=="function")GOT[i].value=addFunction(s,s.sig);else{if(typeof s!="number")throw new Error("bad export type for `"+i+"`: "+typeof s);GOT[i].value=s}}}n(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(i,s){return i.then(function(){return loadDynamicLibrary(s,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}n(preloadDylibs,"preloadDylibs");function setValue(i,s,l="i8"){switch(l.endsWith("*")&&(l="*"),l){case"i1":case"i8":HEAP8[i>>0]=s;break;case"i16":HEAP16[i>>1]=s;break;case"i32":HEAP32[i>>2]=s;break;case"i64":tempI64=[s>>>0,(tempDouble=s,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1];break;case"float":HEAPF32[i>>2]=s;break;case"double":HEAPF64[i>>3]=s;break;case"*":HEAPU32[i>>2]=s;break;default:abort("invalid type for setValue: "+l)}}n(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}n(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}n(_abort,"_abort");function _emscripten_date_now(){return Date.now()}n(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(i,s,l){HEAPU8.copyWithin(i,s,s+l)}n(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}n(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(i){try{return wasmMemory.grow(i-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}n(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(i){var s=HEAPU8.length;i>>>=0;var l=getHeapMax();if(i>l)return!1;for(var c=1;c<=4;c*=2){var d=s*(1+.2/c);if(d=Math.min(d,i+100663296),emscripten_realloc_buffer(Math.min(l,(m=Math.max(i,d))+((f=65536)-m%f)%f)))return!0}var m,f;return!1}n(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var i=process.hrtime();return 1e3*i[0]+i[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:n(function(i,s,l){if(PATH.isAbs(s))return s;var c;if(i===-100?c=FS.cwd():c=SYSCALLS.getStreamFromFD(i).path,s.length==0){if(!l)throw new FS.ErrnoError(44);return c}return PATH.join2(c,s)},"calculateAt"),doStat:n(function(i,s,l){try{var c=i(s)}catch(_){if(_&&_.node&&PATH.normalize(s)!==PATH.normalize(FS.getPath(_.node)))return-54;throw _}HEAP32[l>>2]=c.dev,HEAP32[l+8>>2]=c.ino,HEAP32[l+12>>2]=c.mode,HEAPU32[l+16>>2]=c.nlink,HEAP32[l+20>>2]=c.uid,HEAP32[l+24>>2]=c.gid,HEAP32[l+28>>2]=c.rdev,tempI64=[c.size>>>0,(tempDouble=c.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+40>>2]=tempI64[0],HEAP32[l+44>>2]=tempI64[1],HEAP32[l+48>>2]=4096,HEAP32[l+52>>2]=c.blocks;var d=c.atime.getTime(),m=c.mtime.getTime(),f=c.ctime.getTime();return tempI64=[Math.floor(d/1e3)>>>0,(tempDouble=Math.floor(d/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+56>>2]=tempI64[0],HEAP32[l+60>>2]=tempI64[1],HEAPU32[l+64>>2]=d%1e3*1e3,tempI64=[Math.floor(m/1e3)>>>0,(tempDouble=Math.floor(m/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+72>>2]=tempI64[0],HEAP32[l+76>>2]=tempI64[1],HEAPU32[l+80>>2]=m%1e3*1e3,tempI64=[Math.floor(f/1e3)>>>0,(tempDouble=Math.floor(f/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+88>>2]=tempI64[0],HEAP32[l+92>>2]=tempI64[1],HEAPU32[l+96>>2]=f%1e3*1e3,tempI64=[c.ino>>>0,(tempDouble=c.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+104>>2]=tempI64[0],HEAP32[l+108>>2]=tempI64[1],0},"doStat"),doMsync:n(function(i,s,l,c,d){if(!FS.isFile(s.node.mode))throw new FS.ErrnoError(43);if(2&c)return 0;var m=HEAPU8.slice(i,i+l);FS.msync(s,m,d,l,c)},"doMsync"),varargs:void 0,get:n(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:n(function(i){return UTF8ToString(i)},"getStr"),getStreamFromFD:n(function(i){var s=FS.getStream(i);if(!s)throw new FS.ErrnoError(8);return s},"getStreamFromFD")};function _proc_exit(i){EXITSTATUS=i,keepRuntimeAlive()||(Module.onExit&&Module.onExit(i),ABORT=!0),quit_(i,new ExitStatus(i))}n(_proc_exit,"_proc_exit");function exitJS(i,s){EXITSTATUS=i,_proc_exit(i)}n(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(i){try{var s=SYSCALLS.getStreamFromFD(i);return FS.close(s),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}n(_fd_close,"_fd_close");function convertI32PairToI53Checked(i,s){return s+2097152>>>0<4194305-!!i?(i>>>0)+4294967296*s:NaN}n(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(i,s,l,c,d){try{var m=convertI32PairToI53Checked(s,l);if(isNaN(m))return 61;var f=SYSCALLS.getStreamFromFD(i);return FS.llseek(f,m,c),tempI64=[f.position>>>0,(tempDouble=f.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[d>>2]=tempI64[0],HEAP32[d+4>>2]=tempI64[1],f.getdents&&m===0&&c===0&&(f.getdents=null),0}catch(_){if(typeof FS>"u"||!(_ instanceof FS.ErrnoError))throw _;return _.errno}}n(_fd_seek,"_fd_seek");function doWritev(i,s,l,c){for(var d=0,m=0;m<l;m++){var f=HEAPU32[s>>2],_=HEAPU32[s+4>>2];s+=8;var b=FS.write(i,HEAP8,f,_,c);if(b<0)return-1;d+=b,c!==void 0&&(c+=b)}return d}n(doWritev,"doWritev");function _fd_write(i,s,l,c){try{var d=doWritev(SYSCALLS.getStreamFromFD(i),s,l);return HEAPU32[c>>2]=d,0}catch(m){if(typeof FS>"u"||!(m instanceof FS.ErrnoError))throw m;return m.errno}}n(_fd_write,"_fd_write");function _tree_sitter_log_callback(i,s){if(currentLogCallback){let l=UTF8ToString(s);currentLogCallback(l,i!==0)}}n(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(i,s,l,c,d){var m=currentParseCallback(s,{row:l,column:c});typeof m=="string"?(setValue(d,m.length,"i32"),stringToUTF16(m,i,10240)):setValue(d,0,"i32")}n(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(i){if(i instanceof ExitStatus||i=="unwind")return EXITSTATUS;quit_(1,i)}n(handleException,"handleException");function allocateUTF8OnStack(i){var s=lengthBytesUTF8(i)+1,l=stackAlloc(s);return stringToUTF8Array(i,HEAP8,l,s),l}n(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(i,s,l){if(l===void 0&&(l=2147483647),l<2)return 0;for(var c=s,d=(l-=2)<2*i.length?l/2:i.length,m=0;m<d;++m){var f=i.charCodeAt(m);HEAP16[s>>1]=f,s+=2}return HEAP16[s>>1]=0,s-c}n(stringToUTF16,"stringToUTF16");function AsciiToString(i){for(var s="";;){var l=HEAPU8[i++>>0];if(!l)return s;s+=String.fromCharCode(l)}}n(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(i){var s=Module._main;if(s){(i=i||[]).unshift(thisProgram);var l=i.length,c=stackAlloc(4*(l+1)),d=c>>2;i.forEach(f=>{HEAP32[d++]=allocateUTF8OnStack(f)}),HEAP32[d]=0;try{var m=s(l,c);return exitJS(m,!0),m}catch(f){return handleException(f)}}}n(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=n(function i(){calledRun||run(),calledRun||(dependenciesFulfilled=i)},"e");var dylibsLoaded=!1;function run(i){function s(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(i),postRun()))}n(s,"t"),i=i||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),s()},1)):s()))}if(n(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let e=class e{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(s){let l;if(s){if(s.constructor!==Language)throw new Error("Argument must be a Language");{l=s[0];let c=C._ts_language_version(l);if(c<MIN_COMPATIBLE_VERSION||VERSION<c)throw new Error(`Incompatible language version ${c}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else l=0,s=null;return this.language=s,C._ts_parser_set_language(this[0],l),this}getLanguage(){return this.language}parse(s,l,c){if(typeof s=="string")currentParseCallback=n((b,y,x)=>s.slice(b,x),"currentParseCallback");else{if(typeof s!="function")throw new Error("Argument must be a string or a function");currentParseCallback=s}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let d=0,m=0;if(c&&c.includedRanges){d=c.includedRanges.length,m=C._calloc(d,SIZE_OF_RANGE);let b=m;for(let y=0;y<d;y++)marshalRange(b,c.includedRanges[y]),b+=SIZE_OF_RANGE}let f=C._ts_parser_parse_wasm(this[0],this[1],l?l[0]:0,m,d);if(!f)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let _=new Tree(INTERNAL,f,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,_}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(s){C._ts_parser_set_timeout_micros(this[0],s)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(s){if(s){if(typeof s!="function")throw new Error("Logger callback must be a function")}else s=null;return this.logCallback=s,this}getLogger(){return this.logCallback}};n(e,"ParserImpl");let ParserImpl=e,t=class t{constructor(s,l,c,d){assertInternal(s),this[0]=l,this.language=c,this.textCallback=d}copy(){let s=C._ts_tree_copy(this[0]);return new t(INTERNAL,s,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(s){marshalEdit(s),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(s){if(s.constructor!==t)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],s[0]);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),d=new Array(l);if(l>0){let m=c;for(let f=0;f<l;f++)d[f]=unmarshalRange(m),m+=SIZE_OF_RANGE;C._free(c)}return d}};n(t,"Tree");let Tree=t,r=class r{constructor(s,l){assertInternal(s),this.tree=l}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(s){return this.id===s.id}child(s){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],s),unmarshalNode(this.tree)}namedChild(s){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],s),unmarshalNode(this.tree)}childForFieldId(s){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],s),unmarshalNode(this.tree)}childForFieldName(s){let l=this.tree.language.fields.indexOf(s);if(l!==-1)return this.childForFieldId(l)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let s=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(s),s>0){let c=l;for(let d=0;d<s;d++)this._children[d]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(l)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let s=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(s),s>0){let c=l;for(let d=0;d<s;d++)this._namedChildren[d]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(l)}}return this._namedChildren}descendantsOfType(s,l,c){Array.isArray(s)||(s=[s]),l||(l=ZERO_POINT),c||(c=ZERO_POINT);let d=[],m=this.tree.language.types;for(let x=0,w=m.length;x<w;x++)s.includes(m[x])&&d.push(x);let f=C._malloc(SIZE_OF_INT*d.length);for(let x=0,w=d.length;x<w;x++)setValue(f+x*SIZE_OF_INT,d[x],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],f,d.length,l.row,l.column,c.row,c.column);let _=getValue(TRANSFER_BUFFER,"i32"),b=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),y=new Array(_);if(_>0){let x=b;for(let w=0;w<_;w++)y[w]=unmarshalNode(this.tree,x),x+=SIZE_OF_NODE}return C._free(b),C._free(f),y}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(s,l=s){if(typeof s!="number"||typeof l!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,s,"i32"),setValue(c+SIZE_OF_INT,l,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(s,l=s){if(typeof s!="number"||typeof l!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,s,"i32"),setValue(c+SIZE_OF_INT,l,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(s,l=s){if(!isPoint(s)||!isPoint(l))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,s),marshalPoint(c+SIZE_OF_POINT,l),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(s,l=s){if(!isPoint(s)||!isPoint(l))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,s),marshalPoint(c+SIZE_OF_POINT,l),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let s=C._ts_node_to_string_wasm(this.tree[0]),l=AsciiToString(s);return C._free(s),l}};n(r,"Node");let Node=r,o=class o{constructor(s,l){assertInternal(s),this.tree=l,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(s){marshalNode(s),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let s=C._ts_tree_cursor_start_index_wasm(this.tree[0]),l=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,s,l)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}gotoNextSibling(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}gotoParent(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}};n(o,"TreeCursor");let TreeCursor=o,a=class a{constructor(s,l){assertInternal(s),this[0]=l,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let c=0,d=this.types.length;c<d;c++)C._ts_language_symbol_type(this[0],c)<2&&(this.types[c]=UTF8ToString(C._ts_language_symbol_name(this[0],c)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let c=0,d=this.fields.length;c<d;c++){let m=C._ts_language_field_name_for_id(this[0],c);this.fields[c]=m!==0?UTF8ToString(m):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(s){let l=this.fields.indexOf(s);return l!==-1?l:null}fieldNameForId(s){return this.fields[s]||null}idForNodeType(s,l){let c=lengthBytesUTF8(s),d=C._malloc(c+1);stringToUTF8(s,d,c+1);let m=C._ts_language_symbol_for_name(this[0],d,c,l);return C._free(d),m||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(s){let l=C._ts_language_symbol_name(this[0],s);return l?UTF8ToString(l):null}nodeTypeIsNamed(s){return!!C._ts_language_type_is_named_wasm(this[0],s)}nodeTypeIsVisible(s){return!!C._ts_language_type_is_visible_wasm(this[0],s)}query(s){let l=lengthBytesUTF8(s),c=C._malloc(l+1);stringToUTF8(s,c,l+1);let d=C._ts_query_new(this[0],c,l,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!d){let v=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),R=UTF8ToString(c,getValue(TRANSFER_BUFFER,"i32")).length,B=s.substr(R,100).split(`
`)[0],E,te=B.match(QUERY_WORD_REGEX)[0];switch(v){case 2:E=new RangeError(`Bad node name '${te}'`);break;case 3:E=new RangeError(`Bad field name '${te}'`);break;case 4:E=new RangeError(`Bad capture name @${te}`);break;case 5:E=new TypeError(`Bad pattern structure at offset ${R}: '${B}'...`),te="";break;default:E=new SyntaxError(`Bad syntax at offset ${R}: '${B}'...`),te=""}throw E.index=R,E.length=te.length,C._free(c),E}let m=C._ts_query_string_count(d),f=C._ts_query_capture_count(d),_=C._ts_query_pattern_count(d),b=new Array(f),y=new Array(m);for(let v=0;v<f;v++){let R=C._ts_query_capture_name_for_id(d,v,TRANSFER_BUFFER),B=getValue(TRANSFER_BUFFER,"i32");b[v]=UTF8ToString(R,B)}for(let v=0;v<m;v++){let R=C._ts_query_string_value_for_id(d,v,TRANSFER_BUFFER),B=getValue(TRANSFER_BUFFER,"i32");y[v]=UTF8ToString(R,B)}let x=new Array(_),w=new Array(_),L=new Array(_),T=new Array(_),M=new Array(_);for(let v=0;v<_;v++){let R=C._ts_query_predicates_for_pattern(d,v,TRANSFER_BUFFER),B=getValue(TRANSFER_BUFFER,"i32");T[v]=[],M[v]=[];let E=[],te=R;for(let yr=0;yr<B;yr++){let as=getValue(te,"i32");te+=SIZE_OF_INT;let us=getValue(te,"i32");if(te+=SIZE_OF_INT,as===PREDICATE_STEP_TYPE_CAPTURE)E.push({type:"capture",name:b[us]});else if(as===PREDICATE_STEP_TYPE_STRING)E.push({type:"string",value:y[us]});else if(E.length>0){if(E[0].type!=="string")throw new Error("Predicates must begin with a literal value");let Ir=E[0].value,wr=!0;switch(Ir){case"not-eq?":wr=!1;case"eq?":if(E.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(E.length-1));if(E[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${E[1].value}"`);if(E[2].type==="capture"){let rt=E[1].name,Wt=E[2].name;M[v].push(function(eo){let Gt,to;for(let rn of eo)rn.name===rt&&(Gt=rn.node),rn.name===Wt&&(to=rn.node);return Gt===void 0||to===void 0||Gt.text===to.text===wr})}else{let rt=E[1].name,Wt=E[2].value;M[v].push(function(eo){for(let Gt of eo)if(Gt.name===rt)return Gt.node.text===Wt===wr;return!0})}break;case"not-match?":wr=!1;case"match?":if(E.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${E.length-1}.`);if(E[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${E[1].value}".`);if(E[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${E[2].value}.`);let Jl=E[1].name,Xl=new RegExp(E[2].value);M[v].push(function(rt){for(let Wt of rt)if(Wt.name===Jl)return Xl.test(Wt.node.text)===wr;return!0});break;case"set!":if(E.length<2||E.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${E.length-1}.`);if(E.some(rt=>rt.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');x[v]||(x[v]={}),x[v][E[1].value]=E[2]?E[2].value:null;break;case"is?":case"is-not?":if(E.length<2||E.length>3)throw new Error(`Wrong number of arguments to \`#${Ir}\` predicate. Expected 1 or 2. Got ${E.length-1}.`);if(E.some(rt=>rt.type!=="string"))throw new Error(`Arguments to \`#${Ir}\` predicate must be a strings.".`);let Qn=Ir==="is?"?w:L;Qn[v]||(Qn[v]={}),Qn[v][E[1].value]=E[2]?E[2].value:null;break;default:T[v].push({operator:Ir,operands:E.slice(1)})}E.length=0}}Object.freeze(x[v]),Object.freeze(w[v]),Object.freeze(L[v])}return C._free(c),new Query(INTERNAL,d,b,M,T,Object.freeze(x),Object.freeze(w),Object.freeze(L))}static load(s){let l;if(s instanceof Uint8Array)l=Promise.resolve(s);else{let d=s;if(typeof process<"u"&&process.versions&&process.versions.node){let m=require("fs");l=Promise.resolve(m.readFileSync(d))}else l=fetch(d).then(m=>m.arrayBuffer().then(f=>{if(m.ok)return new Uint8Array(f);{let _=new TextDecoder("utf-8").decode(f);throw new Error(`Language.load failed with status ${m.status}.

${_}`)}}))}let c=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return l.then(d=>c(d,{loadAsync:!0})).then(d=>{let m=Object.keys(d),f=m.find(b=>LANGUAGE_FUNCTION_REGEX.test(b)&&!b.includes("external_scanner_"));f||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(m,null,2)}`);let _=d[f]();return new a(INTERNAL,_)})}};n(a,"Language");let Language=a,u=class u{constructor(s,l,c,d,m,f,_,b){assertInternal(s),this[0]=l,this.captureNames=c,this.textPredicates=d,this.predicates=m,this.setProperties=f,this.assertedProperties=_,this.refutedProperties=b,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(s,l,c,d){l||(l=ZERO_POINT),c||(c=ZERO_POINT),d||(d={});let m=d.matchLimit;if(m===void 0)m=0;else if(typeof m!="number")throw new Error("Arguments must be numbers");marshalNode(s),C._ts_query_matches_wasm(this[0],s.tree[0],l.row,l.column,c.row,c.column,m);let f=getValue(TRANSFER_BUFFER,"i32"),_=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),b=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),y=new Array(f);this.exceededMatchLimit=!!b;let x=0,w=_;for(let L=0;L<f;L++){let T=getValue(w,"i32");w+=SIZE_OF_INT;let M=getValue(w,"i32");w+=SIZE_OF_INT;let v=new Array(M);if(w=unmarshalCaptures(this,s.tree,w,v),this.textPredicates[T].every(R=>R(v))){y[x++]={pattern:T,captures:v};let R=this.setProperties[T];R&&(y[L].setProperties=R);let B=this.assertedProperties[T];B&&(y[L].assertedProperties=B);let E=this.refutedProperties[T];E&&(y[L].refutedProperties=E)}}return y.length=x,C._free(_),y}captures(s,l,c,d){l||(l=ZERO_POINT),c||(c=ZERO_POINT),d||(d={});let m=d.matchLimit;if(m===void 0)m=0;else if(typeof m!="number")throw new Error("Arguments must be numbers");marshalNode(s),C._ts_query_captures_wasm(this[0],s.tree[0],l.row,l.column,c.row,c.column,m);let f=getValue(TRANSFER_BUFFER,"i32"),_=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),b=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),y=[];this.exceededMatchLimit=!!b;let x=[],w=_;for(let L=0;L<f;L++){let T=getValue(w,"i32");w+=SIZE_OF_INT;let M=getValue(w,"i32");w+=SIZE_OF_INT;let v=getValue(w,"i32");if(w+=SIZE_OF_INT,x.length=M,w=unmarshalCaptures(this,s.tree,w,x),this.textPredicates[T].every(R=>R(x))){let R=x[v],B=this.setProperties[T];B&&(R.setProperties=B);let E=this.assertedProperties[T];E&&(R.assertedProperties=E);let te=this.refutedProperties[T];te&&(R.refutedProperties=te),y.push(R)}}return C._free(_),y}predicatesForPattern(s){return this.predicates[s]}didExceedMatchLimit(){return this.exceededMatchLimit}};n(u,"Query");let Query=u;function getText(i,s,l){let c=l-s,d=i.textCallback(s,null,l);for(s+=d.length;s<l;){let m=i.textCallback(s,null,l);if(!(m&&m.length>0))break;s+=m.length,d+=m}return s>l&&(d=d.slice(0,c)),d}n(getText,"getText");function unmarshalCaptures(i,s,l,c){for(let d=0,m=c.length;d<m;d++){let f=getValue(l,"i32"),_=unmarshalNode(s,l+=SIZE_OF_INT);l+=SIZE_OF_NODE,c[d]={name:i.captureNames[f],node:_}}return l}n(unmarshalCaptures,"unmarshalCaptures");function assertInternal(i){if(i!==INTERNAL)throw new Error("Illegal constructor")}n(assertInternal,"assertInternal");function isPoint(i){return i&&typeof i.row=="number"&&typeof i.column=="number"}n(isPoint,"isPoint");function marshalNode(i){let s=TRANSFER_BUFFER;setValue(s,i.id,"i32"),s+=SIZE_OF_INT,setValue(s,i.startIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.startPosition.row,"i32"),s+=SIZE_OF_INT,setValue(s,i.startPosition.column,"i32"),s+=SIZE_OF_INT,setValue(s,i[0],"i32")}n(marshalNode,"marshalNode");function unmarshalNode(i,s=TRANSFER_BUFFER){let l=getValue(s,"i32");if(l===0)return null;let c=getValue(s+=SIZE_OF_INT,"i32"),d=getValue(s+=SIZE_OF_INT,"i32"),m=getValue(s+=SIZE_OF_INT,"i32"),f=getValue(s+=SIZE_OF_INT,"i32"),_=new Node(INTERNAL,i);return _.id=l,_.startIndex=c,_.startPosition={row:d,column:m},_[0]=f,_}n(unmarshalNode,"unmarshalNode");function marshalTreeCursor(i,s=TRANSFER_BUFFER){setValue(s+0*SIZE_OF_INT,i[0],"i32"),setValue(s+1*SIZE_OF_INT,i[1],"i32"),setValue(s+2*SIZE_OF_INT,i[2],"i32")}n(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(i){i[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),i[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),i[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}n(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(i,s){setValue(i,s.row,"i32"),setValue(i+SIZE_OF_INT,s.column,"i32")}n(marshalPoint,"marshalPoint");function unmarshalPoint(i){return{row:getValue(i,"i32"),column:getValue(i+SIZE_OF_INT,"i32")}}n(unmarshalPoint,"unmarshalPoint");function marshalRange(i,s){marshalPoint(i,s.startPosition),marshalPoint(i+=SIZE_OF_POINT,s.endPosition),setValue(i+=SIZE_OF_POINT,s.startIndex,"i32"),setValue(i+=SIZE_OF_INT,s.endIndex,"i32"),i+=SIZE_OF_INT}n(marshalRange,"marshalRange");function unmarshalRange(i){let s={};return s.startPosition=unmarshalPoint(i),i+=SIZE_OF_POINT,s.endPosition=unmarshalPoint(i),i+=SIZE_OF_POINT,s.startIndex=getValue(i,"i32"),i+=SIZE_OF_INT,s.endIndex=getValue(i,"i32"),s}n(unmarshalRange,"unmarshalRange");function marshalEdit(i){let s=TRANSFER_BUFFER;marshalPoint(s,i.startPosition),s+=SIZE_OF_POINT,marshalPoint(s,i.oldEndPosition),s+=SIZE_OF_POINT,marshalPoint(s,i.newEndPosition),s+=SIZE_OF_POINT,setValue(s,i.startIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.oldEndIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.newEndIndex,"i32"),s+=SIZE_OF_INT}n(marshalEdit,"marshalEdit");for(let i of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,i,{value:ParserImpl.prototype[i],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};n(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var _l=X(Ui=>{var fl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Ui.encode=function(e){if(0<=e&&e<fl.length)return fl[e];throw new TypeError("Must be between 0 and 63: "+e)};Ui.decode=function(e){var t=65,r=90,o=97,a=122,u=48,i=57,s=43,l=47,c=26,d=52;return t<=e&&e<=r?e-t:o<=e&&e<=a?e-o+c:u<=e&&e<=i?e-u+d:e==s?62:e==l?63:-1}});var ji=X(Di=>{var gl=_l(),Bi=5,hl=1<<Bi,bl=hl-1,yl=hl;function v_(e){return e<0?(-e<<1)+1:(e<<1)+0}n(v_,"toVLQSigned");function M_(e){var t=(e&1)===1,r=e>>1;return t?-r:r}n(M_,"fromVLQSigned");Di.encode=n(function(t){var r="",o,a=v_(t);do o=a&bl,a>>>=Bi,a>0&&(o|=yl),r+=gl.encode(o);while(a>0);return r},"base64VLQ_encode");Di.decode=n(function(t,r,o){var a=t.length,u=0,i=0,s,l;do{if(r>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(l=gl.decode(t.charCodeAt(r++)),l===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));s=!!(l&yl),l&=bl,u=u+(l<<i),i+=Bi}while(s);o.value=M_(u),o.rest=r},"base64VLQ_decode")});var gr=X(he=>{function L_(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}n(L_,"getArg");he.getArg=L_;var Il=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,P_=/^data:.+\,.+$/;function Jr(e){var t=e.match(Il);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}n(Jr,"urlParse");he.urlParse=Jr;function fr(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}n(fr,"urlGenerate");he.urlGenerate=fr;function Ki(e){var t=e,r=Jr(e);if(r){if(!r.path)return e;t=r.path}for(var o=he.isAbsolute(t),a=t.split(/\/+/),u,i=0,s=a.length-1;s>=0;s--)u=a[s],u==="."?a.splice(s,1):u===".."?i++:i>0&&(u===""?(a.splice(s+1,i),i=0):(a.splice(s,2),i--));return t=a.join("/"),t===""&&(t=o?"/":"."),r?(r.path=t,fr(r)):t}n(Ki,"normalize");he.normalize=Ki;function wl(e,t){e===""&&(e="."),t===""&&(t=".");var r=Jr(t),o=Jr(e);if(o&&(e=o.path||"/"),r&&!r.scheme)return o&&(r.scheme=o.scheme),fr(r);if(r||t.match(P_))return t;if(o&&!o.host&&!o.path)return o.host=t,fr(o);var a=t.charAt(0)==="/"?t:Ki(e.replace(/\/+$/,"")+"/"+t);return o?(o.path=a,fr(o)):a}n(wl,"join");he.join=wl;he.isAbsolute=function(e){return e.charAt(0)==="/"||Il.test(e)};function N_(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var o=e.lastIndexOf("/");if(o<0||(e=e.slice(0,o),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}n(N_,"relative");he.relative=N_;var xl=function(){var e=Object.create(null);return!("__proto__"in e)}();function Sl(e){return e}n(Sl,"identity");function F_(e){return El(e)?"$"+e:e}n(F_,"toSetString");he.toSetString=xl?Sl:F_;function k_(e){return El(e)?e.slice(1):e}n(k_,"fromSetString");he.fromSetString=xl?Sl:k_;function El(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}n(El,"isProtoString");function O_(e,t,r){var o=_r(e.source,t.source);return o!==0||(o=e.originalLine-t.originalLine,o!==0)||(o=e.originalColumn-t.originalColumn,o!==0||r)||(o=e.generatedColumn-t.generatedColumn,o!==0)||(o=e.generatedLine-t.generatedLine,o!==0)?o:_r(e.name,t.name)}n(O_,"compareByOriginalPositions");he.compareByOriginalPositions=O_;function A_(e,t,r){var o=e.generatedLine-t.generatedLine;return o!==0||(o=e.generatedColumn-t.generatedColumn,o!==0||r)||(o=_r(e.source,t.source),o!==0)||(o=e.originalLine-t.originalLine,o!==0)||(o=e.originalColumn-t.originalColumn,o!==0)?o:_r(e.name,t.name)}n(A_,"compareByGeneratedPositionsDeflated");he.compareByGeneratedPositionsDeflated=A_;function _r(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}n(_r,"strcmp");function R_(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=_r(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:_r(e.name,t.name)}n(R_,"compareByGeneratedPositionsInflated");he.compareByGeneratedPositionsInflated=R_;function C_(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}n(C_,"parseSourceMapInput");he.parseSourceMapInput=C_;function U_(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var o=Jr(r);if(!o)throw new Error("sourceMapURL could not be parsed");if(o.path){var a=o.path.lastIndexOf("/");a>=0&&(o.path=o.path.substring(0,a+1))}t=wl(fr(o),t)}return Ki(t)}n(U_,"computeSourceURL");he.computeSourceURL=U_});var Gi=X(Tl=>{var Vi=gr(),Wi=Object.prototype.hasOwnProperty,Dt=typeof Map<"u";function lt(){this._array=[],this._set=Dt?new Map:Object.create(null)}n(lt,"ArraySet");lt.fromArray=n(function(t,r){for(var o=new lt,a=0,u=t.length;a<u;a++)o.add(t[a],r);return o},"ArraySet_fromArray");lt.prototype.size=n(function(){return Dt?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");lt.prototype.add=n(function(t,r){var o=Dt?t:Vi.toSetString(t),a=Dt?this.has(t):Wi.call(this._set,o),u=this._array.length;(!a||r)&&this._array.push(t),a||(Dt?this._set.set(t,u):this._set[o]=u)},"ArraySet_add");lt.prototype.has=n(function(t){if(Dt)return this._set.has(t);var r=Vi.toSetString(t);return Wi.call(this._set,r)},"ArraySet_has");lt.prototype.indexOf=n(function(t){if(Dt){var r=this._set.get(t);if(r>=0)return r}else{var o=Vi.toSetString(t);if(Wi.call(this._set,o))return this._set[o]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");lt.prototype.at=n(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");lt.prototype.toArray=n(function(){return this._array.slice()},"ArraySet_toArray");Tl.ArraySet=lt});var Ll=X(Ml=>{var vl=gr();function B_(e,t){var r=e.generatedLine,o=t.generatedLine,a=e.generatedColumn,u=t.generatedColumn;return o>r||o==r&&u>=a||vl.compareByGeneratedPositionsInflated(e,t)<=0}n(B_,"generatedPositionAfter");function zn(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}n(zn,"MappingList");zn.prototype.unsortedForEach=n(function(t,r){this._array.forEach(t,r)},"MappingList_forEach");zn.prototype.add=n(function(t){B_(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");zn.prototype.toArray=n(function(){return this._sorted||(this._array.sort(vl.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");Ml.MappingList=zn});var $i=X(Pl=>{var Xr=ji(),se=gr(),Hn=Gi().ArraySet,D_=Ll().MappingList;function Be(e){e||(e={}),this._file=se.getArg(e,"file",null),this._sourceRoot=se.getArg(e,"sourceRoot",null),this._skipValidation=se.getArg(e,"skipValidation",!1),this._sources=new Hn,this._names=new Hn,this._mappings=new D_,this._sourcesContents=null}n(Be,"SourceMapGenerator");Be.prototype._version=3;Be.fromSourceMap=n(function(t){var r=t.sourceRoot,o=new Be({file:t.file,sourceRoot:r});return t.eachMapping(function(a){var u={generated:{line:a.generatedLine,column:a.generatedColumn}};a.source!=null&&(u.source=a.source,r!=null&&(u.source=se.relative(r,u.source)),u.original={line:a.originalLine,column:a.originalColumn},a.name!=null&&(u.name=a.name)),o.addMapping(u)}),t.sources.forEach(function(a){var u=a;r!==null&&(u=se.relative(r,a)),o._sources.has(u)||o._sources.add(u);var i=t.sourceContentFor(a);i!=null&&o.setSourceContent(a,i)}),o},"SourceMapGenerator_fromSourceMap");Be.prototype.addMapping=n(function(t){var r=se.getArg(t,"generated"),o=se.getArg(t,"original",null),a=se.getArg(t,"source",null),u=se.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,o,a,u),a!=null&&(a=String(a),this._sources.has(a)||this._sources.add(a)),u!=null&&(u=String(u),this._names.has(u)||this._names.add(u)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:o!=null&&o.line,originalColumn:o!=null&&o.column,source:a,name:u})},"SourceMapGenerator_addMapping");Be.prototype.setSourceContent=n(function(t,r){var o=t;this._sourceRoot!=null&&(o=se.relative(this._sourceRoot,o)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[se.toSetString(o)]=r):this._sourcesContents&&(delete this._sourcesContents[se.toSetString(o)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");Be.prototype.applySourceMap=n(function(t,r,o){var a=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);a=t.file}var u=this._sourceRoot;u!=null&&(a=se.relative(u,a));var i=new Hn,s=new Hn;this._mappings.unsortedForEach(function(l){if(l.source===a&&l.originalLine!=null){var c=t.originalPositionFor({line:l.originalLine,column:l.originalColumn});c.source!=null&&(l.source=c.source,o!=null&&(l.source=se.join(o,l.source)),u!=null&&(l.source=se.relative(u,l.source)),l.originalLine=c.line,l.originalColumn=c.column,c.name!=null&&(l.name=c.name))}var d=l.source;d!=null&&!i.has(d)&&i.add(d);var m=l.name;m!=null&&!s.has(m)&&s.add(m)},this),this._sources=i,this._names=s,t.sources.forEach(function(l){var c=t.sourceContentFor(l);c!=null&&(o!=null&&(l=se.join(o,l)),u!=null&&(l=se.relative(u,l)),this.setSourceContent(l,c))},this)},"SourceMapGenerator_applySourceMap");Be.prototype._validateMapping=n(function(t,r,o,a){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!o&&!a)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&o)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:o,original:r,name:a}))}},"SourceMapGenerator_validateMapping");Be.prototype._serializeMappings=n(function(){for(var t=0,r=1,o=0,a=0,u=0,i=0,s="",l,c,d,m,f=this._mappings.toArray(),_=0,b=f.length;_<b;_++){if(c=f[_],l="",c.generatedLine!==r)for(t=0;c.generatedLine!==r;)l+=";",r++;else if(_>0){if(!se.compareByGeneratedPositionsInflated(c,f[_-1]))continue;l+=","}l+=Xr.encode(c.generatedColumn-t),t=c.generatedColumn,c.source!=null&&(m=this._sources.indexOf(c.source),l+=Xr.encode(m-i),i=m,l+=Xr.encode(c.originalLine-1-a),a=c.originalLine-1,l+=Xr.encode(c.originalColumn-o),o=c.originalColumn,c.name!=null&&(d=this._names.indexOf(c.name),l+=Xr.encode(d-u),u=d)),s+=l}return s},"SourceMapGenerator_serializeMappings");Be.prototype._generateSourcesContent=n(function(t,r){return t.map(function(o){if(!this._sourcesContents)return null;r!=null&&(o=se.relative(r,o));var a=se.toSetString(o);return Object.prototype.hasOwnProperty.call(this._sourcesContents,a)?this._sourcesContents[a]:null},this)},"SourceMapGenerator_generateSourcesContent");Be.prototype.toJSON=n(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");Be.prototype.toString=n(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");Pl.SourceMapGenerator=Be});var Nl=X(jt=>{jt.GREATEST_LOWER_BOUND=1;jt.LEAST_UPPER_BOUND=2;function zi(e,t,r,o,a,u){var i=Math.floor((t-e)/2)+e,s=a(r,o[i],!0);return s===0?i:s>0?t-i>1?zi(i,t,r,o,a,u):u==jt.LEAST_UPPER_BOUND?t<o.length?t:-1:i:i-e>1?zi(e,i,r,o,a,u):u==jt.LEAST_UPPER_BOUND?i:e<0?-1:e}n(zi,"recursiveSearch");jt.search=n(function(t,r,o,a){if(r.length===0)return-1;var u=zi(-1,r.length,t,r,o,a||jt.GREATEST_LOWER_BOUND);if(u<0)return-1;for(;u-1>=0&&o(r[u],r[u-1],!0)===0;)--u;return u},"search")});var kl=X(Fl=>{function Hi(e,t,r){var o=e[t];e[t]=e[r],e[r]=o}n(Hi,"swap");function j_(e,t){return Math.round(e+Math.random()*(t-e))}n(j_,"randomIntInRange");function qi(e,t,r,o){if(r<o){var a=j_(r,o),u=r-1;Hi(e,a,o);for(var i=e[o],s=r;s<o;s++)t(e[s],i)<=0&&(u+=1,Hi(e,u,s));Hi(e,u+1,s);var l=u+1;qi(e,t,r,l-1),qi(e,t,l+1,o)}}n(qi,"doQuickSort");Fl.quickSort=function(e,t){qi(e,t,0,e.length-1)}});var Al=X(qn=>{var S=gr(),Zi=Nl(),hr=Gi().ArraySet,K_=ji(),Yr=kl().quickSort;function q(e,t){var r=e;return typeof e=="string"&&(r=S.parseSourceMapInput(e)),r.sections!=null?new He(r,t):new pe(r,t)}n(q,"SourceMapConsumer");q.fromSourceMap=function(e,t){return pe.fromSourceMap(e,t)};q.prototype._version=3;q.prototype.__generatedMappings=null;Object.defineProperty(q.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:n(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});q.prototype.__originalMappings=null;Object.defineProperty(q.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:n(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});q.prototype._charIsMappingSeparator=n(function(t,r){var o=t.charAt(r);return o===";"||o===","},"SourceMapConsumer_charIsMappingSeparator");q.prototype._parseMappings=n(function(t,r){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");q.GENERATED_ORDER=1;q.ORIGINAL_ORDER=2;q.GREATEST_LOWER_BOUND=1;q.LEAST_UPPER_BOUND=2;q.prototype.eachMapping=n(function(t,r,o){var a=r||null,u=o||q.GENERATED_ORDER,i;switch(u){case q.GENERATED_ORDER:i=this._generatedMappings;break;case q.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;i.map(function(l){var c=l.source===null?null:this._sources.at(l.source);return c=S.computeSourceURL(s,c,this._sourceMapURL),{source:c,generatedLine:l.generatedLine,generatedColumn:l.generatedColumn,originalLine:l.originalLine,originalColumn:l.originalColumn,name:l.name===null?null:this._names.at(l.name)}},this).forEach(t,a)},"SourceMapConsumer_eachMapping");q.prototype.allGeneratedPositionsFor=n(function(t){var r=S.getArg(t,"line"),o={source:S.getArg(t,"source"),originalLine:r,originalColumn:S.getArg(t,"column",0)};if(o.source=this._findSourceIndex(o.source),o.source<0)return[];var a=[],u=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",S.compareByOriginalPositions,Zi.LEAST_UPPER_BOUND);if(u>=0){var i=this._originalMappings[u];if(t.column===void 0)for(var s=i.originalLine;i&&i.originalLine===s;)a.push({line:S.getArg(i,"generatedLine",null),column:S.getArg(i,"generatedColumn",null),lastColumn:S.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++u];else for(var l=i.originalColumn;i&&i.originalLine===r&&i.originalColumn==l;)a.push({line:S.getArg(i,"generatedLine",null),column:S.getArg(i,"generatedColumn",null),lastColumn:S.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++u]}return a},"SourceMapConsumer_allGeneratedPositionsFor");qn.SourceMapConsumer=q;function pe(e,t){var r=e;typeof e=="string"&&(r=S.parseSourceMapInput(e));var o=S.getArg(r,"version"),a=S.getArg(r,"sources"),u=S.getArg(r,"names",[]),i=S.getArg(r,"sourceRoot",null),s=S.getArg(r,"sourcesContent",null),l=S.getArg(r,"mappings"),c=S.getArg(r,"file",null);if(o!=this._version)throw new Error("Unsupported version: "+o);i&&(i=S.normalize(i)),a=a.map(String).map(S.normalize).map(function(d){return i&&S.isAbsolute(i)&&S.isAbsolute(d)?S.relative(i,d):d}),this._names=hr.fromArray(u.map(String),!0),this._sources=hr.fromArray(a,!0),this._absoluteSources=this._sources.toArray().map(function(d){return S.computeSourceURL(i,d,t)}),this.sourceRoot=i,this.sourcesContent=s,this._mappings=l,this._sourceMapURL=t,this.file=c}n(pe,"BasicSourceMapConsumer");pe.prototype=Object.create(q.prototype);pe.prototype.consumer=q;pe.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=S.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};pe.fromSourceMap=n(function(t,r){var o=Object.create(pe.prototype),a=o._names=hr.fromArray(t._names.toArray(),!0),u=o._sources=hr.fromArray(t._sources.toArray(),!0);o.sourceRoot=t._sourceRoot,o.sourcesContent=t._generateSourcesContent(o._sources.toArray(),o.sourceRoot),o.file=t._file,o._sourceMapURL=r,o._absoluteSources=o._sources.toArray().map(function(_){return S.computeSourceURL(o.sourceRoot,_,r)});for(var i=t._mappings.toArray().slice(),s=o.__generatedMappings=[],l=o.__originalMappings=[],c=0,d=i.length;c<d;c++){var m=i[c],f=new Ol;f.generatedLine=m.generatedLine,f.generatedColumn=m.generatedColumn,m.source&&(f.source=u.indexOf(m.source),f.originalLine=m.originalLine,f.originalColumn=m.originalColumn,m.name&&(f.name=a.indexOf(m.name)),l.push(f)),s.push(f)}return Yr(o.__originalMappings,S.compareByOriginalPositions),o},"SourceMapConsumer_fromSourceMap");pe.prototype._version=3;Object.defineProperty(pe.prototype,"sources",{get:n(function(){return this._absoluteSources.slice()},"get")});function Ol(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}n(Ol,"Mapping");pe.prototype._parseMappings=n(function(t,r){for(var o=1,a=0,u=0,i=0,s=0,l=0,c=t.length,d=0,m={},f={},_=[],b=[],y,x,w,L,T;d<c;)if(t.charAt(d)===";")o++,d++,a=0;else if(t.charAt(d)===",")d++;else{for(y=new Ol,y.generatedLine=o,L=d;L<c&&!this._charIsMappingSeparator(t,L);L++);if(x=t.slice(d,L),w=m[x],w)d+=x.length;else{for(w=[];d<L;)K_.decode(t,d,f),T=f.value,d=f.rest,w.push(T);if(w.length===2)throw new Error("Found a source, but no line and column");if(w.length===3)throw new Error("Found a source and line, but no column");m[x]=w}y.generatedColumn=a+w[0],a=y.generatedColumn,w.length>1&&(y.source=s+w[1],s+=w[1],y.originalLine=u+w[2],u=y.originalLine,y.originalLine+=1,y.originalColumn=i+w[3],i=y.originalColumn,w.length>4&&(y.name=l+w[4],l+=w[4])),b.push(y),typeof y.originalLine=="number"&&_.push(y)}Yr(b,S.compareByGeneratedPositionsDeflated),this.__generatedMappings=b,Yr(_,S.compareByOriginalPositions),this.__originalMappings=_},"SourceMapConsumer_parseMappings");pe.prototype._findMapping=n(function(t,r,o,a,u,i){if(t[o]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[o]);if(t[a]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[a]);return Zi.search(t,r,u,i)},"SourceMapConsumer_findMapping");pe.prototype.computeColumnSpans=n(function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var o=this._generatedMappings[t+1];if(r.generatedLine===o.generatedLine){r.lastGeneratedColumn=o.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");pe.prototype.originalPositionFor=n(function(t){var r={generatedLine:S.getArg(t,"line"),generatedColumn:S.getArg(t,"column")},o=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",S.compareByGeneratedPositionsDeflated,S.getArg(t,"bias",q.GREATEST_LOWER_BOUND));if(o>=0){var a=this._generatedMappings[o];if(a.generatedLine===r.generatedLine){var u=S.getArg(a,"source",null);u!==null&&(u=this._sources.at(u),u=S.computeSourceURL(this.sourceRoot,u,this._sourceMapURL));var i=S.getArg(a,"name",null);return i!==null&&(i=this._names.at(i)),{source:u,line:S.getArg(a,"originalLine",null),column:S.getArg(a,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");pe.prototype.hasContentsOfAllSources=n(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");pe.prototype.sourceContentFor=n(function(t,r){if(!this.sourcesContent)return null;var o=this._findSourceIndex(t);if(o>=0)return this.sourcesContent[o];var a=t;this.sourceRoot!=null&&(a=S.relative(this.sourceRoot,a));var u;if(this.sourceRoot!=null&&(u=S.urlParse(this.sourceRoot))){var i=a.replace(/^file:\/\//,"");if(u.scheme=="file"&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!u.path||u.path=="/")&&this._sources.has("/"+a))return this.sourcesContent[this._sources.indexOf("/"+a)]}if(r)return null;throw new Error('"'+a+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");pe.prototype.generatedPositionFor=n(function(t){var r=S.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var o={source:r,originalLine:S.getArg(t,"line"),originalColumn:S.getArg(t,"column")},a=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",S.compareByOriginalPositions,S.getArg(t,"bias",q.GREATEST_LOWER_BOUND));if(a>=0){var u=this._originalMappings[a];if(u.source===o.source)return{line:S.getArg(u,"generatedLine",null),column:S.getArg(u,"generatedColumn",null),lastColumn:S.getArg(u,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");qn.BasicSourceMapConsumer=pe;function He(e,t){var r=e;typeof e=="string"&&(r=S.parseSourceMapInput(e));var o=S.getArg(r,"version"),a=S.getArg(r,"sections");if(o!=this._version)throw new Error("Unsupported version: "+o);this._sources=new hr,this._names=new hr;var u={line:-1,column:0};this._sections=a.map(function(i){if(i.url)throw new Error("Support for url field in sections not implemented.");var s=S.getArg(i,"offset"),l=S.getArg(s,"line"),c=S.getArg(s,"column");if(l<u.line||l===u.line&&c<u.column)throw new Error("Section offsets must be ordered and non-overlapping.");return u=s,{generatedOffset:{generatedLine:l+1,generatedColumn:c+1},consumer:new q(S.getArg(i,"map"),t)}})}n(He,"IndexedSourceMapConsumer");He.prototype=Object.create(q.prototype);He.prototype.constructor=q;He.prototype._version=3;Object.defineProperty(He.prototype,"sources",{get:n(function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e},"get")});He.prototype.originalPositionFor=n(function(t){var r={generatedLine:S.getArg(t,"line"),generatedColumn:S.getArg(t,"column")},o=Zi.search(r,this._sections,function(u,i){var s=u.generatedLine-i.generatedOffset.generatedLine;return s||u.generatedColumn-i.generatedOffset.generatedColumn}),a=this._sections[o];return a?a.consumer.originalPositionFor({line:r.generatedLine-(a.generatedOffset.generatedLine-1),column:r.generatedColumn-(a.generatedOffset.generatedLine===r.generatedLine?a.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");He.prototype.hasContentsOfAllSources=n(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");He.prototype.sourceContentFor=n(function(t,r){for(var o=0;o<this._sections.length;o++){var a=this._sections[o],u=a.consumer.sourceContentFor(t,!0);if(u)return u}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");He.prototype.generatedPositionFor=n(function(t){for(var r=0;r<this._sections.length;r++){var o=this._sections[r];if(o.consumer._findSourceIndex(S.getArg(t,"source"))!==-1){var a=o.consumer.generatedPositionFor(t);if(a){var u={line:a.line+(o.generatedOffset.generatedLine-1),column:a.column+(o.generatedOffset.generatedLine===a.line?o.generatedOffset.generatedColumn-1:0)};return u}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");He.prototype._parseMappings=n(function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var o=0;o<this._sections.length;o++)for(var a=this._sections[o],u=a.consumer._generatedMappings,i=0;i<u.length;i++){var s=u[i],l=a.consumer._sources.at(s.source);l=S.computeSourceURL(a.consumer.sourceRoot,l,this._sourceMapURL),this._sources.add(l),l=this._sources.indexOf(l);var c=null;s.name&&(c=a.consumer._names.at(s.name),this._names.add(c),c=this._names.indexOf(c));var d={source:l,generatedLine:s.generatedLine+(a.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(a.generatedOffset.generatedLine===s.generatedLine?a.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:c};this.__generatedMappings.push(d),typeof d.originalLine=="number"&&this.__originalMappings.push(d)}Yr(this.__generatedMappings,S.compareByGeneratedPositionsDeflated),Yr(this.__originalMappings,S.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");qn.IndexedSourceMapConsumer=He});var Cl=X(Rl=>{var V_=$i().SourceMapGenerator,Zn=gr(),W_=/(\r?\n)/,G_=10,br="$$$isSourceNode$$$";function Ne(e,t,r,o,a){this.children=[],this.sourceContents={},this.line=e==null?null:e,this.column=t==null?null:t,this.source=r==null?null:r,this.name=a==null?null:a,this[br]=!0,o!=null&&this.add(o)}n(Ne,"SourceNode");Ne.fromStringWithSourceMap=n(function(t,r,o){var a=new Ne,u=t.split(W_),i=0,s=n(function(){var f=b(),_=b()||"";return f+_;function b(){return i<u.length?u[i++]:void 0}},"shiftNextLine"),l=1,c=0,d=null;return r.eachMapping(function(f){if(d!==null)if(l<f.generatedLine)m(d,s()),l++,c=0;else{var _=u[i]||"",b=_.substr(0,f.generatedColumn-c);u[i]=_.substr(f.generatedColumn-c),c=f.generatedColumn,m(d,b),d=f;return}for(;l<f.generatedLine;)a.add(s()),l++;if(c<f.generatedColumn){var _=u[i]||"";a.add(_.substr(0,f.generatedColumn)),u[i]=_.substr(f.generatedColumn),c=f.generatedColumn}d=f},this),i<u.length&&(d&&m(d,s()),a.add(u.splice(i).join(""))),r.sources.forEach(function(f){var _=r.sourceContentFor(f);_!=null&&(o!=null&&(f=Zn.join(o,f)),a.setSourceContent(f,_))}),a;function m(f,_){if(f===null||f.source===void 0)a.add(_);else{var b=o?Zn.join(o,f.source):f.source;a.add(new Ne(f.originalLine,f.originalColumn,b,_,f.name))}}n(m,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");Ne.prototype.add=n(function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[br]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");Ne.prototype.prepend=n(function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[br]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");Ne.prototype.walk=n(function(t){for(var r,o=0,a=this.children.length;o<a;o++)r=this.children[o],r[br]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");Ne.prototype.join=n(function(t){var r,o,a=this.children.length;if(a>0){for(r=[],o=0;o<a-1;o++)r.push(this.children[o]),r.push(t);r.push(this.children[o]),this.children=r}return this},"SourceNode_join");Ne.prototype.replaceRight=n(function(t,r){var o=this.children[this.children.length-1];return o[br]?o.replaceRight(t,r):typeof o=="string"?this.children[this.children.length-1]=o.replace(t,r):this.children.push("".replace(t,r)),this},"SourceNode_replaceRight");Ne.prototype.setSourceContent=n(function(t,r){this.sourceContents[Zn.toSetString(t)]=r},"SourceNode_setSourceContent");Ne.prototype.walkSourceContents=n(function(t){for(var r=0,o=this.children.length;r<o;r++)this.children[r][br]&&this.children[r].walkSourceContents(t);for(var a=Object.keys(this.sourceContents),r=0,o=a.length;r<o;r++)t(Zn.fromSetString(a[r]),this.sourceContents[a[r]])},"SourceNode_walkSourceContents");Ne.prototype.toString=n(function(){var t="";return this.walk(function(r){t+=r}),t},"SourceNode_toString");Ne.prototype.toStringWithSourceMap=n(function(t){var r={code:"",line:1,column:0},o=new V_(t),a=!1,u=null,i=null,s=null,l=null;return this.walk(function(c,d){r.code+=c,d.source!==null&&d.line!==null&&d.column!==null?((u!==d.source||i!==d.line||s!==d.column||l!==d.name)&&o.addMapping({source:d.source,original:{line:d.line,column:d.column},generated:{line:r.line,column:r.column},name:d.name}),u=d.source,i=d.line,s=d.column,l=d.name,a=!0):a&&(o.addMapping({generated:{line:r.line,column:r.column}}),u=null,a=!1);for(var m=0,f=c.length;m<f;m++)c.charCodeAt(m)===G_?(r.line++,r.column=0,m+1===f?(u=null,a=!1):a&&o.addMapping({source:d.source,original:{line:d.line,column:d.column},generated:{line:r.line,column:r.column},name:d.name})):r.column++}),this.walkSourceContents(function(c,d){o.setSourceContent(c,d)}),{code:r.code,map:o}},"SourceNode_toStringWithSourceMap");Rl.SourceNode=Ne});var Ul=X(Jn=>{Jn.SourceMapGenerator=$i().SourceMapGenerator;Jn.SourceMapConsumer=Al().SourceMapConsumer;Jn.SourceNode=Cl().SourceNode});var Dl=X((XO,Bl)=>{var $_=Object.prototype.toString,Ji=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function z_(e){return $_.call(e).slice(8,-1)==="ArrayBuffer"}n(z_,"isArrayBuffer");function H_(e,t,r){t>>>=0;var o=e.byteLength-t;if(o<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=o;else if(r>>>=0,r>o)throw new RangeError("'length' is out of bounds");return Ji?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}n(H_,"fromArrayBuffer");function q_(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return Ji?Buffer.from(e,t):new Buffer(e,t)}n(q_,"fromString");function Z_(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return z_(e)?H_(e,t,r):typeof e=="string"?q_(e,t):Ji?Buffer.from(e):new Buffer(e)}n(Z_,"bufferFrom");Bl.exports=Z_});var Hl=X((Vt,es)=>{var J_=Ul().SourceMapConsumer,Xi=require("path"),et;try{et=require("fs"),(!et.existsSync||!et.readFileSync)&&(et=null)}catch{}var X_=Dl();function jl(e,t){return e.require(t)}n(jl,"dynamicRequire");var Kl=!1,Vl=!1,Yi=!1,Qr="auto",Kt={},en={},Y_=/^data:application\/json[^,]+base64,/,vt=[],Mt=[];function ts(){return Qr==="browser"?!0:Qr==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}n(ts,"isInBrowser");function Q_(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}n(Q_,"hasGlobalProcessEventEmitter");function eg(){return typeof process=="object"&&process!==null?process.version:""}n(eg,"globalProcessVersion");function tg(){if(typeof process=="object"&&process!==null)return process.stderr}n(tg,"globalProcessStderr");function rg(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}n(rg,"globalProcessExit");function Xn(e){return function(t){for(var r=0;r<e.length;r++){var o=e[r](t);if(o)return o}return null}}n(Xn,"handlerExec");var rs=Xn(vt);vt.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(o,a){return a?"":"/"})),e in Kt)return Kt[e];var t="";try{if(et)et.existsSync(e)&&(t=et.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),r.readyState===4&&r.status===200&&(t=r.responseText)}}catch{}return Kt[e]=t});function Qi(e,t){if(!e)return t;var r=Xi.dirname(e),o=/^\w+:\/\/[^\/]*/.exec(r),a=o?o[0]:"",u=r.slice(a.length);return a&&/^\/\w\:/.test(u)?(a+="/",a+Xi.resolve(r.slice(a.length),t).replace(/\\/g,"/")):a+Xi.resolve(r.slice(a.length),t)}n(Qi,"supportRelativeURL");function ng(e){var t;if(ts())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=r.readyState===4?r.responseText:null;var o=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(o)return o}catch{}t=rs(e);for(var a=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,u,i;i=a.exec(t);)u=i;return u?u[1]:null}n(ng,"retrieveSourceMapURL");var ns=Xn(Mt);Mt.push(function(e){var t=ng(e);if(!t)return null;var r;if(Y_.test(t)){var o=t.slice(t.indexOf(",")+1);r=X_(o,"base64").toString(),t=e}else t=Qi(e,t),r=rs(t);return r?{url:t,map:r}:null});function os(e){var t=en[e.source];if(!t){var r=ns(e.source);r?(t=en[e.source]={url:r.url,map:new J_(r.map)},t.map.sourcesContent&&t.map.sources.forEach(function(a,u){var i=t.map.sourcesContent[u];if(i){var s=Qi(t.url,a);Kt[s]=i}})):t=en[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var o=t.map.originalPositionFor(e);if(o.source!==null)return o.source=Qi(t.url,o.source),o}return e}n(os,"mapSourcePosition");function Gl(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=os({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+Gl(t[2])+")":e}n(Gl,"mapEvalOrigin");function og(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(r!=null){t+=":"+r;var o=this.getColumnNumber();o&&(t+=":"+o)}}var a="",u=this.getFunctionName(),i=!0,s=this.isConstructor(),l=!(this.isToplevel()||s);if(l){var c=this.getTypeName();c==="[object Object]"&&(c="null");var d=this.getMethodName();u?(c&&u.indexOf(c)!=0&&(a+=c+"."),a+=u,d&&u.indexOf("."+d)!=u.length-d.length-1&&(a+=" [as "+d+"]")):a+=c+"."+(d||"<anonymous>")}else s?a+="new "+(u||"<anonymous>"):u?a+=u:(a+=t,i=!1);return i&&(a+=" ("+t+")"),a}n(og,"CallSiteToString");function Wl(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=og,t}n(Wl,"cloneCallSite");function $l(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var o=e.getLineNumber(),a=e.getColumnNumber()-1,u=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,i=u.test(eg())?0:62;o===1&&a>i&&!ts()&&!e.isEval()&&(a-=i);var s=os({source:r,line:o,column:a});t.curPosition=s,e=Wl(e);var l=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?l():t.nextPosition.name||l()},e.getFileName=function(){return s.source},e.getLineNumber=function(){return s.line},e.getColumnNumber=function(){return s.column+1},e.getScriptNameOrSourceURL=function(){return s.source},e}var c=e.isEval()&&e.getEvalOrigin();return c&&(c=Gl(c),e=Wl(e),e.getEvalOrigin=function(){return c}),e}n($l,"wrapCallSite");function ig(e,t){Yi&&(Kt={},en={});for(var r=e.name||"Error",o=e.message||"",a=r+": "+o,u={nextPosition:null,curPosition:null},i=[],s=t.length-1;s>=0;s--)i.push(`
    at `+$l(t[s],u)),u.nextPosition=u.curPosition;return u.curPosition=u.nextPosition=null,a+i.reverse().join("")}n(ig,"prepareStackTrace");function zl(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],o=+t[2],a=+t[3],u=Kt[r];if(!u&&et&&et.existsSync(r))try{u=et.readFileSync(r,"utf8")}catch{u=""}if(u){var i=u.split(/(?:\r\n|\r|\n)/)[o-1];if(i)return r+":"+o+`
`+i+`
`+new Array(a).join(" ")+"^"}}return null}n(zl,"getErrorSource");function sg(e){var t=zl(e),r=tg();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),rg(1)}n(sg,"printErrorAndExit");function ag(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,o=this.listeners(t).length>0;if(r&&!o)return sg(arguments[1])}return e.apply(this,arguments)}}n(ag,"shimEmitUncaughtException");var ug=vt.slice(0),lg=Mt.slice(0);Vt.wrapCallSite=$l;Vt.getErrorSource=zl;Vt.mapSourcePosition=os;Vt.retrieveSourceMap=ns;Vt.install=function(e){if(e=e||{},e.environment&&(Qr=e.environment,["node","browser","auto"].indexOf(Qr)===-1))throw new Error("environment "+Qr+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(vt.length=0),vt.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(Mt.length=0),Mt.unshift(e.retrieveSourceMap)),e.hookRequire&&!ts()){var t=jl(es,"module"),r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(u,i){return Kt[i]=u,en[i]=void 0,r.call(this,u,i)},t.prototype._compile.__sourceMapSupport=!0)}if(Yi||(Yi="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),Kl||(Kl=!0,Error.prepareStackTrace=ig),!Vl){var o="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var a=jl(es,"worker_threads");a.isMainThread===!1&&(o=!1)}catch{}o&&Q_()&&(Vl=!0,ag())}};Vt.resetRetrieveHandlers=function(){vt.length=0,Mt.length=0,vt=ug.slice(0),Mt=lg.slice(0),ns=Xn(Mt),rs=Xn(vt)}});var ql=X(()=>{Hl().install()});var dg={};nn(dg,{WorkerProxy:()=>tn,reset:()=>cg,sleep:()=>Zl,workerFns:()=>is,workerProxy:()=>Bn});module.exports=nc(dg);var ro=class ro extends Error{constructor(r,o){super(r);this.cause=o;this.code="CopilotPromptLoadFailure"}};n(ro,"CopilotPromptLoadFailure");var ct=ro;var $t=on(Es()),vs=require("fs"),Ms=require("path");var Ts=new Map;function Tr(e="cl100k_base"){let t=Ts.get(e);return t!==void 0||(e==="mock"?t=new Io:t=new yo(e),Ts.set(e,t)),t}n(Tr,"getTokenizer");function wc(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=(0,vs.readFileSync)(e,"utf-8"),r=new Map;for(let o of t.split(`
`)){if(!o)continue;let a=Buffer.from(o,"base64");r.set(a,r.size)}return r}n(wc,"parseTikTokenNoIndex");var wo=class wo{constructor(t){try{this._tokenizer=(0,$t.createTokenizer)(wc((0,Ms.join)(__dirname,`./resources/${t}.tiktoken.noindex`)),(0,$t.getSpecialTokensByEncoder)(t),(0,$t.getRegexByEncoder)(t),32768)}catch(r){throw r instanceof Error?new ct("Could not load tokenizer",r):r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(o=>this.detokenize([o]))}takeLastTokens(t,r){if(r<=0)return"";let o=4,a=1,u=Math.min(t.length,r*o),i=t.slice(-u),s=this.tokenize(i);for(;s.length<r+2&&u<t.length;)u=Math.min(t.length,u+r*a),i=t.slice(-u),s=this.tokenize(i);return s.length<r?t:(s=s.slice(-r),this.detokenize(s))}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let o=4,a=1,u=Math.min(t.length,r*o),i=t.slice(0,u),s=this.tokenize(i);for(;s.length<r+2&&u<t.length;)u=Math.min(t.length,u+r*a),i=t.slice(0,u),s=this.tokenize(i);return s.length<r?{text:t,tokens:s}:(s=s.slice(0,r),{text:this.detokenize(s),tokens:s})}takeLastLinesTokens(t,r){let o=this.takeLastTokens(t,r);if(o.length===t.length||t[t.length-o.length-1]===`
`)return o;let a=o.indexOf(`
`);return o.substring(a+1)}};n(wo,"TTokenizer");var yo=wo,xo=class xo{constructor(){this.hash=n(t=>{let r=0;for(let o=0;o<t.length;o++){let a=t.charCodeAt(o);r=(r<<5)-r+a,r&=r&65535}return r},"hash")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){return this.tokenizeStrings(t).slice(-r).join("")}takeFirstTokens(t,r){let o=this.tokenizeStrings(t).slice(0,r);return{text:o.join(""),tokens:o.map(this.hash)}}takeLastLinesTokens(t,r){let o=this.takeLastTokens(t,r);if(o.length===t.length||t[t.length-o.length-1]===`
`)return o;let a=o.indexOf(`
`);return o.substring(a+1)}};n(xo,"MockTokenizer");var Io=xo;var Sc={tokenizerName:"cl100k_base"};function Ec(e){return{...Sc,...e}}n(Ec,"cursorContextOptions");function zt(e,t={}){let r=Ec(t),o=Tr(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let a=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(a=a.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(a=o.takeLastLinesTokens(a,r.maxTokenLength)),{context:a,lineCount:a.split(`
`).length,tokenLength:o.tokenLength(a),tokenizerName:r.tokenizerName}}n(zt,"getCursorContext");function So(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}n(So,"virtualNode");function Eo(e){return{type:"top",indentation:-1,subs:e!=null?e:[]}}n(Eo,"topNode");function Ie(e){return e.type==="blank"}n(Ie,"isBlank");function Ht(e){return e.type==="line"}n(Ht,"isLine");function Lt(e){return e.type==="virtual"}n(Lt,"isVirtual");function Ls(e,t){return Je(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}n(Ls,"clearLabelsIf");function Je(e,t,r){function o(a){r==="topDown"&&t(a),a.subs.forEach(u=>{o(u)}),r==="bottomUp"&&t(a)}n(o,"_visit"),o(e)}n(Je,"visitTree");function mn(e,t,r){let o=n(u=>{if(r!==void 0&&r(u))return u;{let i=u.subs.map(o).filter(s=>s!==void 0);return u.subs=i,t(u)}},"rebuild"),a=o(e);return a!==void 0?a:Eo()}n(mn,"rebuildTree");function pn(e,t){function r(o){if(Ht(o)){let a=t.find(u=>u.matches(o.sourceLine));a&&(o.label=a.label)}}n(r,"visitor"),Je(e,r,"bottomUp")}n(pn,"labelLines");function fn(e){function t(r){if(Lt(r)&&r.label===void 0){let o=r.subs.filter(a=>!Ie(a));o.length===1&&(r.label=o[0].label)}}n(t,"visitor"),Je(e,t,"bottomUp")}n(fn,"labelVirtualInherited");function vr(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=n(o=>e[t].test(o),"matches"):r=e[t],{matches:r,label:t}})}n(vr,"buildLabelRules");function Ps(e){let r=mn(e,n(function(o){if(o.subs.length===0||o.subs.findIndex(i=>i.label==="closer"||i.label==="opener")===-1)return o;let a=[],u;for(let i=0;i<o.subs.length;i++){let s=o.subs[i],l=o.subs[i-1];if(s.label==="opener"&&l!==void 0&&Ht(l))l.subs.push(s),s.subs.forEach(c=>l.subs.push(c)),s.subs=[];else if(s.label==="closer"&&u!==void 0&&(Ht(s)||Lt(s))&&s.indentation>=u.indentation){let c=a.length-1;for(;c>0&&Ie(a[c]);)c-=1;if(u.subs.push(...a.splice(c+1)),s.subs.length>0){let d=u.subs.findIndex(b=>b.label!=="newVirtual"),m=u.subs.slice(0,d),f=u.subs.slice(d),_=f.length>0?[So(s.indentation,f,"newVirtual")]:[];u.subs=[...m,..._,s]}else u.subs.push(s)}else a.push(s),Ie(s)||(u=s)}return o.subs=a,o},"rebuilder"));return Ls(e,o=>o==="newVirtual"),r}n(Ps,"combineClosersAndOpeners");function Ns(e,t=Ie,r){return mn(e,n(function(a){if(a.subs.length<=1)return a;let u=[],i=[],s,l=!1;function c(d=!1){if(s!==void 0&&(u.length>0||!d)){let m=So(s,i,r);u.push(m)}else i.forEach(m=>u.push(m))}n(c,"flushBlockIntoNewSubs");for(let d=0;d<a.subs.length;d++){let m=a.subs[d],f=t(m);!f&&l&&(c(),i=[]),l=f,i.push(m),Ie(m)||(s=s!=null?s:m.indentation)}return c(!0),a.subs=u,a},"rebuilder"))}n(Ns,"groupBlocks");function qt(e){return mn(e,n(function(r){return Lt(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&Lt(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}n(qt,"flattenVirtual");var vc={opener:/^[[({]/,closer:/^[\])}]/},rh=vr(vc),Mc={};function To(e,t){Mc[e]=t}n(To,"registerLanguageSpecificParser");var Lc={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},Pc=vr(Lc);function Fs(e){let t=e;return pn(t,Pc),t=Ps(t),t=qt(t),fn(t),Je(t,r=>{if(r.label==="class"||r.label==="interface")for(let o of r.subs)!Ie(o)&&(o.label===void 0||o.label==="annotation")&&(o.label="member")},"bottomUp"),t}n(Fs,"processJava");var Nc={heading:/^# /,subheading:/^## /,subsubheading:/### /},Fc=vr(Nc);function ks(e){let t=e;if(pn(t,Fc),Ie(t))return t;function r(u){if(u.label==="heading")return 1;if(u.label==="subheading")return 2;if(u.label==="subsubheading")return 3}n(r,"headingLevel");let o=[t],a=[...t.subs];t.subs=[];for(let u of a){let i=r(u);if(i===void 0||Ie(u))o[o.length-1].subs.push(u);else{for(;o.length<i;)o.push(o[o.length-1]);for(o[i-1].subs.push(u),o[i]=u;o.length>i+1;)o.pop()}}return t=Ns(t),t=qt(t),fn(t),t}n(ks,"processMarkdown");To("markdown",ks);To("java",Fs);function De(){}n(De,"Diff");De.prototype={diff:n(function(t,r){var o,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=a.callback;typeof a=="function"&&(u=a,a={});var i=this;function s(M){return M=i.postProcess(M,a),u?(setTimeout(function(){u(M)},0),!0):M}n(s,"done"),t=this.castInput(t,a),r=this.castInput(r,a),t=this.removeEmpty(this.tokenize(t,a)),r=this.removeEmpty(this.tokenize(r,a));var l=r.length,c=t.length,d=1,m=l+c;a.maxEditLength!=null&&(m=Math.min(m,a.maxEditLength));var f=(o=a.timeout)!==null&&o!==void 0?o:1/0,_=Date.now()+f,b=[{oldPos:-1,lastComponent:void 0}],y=this.extractCommon(b[0],r,t,0,a);if(b[0].oldPos+1>=c&&y+1>=l)return s(Rs(i,b[0].lastComponent,r,t,i.useLongestToken));var x=-1/0,w=1/0;function L(){for(var M=Math.max(x,-d);M<=Math.min(w,d);M+=2){var v=void 0,R=b[M-1],B=b[M+1];R&&(b[M-1]=void 0);var E=!1;if(B){var te=B.oldPos-M;E=B&&0<=te&&te<l}var yr=R&&R.oldPos+1<c;if(!E&&!yr){b[M]=void 0;continue}if(!yr||E&&R.oldPos<B.oldPos?v=i.addToPath(B,!0,!1,0,a):v=i.addToPath(R,!1,!0,1,a),y=i.extractCommon(v,r,t,M,a),v.oldPos+1>=c&&y+1>=l)return s(Rs(i,v.lastComponent,r,t,i.useLongestToken));b[M]=v,v.oldPos+1>=c&&(w=Math.min(w,M-1)),y+1>=l&&(x=Math.max(x,M+1))}d++}if(n(L,"execEditLength"),u)n(function M(){setTimeout(function(){if(d>m||Date.now()>_)return u();L()||M()},0)},"exec")();else for(;d<=m&&Date.now()<=_;){var T=L();if(T)return T}},"diff"),addToPath:n(function(t,r,o,a,u){var i=t.lastComponent;return i&&!u.oneChangePerToken&&i.added===r&&i.removed===o?{oldPos:t.oldPos+a,lastComponent:{count:i.count+1,added:r,removed:o,previousComponent:i.previousComponent}}:{oldPos:t.oldPos+a,lastComponent:{count:1,added:r,removed:o,previousComponent:i}}},"addToPath"),extractCommon:n(function(t,r,o,a,u){for(var i=r.length,s=o.length,l=t.oldPos,c=l-a,d=0;c+1<i&&l+1<s&&this.equals(o[l+1],r[c+1],u);)c++,l++,d++,u.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return d&&!u.oneChangePerToken&&(t.lastComponent={count:d,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=l,c},"extractCommon"),equals:n(function(t,r,o){return o.comparator?o.comparator(t,r):t===r||o.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:n(function(t){for(var r=[],o=0;o<t.length;o++)t[o]&&r.push(t[o]);return r},"removeEmpty"),castInput:n(function(t){return t},"castInput"),tokenize:n(function(t){return Array.from(t)},"tokenize"),join:n(function(t){return t.join("")},"join"),postProcess:n(function(t){return t},"postProcess")};function Rs(e,t,r,o,a){for(var u=[],i;t;)u.push(t),i=t.previousComponent,delete t.previousComponent,t=i;u.reverse();for(var s=0,l=u.length,c=0,d=0;s<l;s++){var m=u[s];if(m.removed)m.value=e.join(o.slice(d,d+m.count)),d+=m.count;else{if(!m.added&&a){var f=r.slice(c,c+m.count);f=f.map(function(_,b){var y=o[d+b];return y.length>_.length?y:_}),m.value=e.join(f)}else m.value=e.join(r.slice(c,c+m.count));c+=m.count,m.added||(d+=m.count)}}return u}n(Rs,"buildValues");var nb=new De;function Cs(e,t){var r;for(r=0;r<e.length&&r<t.length;r++)if(e[r]!=t[r])return e.slice(0,r);return e.slice(0,r)}n(Cs,"longestCommonPrefix");function Us(e,t){var r;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(r=0;r<e.length&&r<t.length;r++)if(e[e.length-(r+1)]!=t[t.length-(r+1)])return e.slice(-r);return e.slice(-r)}n(Us,"longestCommonSuffix");function vo(e,t,r){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return r+e.slice(t.length)}n(vo,"replacePrefix");function Mo(e,t,r){if(!t)return e+r;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+r}n(Mo,"replaceSuffix");function Mr(e,t){return vo(e,t,"")}n(Mr,"removePrefix");function _n(e,t){return Mo(e,t,"")}n(_n,"removeSuffix");function Bs(e,t){return t.slice(0,Ac(e,t))}n(Bs,"maximumOverlap");function Ac(e,t){var r=0;e.length>t.length&&(r=e.length-t.length);var o=t.length;e.length<t.length&&(o=e.length);var a=Array(o),u=0;a[0]=0;for(var i=1;i<o;i++){for(t[i]==t[u]?a[i]=a[u]:a[i]=u;u>0&&t[i]!=t[u];)u=a[u];t[i]==t[u]&&u++}u=0;for(var s=r;s<e.length;s++){for(;u>0&&e[s]!=t[u];)u=a[u];e[s]==t[u]&&u++}return u}n(Ac,"overlapCount");var gn="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",Rc=new RegExp("[".concat(gn,"]+|\\s+|[^").concat(gn,"]"),"ug"),hn=new De;hn.equals=function(e,t,r){return r.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};hn.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(t.intlSegmenter.segment(e),function(u){return u.segment})}else r=e.match(Rc)||[];var o=[],a=null;return r.forEach(function(u){/\s/.test(u)?a==null?o.push(u):o.push(o.pop()+u):/\s/.test(a)?o[o.length-1]==a?o.push(o.pop()+u):o.push(a+u):o.push(u),a=u}),o};hn.join=function(e){return e.map(function(t,r){return r==0?t:t.replace(/^\s+/,"")}).join("")};hn.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var r=null,o=null,a=null;return e.forEach(function(u){u.added?o=u:u.removed?a=u:((o||a)&&Ds(r,a,o,u),r=u,o=null,a=null)}),(o||a)&&Ds(r,a,o,null),e};function Ds(e,t,r,o){if(t&&r){var a=t.value.match(/^\s*/)[0],u=t.value.match(/\s*$/)[0],i=r.value.match(/^\s*/)[0],s=r.value.match(/\s*$/)[0];if(e){var l=Cs(a,i);e.value=Mo(e.value,i,l),t.value=Mr(t.value,l),r.value=Mr(r.value,l)}if(o){var c=Us(u,s);o.value=vo(o.value,s,c),t.value=_n(t.value,c),r.value=_n(r.value,c)}}else if(r)e&&(r.value=r.value.replace(/^\s*/,"")),o&&(o.value=o.value.replace(/^\s*/,""));else if(e&&o){var d=o.value.match(/^\s*/)[0],m=t.value.match(/^\s*/)[0],f=t.value.match(/\s*$/)[0],_=Cs(d,m);t.value=Mr(t.value,_);var b=Us(Mr(d,_),f);t.value=_n(t.value,b),o.value=vo(o.value,d,b),e.value=Mo(e.value,d,d.slice(0,d.length-b.length))}else if(o){var y=o.value.match(/^\s*/)[0],x=t.value.match(/\s*$/)[0],w=Bs(x,y);t.value=_n(t.value,w)}else if(e){var L=e.value.match(/\s*$/)[0],T=t.value.match(/^\s*/)[0],M=Bs(L,T);t.value=Mr(t.value,M)}}n(Ds,"dedupeWhitespaceInChangeObjects");var Cc=new De;Cc.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(gn,"]+|[^\\S\\n\\r]+|[^").concat(gn,"]"),"ug");return e.match(t)||[]};var Fo=new De;Fo.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],o=e.split(/(\n|\r\n)/);o[o.length-1]||o.pop();for(var a=0;a<o.length;a++){var u=o[a];a%2&&!t.newlineIsToken?r[r.length-1]+=u:r.push(u)}return r};Fo.equals=function(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),De.prototype.equals.call(this,e,t,r)};var Uc=new De;Uc.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var Bc=new De;Bc.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Lo(e){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lo(e)}n(Lo,"_typeof");var Lr=new De;Lr.useLongestToken=!0;Lr.tokenize=Fo.tokenize;Lr.castInput=function(e,t){var r=t.undefinedReplacement,o=t.stringifyReplacer,a=o===void 0?function(u,i){return typeof i>"u"?r:i}:o;return typeof e=="string"?e:JSON.stringify(Po(e,null,null,a),a,"  ")};Lr.equals=function(e,t,r){return De.prototype.equals.call(Lr,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)};function Po(e,t,r,o,a){t=t||[],r=r||[],o&&(e=o(a,e));var u;for(u=0;u<t.length;u+=1)if(t[u]===e)return r[u];var i;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),i=new Array(e.length),r.push(i),u=0;u<e.length;u+=1)i[u]=Po(e[u],t,r,o,a);return t.pop(),r.pop(),i}if(e&&e.toJSON&&(e=e.toJSON()),Lo(e)==="object"&&e!==null){t.push(e),i={},r.push(i);var s=[],l;for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&s.push(l);for(s.sort(),u=0;u<s.length;u+=1)l=s[u],i[l]=Po(e[l],t,r,o,l);t.pop(),r.pop()}else i=e;return i}n(Po,"canonicalize");var No=new De;No.tokenize=function(e){return e.slice()};No.join=No.removeEmpty=function(e){return e};var fe={};nn(fe,{HasPropertyKey:()=>yn,IsArray:()=>Y,IsAsyncIterator:()=>Oo,IsBigInt:()=>Nr,IsBoolean:()=>ot,IsDate:()=>Pt,IsFunction:()=>Ao,IsIterator:()=>Ro,IsNull:()=>Co,IsNumber:()=>ve,IsObject:()=>D,IsRegExp:()=>Fr,IsString:()=>W,IsSymbol:()=>Uo,IsUint8Array:()=>it,IsUndefined:()=>ae});function yn(e,t){return t in e}n(yn,"HasPropertyKey");function Oo(e){return D(e)&&!Y(e)&&!it(e)&&Symbol.asyncIterator in e}n(Oo,"IsAsyncIterator");function Y(e){return Array.isArray(e)}n(Y,"IsArray");function Nr(e){return typeof e=="bigint"}n(Nr,"IsBigInt");function ot(e){return typeof e=="boolean"}n(ot,"IsBoolean");function Pt(e){return e instanceof globalThis.Date}n(Pt,"IsDate");function Ao(e){return typeof e=="function"}n(Ao,"IsFunction");function Ro(e){return D(e)&&!Y(e)&&!it(e)&&Symbol.iterator in e}n(Ro,"IsIterator");function Co(e){return e===null}n(Co,"IsNull");function ve(e){return typeof e=="number"}n(ve,"IsNumber");function D(e){return typeof e=="object"&&e!==null}n(D,"IsObject");function Fr(e){return e instanceof globalThis.RegExp}n(Fr,"IsRegExp");function W(e){return typeof e=="string"}n(W,"IsString");function Uo(e){return typeof e=="symbol"}n(Uo,"IsSymbol");function it(e){return e instanceof globalThis.Uint8Array}n(it,"IsUint8Array");function ae(e){return e===void 0}n(ae,"IsUndefined");function Vc(e){return e.map(t=>In(t))}n(Vc,"ArrayType");function Wc(e){return new Date(e.getTime())}n(Wc,"DateType");function Gc(e){return new Uint8Array(e)}n(Gc,"Uint8ArrayType");function $c(e){return new RegExp(e.source,e.flags)}n($c,"RegExpType");function zc(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=In(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=In(e[r]);return t}n(zc,"ObjectType");function In(e){return Y(e)?Vc(e):Pt(e)?Wc(e):it(e)?Gc(e):Fr(e)?$c(e):D(e)?zc(e):e}n(In,"Visit");function z(e){return In(e)}n(z,"Clone");function kr(e,t){return t===void 0?z(e):z({...t,...e})}n(kr,"CloneType");function js(e){return e!==null&&typeof e=="object"}n(js,"IsObject");function Ks(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}n(Ks,"IsArray");function Vs(e){return e===void 0}n(Vs,"IsUndefined");function Ws(e){return typeof e=="number"}n(Ws,"IsNumber");var wn;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(i,s){return e.ExactOptionalPropertyTypes?s in i:i[s]!==void 0}n(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(i){let s=js(i);return e.AllowArrayObject?s:s&&!Ks(i)}n(r,"IsObjectLike"),e.IsObjectLike=r;function o(i){return r(i)&&!(i instanceof Date)&&!(i instanceof Uint8Array)}n(o,"IsRecordLike"),e.IsRecordLike=o;function a(i){return e.AllowNaN?Ws(i):Number.isFinite(i)}n(a,"IsNumberLike"),e.IsNumberLike=a;function u(i){let s=Vs(i);return e.AllowNullVoid?s||i===null:s}n(u,"IsVoidLike"),e.IsVoidLike=u})(wn||(wn={}));function Hc(e){return globalThis.Object.freeze(e).map(t=>Or(t))}n(Hc,"ImmutableArray");function qc(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=Or(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=Or(e[r]);return globalThis.Object.freeze(t)}n(qc,"ImmutableObject");function Or(e){return Y(e)?Hc(e):Pt(e)?e:it(e)?e:Fr(e)?e:D(e)?qc(e):e}n(Or,"Immutable");function h(e,t){let r=t!==void 0?{...t,...e}:e;switch(wn.InstanceMode){case"freeze":return Or(r);case"clone":return z(r);default:return r}}n(h,"CreateType");var Bo=class Bo extends Error{constructor(t){super(t)}};n(Bo,"TypeBoxError");var ue=Bo;var de=Symbol.for("TypeBox.Transform"),je=Symbol.for("TypeBox.Readonly"),me=Symbol.for("TypeBox.Optional"),Fe=Symbol.for("TypeBox.Hint"),I=Symbol.for("TypeBox.Kind");function Jt(e){return D(e)&&e[je]==="Readonly"}n(Jt,"IsReadonly");function we(e){return D(e)&&e[me]==="Optional"}n(we,"IsOptional");function Do(e){return F(e,"Any")}n(Do,"IsAny");function jo(e){return F(e,"Argument")}n(jo,"IsArgument");function Ke(e){return F(e,"Array")}n(Ke,"IsArray");function Nt(e){return F(e,"AsyncIterator")}n(Nt,"IsAsyncIterator");function Ko(e){return F(e,"BigInt")}n(Ko,"IsBigInt");function Ar(e){return F(e,"Boolean")}n(Ar,"IsBoolean");function Ve(e){return F(e,"Computed")}n(Ve,"IsComputed");function We(e){return F(e,"Constructor")}n(We,"IsConstructor");function Zc(e){return F(e,"Date")}n(Zc,"IsDate");function Ge(e){return F(e,"Function")}n(Ge,"IsFunction");function Ft(e){return F(e,"Integer")}n(Ft,"IsInteger");function Z(e){return F(e,"Intersect")}n(Z,"IsIntersect");function kt(e){return F(e,"Iterator")}n(kt,"IsIterator");function F(e,t){return D(e)&&I in e&&e[I]===t}n(F,"IsKindOf");function xn(e){return ot(e)||ve(e)||W(e)}n(xn,"IsLiteralValue");function st(e){return F(e,"Literal")}n(st,"IsLiteral");function Me(e){return F(e,"MappedKey")}n(Me,"IsMappedKey");function H(e){return F(e,"MappedResult")}n(H,"IsMappedResult");function mt(e){return F(e,"Never")}n(mt,"IsNever");function Jc(e){return F(e,"Not")}n(Jc,"IsNot");function Xc(e){return F(e,"Null")}n(Xc,"IsNull");function Ot(e){return F(e,"Number")}n(Ot,"IsNumber");function Q(e){return F(e,"Object")}n(Q,"IsObject");function At(e){return F(e,"Promise")}n(At,"IsPromise");function Rr(e){return F(e,"Record")}n(Rr,"IsRecord");function ee(e){return F(e,"Ref")}n(ee,"IsRef");function Vo(e){return F(e,"RegExp")}n(Vo,"IsRegExp");function Cr(e){return F(e,"String")}n(Cr,"IsString");function Yc(e){return F(e,"Symbol")}n(Yc,"IsSymbol");function Le(e){return F(e,"TemplateLiteral")}n(Le,"IsTemplateLiteral");function Qc(e){return F(e,"This")}n(Qc,"IsThis");function Xt(e){return D(e)&&de in e}n(Xt,"IsTransform");function Pe(e){return F(e,"Tuple")}n(Pe,"IsTuple");function ed(e){return F(e,"Undefined")}n(ed,"IsUndefined");function k(e){return F(e,"Union")}n(k,"IsUnion");function td(e){return F(e,"Uint8Array")}n(td,"IsUint8Array");function rd(e){return F(e,"Unknown")}n(rd,"IsUnknown");function nd(e){return F(e,"Unsafe")}n(nd,"IsUnsafe");function od(e){return F(e,"Void")}n(od,"IsVoid");function id(e){return D(e)&&I in e&&W(e[I])}n(id,"IsKind");function ye(e){return Do(e)||jo(e)||Ke(e)||Ar(e)||Ko(e)||Nt(e)||Ve(e)||We(e)||Zc(e)||Ge(e)||Ft(e)||Z(e)||kt(e)||st(e)||Me(e)||H(e)||mt(e)||Jc(e)||Xc(e)||Ot(e)||Q(e)||At(e)||Rr(e)||ee(e)||Vo(e)||Cr(e)||Yc(e)||Le(e)||Qc(e)||Pe(e)||ed(e)||k(e)||td(e)||rd(e)||nd(e)||od(e)||id(e)}n(ye,"IsSchema");var p={};nn(p,{IsAny:()=>Hs,IsArgument:()=>qs,IsArray:()=>Zs,IsAsyncIterator:()=>Js,IsBigInt:()=>Xs,IsBoolean:()=>Ys,IsComputed:()=>Qs,IsConstructor:()=>ea,IsDate:()=>ta,IsFunction:()=>ra,IsImport:()=>dd,IsInteger:()=>na,IsIntersect:()=>oa,IsIterator:()=>ia,IsKind:()=>Fa,IsKindOf:()=>P,IsLiteral:()=>Br,IsLiteralBoolean:()=>md,IsLiteralNumber:()=>aa,IsLiteralString:()=>sa,IsLiteralValue:()=>ua,IsMappedKey:()=>la,IsMappedResult:()=>ca,IsNever:()=>da,IsNot:()=>ma,IsNull:()=>pa,IsNumber:()=>fa,IsObject:()=>_a,IsOptional:()=>cd,IsPromise:()=>ga,IsProperties:()=>Sn,IsReadonly:()=>ld,IsRecord:()=>ha,IsRecursive:()=>pd,IsRef:()=>ba,IsRegExp:()=>ya,IsSchema:()=>le,IsString:()=>Ia,IsSymbol:()=>wa,IsTemplateLiteral:()=>xa,IsThis:()=>Sa,IsTransform:()=>Ea,IsTuple:()=>Ta,IsUint8Array:()=>Ma,IsUndefined:()=>va,IsUnion:()=>zo,IsUnionLiteral:()=>fd,IsUnknown:()=>La,IsUnsafe:()=>Pa,IsVoid:()=>Na,TypeGuardUnknownTypeError:()=>Wo});var Ho=class Ho extends ue{};n(Ho,"TypeGuardUnknownTypeError");var Wo=Ho,sd=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function Gs(e){try{return new RegExp(e),!0}catch{return!1}}n(Gs,"IsPattern");function Go(e){if(!W(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}n(Go,"IsControlCharacterFree");function $s(e){return $o(e)||le(e)}n($s,"IsAdditionalProperties");function Ur(e){return ae(e)||Nr(e)}n(Ur,"IsOptionalBigInt");function G(e){return ae(e)||ve(e)}n(G,"IsOptionalNumber");function $o(e){return ae(e)||ot(e)}n($o,"IsOptionalBoolean");function j(e){return ae(e)||W(e)}n(j,"IsOptionalString");function ad(e){return ae(e)||W(e)&&Go(e)&&Gs(e)}n(ad,"IsOptionalPattern");function ud(e){return ae(e)||W(e)&&Go(e)}n(ud,"IsOptionalFormat");function zs(e){return ae(e)||le(e)}n(zs,"IsOptionalSchema");function ld(e){return D(e)&&e[je]==="Readonly"}n(ld,"IsReadonly");function cd(e){return D(e)&&e[me]==="Optional"}n(cd,"IsOptional");function Hs(e){return P(e,"Any")&&j(e.$id)}n(Hs,"IsAny");function qs(e){return P(e,"Argument")&&ve(e.index)}n(qs,"IsArgument");function Zs(e){return P(e,"Array")&&e.type==="array"&&j(e.$id)&&le(e.items)&&G(e.minItems)&&G(e.maxItems)&&$o(e.uniqueItems)&&zs(e.contains)&&G(e.minContains)&&G(e.maxContains)}n(Zs,"IsArray");function Js(e){return P(e,"AsyncIterator")&&e.type==="AsyncIterator"&&j(e.$id)&&le(e.items)}n(Js,"IsAsyncIterator");function Xs(e){return P(e,"BigInt")&&e.type==="bigint"&&j(e.$id)&&Ur(e.exclusiveMaximum)&&Ur(e.exclusiveMinimum)&&Ur(e.maximum)&&Ur(e.minimum)&&Ur(e.multipleOf)}n(Xs,"IsBigInt");function Ys(e){return P(e,"Boolean")&&e.type==="boolean"&&j(e.$id)}n(Ys,"IsBoolean");function Qs(e){return P(e,"Computed")&&W(e.target)&&Y(e.parameters)&&e.parameters.every(t=>le(t))}n(Qs,"IsComputed");function ea(e){return P(e,"Constructor")&&e.type==="Constructor"&&j(e.$id)&&Y(e.parameters)&&e.parameters.every(t=>le(t))&&le(e.returns)}n(ea,"IsConstructor");function ta(e){return P(e,"Date")&&e.type==="Date"&&j(e.$id)&&G(e.exclusiveMaximumTimestamp)&&G(e.exclusiveMinimumTimestamp)&&G(e.maximumTimestamp)&&G(e.minimumTimestamp)&&G(e.multipleOfTimestamp)}n(ta,"IsDate");function ra(e){return P(e,"Function")&&e.type==="Function"&&j(e.$id)&&Y(e.parameters)&&e.parameters.every(t=>le(t))&&le(e.returns)}n(ra,"IsFunction");function dd(e){return P(e,"Import")&&yn(e,"$defs")&&D(e.$defs)&&Sn(e.$defs)&&yn(e,"$ref")&&W(e.$ref)&&e.$ref in e.$defs}n(dd,"IsImport");function na(e){return P(e,"Integer")&&e.type==="integer"&&j(e.$id)&&G(e.exclusiveMaximum)&&G(e.exclusiveMinimum)&&G(e.maximum)&&G(e.minimum)&&G(e.multipleOf)}n(na,"IsInteger");function Sn(e){return D(e)&&Object.entries(e).every(([t,r])=>Go(t)&&le(r))}n(Sn,"IsProperties");function oa(e){return P(e,"Intersect")&&!(W(e.type)&&e.type!=="object")&&Y(e.allOf)&&e.allOf.every(t=>le(t)&&!Ea(t))&&j(e.type)&&($o(e.unevaluatedProperties)||zs(e.unevaluatedProperties))&&j(e.$id)}n(oa,"IsIntersect");function ia(e){return P(e,"Iterator")&&e.type==="Iterator"&&j(e.$id)&&le(e.items)}n(ia,"IsIterator");function P(e,t){return D(e)&&I in e&&e[I]===t}n(P,"IsKindOf");function sa(e){return Br(e)&&W(e.const)}n(sa,"IsLiteralString");function aa(e){return Br(e)&&ve(e.const)}n(aa,"IsLiteralNumber");function md(e){return Br(e)&&ot(e.const)}n(md,"IsLiteralBoolean");function Br(e){return P(e,"Literal")&&j(e.$id)&&ua(e.const)}n(Br,"IsLiteral");function ua(e){return ot(e)||ve(e)||W(e)}n(ua,"IsLiteralValue");function la(e){return P(e,"MappedKey")&&Y(e.keys)&&e.keys.every(t=>ve(t)||W(t))}n(la,"IsMappedKey");function ca(e){return P(e,"MappedResult")&&Sn(e.properties)}n(ca,"IsMappedResult");function da(e){return P(e,"Never")&&D(e.not)&&Object.getOwnPropertyNames(e.not).length===0}n(da,"IsNever");function ma(e){return P(e,"Not")&&le(e.not)}n(ma,"IsNot");function pa(e){return P(e,"Null")&&e.type==="null"&&j(e.$id)}n(pa,"IsNull");function fa(e){return P(e,"Number")&&e.type==="number"&&j(e.$id)&&G(e.exclusiveMaximum)&&G(e.exclusiveMinimum)&&G(e.maximum)&&G(e.minimum)&&G(e.multipleOf)}n(fa,"IsNumber");function _a(e){return P(e,"Object")&&e.type==="object"&&j(e.$id)&&Sn(e.properties)&&$s(e.additionalProperties)&&G(e.minProperties)&&G(e.maxProperties)}n(_a,"IsObject");function ga(e){return P(e,"Promise")&&e.type==="Promise"&&j(e.$id)&&le(e.item)}n(ga,"IsPromise");function ha(e){return P(e,"Record")&&e.type==="object"&&j(e.$id)&&$s(e.additionalProperties)&&D(e.patternProperties)&&(t=>{let r=Object.getOwnPropertyNames(t.patternProperties);return r.length===1&&Gs(r[0])&&D(t.patternProperties)&&le(t.patternProperties[r[0]])})(e)}n(ha,"IsRecord");function pd(e){return D(e)&&Fe in e&&e[Fe]==="Recursive"}n(pd,"IsRecursive");function ba(e){return P(e,"Ref")&&j(e.$id)&&W(e.$ref)}n(ba,"IsRef");function ya(e){return P(e,"RegExp")&&j(e.$id)&&W(e.source)&&W(e.flags)&&G(e.maxLength)&&G(e.minLength)}n(ya,"IsRegExp");function Ia(e){return P(e,"String")&&e.type==="string"&&j(e.$id)&&G(e.minLength)&&G(e.maxLength)&&ad(e.pattern)&&ud(e.format)}n(Ia,"IsString");function wa(e){return P(e,"Symbol")&&e.type==="symbol"&&j(e.$id)}n(wa,"IsSymbol");function xa(e){return P(e,"TemplateLiteral")&&e.type==="string"&&W(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}n(xa,"IsTemplateLiteral");function Sa(e){return P(e,"This")&&j(e.$id)&&W(e.$ref)}n(Sa,"IsThis");function Ea(e){return D(e)&&de in e}n(Ea,"IsTransform");function Ta(e){return P(e,"Tuple")&&e.type==="array"&&j(e.$id)&&ve(e.minItems)&&ve(e.maxItems)&&e.minItems===e.maxItems&&(ae(e.items)&&ae(e.additionalItems)&&e.minItems===0||Y(e.items)&&e.items.every(t=>le(t)))}n(Ta,"IsTuple");function va(e){return P(e,"Undefined")&&e.type==="undefined"&&j(e.$id)}n(va,"IsUndefined");function fd(e){return zo(e)&&e.anyOf.every(t=>sa(t)||aa(t))}n(fd,"IsUnionLiteral");function zo(e){return P(e,"Union")&&j(e.$id)&&D(e)&&Y(e.anyOf)&&e.anyOf.every(t=>le(t))}n(zo,"IsUnion");function Ma(e){return P(e,"Uint8Array")&&e.type==="Uint8Array"&&j(e.$id)&&G(e.minByteLength)&&G(e.maxByteLength)}n(Ma,"IsUint8Array");function La(e){return P(e,"Unknown")&&j(e.$id)}n(La,"IsUnknown");function Pa(e){return P(e,"Unsafe")}n(Pa,"IsUnsafe");function Na(e){return P(e,"Void")&&e.type==="void"&&j(e.$id)}n(Na,"IsVoid");function Fa(e){return D(e)&&I in e&&W(e[I])&&!sd.includes(e[I])}n(Fa,"IsKind");function le(e){return D(e)&&(Hs(e)||qs(e)||Zs(e)||Ys(e)||Xs(e)||Js(e)||Qs(e)||ea(e)||ta(e)||ra(e)||na(e)||oa(e)||ia(e)||Br(e)||la(e)||ca(e)||da(e)||ma(e)||pa(e)||fa(e)||_a(e)||ga(e)||ha(e)||ba(e)||ya(e)||Ia(e)||wa(e)||xa(e)||Sa(e)||Ta(e)||va(e)||zo(e)||Ma(e)||La(e)||Pa(e)||Na(e)||Fa(e))}n(le,"IsSchema");var qo="(true|false)",Dr="(0|[1-9][0-9]*)",Zo="(.*)",_d="(?!.*)",dy=`^${qo}$`,pt=`^${Dr}$`,ft=`^${Zo}$`,ka=`^${_d}$`;function Oa(e,t){return e.includes(t)}n(Oa,"SetIncludes");function Aa(e){return[...new Set(e)]}n(Aa,"SetDistinct");function gd(e,t){return e.filter(r=>t.includes(r))}n(gd,"SetIntersect");function hd(e,t){return e.reduce((r,o)=>gd(r,o),t)}n(hd,"SetIntersectManyResolve");function Ra(e){return e.length===1?e[0]:e.length>1?hd(e.slice(1),e[0]):[]}n(Ra,"SetIntersectMany");function Ca(e){let t=[];for(let r of e)t.push(...r);return t}n(Ca,"SetUnionMany");function _t(e){return h({[I]:"Any"},e)}n(_t,"Any");function gt(e,t){return h({[I]:"Array",type:"array",items:e},t)}n(gt,"Array");function Ua(e){return h({[I]:"Argument",index:e})}n(Ua,"Argument");function ht(e,t){return h({[I]:"AsyncIterator",type:"AsyncIterator",items:e},t)}n(ht,"AsyncIterator");function $(e,t,r){return h({[I]:"Computed",target:e,parameters:t},r)}n($,"Computed");function bd(e,t){let{[t]:r,...o}=e;return o}n(bd,"DiscardKey");function J(e,t){return t.reduce((r,o)=>bd(r,o),e)}n(J,"Discard");function N(e){return h({[I]:"Never",not:{}},e)}n(N,"Never");function O(e){return h({[I]:"MappedResult",properties:e})}n(O,"MappedResult");function bt(e,t,r){return h({[I]:"Constructor",type:"Constructor",parameters:e,returns:t},r)}n(bt,"Constructor");function ke(e,t,r){return h({[I]:"Function",type:"Function",parameters:e,returns:t},r)}n(ke,"Function");function jr(e,t){return h({[I]:"Union",anyOf:e},t)}n(jr,"UnionCreate");function yd(e){return e.some(t=>we(t))}n(yd,"IsUnionOptional");function Ba(e){return e.map(t=>we(t)?Id(t):t)}n(Ba,"RemoveOptionalFromRest");function Id(e){return J(e,[me])}n(Id,"RemoveOptionalFromType");function wd(e,t){return yd(e)?_e(jr(Ba(e),t)):jr(Ba(e),t)}n(wd,"ResolveUnion");function Xe(e,t){return e.length===1?h(e[0],t):e.length===0?N(t):wd(e,t)}n(Xe,"UnionEvaluated");function A(e,t){return e.length===0?N(t):e.length===1?h(e[0],t):jr(e,t)}n(A,"Union");var Xo=class Xo extends ue{};n(Xo,"TemplateLiteralParserError");var En=Xo;function xd(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}n(xd,"Unescape");function Jo(e,t,r){return e[t]===r&&e.charCodeAt(t-1)!==92}n(Jo,"IsNonEscaped");function at(e,t){return Jo(e,t,"(")}n(at,"IsOpenParen");function Kr(e,t){return Jo(e,t,")")}n(Kr,"IsCloseParen");function Da(e,t){return Jo(e,t,"|")}n(Da,"IsSeparator");function Sd(e){if(!(at(e,0)&&Kr(e,e.length-1)))return!1;let t=0;for(let r=0;r<e.length;r++)if(at(e,r)&&(t+=1),Kr(e,r)&&(t-=1),t===0&&r!==e.length-1)return!1;return!0}n(Sd,"IsGroup");function Ed(e){return e.slice(1,e.length-1)}n(Ed,"InGroup");function Td(e){let t=0;for(let r=0;r<e.length;r++)if(at(e,r)&&(t+=1),Kr(e,r)&&(t-=1),Da(e,r)&&t===0)return!0;return!1}n(Td,"IsPrecedenceOr");function vd(e){for(let t=0;t<e.length;t++)if(at(e,t))return!0;return!1}n(vd,"IsPrecedenceAnd");function Md(e){let[t,r]=[0,0],o=[];for(let u=0;u<e.length;u++)if(at(e,u)&&(t+=1),Kr(e,u)&&(t-=1),Da(e,u)&&t===0){let i=e.slice(r,u);i.length>0&&o.push(Yt(i)),r=u+1}let a=e.slice(r);return a.length>0&&o.push(Yt(a)),o.length===0?{type:"const",const:""}:o.length===1?o[0]:{type:"or",expr:o}}n(Md,"Or");function Ld(e){function t(a,u){if(!at(a,u))throw new En("TemplateLiteralParser: Index must point to open parens");let i=0;for(let s=u;s<a.length;s++)if(at(a,s)&&(i+=1),Kr(a,s)&&(i-=1),i===0)return[u,s];throw new En("TemplateLiteralParser: Unclosed group parens in expression")}n(t,"Group");function r(a,u){for(let i=u;i<a.length;i++)if(at(a,i))return[u,i];return[u,a.length]}n(r,"Range");let o=[];for(let a=0;a<e.length;a++)if(at(e,a)){let[u,i]=t(e,a),s=e.slice(u,i+1);o.push(Yt(s)),a=i}else{let[u,i]=r(e,a),s=e.slice(u,i);s.length>0&&o.push(Yt(s)),a=i-1}return o.length===0?{type:"const",const:""}:o.length===1?o[0]:{type:"and",expr:o}}n(Ld,"And");function Yt(e){return Sd(e)?Yt(Ed(e)):Td(e)?Md(e):vd(e)?Ld(e):{type:"const",const:xd(e)}}n(Yt,"TemplateLiteralParse");function Qt(e){return Yt(e.slice(1,e.length-1))}n(Qt,"TemplateLiteralParseExact");var Qo=class Qo extends ue{};n(Qo,"TemplateLiteralFiniteError");var Yo=Qo;function Pd(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}n(Pd,"IsNumberExpression");function Nd(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}n(Nd,"IsBooleanExpression");function Fd(e){return e.type==="const"&&e.const===".*"}n(Fd,"IsStringExpression");function Ct(e){return Pd(e)||Fd(e)?!1:Nd(e)?!0:e.type==="and"?e.expr.every(t=>Ct(t)):e.type==="or"?e.expr.every(t=>Ct(t)):e.type==="const"?!0:(()=>{throw new Yo("Unknown expression type")})()}n(Ct,"IsTemplateLiteralExpressionFinite");function ja(e){let t=Qt(e.pattern);return Ct(t)}n(ja,"IsTemplateLiteralFinite");var ti=class ti extends ue{};n(ti,"TemplateLiteralGenerateError");var ei=ti;function*Ka(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let r of Ka(e.slice(1)))yield`${t}${r}`}n(Ka,"GenerateReduce");function*kd(e){return yield*Ka(e.expr.map(t=>[...Vr(t)]))}n(kd,"GenerateAnd");function*Od(e){for(let t of e.expr)yield*Vr(t)}n(Od,"GenerateOr");function*Ad(e){return yield e.const}n(Ad,"GenerateConst");function*Vr(e){return e.type==="and"?yield*kd(e):e.type==="or"?yield*Od(e):e.type==="const"?yield*Ad(e):(()=>{throw new ei("Unknown expression")})()}n(Vr,"TemplateLiteralExpressionGenerate");function Tn(e){let t=Qt(e.pattern);return Ct(t)?[...Vr(t)]:[]}n(Tn,"TemplateLiteralGenerate");function U(e,t){return h({[I]:"Literal",const:e,type:typeof e},t)}n(U,"Literal");function vn(e){return h({[I]:"Boolean",type:"boolean"},e)}n(vn,"Boolean");function er(e){return h({[I]:"BigInt",type:"bigint"},e)}n(er,"BigInt");function Oe(e){return h({[I]:"Number",type:"number"},e)}n(Oe,"Number");function $e(e){return h({[I]:"String",type:"string"},e)}n($e,"String");function*Rd(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield vn():t==="number"?yield Oe():t==="bigint"?yield er():t==="string"?yield $e():yield(()=>{let r=t.split("|").map(o=>U(o.trim()));return r.length===0?N():r.length===1?r[0]:Xe(r)})()}n(Rd,"FromUnion");function*Cd(e){if(e[1]!=="{"){let t=U("$"),r=ri(e.slice(1));return yield*[t,...r]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let r=Rd(e.slice(2,t)),o=ri(e.slice(t+1));return yield*[...r,...o]}yield U(e)}n(Cd,"FromTerminal");function*ri(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let r=U(e.slice(0,t)),o=Cd(e.slice(t));return yield*[r,...o]}yield U(e)}n(ri,"FromSyntax");function Va(e){return[...ri(e)]}n(Va,"TemplateLiteralSyntax");var ii=class ii extends ue{};n(ii,"TemplateLiteralPatternError");var ni=ii;function Ud(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}n(Ud,"Escape");function Wa(e,t){return Le(e)?e.pattern.slice(1,e.pattern.length-1):k(e)?`(${e.anyOf.map(r=>Wa(r,t)).join("|")})`:Ot(e)?`${t}${Dr}`:Ft(e)?`${t}${Dr}`:Ko(e)?`${t}${Dr}`:Cr(e)?`${t}${Zo}`:st(e)?`${t}${Ud(e.const.toString())}`:Ar(e)?`${t}${qo}`:(()=>{throw new ni(`Unexpected Kind '${e[I]}'`)})()}n(Wa,"Visit");function oi(e){return`^${e.map(t=>Wa(t,"")).join("")}$`}n(oi,"TemplateLiteralPattern");function Ut(e){let r=Tn(e).map(o=>U(o));return Xe(r)}n(Ut,"TemplateLiteralToUnion");function Mn(e,t){let r=W(e)?oi(Va(e)):oi(e);return h({[I]:"TemplateLiteral",type:"string",pattern:r},t)}n(Mn,"TemplateLiteral");function Bd(e){return Tn(e).map(r=>r.toString())}n(Bd,"FromTemplateLiteral");function Dd(e){let t=[];for(let r of e)t.push(...xe(r));return t}n(Dd,"FromUnion");function jd(e){return[e.toString()]}n(jd,"FromLiteral");function xe(e){return[...new Set(Le(e)?Bd(e):k(e)?Dd(e.anyOf):st(e)?jd(e.const):Ot(e)?["[number]"]:Ft(e)?["[number]"]:[])]}n(xe,"IndexPropertyKeys");function Kd(e,t,r){let o={};for(let a of Object.getOwnPropertyNames(t))o[a]=yt(e,xe(t[a]),r);return o}n(Kd,"FromProperties");function Vd(e,t,r){return Kd(e,t.properties,r)}n(Vd,"FromMappedResult");function Ga(e,t,r){let o=Vd(e,t,r);return O(o)}n(Ga,"IndexFromMappedResult");function za(e,t){return e.map(r=>Ha(r,t))}n(za,"FromRest");function Wd(e){return e.filter(t=>!mt(t))}n(Wd,"FromIntersectRest");function Gd(e,t){return Ln(Wd(za(e,t)))}n(Gd,"FromIntersect");function $d(e){return e.some(t=>mt(t))?[]:e}n($d,"FromUnionRest");function zd(e,t){return Xe($d(za(e,t)))}n(zd,"FromUnion");function Hd(e,t){return t in e?e[t]:t==="[number]"?Xe(e):N()}n(Hd,"FromTuple");function qd(e,t){return t==="[number]"?e:N()}n(qd,"FromArray");function Zd(e,t){return t in e?e[t]:N()}n(Zd,"FromProperty");function Ha(e,t){var r;return Z(e)?Gd(e.allOf,t):k(e)?zd(e.anyOf,t):Pe(e)?Hd((r=e.items)!=null?r:[],t):Ke(e)?qd(e.items,t):Q(e)?Zd(e.properties,t):N()}n(Ha,"IndexFromPropertyKey");function si(e,t){return t.map(r=>Ha(e,r))}n(si,"IndexFromPropertyKeys");function $a(e,t){return Xe(si(e,t))}n($a,"FromSchema");function yt(e,t,r){if(ee(e)||ee(t)){let o="Index types using Ref parameters require both Type and Key to be of TSchema";if(!ye(e)||!ye(t))throw new ue(o);return $("Index",[e,t])}return H(t)?Ga(e,t,r):Me(t)?qa(e,t,r):h(ye(t)?$a(e,xe(t)):$a(e,t),r)}n(yt,"Index");function Jd(e,t,r){return{[t]:yt(e,[t],z(r))}}n(Jd,"MappedIndexPropertyKey");function Xd(e,t,r){return t.reduce((o,a)=>({...o,...Jd(e,a,r)}),{})}n(Xd,"MappedIndexPropertyKeys");function Yd(e,t,r){return Xd(e,t.keys,r)}n(Yd,"MappedIndexProperties");function qa(e,t,r){let o=Yd(e,t,r);return O(o)}n(qa,"IndexFromMappedKey");function It(e,t){return h({[I]:"Iterator",type:"Iterator",items:e},t)}n(It,"Iterator");function Qd(e){let t=[];for(let r in e)we(e[r])||t.push(r);return t}n(Qd,"RequiredKeys");function em(e,t){let r=Qd(e),o=r.length>0?{[I]:"Object",type:"object",properties:e,required:r}:{[I]:"Object",type:"object",properties:e};return h(o,t)}n(em,"_Object");var K=em;function tr(e,t){return h({[I]:"Promise",type:"Promise",item:e},t)}n(tr,"Promise");function tm(e){return h(J(e,[je]))}n(tm,"RemoveReadonly");function rm(e){return h({...e,[je]:"Readonly"})}n(rm,"AddReadonly");function nm(e,t){return t===!1?tm(e):rm(e)}n(nm,"ReadonlyWithFlag");function Se(e,t){let r=t!=null?t:!0;return H(e)?Za(e,r):nm(e,r)}n(Se,"Readonly");function om(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=Se(e[o],t);return r}n(om,"FromProperties");function im(e,t){return om(e.properties,t)}n(im,"FromMappedResult");function Za(e,t){let r=im(e,t);return O(r)}n(Za,"ReadonlyFromMappedResult");function Ee(e,t){return h(e.length>0?{[I]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[I]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}n(Ee,"Tuple");function Ja(e,t){return e in t?Ae(e,t[e]):O(t)}n(Ja,"FromMappedResult");function sm(e){return{[e]:U(e)}}n(sm,"MappedKeyToKnownMappedResultProperties");function am(e){let t={};for(let r of e)t[r]=U(r);return t}n(am,"MappedKeyToUnknownMappedResultProperties");function um(e,t){return Oa(t,e)?sm(e):am(t)}n(um,"MappedKeyToMappedResultProperties");function lm(e,t){let r=um(e,t);return Ja(e,r)}n(lm,"FromMappedKey");function Wr(e,t){return t.map(r=>Ae(e,r))}n(Wr,"FromRest");function cm(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(t))r[o]=Ae(e,t[o]);return r}n(cm,"FromProperties");function Ae(e,t){var o;let r={...t};return we(t)?_e(Ae(e,J(t,[me]))):Jt(t)?Se(Ae(e,J(t,[je]))):H(t)?Ja(e,t.properties):Me(t)?lm(e,t.keys):We(t)?bt(Wr(e,t.parameters),Ae(e,t.returns),r):Ge(t)?ke(Wr(e,t.parameters),Ae(e,t.returns),r):Nt(t)?ht(Ae(e,t.items),r):kt(t)?It(Ae(e,t.items),r):Z(t)?ce(Wr(e,t.allOf),r):k(t)?A(Wr(e,t.anyOf),r):Pe(t)?Ee(Wr(e,(o=t.items)!=null?o:[]),r):Q(t)?K(cm(e,t.properties),r):Ke(t)?gt(Ae(e,t.items),r):At(t)?tr(Ae(e,t.item),r):t}n(Ae,"FromSchemaType");function dm(e,t){let r={};for(let o of e)r[o]=Ae(o,t);return r}n(dm,"MappedFunctionReturnType");function Xa(e,t,r){let o=ye(e)?xe(e):e,a=t({[I]:"MappedKey",keys:o}),u=dm(o,a);return K(u,r)}n(Xa,"Mapped");function mm(e){return h(J(e,[me]))}n(mm,"RemoveOptional");function pm(e){return h({...e,[me]:"Optional"})}n(pm,"AddOptional");function fm(e,t){return t===!1?mm(e):pm(e)}n(fm,"OptionalWithFlag");function _e(e,t){let r=t!=null?t:!0;return H(e)?Ya(e,r):fm(e,r)}n(_e,"Optional");function _m(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=_e(e[o],t);return r}n(_m,"FromProperties");function gm(e,t){return _m(e.properties,t)}n(gm,"FromMappedResult");function Ya(e,t){let r=gm(e,t);return O(r)}n(Ya,"OptionalFromMappedResult");function Gr(e,t={}){let r=e.every(a=>Q(a)),o=ye(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return h(t.unevaluatedProperties===!1||ye(t.unevaluatedProperties)||r?{...o,[I]:"Intersect",type:"object",allOf:e}:{...o,[I]:"Intersect",allOf:e},t)}n(Gr,"IntersectCreate");function hm(e){return e.every(t=>we(t))}n(hm,"IsIntersectOptional");function bm(e){return J(e,[me])}n(bm,"RemoveOptionalFromType");function Qa(e){return e.map(t=>we(t)?bm(t):t)}n(Qa,"RemoveOptionalFromRest");function ym(e,t){return hm(e)?_e(Gr(Qa(e),t)):Gr(Qa(e),t)}n(ym,"ResolveIntersect");function Ln(e,t={}){if(e.length===1)return h(e[0],t);if(e.length===0)return N(t);if(e.some(r=>Xt(r)))throw new Error("Cannot intersect transform types");return ym(e,t)}n(Ln,"IntersectEvaluated");function ce(e,t){if(e.length===1)return h(e[0],t);if(e.length===0)return N(t);if(e.some(r=>Xt(r)))throw new Error("Cannot intersect transform types");return Gr(e,t)}n(ce,"Intersect");function Ye(...e){let[t,r]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new ue("Ref: $ref must be a string");return h({[I]:"Ref",$ref:t},r)}n(Ye,"Ref");function Im(e,t){return $("Awaited",[$(e,t)])}n(Im,"FromComputed");function wm(e){return $("Awaited",[Ye(e)])}n(wm,"FromRef");function xm(e){return ce(eu(e))}n(xm,"FromIntersect");function Sm(e){return A(eu(e))}n(Sm,"FromUnion");function Em(e){return rr(e)}n(Em,"FromPromise");function eu(e){return e.map(t=>rr(t))}n(eu,"FromRest");function rr(e,t){return h(Ve(e)?Im(e.target,e.parameters):Z(e)?xm(e.allOf):k(e)?Sm(e.anyOf):At(e)?Em(e.item):ee(e)?wm(e.$ref):e,t)}n(rr,"Awaited");function tu(e){let t=[];for(let r of e)t.push($r(r));return t}n(tu,"FromRest");function Tm(e){let t=tu(e);return Ca(t)}n(Tm,"FromIntersect");function vm(e){let t=tu(e);return Ra(t)}n(vm,"FromUnion");function Mm(e){return e.map((t,r)=>r.toString())}n(Mm,"FromTuple");function Lm(e){return["[number]"]}n(Lm,"FromArray");function Pm(e){return globalThis.Object.getOwnPropertyNames(e)}n(Pm,"FromProperties");function Nm(e){return Fm?globalThis.Object.getOwnPropertyNames(e).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}n(Nm,"FromPatternProperties");function $r(e){var t;return Z(e)?Tm(e.allOf):k(e)?vm(e.anyOf):Pe(e)?Mm((t=e.items)!=null?t:[]):Ke(e)?Lm(e.items):Q(e)?Pm(e.properties):Rr(e)?Nm(e.patternProperties):[]}n($r,"KeyOfPropertyKeys");var Fm=!1;function km(e,t){return $("KeyOf",[$(e,t)])}n(km,"FromComputed");function Om(e){return $("KeyOf",[Ye(e)])}n(Om,"FromRef");function Am(e,t){let r=$r(e),o=Rm(r),a=Xe(o);return h(a,t)}n(Am,"KeyOfFromType");function Rm(e){return e.map(t=>t==="[number]"?Oe():U(t))}n(Rm,"KeyOfPropertyKeysToRest");function nr(e,t){return Ve(e)?km(e.target,e.parameters):ee(e)?Om(e.$ref):H(e)?ru(e,t):Am(e,t)}n(nr,"KeyOf");function Cm(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=nr(e[o],z(t));return r}n(Cm,"FromProperties");function Um(e,t){return Cm(e.properties,t)}n(Um,"FromMappedResult");function ru(e,t){let r=Um(e,t);return O(r)}n(ru,"KeyOfFromMappedResult");function Bm(e){let t=[];for(let r of e)t.push(...$r(r));return Aa(t)}n(Bm,"CompositeKeys");function Dm(e){return e.filter(t=>!mt(t))}n(Dm,"FilterNever");function jm(e,t){let r=[];for(let o of e)r.push(...si(o,[t]));return Dm(r)}n(jm,"CompositeProperty");function Km(e,t){let r={};for(let o of t)r[o]=Ln(jm(e,o));return r}n(Km,"CompositeProperties");function nu(e,t){let r=Bm(e),o=Km(e,r);return K(o,t)}n(nu,"Composite");function Pn(e){return h({[I]:"Date",type:"Date"},e)}n(Pn,"Date");function Nn(e){return h({[I]:"Null",type:"null"},e)}n(Nn,"Null");function Fn(e){return h({[I]:"Symbol",type:"symbol"},e)}n(Fn,"Symbol");function kn(e){return h({[I]:"Undefined",type:"undefined"},e)}n(kn,"Undefined");function On(e){return h({[I]:"Uint8Array",type:"Uint8Array"},e)}n(On,"Uint8Array");function or(e){return h({[I]:"Unknown"},e)}n(or,"Unknown");function Vm(e){return e.map(t=>ai(t,!1))}n(Vm,"FromArray");function Wm(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Se(ai(e[r],!1));return t}n(Wm,"FromProperties");function An(e,t){return t===!0?e:Se(e)}n(An,"ConditionalReadonly");function ai(e,t){return Oo(e)?An(_t(),t):Ro(e)?An(_t(),t):Y(e)?Se(Ee(Vm(e))):it(e)?On():Pt(e)?Pn():D(e)?An(K(Wm(e)),t):Ao(e)?An(ke([],or()),t):ae(e)?kn():Co(e)?Nn():Uo(e)?Fn():Nr(e)?er():ve(e)?U(e):ot(e)?U(e):W(e)?U(e):K({})}n(ai,"FromValue");function ou(e,t){return h(ai(e,!0),t)}n(ou,"Const");function iu(e,t){return We(e)?Ee(e.parameters,t):N(t)}n(iu,"ConstructorParameters");function su(e,t){if(ae(e))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(e).filter(u=>isNaN(u)).map(u=>e[u]),a=[...new Set(r)].map(u=>U(u));return A(a,{...t,[Fe]:"Enum"})}n(su,"Enum");var fi=class fi extends ue{};n(fi,"ExtendsResolverError");var li=fi,g;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(g||(g={}));function Re(e){return e===g.False?e:g.True}n(Re,"IntoBooleanResult");function ir(e){throw new li(e)}n(ir,"Throw");function oe(e){return p.IsNever(e)||p.IsIntersect(e)||p.IsUnion(e)||p.IsUnknown(e)||p.IsAny(e)}n(oe,"IsStructuralRight");function ie(e,t){return p.IsNever(t)?pu(e,t):p.IsIntersect(t)?Rn(e,t):p.IsUnion(t)?pi(e,t):p.IsUnknown(t)?hu(e,t):p.IsAny(t)?mi(e,t):ir("StructuralRight")}n(ie,"StructuralRight");function mi(e,t){return g.True}n(mi,"FromAnyRight");function Gm(e,t){return p.IsIntersect(t)?Rn(e,t):p.IsUnion(t)&&t.anyOf.some(r=>p.IsAny(r)||p.IsUnknown(r))?g.True:p.IsUnion(t)?g.Union:p.IsUnknown(t)||p.IsAny(t)?g.True:g.Union}n(Gm,"FromAny");function $m(e,t){return p.IsUnknown(e)?g.False:p.IsAny(e)?g.Union:p.IsNever(e)?g.True:g.False}n($m,"FromArrayRight");function zm(e,t){return p.IsObject(t)&&Cn(t)?g.True:oe(t)?ie(e,t):p.IsArray(t)?Re(V(e.items,t.items)):g.False}n(zm,"FromArray");function Hm(e,t){return oe(t)?ie(e,t):p.IsAsyncIterator(t)?Re(V(e.items,t.items)):g.False}n(Hm,"FromAsyncIterator");function qm(e,t){return oe(t)?ie(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ce(e,t):p.IsBigInt(t)?g.True:g.False}n(qm,"FromBigInt");function du(e,t){return p.IsLiteralBoolean(e)||p.IsBoolean(e)?g.True:g.False}n(du,"FromBooleanRight");function Zm(e,t){return oe(t)?ie(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ce(e,t):p.IsBoolean(t)?g.True:g.False}n(Zm,"FromBoolean");function Jm(e,t){return oe(t)?ie(e,t):p.IsObject(t)?ge(e,t):p.IsConstructor(t)?e.parameters.length>t.parameters.length?g.False:e.parameters.every((r,o)=>Re(V(t.parameters[o],r))===g.True)?Re(V(e.returns,t.returns)):g.False:g.False}n(Jm,"FromConstructor");function Xm(e,t){return oe(t)?ie(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ce(e,t):p.IsDate(t)?g.True:g.False}n(Xm,"FromDate");function Ym(e,t){return oe(t)?ie(e,t):p.IsObject(t)?ge(e,t):p.IsFunction(t)?e.parameters.length>t.parameters.length?g.False:e.parameters.every((r,o)=>Re(V(t.parameters[o],r))===g.True)?Re(V(e.returns,t.returns)):g.False:g.False}n(Ym,"FromFunction");function mu(e,t){return p.IsLiteral(e)&&fe.IsNumber(e.const)||p.IsNumber(e)||p.IsInteger(e)?g.True:g.False}n(mu,"FromIntegerRight");function Qm(e,t){return p.IsInteger(t)||p.IsNumber(t)?g.True:oe(t)?ie(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ce(e,t):g.False}n(Qm,"FromInteger");function Rn(e,t){return t.allOf.every(r=>V(e,r)===g.True)?g.True:g.False}n(Rn,"FromIntersectRight");function ep(e,t){return e.allOf.some(r=>V(r,t)===g.True)?g.True:g.False}n(ep,"FromIntersect");function tp(e,t){return oe(t)?ie(e,t):p.IsIterator(t)?Re(V(e.items,t.items)):g.False}n(tp,"FromIterator");function rp(e,t){return p.IsLiteral(t)&&t.const===e.const?g.True:oe(t)?ie(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ce(e,t):p.IsString(t)?gu(e,t):p.IsNumber(t)?fu(e,t):p.IsInteger(t)?mu(e,t):p.IsBoolean(t)?du(e,t):g.False}n(rp,"FromLiteral");function pu(e,t){return g.False}n(pu,"FromNeverRight");function np(e,t){return g.True}n(np,"FromNever");function au(e){let[t,r]=[e,0];for(;p.IsNot(t);)t=t.not,r+=1;return r%2===0?t:or()}n(au,"UnwrapTNot");function op(e,t){return p.IsNot(e)?V(au(e),t):p.IsNot(t)?V(e,au(t)):ir("Invalid fallthrough for Not")}n(op,"FromNot");function ip(e,t){return oe(t)?ie(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ce(e,t):p.IsNull(t)?g.True:g.False}n(ip,"FromNull");function fu(e,t){return p.IsLiteralNumber(e)||p.IsNumber(e)||p.IsInteger(e)?g.True:g.False}n(fu,"FromNumberRight");function sp(e,t){return oe(t)?ie(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ce(e,t):p.IsInteger(t)||p.IsNumber(t)?g.True:g.False}n(sp,"FromNumber");function Te(e,t){return Object.getOwnPropertyNames(e.properties).length===t}n(Te,"IsObjectPropertyCount");function uu(e){return Cn(e)}n(uu,"IsObjectStringLike");function lu(e){return Te(e,0)||Te(e,1)&&"description"in e.properties&&p.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(p.IsString(e.properties.description.anyOf[0])&&p.IsUndefined(e.properties.description.anyOf[1])||p.IsString(e.properties.description.anyOf[1])&&p.IsUndefined(e.properties.description.anyOf[0]))}n(lu,"IsObjectSymbolLike");function ui(e){return Te(e,0)}n(ui,"IsObjectNumberLike");function cu(e){return Te(e,0)}n(cu,"IsObjectBooleanLike");function ap(e){return Te(e,0)}n(ap,"IsObjectBigIntLike");function up(e){return Te(e,0)}n(up,"IsObjectDateLike");function lp(e){return Cn(e)}n(lp,"IsObjectUint8ArrayLike");function cp(e){let t=Oe();return Te(e,0)||Te(e,1)&&"length"in e.properties&&Re(V(e.properties.length,t))===g.True}n(cp,"IsObjectFunctionLike");function dp(e){return Te(e,0)}n(dp,"IsObjectConstructorLike");function Cn(e){let t=Oe();return Te(e,0)||Te(e,1)&&"length"in e.properties&&Re(V(e.properties.length,t))===g.True}n(Cn,"IsObjectArrayLike");function mp(e){let t=ke([_t()],_t());return Te(e,0)||Te(e,1)&&"then"in e.properties&&Re(V(e.properties.then,t))===g.True}n(mp,"IsObjectPromiseLike");function _u(e,t){return V(e,t)===g.False||p.IsOptional(e)&&!p.IsOptional(t)?g.False:g.True}n(_u,"Property");function ge(e,t){return p.IsUnknown(e)?g.False:p.IsAny(e)?g.Union:p.IsNever(e)||p.IsLiteralString(e)&&uu(t)||p.IsLiteralNumber(e)&&ui(t)||p.IsLiteralBoolean(e)&&cu(t)||p.IsSymbol(e)&&lu(t)||p.IsBigInt(e)&&ap(t)||p.IsString(e)&&uu(t)||p.IsSymbol(e)&&lu(t)||p.IsNumber(e)&&ui(t)||p.IsInteger(e)&&ui(t)||p.IsBoolean(e)&&cu(t)||p.IsUint8Array(e)&&lp(t)||p.IsDate(e)&&up(t)||p.IsConstructor(e)&&dp(t)||p.IsFunction(e)&&cp(t)?g.True:p.IsRecord(e)&&p.IsString(ci(e))?t[Fe]==="Record"?g.True:g.False:p.IsRecord(e)&&p.IsNumber(ci(e))?Te(t,0)?g.True:g.False:g.False}n(ge,"FromObjectRight");function pp(e,t){return oe(t)?ie(e,t):p.IsRecord(t)?Ce(e,t):p.IsObject(t)?(()=>{for(let r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!p.IsOptional(t.properties[r]))return g.False;if(p.IsOptional(t.properties[r]))return g.True;if(_u(e.properties[r],t.properties[r])===g.False)return g.False}return g.True})():g.False}n(pp,"FromObject");function fp(e,t){return oe(t)?ie(e,t):p.IsObject(t)&&mp(t)?g.True:p.IsPromise(t)?Re(V(e.item,t.item)):g.False}n(fp,"FromPromise");function ci(e){return pt in e.patternProperties?Oe():ft in e.patternProperties?$e():ir("Unknown record key pattern")}n(ci,"RecordKey");function di(e){return pt in e.patternProperties?e.patternProperties[pt]:ft in e.patternProperties?e.patternProperties[ft]:ir("Unable to get record value schema")}n(di,"RecordValue");function Ce(e,t){let[r,o]=[ci(t),di(t)];return p.IsLiteralString(e)&&p.IsNumber(r)&&Re(V(e,o))===g.True?g.True:p.IsUint8Array(e)&&p.IsNumber(r)||p.IsString(e)&&p.IsNumber(r)||p.IsArray(e)&&p.IsNumber(r)?V(e,o):p.IsObject(e)?(()=>{for(let a of Object.getOwnPropertyNames(e.properties))if(_u(o,e.properties[a])===g.False)return g.False;return g.True})():g.False}n(Ce,"FromRecordRight");function _p(e,t){return oe(t)?ie(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?V(di(e),di(t)):g.False}n(_p,"FromRecord");function gp(e,t){let r=p.IsRegExp(e)?$e():e,o=p.IsRegExp(t)?$e():t;return V(r,o)}n(gp,"FromRegExp");function gu(e,t){return p.IsLiteral(e)&&fe.IsString(e.const)||p.IsString(e)?g.True:g.False}n(gu,"FromStringRight");function hp(e,t){return oe(t)?ie(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ce(e,t):p.IsString(t)?g.True:g.False}n(hp,"FromString");function bp(e,t){return oe(t)?ie(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ce(e,t):p.IsSymbol(t)?g.True:g.False}n(bp,"FromSymbol");function yp(e,t){return p.IsTemplateLiteral(e)?V(Ut(e),t):p.IsTemplateLiteral(t)?V(e,Ut(t)):ir("Invalid fallthrough for TemplateLiteral")}n(yp,"FromTemplateLiteral");function Ip(e,t){return p.IsArray(t)&&e.items!==void 0&&e.items.every(r=>V(r,t.items)===g.True)}n(Ip,"IsArrayOfTuple");function wp(e,t){return p.IsNever(e)?g.True:p.IsUnknown(e)?g.False:p.IsAny(e)?g.Union:g.False}n(wp,"FromTupleRight");function xp(e,t){return oe(t)?ie(e,t):p.IsObject(t)&&Cn(t)||p.IsArray(t)&&Ip(e,t)?g.True:p.IsTuple(t)?fe.IsUndefined(e.items)&&!fe.IsUndefined(t.items)||!fe.IsUndefined(e.items)&&fe.IsUndefined(t.items)?g.False:fe.IsUndefined(e.items)&&!fe.IsUndefined(t.items)||e.items.every((r,o)=>V(r,t.items[o])===g.True)?g.True:g.False:g.False}n(xp,"FromTuple");function Sp(e,t){return oe(t)?ie(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ce(e,t):p.IsUint8Array(t)?g.True:g.False}n(Sp,"FromUint8Array");function Ep(e,t){return oe(t)?ie(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ce(e,t):p.IsVoid(t)?Mp(e,t):p.IsUndefined(t)?g.True:g.False}n(Ep,"FromUndefined");function pi(e,t){return t.anyOf.some(r=>V(e,r)===g.True)?g.True:g.False}n(pi,"FromUnionRight");function Tp(e,t){return e.anyOf.every(r=>V(r,t)===g.True)?g.True:g.False}n(Tp,"FromUnion");function hu(e,t){return g.True}n(hu,"FromUnknownRight");function vp(e,t){return p.IsNever(t)?pu(e,t):p.IsIntersect(t)?Rn(e,t):p.IsUnion(t)?pi(e,t):p.IsAny(t)?mi(e,t):p.IsString(t)?gu(e,t):p.IsNumber(t)?fu(e,t):p.IsInteger(t)?mu(e,t):p.IsBoolean(t)?du(e,t):p.IsArray(t)?$m(e,t):p.IsTuple(t)?wp(e,t):p.IsObject(t)?ge(e,t):p.IsUnknown(t)?g.True:g.False}n(vp,"FromUnknown");function Mp(e,t){return p.IsUndefined(e)||p.IsUndefined(e)?g.True:g.False}n(Mp,"FromVoidRight");function Lp(e,t){return p.IsIntersect(t)?Rn(e,t):p.IsUnion(t)?pi(e,t):p.IsUnknown(t)?hu(e,t):p.IsAny(t)?mi(e,t):p.IsObject(t)?ge(e,t):p.IsVoid(t)?g.True:g.False}n(Lp,"FromVoid");function V(e,t){return p.IsTemplateLiteral(e)||p.IsTemplateLiteral(t)?yp(e,t):p.IsRegExp(e)||p.IsRegExp(t)?gp(e,t):p.IsNot(e)||p.IsNot(t)?op(e,t):p.IsAny(e)?Gm(e,t):p.IsArray(e)?zm(e,t):p.IsBigInt(e)?qm(e,t):p.IsBoolean(e)?Zm(e,t):p.IsAsyncIterator(e)?Hm(e,t):p.IsConstructor(e)?Jm(e,t):p.IsDate(e)?Xm(e,t):p.IsFunction(e)?Ym(e,t):p.IsInteger(e)?Qm(e,t):p.IsIntersect(e)?ep(e,t):p.IsIterator(e)?tp(e,t):p.IsLiteral(e)?rp(e,t):p.IsNever(e)?np(e,t):p.IsNull(e)?ip(e,t):p.IsNumber(e)?sp(e,t):p.IsObject(e)?pp(e,t):p.IsRecord(e)?_p(e,t):p.IsString(e)?hp(e,t):p.IsSymbol(e)?bp(e,t):p.IsTuple(e)?xp(e,t):p.IsPromise(e)?fp(e,t):p.IsUint8Array(e)?Sp(e,t):p.IsUndefined(e)?Ep(e,t):p.IsUnion(e)?Tp(e,t):p.IsUnknown(e)?vp(e,t):p.IsVoid(e)?Lp(e,t):ir(`Unknown left type operand '${e[I]}'`)}n(V,"Visit");function wt(e,t){return V(e,t)}n(wt,"ExtendsCheck");function Pp(e,t,r,o,a){let u={};for(let i of globalThis.Object.getOwnPropertyNames(e))u[i]=sr(e[i],t,r,o,z(a));return u}n(Pp,"FromProperties");function Np(e,t,r,o,a){return Pp(e.properties,t,r,o,a)}n(Np,"FromMappedResult");function bu(e,t,r,o,a){let u=Np(e,t,r,o,a);return O(u)}n(bu,"ExtendsFromMappedResult");function Fp(e,t,r,o){let a=wt(e,t);return a===g.Union?A([r,o]):a===g.True?r:o}n(Fp,"ExtendsResolve");function sr(e,t,r,o,a){return H(e)?bu(e,t,r,o,a):Me(e)?h(yu(e,t,r,o,a)):h(Fp(e,t,r,o),a)}n(sr,"Extends");function kp(e,t,r,o,a){return{[e]:sr(U(e),t,r,o,z(a))}}n(kp,"FromPropertyKey");function Op(e,t,r,o,a){return e.reduce((u,i)=>({...u,...kp(i,t,r,o,a)}),{})}n(Op,"FromPropertyKeys");function Ap(e,t,r,o,a){return Op(e.keys,t,r,o,a)}n(Ap,"FromMappedKey");function yu(e,t,r,o,a){let u=Ap(e,t,r,o,a);return O(u)}n(yu,"ExtendsFromMappedKey");function Iu(e,t){return ar(Ut(e),t)}n(Iu,"ExcludeFromTemplateLiteral");function Rp(e,t){let r=e.filter(o=>wt(o,t)===g.False);return r.length===1?r[0]:A(r)}n(Rp,"ExcludeRest");function ar(e,t,r={}){return Le(e)?h(Iu(e,t),r):H(e)?h(wu(e,t),r):h(k(e)?Rp(e.anyOf,t):wt(e,t)!==g.False?N():e,r)}n(ar,"Exclude");function Cp(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=ar(e[o],t);return r}n(Cp,"FromProperties");function Up(e,t){return Cp(e.properties,t)}n(Up,"FromMappedResult");function wu(e,t){let r=Up(e,t);return O(r)}n(wu,"ExcludeFromMappedResult");function xu(e,t){return ur(Ut(e),t)}n(xu,"ExtractFromTemplateLiteral");function Bp(e,t){let r=e.filter(o=>wt(o,t)!==g.False);return r.length===1?r[0]:A(r)}n(Bp,"ExtractRest");function ur(e,t,r){return Le(e)?h(xu(e,t),r):H(e)?h(Su(e,t),r):h(k(e)?Bp(e.anyOf,t):wt(e,t)!==g.False?e:N(),r)}n(ur,"Extract");function Dp(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=ur(e[o],t);return r}n(Dp,"FromProperties");function jp(e,t){return Dp(e.properties,t)}n(jp,"FromMappedResult");function Su(e,t){let r=jp(e,t);return O(r)}n(Su,"ExtractFromMappedResult");function Eu(e,t){return We(e)?h(e.returns,t):N(t)}n(Eu,"InstanceType");function Un(e){return Se(_e(e))}n(Un,"ReadonlyOptional");function Bt(e,t,r){return h({[I]:"Record",type:"object",patternProperties:{[e]:t}},r)}n(Bt,"RecordCreateFromPattern");function _i(e,t,r){let o={};for(let a of e)o[a]=t;return K(o,{...r,[Fe]:"Record"})}n(_i,"RecordCreateFromKeys");function Kp(e,t,r){return ja(e)?_i(xe(e),t,r):Bt(e.pattern,t,r)}n(Kp,"FromTemplateLiteralKey");function Vp(e,t,r){return _i(xe(A(e)),t,r)}n(Vp,"FromUnionKey");function Wp(e,t,r){return _i([e.toString()],t,r)}n(Wp,"FromLiteralKey");function Gp(e,t,r){return Bt(e.source,t,r)}n(Gp,"FromRegExpKey");function $p(e,t,r){let o=ae(e.pattern)?ft:e.pattern;return Bt(o,t,r)}n($p,"FromStringKey");function zp(e,t,r){return Bt(ft,t,r)}n(zp,"FromAnyKey");function Hp(e,t,r){return Bt(ka,t,r)}n(Hp,"FromNeverKey");function qp(e,t,r){return K({true:t,false:t},r)}n(qp,"FromBooleanKey");function Zp(e,t,r){return Bt(pt,t,r)}n(Zp,"FromIntegerKey");function Jp(e,t,r){return Bt(pt,t,r)}n(Jp,"FromNumberKey");function lr(e,t,r={}){return k(e)?Vp(e.anyOf,t,r):Le(e)?Kp(e,t,r):st(e)?Wp(e.const,t,r):Ar(e)?qp(e,t,r):Ft(e)?Zp(e,t,r):Ot(e)?Jp(e,t,r):Vo(e)?Gp(e,t,r):Cr(e)?$p(e,t,r):Do(e)?zp(e,t,r):mt(e)?Hp(e,t,r):N(r)}n(lr,"Record");function Tu(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}n(Tu,"RecordPattern");function vu(e){let t=Tu(e);return t===ft?$e():t===pt?Oe():$e({pattern:t})}n(vu,"RecordKey");function Mu(e){return e.patternProperties[Tu(e)]}n(Mu,"RecordValue");function Xp(e,t){return globalThis.Object.getOwnPropertyNames(e).reduce((r,o)=>({...r,[o]:cr(e[o],t)}),{})}n(Xp,"FromProperties");function zr(e,t){return e.map(r=>cr(r,t))}n(zr,"FromTypes");function ut(e,t){return t(e)}n(ut,"FromType");function cr(e,t){let r=kr(ut(e,t));return We(e)?bt(zr(e.parameters,t),ut(e.returns,t),r):Ge(e)?ke(zr(e.parameters,t),ut(e.returns,t),r):Z(e)?ce(zr(e.allOf,t),r):k(e)?A(zr(e.anyOf,t),r):Pe(e)?Ee(zr(e.items||[],t),r):Ke(e)?gt(ut(e.items,t),r):Nt(e)?ht(ut(e.items,t),r):kt(e)?It(ut(e.items,t),r):At(e)?tr(ut(e.items,t),r):Q(e)?K(Xp(e.properties,t),r):Rr(e)?lr(ut(vu(e),t),ut(Mu(e),t),r):kr(r)}n(cr,"Remap");function Yp(e,t){let r=Jt(e),o=we(e);return r&&o?Un(t):r&&!o?Se(t):!r&&o?_e(t):t}n(Yp,"InstantiateArgument");function Lu(e,t){return cr(e,r=>jo(r)?r.index in t?ye(t[r.index])?Yp(r,t[r.index]):N():N():r)}n(Lu,"Instantiate");function Pu(e){return h({[I]:"Integer",type:"integer"},e)}n(Pu,"Integer");function Qp(e,t,r){return{[e]:ze(U(e),t,z(r))}}n(Qp,"MappedIntrinsicPropertyKey");function ef(e,t,r){return e.reduce((a,u)=>({...a,...Qp(u,t,r)}),{})}n(ef,"MappedIntrinsicPropertyKeys");function tf(e,t,r){return ef(e.keys,t,r)}n(tf,"MappedIntrinsicProperties");function Nu(e,t,r){let o=tf(e,t,r);return O(o)}n(Nu,"IntrinsicFromMappedKey");function rf(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),r].join("")}n(rf,"ApplyUncapitalize");function nf(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),r].join("")}n(nf,"ApplyCapitalize");function of(e){return e.toUpperCase()}n(of,"ApplyUppercase");function sf(e){return e.toLowerCase()}n(sf,"ApplyLowercase");function af(e,t,r){let o=Qt(e.pattern);if(!Ct(o))return{...e,pattern:Fu(e.pattern,t)};let i=[...Vr(o)].map(c=>U(c)),s=ku(i,t),l=A(s);return Mn([l],r)}n(af,"FromTemplateLiteral");function Fu(e,t){return typeof e=="string"?t==="Uncapitalize"?rf(e):t==="Capitalize"?nf(e):t==="Uppercase"?of(e):t==="Lowercase"?sf(e):e:e.toString()}n(Fu,"FromLiteralValue");function ku(e,t){return e.map(r=>ze(r,t))}n(ku,"FromRest");function ze(e,t,r={}){return Me(e)?Nu(e,t,r):Le(e)?af(e,t,r):k(e)?A(ku(e.anyOf,t),r):st(e)?U(Fu(e.const,t),r):h(e,r)}n(ze,"Intrinsic");function Ou(e,t={}){return ze(e,"Capitalize",t)}n(Ou,"Capitalize");function Au(e,t={}){return ze(e,"Lowercase",t)}n(Au,"Lowercase");function Ru(e,t={}){return ze(e,"Uncapitalize",t)}n(Ru,"Uncapitalize");function Cu(e,t={}){return ze(e,"Uppercase",t)}n(Cu,"Uppercase");function uf(e,t,r){let o={};for(let a of globalThis.Object.getOwnPropertyNames(e))o[a]=xt(e[a],t,z(r));return o}n(uf,"FromProperties");function lf(e,t,r){return uf(e.properties,t,r)}n(lf,"FromMappedResult");function Uu(e,t,r){let o=lf(e,t,r);return O(o)}n(Uu,"OmitFromMappedResult");function cf(e,t){return e.map(r=>gi(r,t))}n(cf,"FromIntersect");function df(e,t){return e.map(r=>gi(r,t))}n(df,"FromUnion");function mf(e,t){let{[t]:r,...o}=e;return o}n(mf,"FromProperty");function pf(e,t){return t.reduce((r,o)=>mf(r,o),e)}n(pf,"FromProperties");function ff(e,t){let r=J(e,[de,"$id","required","properties"]),o=pf(e.properties,t);return K(o,r)}n(ff,"FromObject");function _f(e){let t=e.reduce((r,o)=>xn(o)?[...r,U(o)]:r,[]);return A(t)}n(_f,"UnionFromPropertyKeys");function gi(e,t){return Z(e)?ce(cf(e.allOf,t)):k(e)?A(df(e.anyOf,t)):Q(e)?ff(e,t):K({})}n(gi,"OmitResolve");function xt(e,t,r){let o=Y(t)?_f(t):t,a=ye(t)?xe(t):t,u=ee(e),i=ee(t);return H(e)?Uu(e,a,r):Me(t)?Bu(e,t,r):u&&i?$("Omit",[e,o],r):!u&&i?$("Omit",[e,o],r):u&&!i?$("Omit",[e,o],r):h({...gi(e,a),...r})}n(xt,"Omit");function gf(e,t,r){return{[t]:xt(e,[t],z(r))}}n(gf,"FromPropertyKey");function hf(e,t,r){return t.reduce((o,a)=>({...o,...gf(e,a,r)}),{})}n(hf,"FromPropertyKeys");function bf(e,t,r){return hf(e,t.keys,r)}n(bf,"FromMappedKey");function Bu(e,t,r){let o=bf(e,t,r);return O(o)}n(Bu,"OmitFromMappedKey");function yf(e,t,r){let o={};for(let a of globalThis.Object.getOwnPropertyNames(e))o[a]=St(e[a],t,z(r));return o}n(yf,"FromProperties");function If(e,t,r){return yf(e.properties,t,r)}n(If,"FromMappedResult");function Du(e,t,r){let o=If(e,t,r);return O(o)}n(Du,"PickFromMappedResult");function wf(e,t){return e.map(r=>hi(r,t))}n(wf,"FromIntersect");function xf(e,t){return e.map(r=>hi(r,t))}n(xf,"FromUnion");function Sf(e,t){let r={};for(let o of t)o in e&&(r[o]=e[o]);return r}n(Sf,"FromProperties");function Ef(e,t){let r=J(e,[de,"$id","required","properties"]),o=Sf(e.properties,t);return K(o,r)}n(Ef,"FromObject");function Tf(e){let t=e.reduce((r,o)=>xn(o)?[...r,U(o)]:r,[]);return A(t)}n(Tf,"UnionFromPropertyKeys");function hi(e,t){return Z(e)?ce(wf(e.allOf,t)):k(e)?A(xf(e.anyOf,t)):Q(e)?Ef(e,t):K({})}n(hi,"PickResolve");function St(e,t,r){let o=Y(t)?Tf(t):t,a=ye(t)?xe(t):t,u=ee(e),i=ee(t);return H(e)?Du(e,a,r):Me(t)?ju(e,t,r):u&&i?$("Pick",[e,o],r):!u&&i?$("Pick",[e,o],r):u&&!i?$("Pick",[e,o],r):h({...hi(e,a),...r})}n(St,"Pick");function vf(e,t,r){return{[t]:St(e,[t],z(r))}}n(vf,"FromPropertyKey");function Mf(e,t,r){return t.reduce((o,a)=>({...o,...vf(e,a,r)}),{})}n(Mf,"FromPropertyKeys");function Lf(e,t,r){return Mf(e,t.keys,r)}n(Lf,"FromMappedKey");function ju(e,t,r){let o=Lf(e,t,r);return O(o)}n(ju,"PickFromMappedKey");function Pf(e,t){return $("Partial",[$(e,t)])}n(Pf,"FromComputed");function Nf(e){return $("Partial",[Ye(e)])}n(Nf,"FromRef");function Ff(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=_e(e[r]);return t}n(Ff,"FromProperties");function kf(e){let t=J(e,[de,"$id","required","properties"]),r=Ff(e.properties);return K(r,t)}n(kf,"FromObject");function Ku(e){return e.map(t=>Vu(t))}n(Ku,"FromRest");function Vu(e){return Ve(e)?Pf(e.target,e.parameters):ee(e)?Nf(e.$ref):Z(e)?ce(Ku(e.allOf)):k(e)?A(Ku(e.anyOf)):Q(e)?kf(e):K({})}n(Vu,"PartialResolve");function dr(e,t){return H(e)?Wu(e,t):h({...Vu(e),...t})}n(dr,"Partial");function Of(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=dr(e[o],z(t));return r}n(Of,"FromProperties");function Af(e,t){return Of(e.properties,t)}n(Af,"FromMappedResult");function Wu(e,t){let r=Af(e,t);return O(r)}n(Wu,"PartialFromMappedResult");function Rf(e,t){return $("Required",[$(e,t)])}n(Rf,"FromComputed");function Cf(e){return $("Required",[Ye(e)])}n(Cf,"FromRef");function Uf(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=J(e[r],[me]);return t}n(Uf,"FromProperties");function Bf(e){let t=J(e,[de,"$id","required","properties"]),r=Uf(e.properties);return K(r,t)}n(Bf,"FromObject");function Gu(e){return e.map(t=>$u(t))}n(Gu,"FromRest");function $u(e){return Ve(e)?Rf(e.target,e.parameters):ee(e)?Cf(e.$ref):Z(e)?ce(Gu(e.allOf)):k(e)?A(Gu(e.anyOf)):Q(e)?Bf(e):K({})}n($u,"RequiredResolve");function mr(e,t){return H(e)?zu(e,t):h({...$u(e),...t})}n(mr,"Required");function Df(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=mr(e[o],t);return r}n(Df,"FromProperties");function jf(e,t){return Df(e.properties,t)}n(jf,"FromMappedResult");function zu(e,t){let r=jf(e,t);return O(r)}n(zu,"RequiredFromMappedResult");function Kf(e,t){return t.map(r=>ee(r)?Hu(e,r.$ref):Ue(e,r))}n(Kf,"DerefParameters");function Hu(e,t){return t in e?ee(e[t])?Hu(e,e[t].$ref):Ue(e,e[t]):N()}n(Hu,"Deref");function Vf(e){return rr(e[0])}n(Vf,"FromAwaited");function Wf(e){return yt(e[0],e[1])}n(Wf,"FromIndex");function Gf(e){return nr(e[0])}n(Gf,"FromKeyOf");function $f(e){return dr(e[0])}n($f,"FromPartial");function zf(e){return xt(e[0],e[1])}n(zf,"FromOmit");function Hf(e){return St(e[0],e[1])}n(Hf,"FromPick");function qf(e){return lr(e[0],e[1])}n(qf,"FromRecord");function Zf(e){return mr(e[0])}n(Zf,"FromRequired");function Jf(e,t,r){let o=Kf(e,r);return t==="Awaited"?Vf(o):t==="Index"?Wf(o):t==="KeyOf"?Gf(o):t==="Partial"?$f(o):t==="Omit"?zf(o):t==="Pick"?Hf(o):t==="Record"?qf(o):t==="Required"?Zf(o):N()}n(Jf,"FromComputed");function Xf(e,t){return K(globalThis.Object.keys(t).reduce((r,o)=>({...r,[o]:Ue(e,t[o])}),{}))}n(Xf,"FromObject");function Yf(e,t,r){return bt(Hr(e,t),Ue(e,r))}n(Yf,"FromConstructor");function Qf(e,t,r){return ke(Hr(e,t),Ue(e,r))}n(Qf,"FromFunction");function e_(e,t){return Ee(Hr(e,t))}n(e_,"FromTuple");function t_(e,t){return ce(Hr(e,t))}n(t_,"FromIntersect");function r_(e,t){return A(Hr(e,t))}n(r_,"FromUnion");function n_(e,t){return gt(Ue(e,t))}n(n_,"FromArray");function o_(e,t){return ht(Ue(e,t))}n(o_,"FromAsyncIterator");function i_(e,t){return It(Ue(e,t))}n(i_,"FromIterator");function Hr(e,t){return t.map(r=>Ue(e,r))}n(Hr,"FromRest");function Ue(e,t){return we(t)?h(Ue(e,J(t,[me])),t):Jt(t)?h(Ue(e,J(t,[je])),t):Ke(t)?h(n_(e,t.items),t):Nt(t)?h(o_(e,t.items),t):Ve(t)?h(Jf(e,t.target,t.parameters)):We(t)?h(Yf(e,t.parameters,t.returns),t):Ge(t)?h(Qf(e,t.parameters,t.returns),t):Z(t)?h(t_(e,t.allOf),t):kt(t)?h(i_(e,t.items),t):Q(t)?h(Xf(e,t.properties),t):Pe(t)?h(e_(e,t.items||[]),t):k(t)?h(r_(e,t.anyOf),t):t}n(Ue,"FromType");function s_(e,t){return t in e?Ue(e,e[t]):N()}n(s_,"ComputeType");function qu(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:s_(e,r)}),{})}n(qu,"ComputeModuleProperties");var yi=class yi{constructor(t){let r=qu(t),o=this.WithIdentifiers(r);this.$defs=o}Import(t,r){let o={...this.$defs,[t]:h(this.$defs[t],r)};return h({[I]:"Import",$defs:o,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,o)=>({...r,[o]:{...t[o],$id:o}}),{})}};n(yi,"TModule");var bi=yi;function Zu(e){return new bi(e)}n(Zu,"Module");function Ju(e,t){return h({[I]:"Not",not:e},t)}n(Ju,"Not");function Xu(e,t){return Ge(e)?Ee(e.parameters,t):N()}n(Xu,"Parameters");var a_=0;function Yu(e,t={}){ae(t.$id)&&(t.$id=`T${a_++}`);let r=kr(e({[I]:"This",$ref:`${t.$id}`}));return r.$id=t.$id,h({[Fe]:"Recursive",...r},t)}n(Yu,"Recursive");function Qu(e,t){let r=W(e)?new globalThis.RegExp(e):e;return h({[I]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},t)}n(Qu,"RegExp");function u_(e){var t;return Z(e)?e.allOf:k(e)?e.anyOf:Pe(e)?(t=e.items)!=null?t:[]:[]}n(u_,"RestResolve");function el(e){return u_(e)}n(el,"Rest");function tl(e,t){return Ge(e)?h(e.returns,t):N(t)}n(tl,"ReturnType");var xi=class xi{constructor(t){this.schema=t}Decode(t){return new wi(this.schema,t)}};n(xi,"TransformDecodeBuilder");var Ii=xi,Si=class Si{constructor(t,r){this.schema=t,this.decode=r}EncodeTransform(t,r){let u={Encode:n(i=>r[de].Encode(t(i)),"Encode"),Decode:n(i=>this.decode(r[de].Decode(i)),"Decode")};return{...r,[de]:u}}EncodeSchema(t,r){let o={Decode:this.decode,Encode:t};return{...r,[de]:o}}Encode(t){return Xt(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};n(Si,"TransformEncodeBuilder");var wi=Si;function rl(e){return new Ii(e)}n(rl,"Transform");function nl(e={}){var t;return h({[I]:(t=e[I])!=null?t:"Unsafe"},e)}n(nl,"Unsafe");function ol(e){return h({[I]:"Void",type:"void"},e)}n(ol,"Void");var Ei={};nn(Ei,{Any:()=>_t,Argument:()=>Ua,Array:()=>gt,AsyncIterator:()=>ht,Awaited:()=>rr,BigInt:()=>er,Boolean:()=>vn,Capitalize:()=>Ou,Composite:()=>nu,Const:()=>ou,Constructor:()=>bt,ConstructorParameters:()=>iu,Date:()=>Pn,Enum:()=>su,Exclude:()=>ar,Extends:()=>sr,Extract:()=>ur,Function:()=>ke,Index:()=>yt,InstanceType:()=>Eu,Instantiate:()=>Lu,Integer:()=>Pu,Intersect:()=>ce,Iterator:()=>It,KeyOf:()=>nr,Literal:()=>U,Lowercase:()=>Au,Mapped:()=>Xa,Module:()=>Zu,Never:()=>N,Not:()=>Ju,Null:()=>Nn,Number:()=>Oe,Object:()=>K,Omit:()=>xt,Optional:()=>_e,Parameters:()=>Xu,Partial:()=>dr,Pick:()=>St,Promise:()=>tr,Readonly:()=>Se,ReadonlyOptional:()=>Un,Record:()=>lr,Recursive:()=>Yu,Ref:()=>Ye,RegExp:()=>Qu,Remap:()=>cr,Required:()=>mr,Rest:()=>el,ReturnType:()=>tl,String:()=>$e,Symbol:()=>Fn,TemplateLiteral:()=>Mn,Transform:()=>rl,Tuple:()=>Ee,Uint8Array:()=>On,Uncapitalize:()=>Ru,Undefined:()=>kn,Union:()=>A,Unknown:()=>or,Unsafe:()=>nl,Uppercase:()=>Cu,Void:()=>ol});var Qe=Ei;var l_=500,zN=8192-l_;var c_=Qe.Object({relativePath:Qe.Optional(Qe.String()),uri:Qe.String(),source:Qe.String(),languageId:Qe.String()}),HN=Qe.Intersect([c_,Qe.Object({offset:Qe.Number()})]);var al=require("fs"),Dn=on(require("path")),jn=on(il());var sl={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java"};function ul(e){if(!(e in sl))throw new Error(`Unrecognized language: ${e}`);return sl[e]}n(ul,"languageIdToWasmLanguage");var vi=new Map;async function p_(e){let t,r=Dn.default.resolve(Dn.default.extname(__filename)!==".ts"?__dirname:Dn.default.resolve(__dirname,"../../dist"),`tree-sitter-${e}.wasm`);try{t=await al.promises.readFile(r)}catch(o){throw o instanceof Error&&"code"in o&&typeof o.code=="string"&&o.name==="Error"?new ct(`Could not load tree-sitter-${e}.wasm`,o):o}return jn.default.Language.load(t)}n(p_,"loadWasmLanguage");function f_(e){let t=ul(e);if(!vi.has(t)){let r=p_(t);vi.set(t,r)}return vi.get(t)}n(f_,"getLanguage");var Li=class Li extends Error{constructor(r,o){super(r);this.cause=o}};n(Li,"WrappedError");var Mi=Li;async function qr(e,t){await jn.default.init();let r;try{r=new jn.default}catch(u){throw u&&typeof u=="object"&&"message"in u&&typeof u.message=="string"&&u.message.includes("table index is out of bounds")?new Mi(`Could not init Parse for language <${e}>`,u):u}let o=await f_(e);r.setLanguage(o);let a=r.parse(t);return r.delete(),a}n(qr,"parseTreeSitter");function __(e,t){let r=[];for(let o of e){if(!o[1]){let a=t.tree.getLanguage();o[1]=a.query(o[0])}r.push(...o[1].matches(t))}return r}n(__,"innerQuery");var g_=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function ll(e){return __([g_],e).length==1}n(ll,"queryPythonIsDocstring");var Pi=class Pi{constructor(t,r,o){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=o}async getNodeMatchAtPosition(t,r,o){let a=await qr(this.languageId,t);try{let i=a.rootNode.descendantForIndex(r);for(;i;){let s=this.nodeMatch[i.type];if(s){if(!this.nodeTypesWithBlockOrStmtChild.has(i.type))break;let l=this.nodeTypesWithBlockOrStmtChild.get(i.type),c=l==""?i.namedChildren[0]:i.childForFieldName(l);if((c==null?void 0:c.type)==s)break}i=i.parent}return i?o(i):void 0}finally{a.delete()}}getNextBlockAtPosition(t,r,o){return this.getNodeMatchAtPosition(t,r,a=>{let u=a.children.reverse().find(i=>i.type==this.nodeMatch[a.type]);if(u){if(this.languageId=="python"&&u.parent){let i=u.parent.type==":"?u.parent.parent:u.parent,s=i==null?void 0:i.nextSibling;for(;s&&s.type=="comment";){let l=s.startPosition.row==u.endPosition.row&&s.startPosition.column>=u.endPosition.column,c=s.startPosition.row>i.endPosition.row&&s.startPosition.column>i.startPosition.column;if(l||c)u=s,s=s.nextSibling;else break}}if(!(u.endIndex>=u.tree.rootNode.endIndex-1&&(u.hasError()||u.parent.hasError())))return o(u)}})}async isBlockBodyFinished(t,r,o){let a=(t+r).trimEnd(),u=await this.getNextBlockAtPosition(a,o,i=>i.endIndex);if(u!==void 0&&u<a.length){let i=u-t.length;return i>0?i:void 0}}getNodeStart(t,r){let o=t.trimEnd();return this.getNodeMatchAtPosition(o,r,a=>a.startIndex)}};n(Pi,"BaseBlockParser");var Kn=Pi,Ni=class Ni extends Kn{constructor(r,o,a,u,i){super(r,u,i);this.blockEmptyMatch=o;this.lineMatch=a}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,o){let a=await this.getNextBlockAtPosition(r,o,u=>{u.startIndex<o&&(o=u.startIndex);let i=r.substring(o,u.endIndex).trim();return i==""||i.replace(/\s/g,"")==this.blockEmptyMatch});return a===void 0||a}async isEmptyBlockStart(r,o){return o=dl(r,o),this.isBlockStart(h_(r,o))&&this.isBlockBodyEmpty(r,o)}};n(Ni,"RegexBasedBlockParser");var Vn=Ni;function h_(e,t){let r=e.lastIndexOf(`
`,t-1),o=e.indexOf(`
`,t);return o<0&&(o=e.length),e.slice(r+1,o)}n(h_,"getLineAtOffset");function dl(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}n(dl,"rewindToNearestNonWs");function cl(e,t){let r=e.startIndex,o=e.startIndex-e.startPosition.column,a=t.substring(o,r);if(/^\s*$/.test(a))return a}n(cl,"indent");function b_(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let o=cl(e,r),a=cl(t,r);return o!==void 0&&a!==void 0&&o.startsWith(a)}n(b_,"outdented");var Fi=class Fi extends Kn{constructor(r,o,a,u,i,s,l){super(r,o,a);this.startKeywords=u;this.blockNodeType=i;this.emptyStatementType=s;this.curlyBraceLanguage=l}isBlockEmpty(r,o){var u,i;let a=r.text.trim();return this.curlyBraceLanguage&&(a.startsWith("{")&&(a=a.slice(1)),a.endsWith("}")&&(a=a.slice(0,-1)),a=a.trim()),!!(a.length==0||this.languageId=="python"&&(((u=r.parent)==null?void 0:u.type)=="class_definition"||((i=r.parent)==null?void 0:i.type)=="function_definition")&&r.children.length==1&&ll(r.parent))}async isEmptyBlockStart(r,o){var u,i,s,l;if(o>r.length)throw new RangeError("Invalid offset");for(let c=o;c<r.length&&r.charAt(c)!=`
`;c++)if(/\S/.test(r.charAt(c)))return!1;o=dl(r,o);let a=await qr(this.languageId,r);try{let c=a.rootNode.descendantForIndex(o-1);if(c==null||this.curlyBraceLanguage&&c.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&c.parent&&c.parent.type=="object"&&c.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let b=c;for(;b.parent;){if(b.type=="function_signature"||b.type=="method_signature"){let y=c.nextSibling;return y&&b.hasError()&&b_(b,y,r)?!0:!b.children.find(w=>w.type==";")&&b.endIndex<=o}b=b.parent}}let d=null,m=null,f=null,_=c;for(;_!=null;){if(_.type==this.blockNodeType){m=_;break}if(this.nodeMatch[_.type]){f=_;break}if(_.type=="ERROR"){d=_;break}_=_.parent}if(m!=null){if(!m.parent||!this.nodeMatch[m.parent.type])return!1;if(this.languageId=="python"){let b=m.previousSibling;if(b!=null&&b.hasError()&&(b.text.startsWith('"""')||b.text.startsWith("'''")))return!0}return this.isBlockEmpty(m,o)}if(d!=null){if(((u=d.previousSibling)==null?void 0:u.type)=="module"||((i=d.previousSibling)==null?void 0:i.type)=="internal_module"||((s=d.previousSibling)==null?void 0:s.type)=="def")return!0;let b=[...d.children].reverse(),y=b.find(w=>this.startKeywords.includes(w.type)),x=b.find(w=>w.type==this.blockNodeType);if(y){switch(this.languageId){case"python":{y.type=="try"&&c.type=="identifier"&&c.text.length>4&&(x=(l=b.find(T=>T.hasError()))==null?void 0:l.children.find(T=>T.type=="block"));let w,L=0;for(let T of d.children){if(T.type==":"&&L==0){w=T;break}T.type=="("&&(L+=1),T.type==")"&&(L-=1)}if(w&&y.endIndex<=w.startIndex&&w.nextSibling){if(y.type=="def"){let T=w.nextSibling;if(T.type=='"'||T.type=="'"||T.type=="ERROR"&&(T.text=='"""'||T.text=="'''"))return!0}return!1}break}case"javascript":{let w=b.find(M=>M.type=="formal_parameters");if(y.type=="class"&&w)return!0;let L=b.find(M=>M.type=="{");if(L&&L.startIndex>y.endIndex&&L.nextSibling!=null||b.find(M=>M.type=="do")&&y.type=="while"||y.type=="=>"&&y.nextSibling&&y.nextSibling.type!="{")return!1;break}case"typescript":{let w=b.find(T=>T.type=="{");if(w&&w.startIndex>y.endIndex&&w.nextSibling!=null||b.find(T=>T.type=="do")&&y.type=="while"||y.type=="=>"&&y.nextSibling&&y.nextSibling.type!="{")return!1;break}}return x&&x.startIndex>y.endIndex?this.isBlockEmpty(x,o):!0}}if(f!=null){let b=this.nodeMatch[f.type],y=f.children.slice().reverse().find(x=>x.type==b);if(y)return this.isBlockEmpty(y,o);if(this.nodeTypesWithBlockOrStmtChild.has(f.type)){let x=this.nodeTypesWithBlockOrStmtChild.get(f.type),w=x==""?f.children[0]:f.childForFieldName(x);if(w&&w.type!=this.blockNodeType&&w.type!=this.emptyStatementType)return!1}return!0}return!1}finally{a.delete()}}};n(Fi,"TreeSitterBasedBlockParser");var Et=Fi,mk={python:new Et("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new Et("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new Et("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new Et("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new Vn("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new Vn("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new Et("csharp",{},new Map([]),[],"block",null,!0),java:new Et("java",{},new Map([]),[],"block",null,!0)};var Ai=class Ai{constructor(t){this.keys=[];this.cache={};this.size=t}put(t,r){var o;if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let a=(o=this.keys.shift())!=null?o:"";delete this.cache[a]}}get(t){return this.cache[t]}};n(Ai,"FifoCache");var ki=Ai;var Ri=class Ri{constructor(t){var r;this.stopsForLanguage=(r=x_.get(t.languageId))!=null?r:w_}tokenize(t){return new Set(y_(t).filter(r=>!this.stopsForLanguage.has(r)))}};n(Ri,"Tokenizer");var Oi=Ri,ml=new ki(20),Ci=class Ci{constructor(t){this.referenceDoc=t,this.tokenizer=new Oi(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){var t;return(t=this.referenceTokensCache)!=null?t:this.referenceTokensCache=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((o,a)=>o.score>a.score?1:-1):r=="descending"?t.sort((o,a)=>o.score>a.score?-1:1):t}async retrieveAllSnippets(t,r="descending"){var c;let o=[];if(t.source.length===0||(await this.referenceTokens).size===0)return o;let a=t.source.split(`
`),u=this.id()+":"+t.source,i=(c=ml.get(u))!=null?c:[],s=i.length==0,l=s?a.map(d=>this.tokenizer.tokenize(d),this.tokenizer):[];for(let[d,[m,f]]of this.getWindowsDelineations(a).entries()){if(s){let y=new Set;l.slice(m,f).forEach(x=>x.forEach(w=>y.add(w),y)),i.push(y)}let _=i[d],b=this.similarityScore(_,await this.referenceTokens);if(o.length&&m>0&&o[o.length-1].endLine>m){o[o.length-1].score<b&&(o[o.length-1].score=b,o[o.length-1].startLine=m,o[o.length-1].endLine=f);continue}o.push({score:b,startLine:m,endLine:f})}return s&&ml.put(u,i),this.sortScoredSnippets(o,r)}findMatches(t,r){return this.findBestMatch(t,r)}async findBestMatch(t,r){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let o=t.source.split(`
`),a=await this.retrieveAllSnippets(t,"descending");if(a.length===0)return[];let u=[];for(let i=0;i<a.length&&i<r;i++)if(a[i].score!==0){let s=o.slice(a[i].startLine,a[i].endLine).join(`
`);u.push({snippet:s,semantics:"snippet",provider:"similar-files",...a[i]})}return u}};n(Ci,"WindowedMatcher");var pr=Ci;function y_(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}n(y_,"splitIntoWords");var I_=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),w_=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...I_]),x_=new Map([]);function Wn(e,t){let r=[],o=t.length;if(o==0)return[];if(o<e)return[[0,o]];for(let a=0;a<o-e+1;a++)r.push([a,a+e]);return r}n(Wn,"getBasicWindowDelineations");var Zr=class Zr extends pr{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return Wn(this.windowLength,t)}_getCursorContextInfo(t){return zt(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return S_(t,r)}};n(Zr,"FixedWindowSizeJaccardMatcher"),Zr.FACTORY=n(t=>({to:n(r=>new Zr(r,t),"to")}),"FACTORY");var Gn=Zr;function S_(e,t){let r=new Set;return e.forEach(o=>{t.has(o)&&r.add(o)}),r.size/(e.size+t.size-r.size)}n(S_,"computeScore");var Tt=class Tt extends pr{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return Wn(this.windowLength,t)}_getCursorContextInfo(t){return zt(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=Tt.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){var a;let t=(a=await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))==null?void 0:a.startIndex,r=this.referenceDoc.offset,o=t?this.referenceDoc.source.slice(t,r):zt(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(o)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,r){return E_(t,r)}async getEnclosingMemberStart(t,r){var a;let o;try{o=await qr(this.referenceDoc.languageId,t);let u=o.rootNode.namedDescendantForIndex(r);for(;u&&!(Tt.isMember(u)||Tt.isBlock(u));)u=(a=u.parent)!=null?a:void 0;return u}finally{o==null||o.delete()}}static isMember(t){switch(t==null?void 0:t.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t==null?void 0:t.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};n(Tt,"BlockTokenSubsetMatcher"),Tt.FACTORY=n(t=>({to:n(r=>new Tt(r,t),"to")}),"FACTORY");var $n=Tt;function E_(e,t){let r=new Set;return t.forEach(o=>{e.has(o)&&r.add(o)}),r.size}n(E_,"computeScore");function T_(e,t){return(t.useSubsetMatching?$n.FACTORY(t.snippetLength):Gn.FACTORY(t.snippetLength)).to(e)}n(T_,"getMatcher");async function pl(e,t,r){let o=T_(e,r);return r.maxTopSnippets===0?[]:(await t.filter(u=>u.source.length<r.maxCharPerFile&&u.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(u,i)=>(await u).concat((await o.findMatches(i,r.maxSnippetsPerFile)).map(s=>({relativePath:i.relativePath,...s}))),Promise.resolve([]))).filter(u=>u.score&&u.snippet&&u.score>r.threshold).sort((u,i)=>u.score-i.score).slice(-r.maxTopSnippets)}n(pl,"getSimilarSnippets");var Yn=on(require("path")),tt=require("worker_threads");function Zl(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}n(Zl,"sleep");var is=["getSimilarSnippets","sleep"],ss=class ss{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=pl;this.sleep=Zl;var t;!tt.isMainThread&&((t=tt.workerData)!=null&&t.port)&&(ql(),process.cwd=()=>tt.workerData.cwd,this.configureWorkerResponse(tt.workerData.port))}initWorker(){let{port1:t,port2:r}=new tt.MessageChannel;this.port=t,this.worker=new tt.Worker(Yn.default.resolve(Yn.default.extname(__filename)!==".ts"?__dirname:Yn.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",o=>this.handleMessage(o)),this.port.on("error",o=>this.handleError(o))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of is)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of is){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",r=>void this.onMessage(r))}async onMessage({id:t,fn:r,args:o}){let a=this[r];if(!a)throw new Error(`Function not found: ${r}`);try{let u=await a.apply(this,o);this.port.postMessage({id:t,res:u})}catch(u){if(!(u instanceof Error))throw u;typeof u.code=="string"?this.port.postMessage({id:t,err:u,code:u.code}):this.port.postMessage({id:t,err:u})}}handleMessage({id:t,err:r,code:o,res:a}){let u=this.handlers.get(t);u&&(this.handlers.delete(t),r?(r.code=o,u.reject(r)):u.resolve(a))}handleError(t){var o;let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&((o=r.message)!=null&&o.endsWith("workerProxy.js'"))&&(r=new ct("Failed to load workerProxy.js"));let a=new Error().stack;r.stack&&(a!=null&&a.match(/^Error\n/))&&(r.stack+=a.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&t.name==="ExitStatus"&&"status"in t&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let a of this.handlers.values())a.reject(r);throw r}proxy(t){this[t]=function(...r){let o=this.nextHandlerId++;return new Promise((a,u)=>{var i;this.handlers.set(o,{resolve:a,reject:u}),(i=this.port)==null||i.postMessage({id:o,fn:t,args:r})})}}};n(ss,"WorkerProxy");var tn=ss,Bn=new tn,cg=n(()=>{Bn.stopThreading(),Bn=new tn},"reset");0&&(module.exports={WorkerProxy,reset,sleep,workerFns,workerProxy});
//# sourceMappingURL=workerProxy.js.map
