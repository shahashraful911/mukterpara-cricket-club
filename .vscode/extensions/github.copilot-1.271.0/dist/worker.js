"use strict";var vg=Object.create;var Fn=Object.defineProperty;var Mg=Object.getOwnPropertyDescriptor;var Lg=Object.getOwnPropertyNames;var Pg=Object.getPrototypeOf,Ng=Object.prototype.hasOwnProperty;var n=(e,t)=>Fn(e,"name",{value:t,configurable:!0});var d=(e,t)=>()=>(e&&(t=e(e=0)),t);var ne=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Vr=(e,t)=>{for(var r in t)Fn(e,r,{get:t[r],enumerable:!0})},cc=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Lg(t))!Ng.call(e,a)&&a!==r&&Fn(e,a,{get:()=>t[a],enumerable:!(o=Mg(t,a))||o.enumerable});return e};var kn=(e,t,r)=>(r=e!=null?vg(Pg(e)):{},cc(t||!e||!e.__esModule?Fn(r,"default",{value:e,enumerable:!0}):r,e)),Fg=e=>cc(Fn({},"__esModule",{value:!0}),e);var pc=ne(vs=>{var mc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");vs.encode=function(e){if(0<=e&&e<mc.length)return mc[e];throw new TypeError("Must be between 0 and 63: "+e)};vs.decode=function(e){var t=65,r=90,o=97,a=122,u=48,i=57,s=43,l=47,c=26,m=52;return t<=e&&e<=r?e-t:o<=e&&e<=a?e-o+c:u<=e&&e<=i?e-u+m:e==s?62:e==l?63:-1}});var Ps=ne(Ls=>{var dc=pc(),Ms=5,fc=1<<Ms,_c=fc-1,gc=fc;function kg(e){return e<0?(-e<<1)+1:(e<<1)+0}n(kg,"toVLQSigned");function Og(e){var t=(e&1)===1,r=e>>1;return t?-r:r}n(Og,"fromVLQSigned");Ls.encode=n(function(t){var r="",o,a=kg(t);do o=a&_c,a>>>=Ms,a>0&&(o|=gc),r+=dc.encode(o);while(a>0);return r},"base64VLQ_encode");Ls.decode=n(function(t,r,o){var a=t.length,u=0,i=0,s,l;do{if(r>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(l=dc.decode(t.charCodeAt(r++)),l===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));s=!!(l&gc),l&=_c,u=u+(l<<i),i+=Ms}while(s);o.value=Og(u),o.rest=r},"base64VLQ_decode")});var $r=ne(Ee=>{function Rg(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}n(Rg,"getArg");Ee.getArg=Rg;var hc=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,Ag=/^data:.+\,.+$/;function On(e){var t=e.match(hc);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}n(On,"urlParse");Ee.urlParse=On;function Wr(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}n(Wr,"urlGenerate");Ee.urlGenerate=Wr;function Ns(e){var t=e,r=On(e);if(r){if(!r.path)return e;t=r.path}for(var o=Ee.isAbsolute(t),a=t.split(/\/+/),u,i=0,s=a.length-1;s>=0;s--)u=a[s],u==="."?a.splice(s,1):u===".."?i++:i>0&&(u===""?(a.splice(s+1,i),i=0):(a.splice(s,2),i--));return t=a.join("/"),t===""&&(t=o?"/":"."),r?(r.path=t,Wr(r)):t}n(Ns,"normalize");Ee.normalize=Ns;function yc(e,t){e===""&&(e="."),t===""&&(t=".");var r=On(t),o=On(e);if(o&&(e=o.path||"/"),r&&!r.scheme)return o&&(r.scheme=o.scheme),Wr(r);if(r||t.match(Ag))return t;if(o&&!o.host&&!o.path)return o.host=t,Wr(o);var a=t.charAt(0)==="/"?t:Ns(e.replace(/\/+$/,"")+"/"+t);return o?(o.path=a,Wr(o)):a}n(yc,"join");Ee.join=yc;Ee.isAbsolute=function(e){return e.charAt(0)==="/"||hc.test(e)};function Cg(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var o=e.lastIndexOf("/");if(o<0||(e=e.slice(0,o),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}n(Cg,"relative");Ee.relative=Cg;var bc=function(){var e=Object.create(null);return!("__proto__"in e)}();function Ic(e){return e}n(Ic,"identity");function Ug(e){return xc(e)?"$"+e:e}n(Ug,"toSetString");Ee.toSetString=bc?Ic:Ug;function Bg(e){return xc(e)?e.slice(1):e}n(Bg,"fromSetString");Ee.fromSetString=bc?Ic:Bg;function xc(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}n(xc,"isProtoString");function Dg(e,t,r){var o=Gr(e.source,t.source);return o!==0||(o=e.originalLine-t.originalLine,o!==0)||(o=e.originalColumn-t.originalColumn,o!==0||r)||(o=e.generatedColumn-t.generatedColumn,o!==0)||(o=e.generatedLine-t.generatedLine,o!==0)?o:Gr(e.name,t.name)}n(Dg,"compareByOriginalPositions");Ee.compareByOriginalPositions=Dg;function jg(e,t,r){var o=e.generatedLine-t.generatedLine;return o!==0||(o=e.generatedColumn-t.generatedColumn,o!==0||r)||(o=Gr(e.source,t.source),o!==0)||(o=e.originalLine-t.originalLine,o!==0)||(o=e.originalColumn-t.originalColumn,o!==0)?o:Gr(e.name,t.name)}n(jg,"compareByGeneratedPositionsDeflated");Ee.compareByGeneratedPositionsDeflated=jg;function Gr(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}n(Gr,"strcmp");function Kg(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=Gr(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:Gr(e.name,t.name)}n(Kg,"compareByGeneratedPositionsInflated");Ee.compareByGeneratedPositionsInflated=Kg;function Vg(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}n(Vg,"parseSourceMapInput");Ee.parseSourceMapInput=Vg;function Wg(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var o=On(r);if(!o)throw new Error("sourceMapURL could not be parsed");if(o.path){var a=o.path.lastIndexOf("/");a>=0&&(o.path=o.path.substring(0,a+1))}t=yc(Wr(o),t)}return Ns(t)}n(Wg,"computeSourceURL");Ee.computeSourceURL=Wg});var Os=ne(wc=>{var Fs=$r(),ks=Object.prototype.hasOwnProperty,br=typeof Map<"u";function Nt(){this._array=[],this._set=br?new Map:Object.create(null)}n(Nt,"ArraySet");Nt.fromArray=n(function(t,r){for(var o=new Nt,a=0,u=t.length;a<u;a++)o.add(t[a],r);return o},"ArraySet_fromArray");Nt.prototype.size=n(function(){return br?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");Nt.prototype.add=n(function(t,r){var o=br?t:Fs.toSetString(t),a=br?this.has(t):ks.call(this._set,o),u=this._array.length;(!a||r)&&this._array.push(t),a||(br?this._set.set(t,u):this._set[o]=u)},"ArraySet_add");Nt.prototype.has=n(function(t){if(br)return this._set.has(t);var r=Fs.toSetString(t);return ks.call(this._set,r)},"ArraySet_has");Nt.prototype.indexOf=n(function(t){if(br){var r=this._set.get(t);if(r>=0)return r}else{var o=Fs.toSetString(t);if(ks.call(this._set,o))return this._set[o]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");Nt.prototype.at=n(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");Nt.prototype.toArray=n(function(){return this._array.slice()},"ArraySet_toArray");wc.ArraySet=Nt});var Tc=ne(Ec=>{var Sc=$r();function Gg(e,t){var r=e.generatedLine,o=t.generatedLine,a=e.generatedColumn,u=t.generatedColumn;return o>r||o==r&&u>=a||Sc.compareByGeneratedPositionsInflated(e,t)<=0}n(Gg,"generatedPositionAfter");function Fo(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}n(Fo,"MappingList");Fo.prototype.unsortedForEach=n(function(t,r){this._array.forEach(t,r)},"MappingList_forEach");Fo.prototype.add=n(function(t){Gg(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");Fo.prototype.toArray=n(function(){return this._sorted||(this._array.sort(Sc.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");Ec.MappingList=Fo});var Rs=ne(vc=>{var Rn=Ps(),le=$r(),ko=Os().ArraySet,$g=Tc().MappingList;function qe(e){e||(e={}),this._file=le.getArg(e,"file",null),this._sourceRoot=le.getArg(e,"sourceRoot",null),this._skipValidation=le.getArg(e,"skipValidation",!1),this._sources=new ko,this._names=new ko,this._mappings=new $g,this._sourcesContents=null}n(qe,"SourceMapGenerator");qe.prototype._version=3;qe.fromSourceMap=n(function(t){var r=t.sourceRoot,o=new qe({file:t.file,sourceRoot:r});return t.eachMapping(function(a){var u={generated:{line:a.generatedLine,column:a.generatedColumn}};a.source!=null&&(u.source=a.source,r!=null&&(u.source=le.relative(r,u.source)),u.original={line:a.originalLine,column:a.originalColumn},a.name!=null&&(u.name=a.name)),o.addMapping(u)}),t.sources.forEach(function(a){var u=a;r!==null&&(u=le.relative(r,a)),o._sources.has(u)||o._sources.add(u);var i=t.sourceContentFor(a);i!=null&&o.setSourceContent(a,i)}),o},"SourceMapGenerator_fromSourceMap");qe.prototype.addMapping=n(function(t){var r=le.getArg(t,"generated"),o=le.getArg(t,"original",null),a=le.getArg(t,"source",null),u=le.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,o,a,u),a!=null&&(a=String(a),this._sources.has(a)||this._sources.add(a)),u!=null&&(u=String(u),this._names.has(u)||this._names.add(u)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:o!=null&&o.line,originalColumn:o!=null&&o.column,source:a,name:u})},"SourceMapGenerator_addMapping");qe.prototype.setSourceContent=n(function(t,r){var o=t;this._sourceRoot!=null&&(o=le.relative(this._sourceRoot,o)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[le.toSetString(o)]=r):this._sourcesContents&&(delete this._sourcesContents[le.toSetString(o)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");qe.prototype.applySourceMap=n(function(t,r,o){var a=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);a=t.file}var u=this._sourceRoot;u!=null&&(a=le.relative(u,a));var i=new ko,s=new ko;this._mappings.unsortedForEach(function(l){if(l.source===a&&l.originalLine!=null){var c=t.originalPositionFor({line:l.originalLine,column:l.originalColumn});c.source!=null&&(l.source=c.source,o!=null&&(l.source=le.join(o,l.source)),u!=null&&(l.source=le.relative(u,l.source)),l.originalLine=c.line,l.originalColumn=c.column,c.name!=null&&(l.name=c.name))}var m=l.source;m!=null&&!i.has(m)&&i.add(m);var p=l.name;p!=null&&!s.has(p)&&s.add(p)},this),this._sources=i,this._names=s,t.sources.forEach(function(l){var c=t.sourceContentFor(l);c!=null&&(o!=null&&(l=le.join(o,l)),u!=null&&(l=le.relative(u,l)),this.setSourceContent(l,c))},this)},"SourceMapGenerator_applySourceMap");qe.prototype._validateMapping=n(function(t,r,o,a){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!o&&!a)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&o)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:o,original:r,name:a}))}},"SourceMapGenerator_validateMapping");qe.prototype._serializeMappings=n(function(){for(var t=0,r=1,o=0,a=0,u=0,i=0,s="",l,c,m,p,f=this._mappings.toArray(),g=0,h=f.length;g<h;g++){if(c=f[g],l="",c.generatedLine!==r)for(t=0;c.generatedLine!==r;)l+=";",r++;else if(g>0){if(!le.compareByGeneratedPositionsInflated(c,f[g-1]))continue;l+=","}l+=Rn.encode(c.generatedColumn-t),t=c.generatedColumn,c.source!=null&&(p=this._sources.indexOf(c.source),l+=Rn.encode(p-i),i=p,l+=Rn.encode(c.originalLine-1-a),a=c.originalLine-1,l+=Rn.encode(c.originalColumn-o),o=c.originalColumn,c.name!=null&&(m=this._names.indexOf(c.name),l+=Rn.encode(m-u),u=m)),s+=l}return s},"SourceMapGenerator_serializeMappings");qe.prototype._generateSourcesContent=n(function(t,r){return t.map(function(o){if(!this._sourcesContents)return null;r!=null&&(o=le.relative(r,o));var a=le.toSetString(o);return Object.prototype.hasOwnProperty.call(this._sourcesContents,a)?this._sourcesContents[a]:null},this)},"SourceMapGenerator_generateSourcesContent");qe.prototype.toJSON=n(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");qe.prototype.toString=n(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");vc.SourceMapGenerator=qe});var Mc=ne(Ir=>{Ir.GREATEST_LOWER_BOUND=1;Ir.LEAST_UPPER_BOUND=2;function As(e,t,r,o,a,u){var i=Math.floor((t-e)/2)+e,s=a(r,o[i],!0);return s===0?i:s>0?t-i>1?As(i,t,r,o,a,u):u==Ir.LEAST_UPPER_BOUND?t<o.length?t:-1:i:i-e>1?As(e,i,r,o,a,u):u==Ir.LEAST_UPPER_BOUND?i:e<0?-1:e}n(As,"recursiveSearch");Ir.search=n(function(t,r,o,a){if(r.length===0)return-1;var u=As(-1,r.length,t,r,o,a||Ir.GREATEST_LOWER_BOUND);if(u<0)return-1;for(;u-1>=0&&o(r[u],r[u-1],!0)===0;)--u;return u},"search")});var Pc=ne(Lc=>{function Cs(e,t,r){var o=e[t];e[t]=e[r],e[r]=o}n(Cs,"swap");function zg(e,t){return Math.round(e+Math.random()*(t-e))}n(zg,"randomIntInRange");function Us(e,t,r,o){if(r<o){var a=zg(r,o),u=r-1;Cs(e,a,o);for(var i=e[o],s=r;s<o;s++)t(e[s],i)<=0&&(u+=1,Cs(e,u,s));Cs(e,u+1,s);var l=u+1;Us(e,t,r,l-1),Us(e,t,l+1,o)}}n(Us,"doQuickSort");Lc.quickSort=function(e,t){Us(e,t,0,e.length-1)}});var Fc=ne(Oo=>{var v=$r(),Bs=Mc(),zr=Os().ArraySet,Hg=Ps(),An=Pc().quickSort;function X(e,t){var r=e;return typeof e=="string"&&(r=v.parseSourceMapInput(e)),r.sections!=null?new ot(r,t):new xe(r,t)}n(X,"SourceMapConsumer");X.fromSourceMap=function(e,t){return xe.fromSourceMap(e,t)};X.prototype._version=3;X.prototype.__generatedMappings=null;Object.defineProperty(X.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:n(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});X.prototype.__originalMappings=null;Object.defineProperty(X.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:n(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});X.prototype._charIsMappingSeparator=n(function(t,r){var o=t.charAt(r);return o===";"||o===","},"SourceMapConsumer_charIsMappingSeparator");X.prototype._parseMappings=n(function(t,r){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");X.GENERATED_ORDER=1;X.ORIGINAL_ORDER=2;X.GREATEST_LOWER_BOUND=1;X.LEAST_UPPER_BOUND=2;X.prototype.eachMapping=n(function(t,r,o){var a=r||null,u=o||X.GENERATED_ORDER,i;switch(u){case X.GENERATED_ORDER:i=this._generatedMappings;break;case X.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;i.map(function(l){var c=l.source===null?null:this._sources.at(l.source);return c=v.computeSourceURL(s,c,this._sourceMapURL),{source:c,generatedLine:l.generatedLine,generatedColumn:l.generatedColumn,originalLine:l.originalLine,originalColumn:l.originalColumn,name:l.name===null?null:this._names.at(l.name)}},this).forEach(t,a)},"SourceMapConsumer_eachMapping");X.prototype.allGeneratedPositionsFor=n(function(t){var r=v.getArg(t,"line"),o={source:v.getArg(t,"source"),originalLine:r,originalColumn:v.getArg(t,"column",0)};if(o.source=this._findSourceIndex(o.source),o.source<0)return[];var a=[],u=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",v.compareByOriginalPositions,Bs.LEAST_UPPER_BOUND);if(u>=0){var i=this._originalMappings[u];if(t.column===void 0)for(var s=i.originalLine;i&&i.originalLine===s;)a.push({line:v.getArg(i,"generatedLine",null),column:v.getArg(i,"generatedColumn",null),lastColumn:v.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++u];else for(var l=i.originalColumn;i&&i.originalLine===r&&i.originalColumn==l;)a.push({line:v.getArg(i,"generatedLine",null),column:v.getArg(i,"generatedColumn",null),lastColumn:v.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++u]}return a},"SourceMapConsumer_allGeneratedPositionsFor");Oo.SourceMapConsumer=X;function xe(e,t){var r=e;typeof e=="string"&&(r=v.parseSourceMapInput(e));var o=v.getArg(r,"version"),a=v.getArg(r,"sources"),u=v.getArg(r,"names",[]),i=v.getArg(r,"sourceRoot",null),s=v.getArg(r,"sourcesContent",null),l=v.getArg(r,"mappings"),c=v.getArg(r,"file",null);if(o!=this._version)throw new Error("Unsupported version: "+o);i&&(i=v.normalize(i)),a=a.map(String).map(v.normalize).map(function(m){return i&&v.isAbsolute(i)&&v.isAbsolute(m)?v.relative(i,m):m}),this._names=zr.fromArray(u.map(String),!0),this._sources=zr.fromArray(a,!0),this._absoluteSources=this._sources.toArray().map(function(m){return v.computeSourceURL(i,m,t)}),this.sourceRoot=i,this.sourcesContent=s,this._mappings=l,this._sourceMapURL=t,this.file=c}n(xe,"BasicSourceMapConsumer");xe.prototype=Object.create(X.prototype);xe.prototype.consumer=X;xe.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=v.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};xe.fromSourceMap=n(function(t,r){var o=Object.create(xe.prototype),a=o._names=zr.fromArray(t._names.toArray(),!0),u=o._sources=zr.fromArray(t._sources.toArray(),!0);o.sourceRoot=t._sourceRoot,o.sourcesContent=t._generateSourcesContent(o._sources.toArray(),o.sourceRoot),o.file=t._file,o._sourceMapURL=r,o._absoluteSources=o._sources.toArray().map(function(g){return v.computeSourceURL(o.sourceRoot,g,r)});for(var i=t._mappings.toArray().slice(),s=o.__generatedMappings=[],l=o.__originalMappings=[],c=0,m=i.length;c<m;c++){var p=i[c],f=new Nc;f.generatedLine=p.generatedLine,f.generatedColumn=p.generatedColumn,p.source&&(f.source=u.indexOf(p.source),f.originalLine=p.originalLine,f.originalColumn=p.originalColumn,p.name&&(f.name=a.indexOf(p.name)),l.push(f)),s.push(f)}return An(o.__originalMappings,v.compareByOriginalPositions),o},"SourceMapConsumer_fromSourceMap");xe.prototype._version=3;Object.defineProperty(xe.prototype,"sources",{get:n(function(){return this._absoluteSources.slice()},"get")});function Nc(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}n(Nc,"Mapping");xe.prototype._parseMappings=n(function(t,r){for(var o=1,a=0,u=0,i=0,s=0,l=0,c=t.length,m=0,p={},f={},g=[],h=[],I,x,w,F,M;m<c;)if(t.charAt(m)===";")o++,m++,a=0;else if(t.charAt(m)===",")m++;else{for(I=new Nc,I.generatedLine=o,F=m;F<c&&!this._charIsMappingSeparator(t,F);F++);if(x=t.slice(m,F),w=p[x],w)m+=x.length;else{for(w=[];m<F;)Hg.decode(t,m,f),M=f.value,m=f.rest,w.push(M);if(w.length===2)throw new Error("Found a source, but no line and column");if(w.length===3)throw new Error("Found a source and line, but no column");p[x]=w}I.generatedColumn=a+w[0],a=I.generatedColumn,w.length>1&&(I.source=s+w[1],s+=w[1],I.originalLine=u+w[2],u=I.originalLine,I.originalLine+=1,I.originalColumn=i+w[3],i=I.originalColumn,w.length>4&&(I.name=l+w[4],l+=w[4])),h.push(I),typeof I.originalLine=="number"&&g.push(I)}An(h,v.compareByGeneratedPositionsDeflated),this.__generatedMappings=h,An(g,v.compareByOriginalPositions),this.__originalMappings=g},"SourceMapConsumer_parseMappings");xe.prototype._findMapping=n(function(t,r,o,a,u,i){if(t[o]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[o]);if(t[a]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[a]);return Bs.search(t,r,u,i)},"SourceMapConsumer_findMapping");xe.prototype.computeColumnSpans=n(function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var o=this._generatedMappings[t+1];if(r.generatedLine===o.generatedLine){r.lastGeneratedColumn=o.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");xe.prototype.originalPositionFor=n(function(t){var r={generatedLine:v.getArg(t,"line"),generatedColumn:v.getArg(t,"column")},o=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",v.compareByGeneratedPositionsDeflated,v.getArg(t,"bias",X.GREATEST_LOWER_BOUND));if(o>=0){var a=this._generatedMappings[o];if(a.generatedLine===r.generatedLine){var u=v.getArg(a,"source",null);u!==null&&(u=this._sources.at(u),u=v.computeSourceURL(this.sourceRoot,u,this._sourceMapURL));var i=v.getArg(a,"name",null);return i!==null&&(i=this._names.at(i)),{source:u,line:v.getArg(a,"originalLine",null),column:v.getArg(a,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");xe.prototype.hasContentsOfAllSources=n(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");xe.prototype.sourceContentFor=n(function(t,r){if(!this.sourcesContent)return null;var o=this._findSourceIndex(t);if(o>=0)return this.sourcesContent[o];var a=t;this.sourceRoot!=null&&(a=v.relative(this.sourceRoot,a));var u;if(this.sourceRoot!=null&&(u=v.urlParse(this.sourceRoot))){var i=a.replace(/^file:\/\//,"");if(u.scheme=="file"&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!u.path||u.path=="/")&&this._sources.has("/"+a))return this.sourcesContent[this._sources.indexOf("/"+a)]}if(r)return null;throw new Error('"'+a+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");xe.prototype.generatedPositionFor=n(function(t){var r=v.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var o={source:r,originalLine:v.getArg(t,"line"),originalColumn:v.getArg(t,"column")},a=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",v.compareByOriginalPositions,v.getArg(t,"bias",X.GREATEST_LOWER_BOUND));if(a>=0){var u=this._originalMappings[a];if(u.source===o.source)return{line:v.getArg(u,"generatedLine",null),column:v.getArg(u,"generatedColumn",null),lastColumn:v.getArg(u,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");Oo.BasicSourceMapConsumer=xe;function ot(e,t){var r=e;typeof e=="string"&&(r=v.parseSourceMapInput(e));var o=v.getArg(r,"version"),a=v.getArg(r,"sections");if(o!=this._version)throw new Error("Unsupported version: "+o);this._sources=new zr,this._names=new zr;var u={line:-1,column:0};this._sections=a.map(function(i){if(i.url)throw new Error("Support for url field in sections not implemented.");var s=v.getArg(i,"offset"),l=v.getArg(s,"line"),c=v.getArg(s,"column");if(l<u.line||l===u.line&&c<u.column)throw new Error("Section offsets must be ordered and non-overlapping.");return u=s,{generatedOffset:{generatedLine:l+1,generatedColumn:c+1},consumer:new X(v.getArg(i,"map"),t)}})}n(ot,"IndexedSourceMapConsumer");ot.prototype=Object.create(X.prototype);ot.prototype.constructor=X;ot.prototype._version=3;Object.defineProperty(ot.prototype,"sources",{get:n(function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e},"get")});ot.prototype.originalPositionFor=n(function(t){var r={generatedLine:v.getArg(t,"line"),generatedColumn:v.getArg(t,"column")},o=Bs.search(r,this._sections,function(u,i){var s=u.generatedLine-i.generatedOffset.generatedLine;return s||u.generatedColumn-i.generatedOffset.generatedColumn}),a=this._sections[o];return a?a.consumer.originalPositionFor({line:r.generatedLine-(a.generatedOffset.generatedLine-1),column:r.generatedColumn-(a.generatedOffset.generatedLine===r.generatedLine?a.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");ot.prototype.hasContentsOfAllSources=n(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");ot.prototype.sourceContentFor=n(function(t,r){for(var o=0;o<this._sections.length;o++){var a=this._sections[o],u=a.consumer.sourceContentFor(t,!0);if(u)return u}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");ot.prototype.generatedPositionFor=n(function(t){for(var r=0;r<this._sections.length;r++){var o=this._sections[r];if(o.consumer._findSourceIndex(v.getArg(t,"source"))!==-1){var a=o.consumer.generatedPositionFor(t);if(a){var u={line:a.line+(o.generatedOffset.generatedLine-1),column:a.column+(o.generatedOffset.generatedLine===a.line?o.generatedOffset.generatedColumn-1:0)};return u}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");ot.prototype._parseMappings=n(function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var o=0;o<this._sections.length;o++)for(var a=this._sections[o],u=a.consumer._generatedMappings,i=0;i<u.length;i++){var s=u[i],l=a.consumer._sources.at(s.source);l=v.computeSourceURL(a.consumer.sourceRoot,l,this._sourceMapURL),this._sources.add(l),l=this._sources.indexOf(l);var c=null;s.name&&(c=a.consumer._names.at(s.name),this._names.add(c),c=this._names.indexOf(c));var m={source:l,generatedLine:s.generatedLine+(a.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(a.generatedOffset.generatedLine===s.generatedLine?a.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:c};this.__generatedMappings.push(m),typeof m.originalLine=="number"&&this.__originalMappings.push(m)}An(this.__generatedMappings,v.compareByGeneratedPositionsDeflated),An(this.__originalMappings,v.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");Oo.IndexedSourceMapConsumer=ot});var Oc=ne(kc=>{var qg=Rs().SourceMapGenerator,Ro=$r(),Zg=/(\r?\n)/,Jg=10,Hr="$$$isSourceNode$$$";function je(e,t,r,o,a){this.children=[],this.sourceContents={},this.line=e==null?null:e,this.column=t==null?null:t,this.source=r==null?null:r,this.name=a==null?null:a,this[Hr]=!0,o!=null&&this.add(o)}n(je,"SourceNode");je.fromStringWithSourceMap=n(function(t,r,o){var a=new je,u=t.split(Zg),i=0,s=n(function(){var f=h(),g=h()||"";return f+g;function h(){return i<u.length?u[i++]:void 0}},"shiftNextLine"),l=1,c=0,m=null;return r.eachMapping(function(f){if(m!==null)if(l<f.generatedLine)p(m,s()),l++,c=0;else{var g=u[i]||"",h=g.substr(0,f.generatedColumn-c);u[i]=g.substr(f.generatedColumn-c),c=f.generatedColumn,p(m,h),m=f;return}for(;l<f.generatedLine;)a.add(s()),l++;if(c<f.generatedColumn){var g=u[i]||"";a.add(g.substr(0,f.generatedColumn)),u[i]=g.substr(f.generatedColumn),c=f.generatedColumn}m=f},this),i<u.length&&(m&&p(m,s()),a.add(u.splice(i).join(""))),r.sources.forEach(function(f){var g=r.sourceContentFor(f);g!=null&&(o!=null&&(f=Ro.join(o,f)),a.setSourceContent(f,g))}),a;function p(f,g){if(f===null||f.source===void 0)a.add(g);else{var h=o?Ro.join(o,f.source):f.source;a.add(new je(f.originalLine,f.originalColumn,h,g,f.name))}}n(p,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");je.prototype.add=n(function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[Hr]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");je.prototype.prepend=n(function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[Hr]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");je.prototype.walk=n(function(t){for(var r,o=0,a=this.children.length;o<a;o++)r=this.children[o],r[Hr]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");je.prototype.join=n(function(t){var r,o,a=this.children.length;if(a>0){for(r=[],o=0;o<a-1;o++)r.push(this.children[o]),r.push(t);r.push(this.children[o]),this.children=r}return this},"SourceNode_join");je.prototype.replaceRight=n(function(t,r){var o=this.children[this.children.length-1];return o[Hr]?o.replaceRight(t,r):typeof o=="string"?this.children[this.children.length-1]=o.replace(t,r):this.children.push("".replace(t,r)),this},"SourceNode_replaceRight");je.prototype.setSourceContent=n(function(t,r){this.sourceContents[Ro.toSetString(t)]=r},"SourceNode_setSourceContent");je.prototype.walkSourceContents=n(function(t){for(var r=0,o=this.children.length;r<o;r++)this.children[r][Hr]&&this.children[r].walkSourceContents(t);for(var a=Object.keys(this.sourceContents),r=0,o=a.length;r<o;r++)t(Ro.fromSetString(a[r]),this.sourceContents[a[r]])},"SourceNode_walkSourceContents");je.prototype.toString=n(function(){var t="";return this.walk(function(r){t+=r}),t},"SourceNode_toString");je.prototype.toStringWithSourceMap=n(function(t){var r={code:"",line:1,column:0},o=new qg(t),a=!1,u=null,i=null,s=null,l=null;return this.walk(function(c,m){r.code+=c,m.source!==null&&m.line!==null&&m.column!==null?((u!==m.source||i!==m.line||s!==m.column||l!==m.name)&&o.addMapping({source:m.source,original:{line:m.line,column:m.column},generated:{line:r.line,column:r.column},name:m.name}),u=m.source,i=m.line,s=m.column,l=m.name,a=!0):a&&(o.addMapping({generated:{line:r.line,column:r.column}}),u=null,a=!1);for(var p=0,f=c.length;p<f;p++)c.charCodeAt(p)===Jg?(r.line++,r.column=0,p+1===f?(u=null,a=!1):a&&o.addMapping({source:m.source,original:{line:m.line,column:m.column},generated:{line:r.line,column:r.column},name:m.name})):r.column++}),this.walkSourceContents(function(c,m){o.setSourceContent(c,m)}),{code:r.code,map:o}},"SourceNode_toStringWithSourceMap");kc.SourceNode=je});var Rc=ne(Ao=>{Ao.SourceMapGenerator=Rs().SourceMapGenerator;Ao.SourceMapConsumer=Fc().SourceMapConsumer;Ao.SourceNode=Oc().SourceNode});var Cc=ne((eE,Ac)=>{var Xg=Object.prototype.toString,Ds=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function Yg(e){return Xg.call(e).slice(8,-1)==="ArrayBuffer"}n(Yg,"isArrayBuffer");function Qg(e,t,r){t>>>=0;var o=e.byteLength-t;if(o<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=o;else if(r>>>=0,r>o)throw new RangeError("'length' is out of bounds");return Ds?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}n(Qg,"fromArrayBuffer");function eh(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return Ds?Buffer.from(e,t):new Buffer(e,t)}n(eh,"fromString");function th(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return Yg(e)?Qg(e,t,r):typeof e=="string"?eh(e,t):Ds?Buffer.from(e):new Buffer(e)}n(th,"bufferFrom");Ac.exports=th});var Gc=ne((wr,Ws)=>{var rh=Rc().SourceMapConsumer,js=require("path"),ht;try{ht=require("fs"),(!ht.existsSync||!ht.readFileSync)&&(ht=null)}catch{}var nh=Cc();function Uc(e,t){return e.require(t)}n(Uc,"dynamicRequire");var Bc=!1,Dc=!1,Ks=!1,Cn="auto",xr={},Un={},oh=/^data:application\/json[^,]+base64,/,Ht=[],qt=[];function Gs(){return Cn==="browser"?!0:Cn==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}n(Gs,"isInBrowser");function ih(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}n(ih,"hasGlobalProcessEventEmitter");function sh(){return typeof process=="object"&&process!==null?process.version:""}n(sh,"globalProcessVersion");function ah(){if(typeof process=="object"&&process!==null)return process.stderr}n(ah,"globalProcessStderr");function uh(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}n(uh,"globalProcessExit");function Co(e){return function(t){for(var r=0;r<e.length;r++){var o=e[r](t);if(o)return o}return null}}n(Co,"handlerExec");var $s=Co(Ht);Ht.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(o,a){return a?"":"/"})),e in xr)return xr[e];var t="";try{if(ht)ht.existsSync(e)&&(t=ht.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),r.readyState===4&&r.status===200&&(t=r.responseText)}}catch{}return xr[e]=t});function Vs(e,t){if(!e)return t;var r=js.dirname(e),o=/^\w+:\/\/[^\/]*/.exec(r),a=o?o[0]:"",u=r.slice(a.length);return a&&/^\/\w\:/.test(u)?(a+="/",a+js.resolve(r.slice(a.length),t).replace(/\\/g,"/")):a+js.resolve(r.slice(a.length),t)}n(Vs,"supportRelativeURL");function lh(e){var t;if(Gs())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=r.readyState===4?r.responseText:null;var o=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(o)return o}catch{}t=$s(e);for(var a=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,u,i;i=a.exec(t);)u=i;return u?u[1]:null}n(lh,"retrieveSourceMapURL");var zs=Co(qt);qt.push(function(e){var t=lh(e);if(!t)return null;var r;if(oh.test(t)){var o=t.slice(t.indexOf(",")+1);r=nh(o,"base64").toString(),t=e}else t=Vs(e,t),r=$s(t);return r?{url:t,map:r}:null});function Hs(e){var t=Un[e.source];if(!t){var r=zs(e.source);r?(t=Un[e.source]={url:r.url,map:new rh(r.map)},t.map.sourcesContent&&t.map.sources.forEach(function(a,u){var i=t.map.sourcesContent[u];if(i){var s=Vs(t.url,a);xr[s]=i}})):t=Un[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var o=t.map.originalPositionFor(e);if(o.source!==null)return o.source=Vs(t.url,o.source),o}return e}n(Hs,"mapSourcePosition");function Kc(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=Hs({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+Kc(t[2])+")":e}n(Kc,"mapEvalOrigin");function ch(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(r!=null){t+=":"+r;var o=this.getColumnNumber();o&&(t+=":"+o)}}var a="",u=this.getFunctionName(),i=!0,s=this.isConstructor(),l=!(this.isToplevel()||s);if(l){var c=this.getTypeName();c==="[object Object]"&&(c="null");var m=this.getMethodName();u?(c&&u.indexOf(c)!=0&&(a+=c+"."),a+=u,m&&u.indexOf("."+m)!=u.length-m.length-1&&(a+=" [as "+m+"]")):a+=c+"."+(m||"<anonymous>")}else s?a+="new "+(u||"<anonymous>"):u?a+=u:(a+=t,i=!1);return i&&(a+=" ("+t+")"),a}n(ch,"CallSiteToString");function jc(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=ch,t}n(jc,"cloneCallSite");function Vc(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var o=e.getLineNumber(),a=e.getColumnNumber()-1,u=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,i=u.test(sh())?0:62;o===1&&a>i&&!Gs()&&!e.isEval()&&(a-=i);var s=Hs({source:r,line:o,column:a});t.curPosition=s,e=jc(e);var l=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?l():t.nextPosition.name||l()},e.getFileName=function(){return s.source},e.getLineNumber=function(){return s.line},e.getColumnNumber=function(){return s.column+1},e.getScriptNameOrSourceURL=function(){return s.source},e}var c=e.isEval()&&e.getEvalOrigin();return c&&(c=Kc(c),e=jc(e),e.getEvalOrigin=function(){return c}),e}n(Vc,"wrapCallSite");function mh(e,t){Ks&&(xr={},Un={});for(var r=e.name||"Error",o=e.message||"",a=r+": "+o,u={nextPosition:null,curPosition:null},i=[],s=t.length-1;s>=0;s--)i.push(`
    at `+Vc(t[s],u)),u.nextPosition=u.curPosition;return u.curPosition=u.nextPosition=null,a+i.reverse().join("")}n(mh,"prepareStackTrace");function Wc(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],o=+t[2],a=+t[3],u=xr[r];if(!u&&ht&&ht.existsSync(r))try{u=ht.readFileSync(r,"utf8")}catch{u=""}if(u){var i=u.split(/(?:\r\n|\r|\n)/)[o-1];if(i)return r+":"+o+`
`+i+`
`+new Array(a).join(" ")+"^"}}return null}n(Wc,"getErrorSource");function ph(e){var t=Wc(e),r=ah();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),uh(1)}n(ph,"printErrorAndExit");function dh(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,o=this.listeners(t).length>0;if(r&&!o)return ph(arguments[1])}return e.apply(this,arguments)}}n(dh,"shimEmitUncaughtException");var fh=Ht.slice(0),_h=qt.slice(0);wr.wrapCallSite=Vc;wr.getErrorSource=Wc;wr.mapSourcePosition=Hs;wr.retrieveSourceMap=zs;wr.install=function(e){if(e=e||{},e.environment&&(Cn=e.environment,["node","browser","auto"].indexOf(Cn)===-1))throw new Error("environment "+Cn+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(Ht.length=0),Ht.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(qt.length=0),qt.unshift(e.retrieveSourceMap)),e.hookRequire&&!Gs()){var t=Uc(Ws,"module"),r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(u,i){return xr[i]=u,Un[i]=void 0,r.call(this,u,i)},t.prototype._compile.__sourceMapSupport=!0)}if(Ks||(Ks="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),Bc||(Bc=!0,Error.prepareStackTrace=mh),!Dc){var o="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var a=Uc(Ws,"worker_threads");a.isMainThread===!1&&(o=!1)}catch{}o&&ih()&&(Dc=!0,dh())}};wr.resetRetrieveHandlers=function(){Ht.length=0,qt.length=0,Ht=fh.slice(0),qt=_h.slice(0),zs=Co(qt),$s=Co(Ht)}});var qs=ne(()=>{Gc().install()});function Uo(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}function Zs(e,t,r,o,a){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:o,label:a}}function Bo(e){return{type:"blank",lineNumber:e,subs:[]}}function Bn(e){return{type:"top",indentation:-1,subs:e!=null?e:[]}}function re(e){return e.type==="blank"}function it(e){return e.type==="line"}function Ke(e){return e.type==="virtual"}function Zt(e){return e.type==="top"}function gh(e,t){function r(o){if(!Ke(o)&&!Zt(o)&&o.lineNumber===t)return o.subs=[],!0;for(let a=0;a<o.subs.length;a++)if(r(o.subs[a]))return o.subs=o.subs.slice(0,a+1),!0;return!1}n(r,"cut"),r(e)}function hh(e){return JSON.parse(JSON.stringify(e))}var Sr=d(()=>{"use strict";n(Uo,"virtualNode");n(Zs,"lineNode");n(Bo,"blankNode");n(Bn,"topNode");n(re,"isBlank");n(it,"isLine");n(Ke,"isVirtual");n(Zt,"isTop");n(gh,"cutTreeAfterLine");n(hh,"duplicateTree")});function $c(e){return oe(e,t=>{t.label=void 0},"bottomUp"),e}function Js(e,t){return oe(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}function yt(e,t){switch(e.type){case"line":case"virtual":{let r=e.subs.map(o=>yt(o,t));return{...e,subs:r,label:e.label?t(e.label):void 0}}case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(r=>yt(r,t)),label:e.label?t(e.label):void 0}}}function yh(e){let t=0;function r(o){!Ke(o)&&!Zt(o)&&(o.lineNumber=t,t++)}n(r,"visitor"),oe(e,r,"topDown")}function oe(e,t,r){function o(a){r==="topDown"&&t(a),a.subs.forEach(u=>{o(u)}),r==="bottomUp"&&t(a)}n(o,"_visit"),o(e)}function bh(e,t,r){function o(a){if(r==="topDown"&&!t(a))return!1;let u=!0;return a.subs.forEach(i=>{u=u&&o(i)}),r==="bottomUp"&&(u=u&&t(a)),u}n(o,"_visit"),o(e)}function Dn(e,t,r,o){let a=t;function u(i){a=r(i,a)}return n(u,"visitor"),oe(e,u,o),a}function jn(e,t,r){let o=n(u=>{if(r!==void 0&&r(u))return u;{let i=u.subs.map(o).filter(s=>s!==void 0);return u.subs=i,t(u)}},"rebuild"),a=o(e);return a!==void 0?a:Bn()}var qr=d(()=>{"use strict";Sr();n($c,"clearLabels");n(Js,"clearLabelsIf");n(yt,"mapLabels");n(yh,"resetLineNumbers");n(oe,"visitTree");n(bh,"visitTreeConditionally");n(Dn,"foldTree");n(jn,"rebuildTree")});function zc(e){let t=e.split(`
`),r=t.map(c=>c.match(/^\s*/)[0].length),o=t.map(c=>c.trimLeft());function a(c){let[m,p]=u(c+1,r[c]);return[Zs(r[c],c,o[c],m),p]}n(a,"parseNode");function u(c,m){let p,f=[],g=c,h;for(;g<o.length&&(o[g]===""||r[g]>m);)if(o[g]==="")h===void 0&&(h=g),g+=1;else{if(h!==void 0){for(let I=h;I<g;I++)f.push(Bo(I));h=void 0}[p,g]=a(g),f.push(p)}return h!==void 0&&(g=h),[f,g]}n(u,"parseSubs");let[i,s]=u(0,-1),l=s;for(;l<o.length&&o[l]==="";)i.push(Bo(l)),l+=1;if(l<o.length)throw new Error(`Parsing did not go to end of file. Ended at ${l} out of ${o.length}`);return Bn(i)}function Zr(e,t){function r(o){if(it(o)){let a=t.find(u=>u.matches(o.sourceLine));a&&(o.label=a.label)}}n(r,"visitor"),oe(e,r,"bottomUp")}function Kn(e){function t(r){if(Ke(r)&&r.label===void 0){let o=r.subs.filter(a=>!re(a));o.length===1&&(r.label=o[0].label)}}n(t,"visitor"),oe(e,t,"bottomUp")}function Jr(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=n(o=>e[t].test(o),"matches"):r=e[t],{matches:r,label:t}})}function Do(e){let r=jn(e,n(function(o){if(o.subs.length===0||o.subs.findIndex(i=>i.label==="closer"||i.label==="opener")===-1)return o;let a=[],u;for(let i=0;i<o.subs.length;i++){let s=o.subs[i],l=o.subs[i-1];if(s.label==="opener"&&l!==void 0&&it(l))l.subs.push(s),s.subs.forEach(c=>l.subs.push(c)),s.subs=[];else if(s.label==="closer"&&u!==void 0&&(it(s)||Ke(s))&&s.indentation>=u.indentation){let c=a.length-1;for(;c>0&&re(a[c]);)c-=1;if(u.subs.push(...a.splice(c+1)),s.subs.length>0){let m=u.subs.findIndex(h=>h.label!=="newVirtual"),p=u.subs.slice(0,m),f=u.subs.slice(m),g=f.length>0?[Uo(s.indentation,f,"newVirtual")]:[];u.subs=[...p,...g,s]}else u.subs.push(s)}else a.push(s),re(s)||(u=s)}return o.subs=a,o},"rebuilder"));return Js(e,o=>o==="newVirtual"),r}function Xs(e,t=re,r){return jn(e,n(function(a){if(a.subs.length<=1)return a;let u=[],i=[],s,l=!1;function c(m=!1){if(s!==void 0&&(u.length>0||!m)){let p=Uo(s,i,r);u.push(p)}else i.forEach(p=>u.push(p))}n(c,"flushBlockIntoNewSubs");for(let m=0;m<a.subs.length;m++){let p=a.subs[m],f=t(p);!f&&l&&(c(),i=[]),l=f,i.push(p),re(p)||(s=s!=null?s:p.indentation)}return c(!0),a.subs=u,a},"rebuilder"))}function bt(e){return jn(e,n(function(r){return Ke(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&Ke(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}function jo(e,t){Hc[e]=t}function Jt(e,t){let r=zc(e),o=Hc[t!=null?t:""];return o?o(r):(Zr(r,xh),Do(r))}var Ih,xh,Hc,Xr=d(()=>{"use strict";Sr();qr();n(zc,"parseRaw");n(Zr,"labelLines");n(Kn,"labelVirtualInherited");n(Jr,"buildLabelRules");n(Do,"combineClosersAndOpeners");n(Xs,"groupBlocks");n(bt,"flattenVirtual");Ih={opener:/^[[({]/,closer:/^[\])}]/},xh=Jr(Ih),Hc={};n(jo,"registerLanguageSpecificParser");n(Jt,"parseTree")});function qc(e){let t=e;return Zr(t,Sh),t=Do(t),t=bt(t),Kn(t),oe(t,r=>{if(r.label==="class"||r.label==="interface")for(let o of r.subs)!re(o)&&(o.label===void 0||o.label==="annotation")&&(o.label="member")},"bottomUp"),t}var wh,Sh,Zc=d(()=>{"use strict";Sr();qr();Xr();wh={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},Sh=Jr(wh);n(qc,"processJava")});function Jc(e){let t=e;if(Zr(t,Th),re(t))return t;function r(u){if(u.label==="heading")return 1;if(u.label==="subheading")return 2;if(u.label==="subsubheading")return 3}n(r,"headingLevel");let o=[t],a=[...t.subs];t.subs=[];for(let u of a){let i=r(u);if(i===void 0||re(u))o[o.length-1].subs.push(u);else{for(;o.length<i;)o.push(o[o.length-1]);for(o[i-1].subs.push(u),o[i]=u;o.length>i+1;)o.pop()}}return t=Xs(t),t=bt(t),Kn(t),t}var Eh,Th,Xc=d(()=>{"use strict";Sr();Xr();Eh={heading:/^# /,subheading:/^## /,subsubheading:/### /},Th=Jr(Eh);n(Jc,"processMarkdown")});function Vn(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}function Yc(e){function t(r,o){let a="";return it(r)?a=Vn(r):re(r)&&(a=`
`),o+a}return n(t,"accumulator"),Dn(e,"",t,"topDown")}function vh(e,t){let r=new Set(t),o=[],a="";function u(i){i.label!==void 0&&r.has(i.label)?(a!==""&&o.push({label:void 0,source:a}),o.push({label:i.label,source:Yc(i)}),a=""):(it(i)&&(a+=Vn(i)),i.subs.forEach(u))}return n(u,"visit"),u(e),a!==""&&o.push({label:void 0,source:a}),o}function Qc(e,t=0){let r=" ".repeat(t);if(e===void 0)return"UNDEFINED NODE";let o;e.subs===void 0?o="UNDEFINED SUBS":o=e.subs.map(i=>Qc(i,t+2)).join(`,
`),o===""?o="[]":o=`[
${o}
      ${r}]`;let a=(Ke(e)||Zt(e)?"   ":String(e.lineNumber).padStart(3," "))+`:  ${r}`,u=e.label===void 0?"":JSON.stringify(e.label);return Ke(e)||Zt(e)?`${a}vnode(${e.indentation}, ${u}, ${o})`:re(e)?`${a}blank(${u!=null?u:""})`:`${a}lnode(${e.indentation}, ${u}, ${JSON.stringify(e.sourceLine)}, ${o})`}function em(e,t=""){let r=e.label===void 0?"":`, ${JSON.stringify(e.label)}`,o=!re(e)&&e.subs.length>0?`[
${e.subs.map(a=>em(a,t+"  ")).join(`, 
`)}
${t}]`:"[]";switch(e.type){case"blank":return`${t}blankNode(${e.lineNumber}${r})`;case"top":return`topNode(${o}${r})`;case"virtual":return`${t}virtualNode(${e.indentation}, ${o}${r})`;case"line":return`${t}lineNode(${e.indentation}, ${e.lineNumber}, "${e.sourceLine}", ${o}${r})`}}function tm(e){if(it(e)||re(e))return e.lineNumber;for(let t of e.subs){let r=tm(t);if(r!==void 0)return r}}function rm(e){let t,r=e.subs.length-1;for(;r>=0&&t===void 0;)t=rm(e.subs[r]),r--;return t===void 0&&!Ke(e)&&!Zt(e)?e.lineNumber:t}var nm=d(()=>{"use strict";Sr();qr();n(Vn,"deparseLine");n(Yc,"deparseTree");n(vh,"deparseAndCutTree");n(Qc,"describeTree");n(em,"encodeTree");n(tm,"firstLineOf");n(rm,"lastLineOf")});var Wn=d(()=>{"use strict";Zc();Xc();Xr();Sr();nm();qr();Xr();jo("markdown",Jc);jo("java",qc)});function Yr(e,t=om){let r=yt(e,o=>o?1:void 0);return oe(r,o=>{var u;if(re(o))return;let a=o.subs.reduce((i,s)=>{var l;return Math.max(i,(l=s.label)!=null?l:0)},0);o.label=Math.max((u=o.label)!=null?u:0,a*t.worthUp)},"bottomUp"),oe(r,o=>{if(re(o))return;let a=o.subs.map(s=>{var l;return(l=s.label)!=null?l:0}),u=[...a];for(let s=0;s<a.length;s++)a[s]!==0&&(u=u.map((l,c)=>Math.max(l,Math.pow(t.worthSibling,Math.abs(s-c))*a[s])));let i=o.label;i!==void 0&&(u=u.map(s=>Math.max(s,t.worthDown*i))),o.subs.forEach((s,l)=>s.label=u[l])},"topDown"),im(r)}function im(e){let t=Dn(e,[],(r,o)=>{var a,u;return(r.type==="line"||r.type==="blank")&&o.push(r.type==="line"?[Vn(r).trimEnd(),(a=r.label)!=null?a:0]:["",(u=r.label)!=null?u:0]),o},"topDown");return new Gn(t)}var om,Ko=d(()=>{"use strict";Ys();Wn();om={worthUp:.9,worthSibling:.88,worthDown:.8};n(Yr,"fromTreeWithFocussedLines");n(im,"fromTreeWithValuedLines")});function Qs(e,t=!0,r=!0){let o=typeof e=="string"?Jt(e):Jt(e.source,e.languageId);bt(o);let a=yt(o,u=>t&&u!=="closer");return oe(a,u=>{u.label===void 0&&(u.label=t&&u.label!==!1)},"topDown"),t&&oe(a,u=>{if(u.label){let i=!1;for(let s of[...u.subs].reverse())s.label&&!i?i=!0:s.label=!1}else for(let i of u.subs)i.label=!1;u.subs.length>0&&(u.label=!1)},"topDown"),r&&oe(a,u=>{u.label||(u.label=(it(u)||re(u))&&u.lineNumber==0)},"topDown"),Yr(a)}var ea=d(()=>{"use strict";Ko();Wn();n(Qs,"elidableTextForSourceCode")});var ta,Xt,Vo=d(()=>{"use strict";ta=class ta extends Error{constructor(r,o){super(r);this.cause=o;this.code="CopilotPromptLoadFailure"}};n(ta,"CopilotPromptLoadFailure");Xt=ta});var sm=ne(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.bytePairEncode=xt.BinaryMap=xt.binaryMapKey=void 0;var Mh=n((e,t,r)=>{let o=r-t,a=16777215>>>Math.max(0,(3-o)*8),u=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&a,i=16777215>>>Math.min(31,Math.max(0,(6-o)*8)),s=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&i;return u+16777216*s},"binaryMapKey");xt.binaryMapKey=Mh;var $n=class $n{constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,o=t.length){var i;let a=o<6+r,u=(0,xt.binaryMapKey)(t,r,o);return a?this.final.get(u):(i=this.nested.get(u))==null?void 0:i.get(t,6+r,o)}set(t,r){let o=(0,xt.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(o,r);return}let u=this.nested.get(o);if(u instanceof $n)u.set(t.subarray(6),r);else{let i=new $n;i.set(t.subarray(6),r),this.nested.set(o,i)}}};n($n,"BinaryMap");var ra=$n;xt.BinaryMap=ra;var It=new Int32Array(128),Le=new Int32Array(128);function Lh(e,t,r){var l;if(r===1)return[t.get(e)];let o=2147483647,a=-1;for(;It.length<r*2;)Le=new Int32Array(Le.length*2),It=new Int32Array(It.length*2);for(let c=0;c<r-1;c++){let m=(l=t.get(e,c,c+2))!=null?l:2147483647;m<o&&(o=m,a=c),Le[c]=c,It[c]=m}Le[r-1]=r-1,It[r-1]=2147483647,Le[r]=r,It[r]=2147483647;let u=r+1;function i(c,m=0){if(c+m+2<u){let p=t.get(e,Le[c],Le[c+m+2]);if(p!==void 0)return p}return 2147483647}for(n(i,"getRank");o!==2147483647;){It[Le[a]]=i(a,1),a>0&&(It[Le[a-1]]=i(a-1,1));for(let c=a+1;c<u-1;c++)Le[c]=Le[c+1];u--,a=-1,o=2147483647;for(let c=0;c<u-1;c++){let m=It[Le[c]];It[Le[c]]<o&&(o=m,a=c)}}let s=[];for(let c=0;c<u-1;c++)s.push(t.get(e,Le[c],Le[c+1]));return s}n(Lh,"bytePairEncode");xt.bytePairEncode=Lh});var am=ne(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.makeTextEncoder=void 0;var ia=class ia{constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}};n(ia,"UniversalTextEncoder");var na=ia,sa=class sa{constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}};n(sa,"NodeTextEncoder");var oa=sa,Ph=n(()=>typeof Buffer<"u"?new oa:new na,"makeTextEncoder");Wo.makeTextEncoder=Ph});var um=ne(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.LRUCache=void 0;var la=class la{constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let o=this.nodes.get(t);if(o)o.value=r,this.moveToHead(o);else{let a=new ua(t,r);this.nodes.set(t,a),this.addNode(a),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};n(la,"LRUCache");var aa=la;Go.LRUCache=aa;var ca=class ca{constructor(t,r){this.key=t,this.value=r}};n(ca,"Node");var ua=ca});var da=ne(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.TikTokenizer=void 0;var Nh=require("fs"),Fh=require("util"),$o=sm(),kh=am(),Oh=um();function Rh(e){let t=new Map;try{let o=Nh.readFileSync(e,"utf-8");return r(o),t}catch(o){throw new Error(`Failed to load from BPE encoder file stream: ${o}`)}function r(o){for(let a of o.split(/[\r\n]+/)){if(a.trim()==="")continue;let u=a.split(" ");if(u.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let i=new Uint8Array(Buffer.from(u[0],"base64")),s=parseInt(u[1]);if(!isNaN(s))t.set(i,s);else throw new Error(`Can't parse ${u[1]} to integer`)}}n(r,"processBpeRanks")}n(Rh,"loadTikTokenBpe");function Ah(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}n(Ah,"escapeRegExp");var pa=class pa{constructor(t,r,o,a=8192){this.textEncoder=(0,kh.makeTextEncoder)(),this.textDecoder=new Fh.TextDecoder("utf-8"),this.cache=new Oh.LRUCache(a);let u=typeof t=="string"?Rh(t):t;this.init(u,r,o)}init(t,r,o){this.encoder=new $o.BinaryMap;for(let[a,u]of t)this.encoder.set(a,u);this.regex=new RegExp(o,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(a=>Ah(a)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[a,u]of t)this.decoder.set(u,a);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[a,u]of r)this.specialTokensDecoder.set(u,a)}findNextSpecialToken(t,r,o){let a=r,u=null;if(o&&this.specialTokensRegex)for(;u=t.slice(a).match(this.specialTokensRegex),!(!u||o&&o.includes(u[0]));)a+=u.index+1;let i=u?a+u.index:t.length;return[u,i]}encode(t,r){let o=[],a=0;for(;;){let u,i;if([u,i]=this.findNextSpecialToken(t,a,r),i>a&&this.encodeByIndex(t,o,a,i),u){if(a=a+this.encodeSpecialToken(o,u),a>=t.length)break}else break}return o}encodeSpecialToken(t,r){var a;let o=(a=this.specialTokensEncoder)==null?void 0:a.get(r[0]);return t.push(o),r.index+r[0].length}encodeByIndex(t,r,o,a){let u,i=t.substring(o,a);for(this.regex.lastIndex=0;u=this.regex.exec(i);){let s=this.cache.get(u[0]);if(s)for(let l of s)r.push(l);else{let l=this.textEncoder.encode(u[0]),c=this.encoder.get(l,0,this.textEncoder.length);if(c!==void 0)r.push(c),this.cache.set(u[0],[c]);else{let m=(0,$o.bytePairEncode)(l,this.encoder,this.textEncoder.length);for(let p of m)r.push(p);this.cache.set(u[0],m)}}}}encodeTrimSuffixByIndex(t,r,o,a,u,i,s){let l,c=t.substring(o,a);for(this.regex.lastIndex=0;l=this.regex.exec(c);){let m=l[0],p=this.cache.get(m);if(p)if(i+p.length<=u)i+=p.length,s+=m.length,r.push(...p);else{let f=u-i;i+=f,s+=m.length,r.push(...p.slice(0,f));break}else{let f=this.textEncoder.encode(m),g=this.encoder.get(f,0,f.length);if(g!==void 0)if(this.cache.set(m,[g]),i+1<=u)i++,s+=m.length,r.push(g);else break;else{let h=(0,$o.bytePairEncode)(f,this.encoder,this.textEncoder.length);if(this.cache.set(m,h),i+h.length<=u){i+=h.length,s+=m.length;for(let I of h)r.push(I)}else{let I=u-i;i+=I,s+=m.length;for(let x=0;x<I;x++)r.push(h[x]);break}}}if(i>=u)break}return{tokenCount:i,encodeLength:s}}encodeTrimSuffix(t,r,o){let a=[],u=0,i=0,s=0;for(;;){let c,m;if([c,m]=this.findNextSpecialToken(t,u,o),m>u){let{tokenCount:p,encodeLength:f}=this.encodeTrimSuffixByIndex(t,a,u,m,r,i,s);if(i=p,s=f,i>=r)break}if(c!==null){if(i++,i<=r&&(u=u+this.encodeSpecialToken(a,c),s+=c[0].length,u>=t.length)||i>=r)break}else break}let l=s===t.length?t:t.slice(0,s);return{tokenIds:a,text:l}}encodeTrimPrefix(t,r,o){let a=[],u=0,i=0,s=0,l=new Map;for(l.set(i,s);;){let f,g;if([f,g]=this.findNextSpecialToken(t,u,o),g>u){let h,I=t.substring(u,g);for(this.regex.lastIndex=0;h=this.regex.exec(I);){let x=h[0],w=this.cache.get(x);if(w)i+=w.length,s+=x.length,a.push(...w),l.set(i,s);else{let F=this.textEncoder.encode(x),M=this.encoder.get(F);if(M!==void 0)this.cache.set(x,[M]),i++,s+=x.length,a.push(M),l.set(i,s);else{let T=(0,$o.bytePairEncode)(F,this.encoder,this.textEncoder.length);this.cache.set(x,T),i+=T.length,s+=x.length;for(let L of T)a.push(L);l.set(i,s)}}}}if(f!==null){if(u=u+this.encodeSpecialToken(a,f),i++,s+=f[0].length,l.set(i,s),u>=t.length)break}else break}if(i<=r)return{tokenIds:a,text:t};let c=i-r,m=0,p=0;for(let[f,g]of l)if(f>=c){m=f,p=g;break}if(m>r){let f=this.encode(t,o),g=f.slice(f.length-r);return{tokenIds:g,text:this.decode(g)}}return{tokenIds:a.slice(m),text:t.slice(p)}}decode(t){var o,a;let r=[];for(let u of t){let i=[],s=(o=this.decoder)==null?void 0:o.get(u);if(s!==void 0)i=Array.from(s);else{let l=(a=this.specialTokensDecoder)==null?void 0:a.get(u);if(l!==void 0){let c=this.textEncoder.encode(l);i=Array.from(c.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};n(pa,"TikTokenizer");var ma=pa;zo.TikTokenizer=ma});var ym=ne(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.createTokenizer=ce.createByEncoderName=ce.createByModelName=ce.getRegexByModel=ce.getRegexByEncoder=ce.getSpecialTokensByModel=ce.getSpecialTokensByEncoder=ce.MODEL_TO_ENCODING=void 0;var qo=require("fs"),fa=require("path"),Ch=da(),Uh=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);ce.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var Ho="<|endoftext|>",lm="<|fim_prefix|>",cm="<|fim_middle|>",mm="<|fim_suffix|>",pm="<|endofprompt|>",zn="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",dm="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",Bh=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],fm=Bh.join("|");function _a(e){let t="";if(ce.MODEL_TO_ENCODING.has(e))t=ce.MODEL_TO_ENCODING.get(e);else for(let[r,o]of Uh)if(e.startsWith(r)){t=o;break}return t}n(_a,"getEncoderFromModelName");async function Dh(e,t){let r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${r.status}`);let o=await r.text();qo.writeFileSync(t,o)}n(Dh,"fetchAndSaveFile");function ga(e){let t=new Map([[Ho,50256]]);switch(e){case"o200k_base":t=new Map([[Ho,199999],[pm,200018]]);break;case"cl100k_base":t=new Map([[Ho,100257],[lm,100258],[cm,100259],[mm,100260],[pm,100276]]);break;case"p50k_edit":t=new Map([[Ho,50256],[lm,50281],[cm,50282],[mm,50283]]);break;default:break}return t}n(ga,"getSpecialTokensByEncoder");ce.getSpecialTokensByEncoder=ga;function jh(e){let t=_a(e);return ga(t)}n(jh,"getSpecialTokensByModel");ce.getSpecialTokensByModel=jh;function _m(e){switch(e){case"o200k_base":return fm;case"cl100k_base":return dm;default:break}return zn}n(_m,"getRegexByEncoder");ce.getRegexByEncoder=_m;function Kh(e){let t=_a(e);return _m(t)}n(Kh,"getRegexByModel");ce.getRegexByModel=Kh;async function Vh(e,t=null){return gm(_a(e),t)}n(Vh,"createByModelName");ce.createByModelName=Vh;async function gm(e,t=null){let r,o,a=ga(e);switch(e){case"o200k_base":r=fm,o="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=dm,o="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=zn,o="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=zn,o="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=zn,o="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=zn,o="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(a=new Map([...a,...t]));let u=fa.basename(o),i=fa.resolve(__dirname,"..","model");qo.existsSync(i)||qo.mkdirSync(i,{recursive:!0});let s=fa.resolve(i,u);return qo.existsSync(s)||(console.log(`Downloading file from ${o}`),await Dh(o,s),console.log(`Saved file to ${s}`)),hm(s,a,r)}n(gm,"createByEncoderName");ce.createByEncoderName=gm;function hm(e,t,r,o=8192){return new Ch.TikTokenizer(e,t,r,o)}n(hm,"createTokenizer");ce.createTokenizer=hm});var bm=ne(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.createTokenizer=me.createByEncoderName=me.createByModelName=me.getSpecialTokensByModel=me.getSpecialTokensByEncoder=me.getRegexByModel=me.getRegexByEncoder=me.MODEL_TO_ENCODING=me.TikTokenizer=void 0;var Wh=da();Object.defineProperty(me,"TikTokenizer",{enumerable:!0,get:n(function(){return Wh.TikTokenizer},"get")});var Yt=ym();Object.defineProperty(me,"MODEL_TO_ENCODING",{enumerable:!0,get:n(function(){return Yt.MODEL_TO_ENCODING},"get")});Object.defineProperty(me,"getRegexByEncoder",{enumerable:!0,get:n(function(){return Yt.getRegexByEncoder},"get")});Object.defineProperty(me,"getRegexByModel",{enumerable:!0,get:n(function(){return Yt.getRegexByModel},"get")});Object.defineProperty(me,"getSpecialTokensByEncoder",{enumerable:!0,get:n(function(){return Yt.getSpecialTokensByEncoder},"get")});Object.defineProperty(me,"getSpecialTokensByModel",{enumerable:!0,get:n(function(){return Yt.getSpecialTokensByModel},"get")});Object.defineProperty(me,"createByModelName",{enumerable:!0,get:n(function(){return Yt.createByModelName},"get")});Object.defineProperty(me,"createByEncoderName",{enumerable:!0,get:n(function(){return Yt.createByEncoderName},"get")});Object.defineProperty(me,"createTokenizer",{enumerable:!0,get:n(function(){return Yt.createTokenizer},"get")})});function st(e="cl100k_base"){let t=Im.get(e);return t!==void 0||(e==="mock"?t=new ha:t=new Zo(e),Im.set(e,t)),t}function Gh(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=(0,xm.readFileSync)(e,"utf-8"),r=new Map;for(let o of t.split(`
`)){if(!o)continue;let a=Buffer.from(o,"base64");r.set(a,r.size)}return r}var Qr,xm,wm,Jo,Im,ya,Zo,ba,ha,Sm=d(()=>{"use strict";Vo();Qr=kn(bm()),xm=require("fs"),wm=require("path"),Jo=(o=>(o.cl100k="cl100k_base",o.o200k="o200k_base",o.mock="mock",o))(Jo||{}),Im=new Map;n(st,"getTokenizer");n(Gh,"parseTikTokenNoIndex");ya=class ya{constructor(t){try{this._tokenizer=(0,Qr.createTokenizer)(Gh((0,wm.join)(__dirname,`./resources/${t}.tiktoken.noindex`)),(0,Qr.getSpecialTokensByEncoder)(t),(0,Qr.getRegexByEncoder)(t),32768)}catch(r){throw r instanceof Error?new Xt("Could not load tokenizer",r):r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(o=>this.detokenize([o]))}takeLastTokens(t,r){if(r<=0)return"";let o=4,a=1,u=Math.min(t.length,r*o),i=t.slice(-u),s=this.tokenize(i);for(;s.length<r+2&&u<t.length;)u=Math.min(t.length,u+r*a),i=t.slice(-u),s=this.tokenize(i);return s.length<r?t:(s=s.slice(-r),this.detokenize(s))}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let o=4,a=1,u=Math.min(t.length,r*o),i=t.slice(0,u),s=this.tokenize(i);for(;s.length<r+2&&u<t.length;)u=Math.min(t.length,u+r*a),i=t.slice(0,u),s=this.tokenize(i);return s.length<r?{text:t,tokens:s}:(s=s.slice(0,r),{text:this.detokenize(s),tokens:s})}takeLastLinesTokens(t,r){let o=this.takeLastTokens(t,r);if(o.length===t.length||t[t.length-o.length-1]===`
`)return o;let a=o.indexOf(`
`);return o.substring(a+1)}};n(ya,"TTokenizer");Zo=ya,ba=class ba{constructor(){this.hash=n(t=>{let r=0;for(let o=0;o<t.length;o++){let a=t.charCodeAt(o);r=(r<<5)-r+a,r&=r&65535}return r},"hash")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){return this.tokenizeStrings(t).slice(-r).join("")}takeFirstTokens(t,r){let o=this.tokenizeStrings(t).slice(0,r);return{text:o.join(""),tokens:o.map(this.hash)}}takeLastLinesTokens(t,r){let o=this.takeLastTokens(t,r);if(o.length===t.length||t[t.length-o.length-1]===`
`)return o;let a=o.indexOf(`
`);return o.substring(a+1)}};n(ba,"MockTokenizer");ha=ba});var en=d(()=>{"use strict";Sm()});var Xo,tn,Ia=d(()=>{"use strict";en();Xo=class Xo{constructor(t,r,o=st().tokenLength(t+`
`),a="strict"){this.text=t;this._value=r;this._cost=o;if(t.includes(`
`)&&a!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&a!=="none")throw new Error("LineWithValueAndCost: value is negative");if(o<0&&a!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(a=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=r=>st().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){return new Xo(this.text,this.value,this.cost,"none")}};n(Xo,"LineWithValueAndCost");tn=Xo});function $h(e,t,r,o,a,u){var p,f,g,h,I,x,w,F,M,T,L,O,R;if(u.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");a==="removeLeastBangForBuck"&&e.forEach(E=>E.adjustValue(1/E.cost));let i=e.reduce((E,k)=>Math.max(E,k.value),0)+1,s=e.reduce((E,k)=>Math.max(E,k.text.length),0)+1,l=r.trim(),c=e.reduce((E,k)=>E+k.cost,0),m=e.length+1;for(;c>t&&m-->=-1;){let E=e.reduce((Ne,zt)=>zt.value<Ne.value?zt:Ne),k=e.indexOf(E),ge=(p=e.slice(0,k+1).reverse().find(Ne=>Ne.text.trim()!==""))!=null?p:{text:""},yr=o?Math.min((g=(f=ge.text.match(/^\s*/))==null?void 0:f[0].length)!=null?g:0,((h=e[k-1])==null?void 0:h.text.trim())===l?(w=(x=(I=e[k-1])==null?void 0:I.text.match(/^\s*/))==null?void 0:x[0].length)!=null?w:0:s,((F=e[k+1])==null?void 0:F.text.trim())===l?(L=(T=(M=e[k+1])==null?void 0:M.text.match(/^\s*/))==null?void 0:T[0].length)!=null?L:0:s):0,$t=" ".repeat(yr)+r,gt=new tn($t,i,u.tokenLength($t+`
`),"loose");e.splice(k,1,gt),((O=e[k+1])==null?void 0:O.text.trim())===l&&e.splice(k+1,1),((R=e[k-1])==null?void 0:R.text.trim())===l&&e.splice(k-1,1);let nt=e.reduce((Ne,zt)=>Ne+zt.cost,0);nt>=c&&e.every(Ne=>Ne.value===i)&&(o=!1),c=nt}if(m<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return e.map(E=>E.text).join(`
`)}var Yo,Gn,Ys=d(()=>{"use strict";ea();Ia();en();Yo=class Yo{constructor(t){this.lines=[];let r=[];for(let o of t){let a=Array.isArray(o)?o[1]:1,u=Array.isArray(o)?o[0]:o;typeof u=="string"?u.split(`
`).forEach(i=>r.push(new tn(i,a))):u instanceof Yo?u.lines.forEach(i=>r.push(i.copy().adjustValue(a))):"source"in u&&"languageId"in u&&Qs(u).lines.forEach(i=>r.push(i.copy().adjustValue(a)))}this.lines=r}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>st().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}makePrompt(t,r="[...]",o=!0,a="removeLeastDesirable",u=st()){let i=this.lines.map(s=>s.copy());return $h(i,t,r,o,a,u)}};n(Yo,"ElidableText");Gn=Yo;n($h,"makePrompt")});function at(){}function Em(e,t,r,o,a){for(var u=[],i;t;)u.push(t),i=t.previousComponent,delete t.previousComponent,t=i;u.reverse();for(var s=0,l=u.length,c=0,m=0;s<l;s++){var p=u[s];if(p.removed)p.value=e.join(o.slice(m,m+p.count)),m+=p.count;else{if(!p.added&&a){var f=r.slice(c,c+p.count);f=f.map(function(g,h){var I=o[m+h];return I.length>g.length?I:g}),p.value=e.join(f)}else p.value=e.join(r.slice(c,c+p.count));c+=p.count,p.added||(m+=p.count)}}return u}function Tm(e,t){var r;for(r=0;r<e.length&&r<t.length;r++)if(e[r]!=t[r])return e.slice(0,r);return e.slice(0,r)}function vm(e,t){var r;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(r=0;r<e.length&&r<t.length;r++)if(e[e.length-(r+1)]!=t[t.length-(r+1)])return e.slice(-r);return e.slice(-r)}function wa(e,t,r){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return r+e.slice(t.length)}function Sa(e,t,r){if(!t)return e+r;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+r}function Hn(e,t){return wa(e,t,"")}function Qo(e,t){return Sa(e,t,"")}function Mm(e,t){return t.slice(0,zh(e,t))}function zh(e,t){var r=0;e.length>t.length&&(r=e.length-t.length);var o=t.length;e.length<t.length&&(o=e.length);var a=Array(o),u=0;a[0]=0;for(var i=1;i<o;i++){for(t[i]==t[u]?a[i]=a[u]:a[i]=u;u>0&&t[i]!=t[u];)u=a[u];t[i]==t[u]&&u++}u=0;for(var s=r;s<e.length;s++){for(;u>0&&e[s]!=t[u];)u=a[u];e[s]==t[u]&&u++}return u}function Lm(e,t,r,o){if(t&&r){var a=t.value.match(/^\s*/)[0],u=t.value.match(/\s*$/)[0],i=r.value.match(/^\s*/)[0],s=r.value.match(/\s*$/)[0];if(e){var l=Tm(a,i);e.value=Sa(e.value,i,l),t.value=Hn(t.value,l),r.value=Hn(r.value,l)}if(o){var c=vm(u,s);o.value=wa(o.value,s,c),t.value=Qo(t.value,c),r.value=Qo(r.value,c)}}else if(r)e&&(r.value=r.value.replace(/^\s*/,"")),o&&(o.value=o.value.replace(/^\s*/,""));else if(e&&o){var m=o.value.match(/^\s*/)[0],p=t.value.match(/^\s*/)[0],f=t.value.match(/\s*$/)[0],g=Tm(m,p);t.value=Hn(t.value,g);var h=vm(Hn(m,g),f);t.value=Qo(t.value,h),o.value=wa(o.value,m,h),e.value=Sa(e.value,m,m.slice(0,m.length-h.length))}else if(o){var I=o.value.match(/^\s*/)[0],x=t.value.match(/\s*$/)[0],w=Mm(x,I);t.value=Qo(t.value,w)}else if(e){var F=e.value.match(/\s*$/)[0],M=t.value.match(/^\s*/)[0],T=Mm(F,M);t.value=Hn(t.value,T)}}function Pm(e,t,r){return ri.diff(e,t,r)}function Nm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,o)}return r}function Fm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nm(Object(r),!0).forEach(function(o){Qh(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nm(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Xh(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yh(e){var t=Xh(e,"string");return typeof t=="symbol"?t:t+""}function Ea(e){"@babel/helpers - typeof";return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ea(e)}function Qh(e,t,r){return t=Yh(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xa(e){return ey(e)||ty(e)||ry(e)||ny()}function ey(e){if(Array.isArray(e))return Ta(e)}function ty(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ry(e,t){if(e){if(typeof e=="string")return Ta(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ta(e,t)}}function Ta(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function ny(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function va(e,t,r,o,a){t=t||[],r=r||[],o&&(e=o(a,e));var u;for(u=0;u<t.length;u+=1)if(t[u]===e)return r[u];var i;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),i=new Array(e.length),r.push(i),u=0;u<e.length;u+=1)i[u]=va(e[u],t,r,o,a);return t.pop(),r.pop(),i}if(e&&e.toJSON&&(e=e.toJSON()),Ea(e)==="object"&&e!==null){t.push(e),i={},r.push(i);var s=[],l;for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&s.push(l);for(s.sort(),u=0;u<s.length;u+=1)l=s[u],i[l]=va(e[l],t,r,o,l);t.pop(),r.pop()}else i=e;return i}function km(e,t,r,o,a,u,i){if(i||(i={}),typeof i=="function"&&(i={callback:i}),typeof i.context>"u"&&(i.context=4),i.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(i.callback){var s=i,l=s.callback;Pm(r,o,Fm(Fm({},i),{},{callback:n(function(p){var f=c(p);l(f)},"callback")}))}else return c(Pm(r,o,i));function c(m){if(!m)return;m.push({value:"",lines:[]});function p(E){return E.map(function(k){return" "+k})}n(p,"contextLines");for(var f=[],g=0,h=0,I=[],x=1,w=1,F=n(function(){var k=m[M],ge=k.lines||oy(k.value);if(k.lines=ge,k.added||k.removed){var yr;if(!g){var $t=m[M-1];g=x,h=w,$t&&(I=i.context>0?p($t.lines.slice(-i.context)):[],g-=I.length,h-=I.length)}(yr=I).push.apply(yr,xa(ge.map(function(Nn){return(k.added?"+":"-")+Nn}))),k.added?w+=ge.length:x+=ge.length}else{if(g)if(ge.length<=i.context*2&&M<m.length-2){var gt;(gt=I).push.apply(gt,xa(p(ge)))}else{var nt,Ne=Math.min(ge.length,i.context);(nt=I).push.apply(nt,xa(p(ge.slice(0,Ne))));var zt={oldStart:g,oldLines:x-g+Ne,newStart:h,newLines:w-h+Ne,lines:I};f.push(zt),g=0,h=0,I=[]}x+=ge.length,w+=ge.length}},"_loop"),M=0;M<m.length;M++)F();for(var T=0,L=f;T<L.length;T++)for(var O=L[T],R=0;R<O.lines.length;R++)O.lines[R].endsWith(`
`)?O.lines[R]=O.lines[R].slice(0,-1):(O.lines.splice(R+1,0,"\\ No newline at end of file"),R++);return{oldFileName:e,newFileName:t,oldHeader:a,newHeader:u,hunks:f}}n(c,"diffLinesResultToPatch")}function oy(e){var t=e.endsWith(`
`),r=e.split(`
`).map(function(o){return o+`
`});return t?r.pop():r.push(r.pop().slice(0,-1)),r}var UT,ei,Hh,ti,qh,ri,Zh,Jh,qn,Ma,Om=d(()=>{n(at,"Diff");at.prototype={diff:n(function(t,r){var o,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=a.callback;typeof a=="function"&&(u=a,a={});var i=this;function s(T){return T=i.postProcess(T,a),u?(setTimeout(function(){u(T)},0),!0):T}n(s,"done"),t=this.castInput(t,a),r=this.castInput(r,a),t=this.removeEmpty(this.tokenize(t,a)),r=this.removeEmpty(this.tokenize(r,a));var l=r.length,c=t.length,m=1,p=l+c;a.maxEditLength!=null&&(p=Math.min(p,a.maxEditLength));var f=(o=a.timeout)!==null&&o!==void 0?o:1/0,g=Date.now()+f,h=[{oldPos:-1,lastComponent:void 0}],I=this.extractCommon(h[0],r,t,0,a);if(h[0].oldPos+1>=c&&I+1>=l)return s(Em(i,h[0].lastComponent,r,t,i.useLongestToken));var x=-1/0,w=1/0;function F(){for(var T=Math.max(x,-m);T<=Math.min(w,m);T+=2){var L=void 0,O=h[T-1],R=h[T+1];O&&(h[T-1]=void 0);var E=!1;if(R){var k=R.oldPos-T;E=R&&0<=k&&k<l}var ge=O&&O.oldPos+1<c;if(!E&&!ge){h[T]=void 0;continue}if(!ge||E&&O.oldPos<R.oldPos?L=i.addToPath(R,!0,!1,0,a):L=i.addToPath(O,!1,!0,1,a),I=i.extractCommon(L,r,t,T,a),L.oldPos+1>=c&&I+1>=l)return s(Em(i,L.lastComponent,r,t,i.useLongestToken));h[T]=L,L.oldPos+1>=c&&(w=Math.min(w,T-1)),I+1>=l&&(x=Math.max(x,T+1))}m++}if(n(F,"execEditLength"),u)n(function T(){setTimeout(function(){if(m>p||Date.now()>g)return u();F()||T()},0)},"exec")();else for(;m<=p&&Date.now()<=g;){var M=F();if(M)return M}},"diff"),addToPath:n(function(t,r,o,a,u){var i=t.lastComponent;return i&&!u.oneChangePerToken&&i.added===r&&i.removed===o?{oldPos:t.oldPos+a,lastComponent:{count:i.count+1,added:r,removed:o,previousComponent:i.previousComponent}}:{oldPos:t.oldPos+a,lastComponent:{count:1,added:r,removed:o,previousComponent:i}}},"addToPath"),extractCommon:n(function(t,r,o,a,u){for(var i=r.length,s=o.length,l=t.oldPos,c=l-a,m=0;c+1<i&&l+1<s&&this.equals(o[l+1],r[c+1],u);)c++,l++,m++,u.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return m&&!u.oneChangePerToken&&(t.lastComponent={count:m,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=l,c},"extractCommon"),equals:n(function(t,r,o){return o.comparator?o.comparator(t,r):t===r||o.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:n(function(t){for(var r=[],o=0;o<t.length;o++)t[o]&&r.push(t[o]);return r},"removeEmpty"),castInput:n(function(t){return t},"castInput"),tokenize:n(function(t){return Array.from(t)},"tokenize"),join:n(function(t){return t.join("")},"join"),postProcess:n(function(t){return t},"postProcess")};n(Em,"buildValues");UT=new at;n(Tm,"longestCommonPrefix");n(vm,"longestCommonSuffix");n(wa,"replacePrefix");n(Sa,"replaceSuffix");n(Hn,"removePrefix");n(Qo,"removeSuffix");n(Mm,"maximumOverlap");n(zh,"overlapCount");ei="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",Hh=new RegExp("[".concat(ei,"]+|\\s+|[^").concat(ei,"]"),"ug"),ti=new at;ti.equals=function(e,t,r){return r.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};ti.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(t.intlSegmenter.segment(e),function(u){return u.segment})}else r=e.match(Hh)||[];var o=[],a=null;return r.forEach(function(u){/\s/.test(u)?a==null?o.push(u):o.push(o.pop()+u):/\s/.test(a)?o[o.length-1]==a?o.push(o.pop()+u):o.push(a+u):o.push(u),a=u}),o};ti.join=function(e){return e.map(function(t,r){return r==0?t:t.replace(/^\s+/,"")}).join("")};ti.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var r=null,o=null,a=null;return e.forEach(function(u){u.added?o=u:u.removed?a=u:((o||a)&&Lm(r,a,o,u),r=u,o=null,a=null)}),(o||a)&&Lm(r,a,o,null),e};n(Lm,"dedupeWhitespaceInChangeObjects");qh=new at;qh.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(ei,"]+|[^\\S\\n\\r]+|[^").concat(ei,"]"),"ug");return e.match(t)||[]};ri=new at;ri.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],o=e.split(/(\n|\r\n)/);o[o.length-1]||o.pop();for(var a=0;a<o.length;a++){var u=o[a];a%2&&!t.newlineIsToken?r[r.length-1]+=u:r.push(u)}return r};ri.equals=function(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),at.prototype.equals.call(this,e,t,r)};n(Pm,"diffLines");Zh=new at;Zh.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};Jh=new at;Jh.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};n(Nm,"ownKeys");n(Fm,"_objectSpread2");n(Xh,"_toPrimitive");n(Yh,"_toPropertyKey");n(Ea,"_typeof");n(Qh,"_defineProperty");n(xa,"_toConsumableArray");n(ey,"_arrayWithoutHoles");n(ty,"_iterableToArray");n(ry,"_unsupportedIterableToArray");n(Ta,"_arrayLikeToArray");n(ny,"_nonIterableSpread");qn=new at;qn.useLongestToken=!0;qn.tokenize=ri.tokenize;qn.castInput=function(e,t){var r=t.undefinedReplacement,o=t.stringifyReplacer,a=o===void 0?function(u,i){return typeof i>"u"?r:i}:o;return typeof e=="string"?e:JSON.stringify(va(e,null,null,a),a,"  ")};qn.equals=function(e,t,r){return at.prototype.equals.call(qn,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)};n(va,"canonicalize");Ma=new at;Ma.tokenize=function(e){return e.slice()};Ma.join=Ma.removeEmpty=function(e){return e};n(km,"structuredPatch");n(oy,"splitLines")});function sy(e,t){let r=typeof e=="string"?typeof t=="string"?void 0:t.languageId:typeof t=="string"||e.languageId===t.languageId?e.languageId:void 0;e=typeof e=="string"?e:e.source,t=typeof t=="string"?t:t.source;let o=km("","",e,t),a=new Set,u=new Set;for(let l of o.hunks){for(let c=l.oldStart;c<l.oldStart+l.oldLines;c++)a.add(c);for(let c=l.newStart;c<l.newStart+l.newLines;c++)u.add(c)}let i=yt(bt(Jt(e,r)),()=>!1),s=yt(bt(Jt(t,r)),()=>!1);return oe(i,l=>{(l.type==="line"||l.type==="blank")&&a.has(l.lineNumber)&&(l.label=!0)},"topDown"),oe(s,l=>{(l.type==="line"||l.type==="blank")&&u.has(l.lineNumber)&&(l.label=!0)},"topDown"),[Yr(i),Yr(s)]}var Rm=d(()=>{"use strict";Ko();Wn();Om();n(sy,"elidableTextForDiff")});var Am=d(()=>{"use strict";Ys();Rm();Ko();ea();Ia()});function ly({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}function Zn(e,t){var o;let r=(o=La[t])!=null?o:ay;if(r){let a=r.end==""?"":" "+r.end;return`${r.start} ${e}${a}`}return""}function Qt(e,t){if(e==="")return"";let r=e.endsWith(`
`),a=(r?e.slice(0,-1):e).split(`
`).map(u=>Zn(u,t)).join(`
`);return r?a+`
`:a}function Um(e){let{languageId:t}=e;return uy.indexOf(t)===-1&&!ly(e)?t in Cm?Cm[t]:Zn(`Language: ${t}`,t):""}function Bm(e){return e.relativePath?Zn(`Path: ${e.relativePath}`,e.languageId):""}function ut(e){return e===""||e.endsWith(`
`)?e:e+`
`}var La,ay,uy,Cm,Ft=d(()=>{"use strict";La={abap:{start:'"',end:""},aspdotnet:{start:"<%--",end:"--%>"},bat:{start:"REM",end:""},bibtex:{start:"%",end:""},blade:{start:"#",end:""},BluespecSystemVerilog:{start:"//",end:""},c:{start:"//",end:""},clojure:{start:";",end:""},coffeescript:{start:"//",end:""},cpp:{start:"//",end:""},csharp:{start:"//",end:""},css:{start:"/*",end:"*/"},cuda:{start:"//",end:""},dart:{start:"//",end:""},dockerfile:{start:"#",end:""},dotenv:{start:"#",end:""},elixir:{start:"#",end:""},erb:{start:"<%#",end:"%>"},erlang:{start:"%",end:""},fsharp:{start:"//",end:""},go:{start:"//",end:""},graphql:{start:"#",end:""},groovy:{start:"//",end:""},haml:{start:"-#",end:""},handlebars:{start:"{{!",end:"}}"},haskell:{start:"--",end:""},hlsl:{start:"//",end:""},html:{start:"<!--",end:"-->"},ini:{start:";",end:""},java:{start:"//",end:""},javascript:{start:"//",end:""},javascriptreact:{start:"//",end:""},jsonc:{start:"//",end:""},jsx:{start:"//",end:""},julia:{start:"#",end:""},kotlin:{start:"//",end:""},latex:{start:"%",end:""},legend:{start:"//",end:""},less:{start:"//",end:""},lua:{start:"--",end:""},makefile:{start:"#",end:""},markdown:{start:"[]: #",end:""},"objective-c":{start:"//",end:""},"objective-cpp":{start:"//",end:""},perl:{start:"#",end:""},php:{start:"//",end:""},powershell:{start:"#",end:""},pug:{start:"//",end:""},python:{start:"#",end:""},ql:{start:"//",end:""},r:{start:"#",end:""},razor:{start:"<!--",end:"-->"},ruby:{start:"#",end:""},rust:{start:"//",end:""},sass:{start:"//",end:""},scala:{start:"//",end:""},scss:{start:"//",end:""},shellscript:{start:"#",end:""},slang:{start:"//",end:""},slim:{start:"/",end:""},solidity:{start:"//",end:""},sql:{start:"--",end:""},stylus:{start:"//",end:""},svelte:{start:"<!--",end:"-->"},swift:{start:"//",end:""},systemverilog:{start:"//",end:""},terraform:{start:"#",end:""},tex:{start:"%",end:""},typescript:{start:"//",end:""},typescriptreact:{start:"//",end:""},vb:{start:"'",end:""},verilog:{start:"//",end:""},"vue-html":{start:"<!--",end:"-->"},vue:{start:"//",end:""},xml:{start:"<!--",end:"-->"},xsl:{start:"<!--",end:"-->"},yaml:{start:"#",end:""}},ay={start:"//",end:""},uy=["php","plaintext"],Cm={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};n(ly,"hasLanguageMarker");n(Zn,"comment");n(Qt,"commentBlockAsSingles");n(Um,"getLanguageMarker");n(Bm,"getPathMarker");n(ut,"newLineEnded")});function my(e){return{...cy,...e}}function Er(e,t={}){let r=my(t),o=st(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let a=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(a=a.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(a=o.takeLastLinesTokens(a,r.maxTokenLength)),{context:a,lineCount:a.split(`
`).length,tokenLength:o.tokenLength(a),tokenizerName:r.tokenizerName}}var cy,ni=d(()=>{"use strict";en();cy={tokenizerName:"cl100k_base"};n(my,"cursorContextOptions");n(Er,"getCursorContext")});function py(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}var Fa,Pa,ka,Na,Dm,Oa,rn,dy,fy,_y,oi=d(()=>{"use strict";Ot();Fa=class Fa{constructor(t){this.keys=[];this.cache={};this.size=t}put(t,r){var o;if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let a=(o=this.keys.shift())!=null?o:"";delete this.cache[a]}}get(t){return this.cache[t]}};n(Fa,"FifoCache");Pa=Fa,ka=class ka{constructor(t){var r;this.stopsForLanguage=(r=_y.get(t.languageId))!=null?r:fy}tokenize(t){return new Set(py(t).filter(r=>!this.stopsForLanguage.has(r)))}};n(ka,"Tokenizer");Na=ka,Dm=new Pa(20),Oa=class Oa{constructor(t){this.referenceDoc=t,this.tokenizer=new Na(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){var t;return(t=this.referenceTokensCache)!=null?t:this.referenceTokensCache=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((o,a)=>o.score>a.score?1:-1):r=="descending"?t.sort((o,a)=>o.score>a.score?-1:1):t}async retrieveAllSnippets(t,r="descending"){var c;let o=[];if(t.source.length===0||(await this.referenceTokens).size===0)return o;let a=t.source.split(`
`),u=this.id()+":"+t.source,i=(c=Dm.get(u))!=null?c:[],s=i.length==0,l=s?a.map(m=>this.tokenizer.tokenize(m),this.tokenizer):[];for(let[m,[p,f]]of this.getWindowsDelineations(a).entries()){if(s){let I=new Set;l.slice(p,f).forEach(x=>x.forEach(w=>I.add(w),I)),i.push(I)}let g=i[m],h=this.similarityScore(g,await this.referenceTokens);if(o.length&&p>0&&o[o.length-1].endLine>p){o[o.length-1].score<h&&(o[o.length-1].score=h,o[o.length-1].startLine=p,o[o.length-1].endLine=f);continue}o.push({score:h,startLine:p,endLine:f})}return s&&Dm.put(u,i),this.sortScoredSnippets(o,r)}findMatches(t,r){return this.findBestMatch(t,r)}async findBestMatch(t,r){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let o=t.source.split(`
`),a=await this.retrieveAllSnippets(t,"descending");if(a.length===0)return[];let u=[];for(let i=0;i<a.length&&i<r;i++)if(a[i].score!==0){let s=o.slice(a[i].startLine,a[i].endLine).join(`
`);u.push({snippet:s,semantics:"snippet",provider:"similar-files",...a[i]})}return u}};n(Oa,"WindowedMatcher");rn=Oa;n(py,"splitIntoWords");dy=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),fy=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...dy]),_y=new Map([])});function ii(e,t){let r=[],o=t.length;if(o==0)return[];if(o<e)return[[0,o]];for(let a=0;a<o-e+1;a++)r.push([a,a+e]);return r}var Ra=d(()=>{"use strict";qr();Xr();n(ii,"getBasicWindowDelineations")});function gy(e,t){let r=new Set;return e.forEach(o=>{t.has(o)&&r.add(o)}),r.size/(e.size+t.size-r.size)}var Jn,si,jm=d(()=>{"use strict";ni();oi();Ra();Jn=class Jn extends rn{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return ii(this.windowLength,t)}_getCursorContextInfo(t){return Er(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return gy(t,r)}};n(Jn,"FixedWindowSizeJaccardMatcher"),Jn.FACTORY=n(t=>({to:n(r=>new Jn(r,t),"to")}),"FACTORY");si=Jn;n(gy,"computeScore")});var Km=ne((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=n((i,s)=>{throw s},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(i){return Module.locateFile?Module.locateFile(i,scriptDirectory):scriptDirectory+i}n(locateFile,"locateFile");function logExceptionOnExit(i){i instanceof ExitStatus||err("exiting due to exception: "+i)}if(n(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=n((i,s)=>(i=isFileURI(i)?new URL(i):nodePath.normalize(i),fs.readFileSync(i,s?void 0:"utf8")),"read_"),readBinary=n(i=>{var s=read_(i,!0);return s.buffer||(s=new Uint8Array(s)),s},"readBinary"),readAsync=n((i,s,l)=>{i=isFileURI(i)?new URL(i):nodePath.normalize(i),fs.readFile(i,function(c,m){c?l(c):s(m.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=n((i,s)=>{if(keepRuntimeAlive())throw process.exitCode=i,s;logExceptionOnExit(s),process.exit(i)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=n(i=>{var s=new XMLHttpRequest;return s.open("GET",i,!1),s.send(null),s.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=n(i=>{var s=new XMLHttpRequest;return s.open("GET",i,!1),s.responseType="arraybuffer",s.send(null),new Uint8Array(s.response)},"readBinary")),readAsync=n((i,s,l)=>{var c=new XMLHttpRequest;c.open("GET",i,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?s(c.response):l()},c.onerror=l,c.send(null)},"readAsync"),setWindowTitle=n(i=>document.title=i,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(i,s,l){for(var c=s+l,m=s;i[m]&&!(m>=c);)++m;if(m-s>16&&i.buffer&&UTF8Decoder)return UTF8Decoder.decode(i.subarray(s,m));for(var p="";s<m;){var f=i[s++];if(128&f){var g=63&i[s++];if((224&f)!=192){var h=63&i[s++];if((f=(240&f)==224?(15&f)<<12|g<<6|h:(7&f)<<18|g<<12|h<<6|63&i[s++])<65536)p+=String.fromCharCode(f);else{var I=f-65536;p+=String.fromCharCode(55296|I>>10,56320|1023&I)}}else p+=String.fromCharCode((31&f)<<6|g)}else p+=String.fromCharCode(f)}return p}n(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(i,s){return i?UTF8ArrayToString(HEAPU8,i,s):""}n(UTF8ToString,"UTF8ToString");function stringToUTF8Array(i,s,l,c){if(!(c>0))return 0;for(var m=l,p=l+c-1,f=0;f<i.length;++f){var g=i.charCodeAt(f);if(g>=55296&&g<=57343&&(g=65536+((1023&g)<<10)|1023&i.charCodeAt(++f)),g<=127){if(l>=p)break;s[l++]=g}else if(g<=2047){if(l+1>=p)break;s[l++]=192|g>>6,s[l++]=128|63&g}else if(g<=65535){if(l+2>=p)break;s[l++]=224|g>>12,s[l++]=128|g>>6&63,s[l++]=128|63&g}else{if(l+3>=p)break;s[l++]=240|g>>18,s[l++]=128|g>>12&63,s[l++]=128|g>>6&63,s[l++]=128|63&g}}return s[l]=0,l-m}n(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(i,s,l){return stringToUTF8Array(i,HEAPU8,s,l)}n(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(i){for(var s=0,l=0;l<i.length;++l){var c=i.charCodeAt(l);c<=127?s++:c<=2047?s+=2:c>=55296&&c<=57343?(s+=4,++l):s+=3}return s}n(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(i){buffer=i,Module.HEAP8=HEAP8=new Int8Array(i),Module.HEAP16=HEAP16=new Int16Array(i),Module.HEAP32=HEAP32=new Int32Array(i),Module.HEAPU8=HEAPU8=new Uint8Array(i),Module.HEAPU16=HEAPU16=new Uint16Array(i),Module.HEAPU32=HEAPU32=new Uint32Array(i),Module.HEAPF32=HEAPF32=new Float32Array(i),Module.HEAPF64=HEAPF64=new Float64Array(i)}n(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}n(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}n(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}n(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}n(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}n(postRun,"postRun");function addOnPreRun(i){__ATPRERUN__.unshift(i)}n(addOnPreRun,"addOnPreRun");function addOnInit(i){__ATINIT__.unshift(i)}n(addOnInit,"addOnInit");function addOnPostRun(i){__ATPOSTRUN__.unshift(i)}n(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(i){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}n(addRunDependency,"addRunDependency");function removeRunDependency(i){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var s=dependenciesFulfilled;dependenciesFulfilled=null,s()}}n(removeRunDependency,"removeRunDependency");function abort(i){throw Module.onAbort&&Module.onAbort(i),err(i="Aborted("+i+")"),ABORT=!0,EXITSTATUS=1,i+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(i)}n(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(i){return i.startsWith(dataURIPrefix)}n(isDataURI,"isDataURI");function isFileURI(i){return i.startsWith("file://")}n(isFileURI,"isFileURI");function getBinary(i){try{if(i==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(i);throw"both async and sync fetching of the wasm failed"}catch(s){abort(s)}}n(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){if(!i.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return i.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(i,s){readAsync(wasmBinaryFile,function(l){i(new Uint8Array(l))},s)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}n(getBinaryPromise,"getBinaryPromise");function createWasm(){var i={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function s(m,p){var f=m.exports;f=relocateExports(f,1024);var g=getDylinkMetadata(p);g.neededDynlibs&&(dynamicLibraries=g.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(f,"main"),Module.asm=f,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}n(s,"t");function l(m){s(m.instance,m.module)}n(l,"r");function c(m){return getBinaryPromise().then(function(p){return WebAssembly.instantiate(p,i)}).then(function(p){return p}).then(m,function(p){err("failed to asynchronously prepare wasm: "+p),abort(p)})}if(n(c,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(i,s)}catch(m){return err("Module.instantiateWasm callback failed with error: "+m),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?c(l):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(m){return WebAssembly.instantiateStreaming(m,i).then(l,function(p){return err("wasm streaming compile failed: "+p),err("falling back to ArrayBuffer instantiation"),c(l)})}),{}}n(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(i){this.name="ExitStatus",this.message="Program terminated with exit("+i+")",this.status=i}n(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:n(function(i,s){var l=GOT[s];return l||(l=GOT[s]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(s)||(l.required=!0),l},"get")};function callRuntimeCallbacks(i){for(;i.length>0;)i.shift()(Module)}n(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(i){var s=0,l=0;function c(){for(var R=0,E=1;;){var k=i[s++];if(R+=(127&k)*E,E*=128,!(128&k))break}return R}n(c,"_");function m(){var R=c();return UTF8ArrayToString(i,(s+=R)-R,R)}n(m,"n");function p(R,E){if(R)throw new Error(E)}n(p,"s");var f="dylink.0";if(i instanceof WebAssembly.Module){var g=WebAssembly.Module.customSections(i,f);g.length===0&&(f="dylink",g=WebAssembly.Module.customSections(i,f)),p(g.length===0,"need dylink section"),l=(i=new Uint8Array(g[0])).length}else{p(new Uint32Array(new Uint8Array(i.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),p(i[8]!==0,"need the dylink section to be first"),s=9;var h=c();l=s+h,f=m()}var I={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(f=="dylink"){I.memorySize=c(),I.memoryAlign=c(),I.tableSize=c(),I.tableAlign=c();for(var x=c(),w=0;w<x;++w){var F=m();I.neededDynlibs.push(F)}}else for(p(f!=="dylink.0");s<l;){var M=i[s++],T=c();if(M===1)I.memorySize=c(),I.memoryAlign=c(),I.tableSize=c(),I.tableAlign=c();else if(M===2)for(x=c(),w=0;w<x;++w)F=m(),I.neededDynlibs.push(F);else if(M===3)for(var L=c();L--;){var O=m();256&c()&&I.tlsExports.add(O)}else if(M===4)for(L=c();L--;)m(),O=m(),(3&c())==1&&I.weakImports.add(O);else s+=T}return I}n(getDylinkMetadata,"getDylinkMetadata");function getValue(i,s="i8"){switch(s.endsWith("*")&&(s="*"),s){case"i1":case"i8":return HEAP8[i>>0];case"i16":return HEAP16[i>>1];case"i32":case"i64":return HEAP32[i>>2];case"float":return HEAPF32[i>>2];case"double":return HEAPF64[i>>3];case"*":return HEAPU32[i>>2];default:abort("invalid type for getValue: "+s)}return null}n(getValue,"getValue");function asmjsMangle(i){return i.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(i)?i:"_"+i}n(asmjsMangle,"asmjsMangle");function mergeLibSymbols(i,s){for(var l in i)if(i.hasOwnProperty(l)){asmLibraryArg.hasOwnProperty(l)||(asmLibraryArg[l]=i[l]);var c=asmjsMangle(l);Module.hasOwnProperty(c)||(Module[c]=i[l]),l=="__main_argc_argv"&&(Module._main=i[l])}}n(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(i,s,l){var c=Module["dynCall_"+i];return l&&l.length?c.apply(null,[s].concat(l)):c.call(null,s)}n(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(i){var s=wasmTableMirror[i];return s||(i>=wasmTableMirror.length&&(wasmTableMirror.length=i+1),wasmTableMirror[i]=s=wasmTable.get(i)),s}n(getWasmTableEntry,"getWasmTableEntry");function dynCall(i,s,l){return i.includes("j")?dynCallLegacy(i,s,l):getWasmTableEntry(s).apply(null,l)}n(dynCall,"dynCall");function createInvokeFunction(i){return function(){var s=stackSave();try{return dynCall(i,arguments[0],Array.prototype.slice.call(arguments,1))}catch(l){if(stackRestore(s),l!==l+0)throw l;_setThrew(1,0)}}}n(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(i,s){return HEAPU8.fill(0,i,i+s),i}n(zeroMemory,"zeroMemory");function getMemory(i){if(runtimeInitialized)return zeroMemory(_malloc(i),i);var s=___heap_base,l=s+i+15&-16;return ___heap_base=l,GOT.__heap_base.value=l,s}n(getMemory,"getMemory");function isInternalSym(i){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(i)}n(isInternalSym,"isInternalSym");function uleb128Encode(i,s){i<128?s.push(i):s.push(i%128|128,i>>7)}n(uleb128Encode,"uleb128Encode");function sigToWasmTypes(i){for(var s={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},l={parameters:[],results:i[0]=="v"?[]:[s[i[0]]]},c=1;c<i.length;++c)l.parameters.push(s[i[c]]),i[c]==="j"&&l.parameters.push("i32");return l}n(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(i,s){var l=i.slice(0,1),c=i.slice(1),m={i:127,p:127,j:126,f:125,d:124};s.push(96),uleb128Encode(c.length,s);for(var p=0;p<c.length;++p)s.push(m[c[p]]);l=="v"?s.push(0):s.push(1,m[l])}n(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(i,s){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(s),i);var l=[1];generateFuncType(s,l);var c=[0,97,115,109,1,0,0,0,1];uleb128Encode(l.length,c),c.push.apply(c,l),c.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var m=new WebAssembly.Module(new Uint8Array(c));return new WebAssembly.Instance(m,{e:{f:i}}).exports.f}n(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(i,s){if(functionsInTableMap)for(var l=i;l<i+s;l++){var c=getWasmTableEntry(l);c&&functionsInTableMap.set(c,l)}}n(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(i){throw i instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":i}return wasmTable.length-1}n(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(i,s){wasmTable.set(i,s),wasmTableMirror[i]=wasmTable.get(i)}n(setWasmTableEntry,"setWasmTableEntry");function addFunction(i,s){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(i))return functionsInTableMap.get(i);var l=getEmptyTableSlot();try{setWasmTableEntry(l,i)}catch(c){if(!(c instanceof TypeError))throw c;setWasmTableEntry(l,convertJsFunctionToWasm(i,s))}return functionsInTableMap.set(i,l),l}n(addFunction,"addFunction");function updateGOT(i,s){for(var l in i)if(!isInternalSym(l)){var c=i[l];l.startsWith("orig$")&&(l=l.split("$")[1],s=!0),GOT[l]||(GOT[l]=new WebAssembly.Global({value:"i32",mutable:!0})),(s||GOT[l].value==0)&&(typeof c=="function"?GOT[l].value=addFunction(c):typeof c=="number"?GOT[l].value=c:err("unhandled export type for `"+l+"`: "+typeof c))}}n(updateGOT,"updateGOT");function relocateExports(i,s,l){var c={};for(var m in i){var p=i[m];typeof p=="object"&&(p=p.value),typeof p=="number"&&(p+=s),c[m]=p}return updateGOT(c,l),c}n(relocateExports,"relocateExports");function resolveGlobalSymbol(i,s){var l;return s&&(l=asmLibraryArg["orig$"+i]),l||(l=asmLibraryArg[i])&&l.stub&&(l=void 0),l||(l=Module[asmjsMangle(i)]),!l&&i.startsWith("invoke_")&&(l=createInvokeFunction(i.split("_")[1])),l}n(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(i,s){return Math.ceil(i/s)*s}n(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(i){var s=resolveGlobalSymbol(i,!1);return s||(s=moduleExports[i]),s}n(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:n(function(i,s){switch(s){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(s in asmLibraryArg)return asmLibraryArg[s];var l;return s in i||(i[s]=function(){return l||(l=resolveSymbol(s)),l.apply(null,arguments)}),i[s]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(n(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(n(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(i){return postInstantiation(i.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return n(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(i,s){return i.then(function(){return loadDynamicLibrary(s,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(i){loadDynamicLibrary(i,flags)}),loadModule())}n(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(i,s,l){s=s||{global:!0,nodelete:!0};var c=LDSO.loadedLibsByName[i];if(c)return s.global&&!c.global&&(c.global=!0,c.module!=="loading"&&mergeLibSymbols(c.module,i)),s.nodelete&&c.refcount!==1/0&&(c.refcount=1/0),c.refcount++,l&&(LDSO.loadedLibsByHandle[l]=c),!s.loadAsync||Promise.resolve(!0);function m(g){if(s.fs&&s.fs.findObject(g)){var h=s.fs.readFile(g,{encoding:"binary"});return h instanceof Uint8Array||(h=new Uint8Array(h)),s.loadAsync?Promise.resolve(h):h}if(g=locateFile(g),s.loadAsync)return new Promise(function(I,x){readAsync(g,w=>I(new Uint8Array(w)),x)});if(!readBinary)throw new Error(g+": file not found, and synchronous loading of external files is not available");return readBinary(g)}n(m,"n");function p(){if(typeof preloadedWasm<"u"&&preloadedWasm[i]){var g=preloadedWasm[i];return s.loadAsync?Promise.resolve(g):g}return s.loadAsync?m(i).then(function(h){return loadWebAssemblyModule(h,s,l)}):loadWebAssemblyModule(m(i),s,l)}n(p,"s");function f(g){c.global&&mergeLibSymbols(g,i),c.module=g}return n(f,"a"),c={refcount:s.nodelete?1/0:1,name:i,module:"loading",global:s.global},LDSO.loadedLibsByName[i]=c,l&&(LDSO.loadedLibsByHandle[l]=c),s.loadAsync?p().then(function(g){return f(g),!0}):(f(p()),!0)}n(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var i in GOT)if(GOT[i].value==0){var s=resolveGlobalSymbol(i,!0);if(!s&&!GOT[i].required)continue;if(typeof s=="function")GOT[i].value=addFunction(s,s.sig);else{if(typeof s!="number")throw new Error("bad export type for `"+i+"`: "+typeof s);GOT[i].value=s}}}n(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(i,s){return i.then(function(){return loadDynamicLibrary(s,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}n(preloadDylibs,"preloadDylibs");function setValue(i,s,l="i8"){switch(l.endsWith("*")&&(l="*"),l){case"i1":case"i8":HEAP8[i>>0]=s;break;case"i16":HEAP16[i>>1]=s;break;case"i32":HEAP32[i>>2]=s;break;case"i64":tempI64=[s>>>0,(tempDouble=s,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1];break;case"float":HEAPF32[i>>2]=s;break;case"double":HEAPF64[i>>3]=s;break;case"*":HEAPU32[i>>2]=s;break;default:abort("invalid type for setValue: "+l)}}n(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}n(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}n(_abort,"_abort");function _emscripten_date_now(){return Date.now()}n(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(i,s,l){HEAPU8.copyWithin(i,s,s+l)}n(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}n(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(i){try{return wasmMemory.grow(i-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}n(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(i){var s=HEAPU8.length;i>>>=0;var l=getHeapMax();if(i>l)return!1;for(var c=1;c<=4;c*=2){var m=s*(1+.2/c);if(m=Math.min(m,i+100663296),emscripten_realloc_buffer(Math.min(l,(p=Math.max(i,m))+((f=65536)-p%f)%f)))return!0}var p,f;return!1}n(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var i=process.hrtime();return 1e3*i[0]+i[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:n(function(i,s,l){if(PATH.isAbs(s))return s;var c;if(i===-100?c=FS.cwd():c=SYSCALLS.getStreamFromFD(i).path,s.length==0){if(!l)throw new FS.ErrnoError(44);return c}return PATH.join2(c,s)},"calculateAt"),doStat:n(function(i,s,l){try{var c=i(s)}catch(g){if(g&&g.node&&PATH.normalize(s)!==PATH.normalize(FS.getPath(g.node)))return-54;throw g}HEAP32[l>>2]=c.dev,HEAP32[l+8>>2]=c.ino,HEAP32[l+12>>2]=c.mode,HEAPU32[l+16>>2]=c.nlink,HEAP32[l+20>>2]=c.uid,HEAP32[l+24>>2]=c.gid,HEAP32[l+28>>2]=c.rdev,tempI64=[c.size>>>0,(tempDouble=c.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+40>>2]=tempI64[0],HEAP32[l+44>>2]=tempI64[1],HEAP32[l+48>>2]=4096,HEAP32[l+52>>2]=c.blocks;var m=c.atime.getTime(),p=c.mtime.getTime(),f=c.ctime.getTime();return tempI64=[Math.floor(m/1e3)>>>0,(tempDouble=Math.floor(m/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+56>>2]=tempI64[0],HEAP32[l+60>>2]=tempI64[1],HEAPU32[l+64>>2]=m%1e3*1e3,tempI64=[Math.floor(p/1e3)>>>0,(tempDouble=Math.floor(p/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+72>>2]=tempI64[0],HEAP32[l+76>>2]=tempI64[1],HEAPU32[l+80>>2]=p%1e3*1e3,tempI64=[Math.floor(f/1e3)>>>0,(tempDouble=Math.floor(f/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+88>>2]=tempI64[0],HEAP32[l+92>>2]=tempI64[1],HEAPU32[l+96>>2]=f%1e3*1e3,tempI64=[c.ino>>>0,(tempDouble=c.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+104>>2]=tempI64[0],HEAP32[l+108>>2]=tempI64[1],0},"doStat"),doMsync:n(function(i,s,l,c,m){if(!FS.isFile(s.node.mode))throw new FS.ErrnoError(43);if(2&c)return 0;var p=HEAPU8.slice(i,i+l);FS.msync(s,p,m,l,c)},"doMsync"),varargs:void 0,get:n(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:n(function(i){return UTF8ToString(i)},"getStr"),getStreamFromFD:n(function(i){var s=FS.getStream(i);if(!s)throw new FS.ErrnoError(8);return s},"getStreamFromFD")};function _proc_exit(i){EXITSTATUS=i,keepRuntimeAlive()||(Module.onExit&&Module.onExit(i),ABORT=!0),quit_(i,new ExitStatus(i))}n(_proc_exit,"_proc_exit");function exitJS(i,s){EXITSTATUS=i,_proc_exit(i)}n(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(i){try{var s=SYSCALLS.getStreamFromFD(i);return FS.close(s),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}n(_fd_close,"_fd_close");function convertI32PairToI53Checked(i,s){return s+2097152>>>0<4194305-!!i?(i>>>0)+4294967296*s:NaN}n(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(i,s,l,c,m){try{var p=convertI32PairToI53Checked(s,l);if(isNaN(p))return 61;var f=SYSCALLS.getStreamFromFD(i);return FS.llseek(f,p,c),tempI64=[f.position>>>0,(tempDouble=f.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[m>>2]=tempI64[0],HEAP32[m+4>>2]=tempI64[1],f.getdents&&p===0&&c===0&&(f.getdents=null),0}catch(g){if(typeof FS>"u"||!(g instanceof FS.ErrnoError))throw g;return g.errno}}n(_fd_seek,"_fd_seek");function doWritev(i,s,l,c){for(var m=0,p=0;p<l;p++){var f=HEAPU32[s>>2],g=HEAPU32[s+4>>2];s+=8;var h=FS.write(i,HEAP8,f,g,c);if(h<0)return-1;m+=h,c!==void 0&&(c+=h)}return m}n(doWritev,"doWritev");function _fd_write(i,s,l,c){try{var m=doWritev(SYSCALLS.getStreamFromFD(i),s,l);return HEAPU32[c>>2]=m,0}catch(p){if(typeof FS>"u"||!(p instanceof FS.ErrnoError))throw p;return p.errno}}n(_fd_write,"_fd_write");function _tree_sitter_log_callback(i,s){if(currentLogCallback){let l=UTF8ToString(s);currentLogCallback(l,i!==0)}}n(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(i,s,l,c,m){var p=currentParseCallback(s,{row:l,column:c});typeof p=="string"?(setValue(m,p.length,"i32"),stringToUTF16(p,i,10240)):setValue(m,0,"i32")}n(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(i){if(i instanceof ExitStatus||i=="unwind")return EXITSTATUS;quit_(1,i)}n(handleException,"handleException");function allocateUTF8OnStack(i){var s=lengthBytesUTF8(i)+1,l=stackAlloc(s);return stringToUTF8Array(i,HEAP8,l,s),l}n(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(i,s,l){if(l===void 0&&(l=2147483647),l<2)return 0;for(var c=s,m=(l-=2)<2*i.length?l/2:i.length,p=0;p<m;++p){var f=i.charCodeAt(p);HEAP16[s>>1]=f,s+=2}return HEAP16[s>>1]=0,s-c}n(stringToUTF16,"stringToUTF16");function AsciiToString(i){for(var s="";;){var l=HEAPU8[i++>>0];if(!l)return s;s+=String.fromCharCode(l)}}n(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(i){var s=Module._main;if(s){(i=i||[]).unshift(thisProgram);var l=i.length,c=stackAlloc(4*(l+1)),m=c>>2;i.forEach(f=>{HEAP32[m++]=allocateUTF8OnStack(f)}),HEAP32[m]=0;try{var p=s(l,c);return exitJS(p,!0),p}catch(f){return handleException(f)}}}n(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=n(function i(){calledRun||run(),calledRun||(dependenciesFulfilled=i)},"e");var dylibsLoaded=!1;function run(i){function s(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(i),postRun()))}n(s,"t"),i=i||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),s()},1)):s()))}if(n(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let e=class e{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(s){let l;if(s){if(s.constructor!==Language)throw new Error("Argument must be a Language");{l=s[0];let c=C._ts_language_version(l);if(c<MIN_COMPATIBLE_VERSION||VERSION<c)throw new Error(`Incompatible language version ${c}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else l=0,s=null;return this.language=s,C._ts_parser_set_language(this[0],l),this}getLanguage(){return this.language}parse(s,l,c){if(typeof s=="string")currentParseCallback=n((h,I,x)=>s.slice(h,x),"currentParseCallback");else{if(typeof s!="function")throw new Error("Argument must be a string or a function");currentParseCallback=s}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let m=0,p=0;if(c&&c.includedRanges){m=c.includedRanges.length,p=C._calloc(m,SIZE_OF_RANGE);let h=p;for(let I=0;I<m;I++)marshalRange(h,c.includedRanges[I]),h+=SIZE_OF_RANGE}let f=C._ts_parser_parse_wasm(this[0],this[1],l?l[0]:0,p,m);if(!f)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let g=new Tree(INTERNAL,f,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,g}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(s){C._ts_parser_set_timeout_micros(this[0],s)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(s){if(s){if(typeof s!="function")throw new Error("Logger callback must be a function")}else s=null;return this.logCallback=s,this}getLogger(){return this.logCallback}};n(e,"ParserImpl");let ParserImpl=e,t=class t{constructor(s,l,c,m){assertInternal(s),this[0]=l,this.language=c,this.textCallback=m}copy(){let s=C._ts_tree_copy(this[0]);return new t(INTERNAL,s,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(s){marshalEdit(s),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(s){if(s.constructor!==t)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],s[0]);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),m=new Array(l);if(l>0){let p=c;for(let f=0;f<l;f++)m[f]=unmarshalRange(p),p+=SIZE_OF_RANGE;C._free(c)}return m}};n(t,"Tree");let Tree=t,r=class r{constructor(s,l){assertInternal(s),this.tree=l}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(s){return this.id===s.id}child(s){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],s),unmarshalNode(this.tree)}namedChild(s){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],s),unmarshalNode(this.tree)}childForFieldId(s){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],s),unmarshalNode(this.tree)}childForFieldName(s){let l=this.tree.language.fields.indexOf(s);if(l!==-1)return this.childForFieldId(l)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let s=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(s),s>0){let c=l;for(let m=0;m<s;m++)this._children[m]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(l)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let s=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(s),s>0){let c=l;for(let m=0;m<s;m++)this._namedChildren[m]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(l)}}return this._namedChildren}descendantsOfType(s,l,c){Array.isArray(s)||(s=[s]),l||(l=ZERO_POINT),c||(c=ZERO_POINT);let m=[],p=this.tree.language.types;for(let x=0,w=p.length;x<w;x++)s.includes(p[x])&&m.push(x);let f=C._malloc(SIZE_OF_INT*m.length);for(let x=0,w=m.length;x<w;x++)setValue(f+x*SIZE_OF_INT,m[x],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],f,m.length,l.row,l.column,c.row,c.column);let g=getValue(TRANSFER_BUFFER,"i32"),h=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),I=new Array(g);if(g>0){let x=h;for(let w=0;w<g;w++)I[w]=unmarshalNode(this.tree,x),x+=SIZE_OF_NODE}return C._free(h),C._free(f),I}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(s,l=s){if(typeof s!="number"||typeof l!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,s,"i32"),setValue(c+SIZE_OF_INT,l,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(s,l=s){if(typeof s!="number"||typeof l!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,s,"i32"),setValue(c+SIZE_OF_INT,l,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(s,l=s){if(!isPoint(s)||!isPoint(l))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,s),marshalPoint(c+SIZE_OF_POINT,l),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(s,l=s){if(!isPoint(s)||!isPoint(l))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,s),marshalPoint(c+SIZE_OF_POINT,l),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let s=C._ts_node_to_string_wasm(this.tree[0]),l=AsciiToString(s);return C._free(s),l}};n(r,"Node");let Node=r,o=class o{constructor(s,l){assertInternal(s),this.tree=l,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(s){marshalNode(s),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let s=C._ts_tree_cursor_start_index_wasm(this.tree[0]),l=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,s,l)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}gotoNextSibling(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}gotoParent(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}};n(o,"TreeCursor");let TreeCursor=o,a=class a{constructor(s,l){assertInternal(s),this[0]=l,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let c=0,m=this.types.length;c<m;c++)C._ts_language_symbol_type(this[0],c)<2&&(this.types[c]=UTF8ToString(C._ts_language_symbol_name(this[0],c)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let c=0,m=this.fields.length;c<m;c++){let p=C._ts_language_field_name_for_id(this[0],c);this.fields[c]=p!==0?UTF8ToString(p):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(s){let l=this.fields.indexOf(s);return l!==-1?l:null}fieldNameForId(s){return this.fields[s]||null}idForNodeType(s,l){let c=lengthBytesUTF8(s),m=C._malloc(c+1);stringToUTF8(s,m,c+1);let p=C._ts_language_symbol_for_name(this[0],m,c,l);return C._free(m),p||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(s){let l=C._ts_language_symbol_name(this[0],s);return l?UTF8ToString(l):null}nodeTypeIsNamed(s){return!!C._ts_language_type_is_named_wasm(this[0],s)}nodeTypeIsVisible(s){return!!C._ts_language_type_is_visible_wasm(this[0],s)}query(s){let l=lengthBytesUTF8(s),c=C._malloc(l+1);stringToUTF8(s,c,l+1);let m=C._ts_query_new(this[0],c,l,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!m){let L=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),O=UTF8ToString(c,getValue(TRANSFER_BUFFER,"i32")).length,R=s.substr(O,100).split(`
`)[0],E,k=R.match(QUERY_WORD_REGEX)[0];switch(L){case 2:E=new RangeError(`Bad node name '${k}'`);break;case 3:E=new RangeError(`Bad field name '${k}'`);break;case 4:E=new RangeError(`Bad capture name @${k}`);break;case 5:E=new TypeError(`Bad pattern structure at offset ${O}: '${R}'...`),k="";break;default:E=new SyntaxError(`Bad syntax at offset ${O}: '${R}'...`),k=""}throw E.index=O,E.length=k.length,C._free(c),E}let p=C._ts_query_string_count(m),f=C._ts_query_capture_count(m),g=C._ts_query_pattern_count(m),h=new Array(f),I=new Array(p);for(let L=0;L<f;L++){let O=C._ts_query_capture_name_for_id(m,L,TRANSFER_BUFFER),R=getValue(TRANSFER_BUFFER,"i32");h[L]=UTF8ToString(O,R)}for(let L=0;L<p;L++){let O=C._ts_query_string_value_for_id(m,L,TRANSFER_BUFFER),R=getValue(TRANSFER_BUFFER,"i32");I[L]=UTF8ToString(O,R)}let x=new Array(g),w=new Array(g),F=new Array(g),M=new Array(g),T=new Array(g);for(let L=0;L<g;L++){let O=C._ts_query_predicates_for_pattern(m,L,TRANSFER_BUFFER),R=getValue(TRANSFER_BUFFER,"i32");M[L]=[],T[L]=[];let E=[],k=O;for(let ge=0;ge<R;ge++){let yr=getValue(k,"i32");k+=SIZE_OF_INT;let $t=getValue(k,"i32");if(k+=SIZE_OF_INT,yr===PREDICATE_STEP_TYPE_CAPTURE)E.push({type:"capture",name:h[$t]});else if(yr===PREDICATE_STEP_TYPE_STRING)E.push({type:"string",value:I[$t]});else if(E.length>0){if(E[0].type!=="string")throw new Error("Predicates must begin with a literal value");let gt=E[0].value,nt=!0;switch(gt){case"not-eq?":nt=!1;case"eq?":if(E.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(E.length-1));if(E[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${E[1].value}"`);if(E[2].type==="capture"){let Pt=E[1].name,jr=E[2].name;T[L].push(function(Es){let Kr,Ts;for(let No of Es)No.name===Pt&&(Kr=No.node),No.name===jr&&(Ts=No.node);return Kr===void 0||Ts===void 0||Kr.text===Ts.text===nt})}else{let Pt=E[1].name,jr=E[2].value;T[L].push(function(Es){for(let Kr of Es)if(Kr.name===Pt)return Kr.node.text===jr===nt;return!0})}break;case"not-match?":nt=!1;case"match?":if(E.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${E.length-1}.`);if(E[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${E[1].value}".`);if(E[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${E[2].value}.`);let Ne=E[1].name,zt=new RegExp(E[2].value);T[L].push(function(Pt){for(let jr of Pt)if(jr.name===Ne)return zt.test(jr.node.text)===nt;return!0});break;case"set!":if(E.length<2||E.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${E.length-1}.`);if(E.some(Pt=>Pt.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');x[L]||(x[L]={}),x[L][E[1].value]=E[2]?E[2].value:null;break;case"is?":case"is-not?":if(E.length<2||E.length>3)throw new Error(`Wrong number of arguments to \`#${gt}\` predicate. Expected 1 or 2. Got ${E.length-1}.`);if(E.some(Pt=>Pt.type!=="string"))throw new Error(`Arguments to \`#${gt}\` predicate must be a strings.".`);let Nn=gt==="is?"?w:F;Nn[L]||(Nn[L]={}),Nn[L][E[1].value]=E[2]?E[2].value:null;break;default:M[L].push({operator:gt,operands:E.slice(1)})}E.length=0}}Object.freeze(x[L]),Object.freeze(w[L]),Object.freeze(F[L])}return C._free(c),new Query(INTERNAL,m,h,T,M,Object.freeze(x),Object.freeze(w),Object.freeze(F))}static load(s){let l;if(s instanceof Uint8Array)l=Promise.resolve(s);else{let m=s;if(typeof process<"u"&&process.versions&&process.versions.node){let p=require("fs");l=Promise.resolve(p.readFileSync(m))}else l=fetch(m).then(p=>p.arrayBuffer().then(f=>{if(p.ok)return new Uint8Array(f);{let g=new TextDecoder("utf-8").decode(f);throw new Error(`Language.load failed with status ${p.status}.

${g}`)}}))}let c=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return l.then(m=>c(m,{loadAsync:!0})).then(m=>{let p=Object.keys(m),f=p.find(h=>LANGUAGE_FUNCTION_REGEX.test(h)&&!h.includes("external_scanner_"));f||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(p,null,2)}`);let g=m[f]();return new a(INTERNAL,g)})}};n(a,"Language");let Language=a,u=class u{constructor(s,l,c,m,p,f,g,h){assertInternal(s),this[0]=l,this.captureNames=c,this.textPredicates=m,this.predicates=p,this.setProperties=f,this.assertedProperties=g,this.refutedProperties=h,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(s,l,c,m){l||(l=ZERO_POINT),c||(c=ZERO_POINT),m||(m={});let p=m.matchLimit;if(p===void 0)p=0;else if(typeof p!="number")throw new Error("Arguments must be numbers");marshalNode(s),C._ts_query_matches_wasm(this[0],s.tree[0],l.row,l.column,c.row,c.column,p);let f=getValue(TRANSFER_BUFFER,"i32"),g=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),h=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),I=new Array(f);this.exceededMatchLimit=!!h;let x=0,w=g;for(let F=0;F<f;F++){let M=getValue(w,"i32");w+=SIZE_OF_INT;let T=getValue(w,"i32");w+=SIZE_OF_INT;let L=new Array(T);if(w=unmarshalCaptures(this,s.tree,w,L),this.textPredicates[M].every(O=>O(L))){I[x++]={pattern:M,captures:L};let O=this.setProperties[M];O&&(I[F].setProperties=O);let R=this.assertedProperties[M];R&&(I[F].assertedProperties=R);let E=this.refutedProperties[M];E&&(I[F].refutedProperties=E)}}return I.length=x,C._free(g),I}captures(s,l,c,m){l||(l=ZERO_POINT),c||(c=ZERO_POINT),m||(m={});let p=m.matchLimit;if(p===void 0)p=0;else if(typeof p!="number")throw new Error("Arguments must be numbers");marshalNode(s),C._ts_query_captures_wasm(this[0],s.tree[0],l.row,l.column,c.row,c.column,p);let f=getValue(TRANSFER_BUFFER,"i32"),g=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),h=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),I=[];this.exceededMatchLimit=!!h;let x=[],w=g;for(let F=0;F<f;F++){let M=getValue(w,"i32");w+=SIZE_OF_INT;let T=getValue(w,"i32");w+=SIZE_OF_INT;let L=getValue(w,"i32");if(w+=SIZE_OF_INT,x.length=T,w=unmarshalCaptures(this,s.tree,w,x),this.textPredicates[M].every(O=>O(x))){let O=x[L],R=this.setProperties[M];R&&(O.setProperties=R);let E=this.assertedProperties[M];E&&(O.assertedProperties=E);let k=this.refutedProperties[M];k&&(O.refutedProperties=k),I.push(O)}}return C._free(g),I}predicatesForPattern(s){return this.predicates[s]}didExceedMatchLimit(){return this.exceededMatchLimit}};n(u,"Query");let Query=u;function getText(i,s,l){let c=l-s,m=i.textCallback(s,null,l);for(s+=m.length;s<l;){let p=i.textCallback(s,null,l);if(!(p&&p.length>0))break;s+=p.length,m+=p}return s>l&&(m=m.slice(0,c)),m}n(getText,"getText");function unmarshalCaptures(i,s,l,c){for(let m=0,p=c.length;m<p;m++){let f=getValue(l,"i32"),g=unmarshalNode(s,l+=SIZE_OF_INT);l+=SIZE_OF_NODE,c[m]={name:i.captureNames[f],node:g}}return l}n(unmarshalCaptures,"unmarshalCaptures");function assertInternal(i){if(i!==INTERNAL)throw new Error("Illegal constructor")}n(assertInternal,"assertInternal");function isPoint(i){return i&&typeof i.row=="number"&&typeof i.column=="number"}n(isPoint,"isPoint");function marshalNode(i){let s=TRANSFER_BUFFER;setValue(s,i.id,"i32"),s+=SIZE_OF_INT,setValue(s,i.startIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.startPosition.row,"i32"),s+=SIZE_OF_INT,setValue(s,i.startPosition.column,"i32"),s+=SIZE_OF_INT,setValue(s,i[0],"i32")}n(marshalNode,"marshalNode");function unmarshalNode(i,s=TRANSFER_BUFFER){let l=getValue(s,"i32");if(l===0)return null;let c=getValue(s+=SIZE_OF_INT,"i32"),m=getValue(s+=SIZE_OF_INT,"i32"),p=getValue(s+=SIZE_OF_INT,"i32"),f=getValue(s+=SIZE_OF_INT,"i32"),g=new Node(INTERNAL,i);return g.id=l,g.startIndex=c,g.startPosition={row:m,column:p},g[0]=f,g}n(unmarshalNode,"unmarshalNode");function marshalTreeCursor(i,s=TRANSFER_BUFFER){setValue(s+0*SIZE_OF_INT,i[0],"i32"),setValue(s+1*SIZE_OF_INT,i[1],"i32"),setValue(s+2*SIZE_OF_INT,i[2],"i32")}n(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(i){i[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),i[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),i[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}n(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(i,s){setValue(i,s.row,"i32"),setValue(i+SIZE_OF_INT,s.column,"i32")}n(marshalPoint,"marshalPoint");function unmarshalPoint(i){return{row:getValue(i,"i32"),column:getValue(i+SIZE_OF_INT,"i32")}}n(unmarshalPoint,"unmarshalPoint");function marshalRange(i,s){marshalPoint(i,s.startPosition),marshalPoint(i+=SIZE_OF_POINT,s.endPosition),setValue(i+=SIZE_OF_POINT,s.startIndex,"i32"),setValue(i+=SIZE_OF_INT,s.endIndex,"i32"),i+=SIZE_OF_INT}n(marshalRange,"marshalRange");function unmarshalRange(i){let s={};return s.startPosition=unmarshalPoint(i),i+=SIZE_OF_POINT,s.endPosition=unmarshalPoint(i),i+=SIZE_OF_POINT,s.startIndex=getValue(i,"i32"),i+=SIZE_OF_INT,s.endIndex=getValue(i,"i32"),s}n(unmarshalRange,"unmarshalRange");function marshalEdit(i){let s=TRANSFER_BUFFER;marshalPoint(s,i.startPosition),s+=SIZE_OF_POINT,marshalPoint(s,i.oldEndPosition),s+=SIZE_OF_POINT,marshalPoint(s,i.newEndPosition),s+=SIZE_OF_POINT,setValue(s,i.startIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.oldEndIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.newEndIndex,"i32"),s+=SIZE_OF_INT}n(marshalEdit,"marshalEdit");for(let i of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,i,{value:ParserImpl.prototype[i],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};n(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});function nn(e){return e in Ca&&e!=="csharp"&&e!=="java"}function Xn(e){if(!(e in Ca))throw new Error(`Unrecognized language: ${e}`);return Ca[e]}async function hy(e){let t,r=ai.default.resolve(ai.default.extname(__filename)!==".ts"?__dirname:ai.default.resolve(__dirname,"../../dist"),`tree-sitter-${e}.wasm`);try{t=await Vm.promises.readFile(r)}catch(o){throw o instanceof Error&&"code"in o&&typeof o.code=="string"&&o.name==="Error"?new Xt(`Could not load tree-sitter-${e}.wasm`,o):o}return ui.default.Language.load(t)}function Gm(e){let t=Xn(e);if(!Aa.has(t)){let r=hy(t);Aa.set(t,r)}return Aa.get(t)}async function on(e,t){await ui.default.init();let r;try{r=new ui.default}catch(u){throw u&&typeof u=="object"&&"message"in u&&typeof u.message=="string"&&u.message.includes("table index is out of bounds")?new Ua(`Could not init Parse for language <${e}>`,u):u}let o=await Gm(e);r.setLanguage(o);let a=r.parse(t);return r.delete(),a}function yy(e){switch(Xn(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":case"c_sharp":case"java":return"}";case"ruby":return"end"}}function by(e,t){let r=[];for(let o of e){if(!o[1]){let a=t.tree.getLanguage();o[1]=a.query(o[0])}r.push(...o[1].matches(t))}return r}function Ba(e){return by([Iy],e).length==1}var Vm,ai,ui,Wm,Ca,Aa,Da,Ua,Iy,li=d(()=>{"use strict";Vo();Vm=require("fs"),ai=kn(require("path")),ui=kn(Km()),Wm=(l=>(l.Python="python",l.JavaScript="javascript",l.TypeScript="typescript",l.TSX="tsx",l.Go="go",l.Ruby="ruby",l.CSharp="c_sharp",l.Java="java",l))(Wm||{}),Ca={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java"};n(nn,"isSupportedLanguageId");n(Xn,"languageIdToWasmLanguage");Aa=new Map;n(hy,"loadWasmLanguage");n(Gm,"getLanguage");Da=class Da extends Error{constructor(r,o){super(r);this.cause=o}};n(Da,"WrappedError");Ua=Da;n(on,"parseTreeSitter");n(yy,"getBlockCloseToken");n(by,"innerQuery");Iy=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];n(Ba,"queryPythonIsDocstring")});function xy(e,t){let r=new Set;return t.forEach(o=>{e.has(o)&&r.add(o)}),r.size}var er,ci,$m=d(()=>{"use strict";li();ni();oi();Ra();er=class er extends rn{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return ii(this.windowLength,t)}_getCursorContextInfo(t){return Er(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=er.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){var a;let t=(a=await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))==null?void 0:a.startIndex,r=this.referenceDoc.offset,o=t?this.referenceDoc.source.slice(t,r):Er(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(o)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,r){return xy(t,r)}async getEnclosingMemberStart(t,r){var a;let o;try{o=await on(this.referenceDoc.languageId,t);let u=o.rootNode.namedDescendantForIndex(r);for(;u&&!(er.isMember(u)||er.isBlock(u));)u=(a=u.parent)!=null?a:void 0;return u}finally{o==null||o.delete()}}static isMember(t){switch(t==null?void 0:t.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t==null?void 0:t.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};n(er,"BlockTokenSubsetMatcher"),er.FACTORY=n(t=>({to:n(r=>new er(r,t),"to")}),"FACTORY");ci=er;n(xy,"computeScore")});function Ly(e,t){return(t.useSubsetMatching?ci.FACTORY(t.snippetLength):si.FACTORY(t.snippetLength)).to(e)}async function Hm(e,t,r){let o=Ly(e,r);return r.maxTopSnippets===0?[]:(await t.filter(u=>u.source.length<r.maxCharPerFile&&u.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(u,i)=>(await u).concat((await o.findMatches(i,r.maxSnippetsPerFile)).map(s=>({relativePath:i.relativePath,...s}))),Promise.resolve([]))).filter(u=>u.score&&u.snippet&&u.score>r.threshold).sort((u,i)=>u.score-i.score).slice(-r.maxTopSnippets)}var wy,Sy,Ey,Ty,vy,My,zm,ja,mi=d(()=>{"use strict";jm();$m();wy=0,Sy=60,Ey=4,Ty=1,vy=20,My=1e4,zm={snippetLength:Sy,threshold:wy,maxTopSnippets:Ey,maxCharPerFile:My,maxNumberOfFiles:vy,maxSnippetsPerFile:Ty,useSubsetMatching:!1},ja={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};n(Ly,"getMatcher");n(Hm,"getSimilarSnippets")});function qm(e,t,r){if(!r)throw new Error("targetTokenBudget must be specified for the truncateFirstLinesFirst summarizer");let o=t.text.split(`
`);for(let x=0;x<o.length-1;x++)o[x]+=`
`;let a=[];o.forEach((x,w)=>{x===`
`&&a.length>0&&!a[a.length-1].endsWith(`

`)?a[a.length-1]+=`
`:a.push(x)});let u=a.map(x=>e.tokenLength(x)),i=1,s=0;for(;i<=u.length;i++){let x=u.at(-i);if(x){if(x+s>r){i--;break}s+=x}}let c=a.slice(-i).join(""),m=e.tokenLength(c),f=a.slice(0,-i).join(""),g=e.tokenLength(f),h={id:t.id,kind:t.kind,text:c,tokens:m,score:t.score},I={id:t.id,kind:t.kind,text:f,tokens:g,score:t.score};return{summarizedElement:h,removedMaterial:I}}var Zm=d(()=>{"use strict";n(qm,"truncateFirstLinesFirst")});var Ka,pi,Jm=d(()=>{"use strict";Zm();di();Ka=class Ka{constructor(t="default"){switch(t){case"default":default:this.kindToFunctionMap=new Map([["BeforeCursor",qm]])}}isSummarizationAvailable(t){return this.kindToFunctionMap.has(t)}summarize(t,r,o){return this.kindToFunctionMap.get(r.kind)(t,r,o)}};n(Ka,"SnippetTextProcessor");pi=Ka});function Xm(e,t){let r=`Use ${e}`;return Qt(r,t)}function Ym(e){let t=e.source.substring(0,e.offset);return Ny.test(t)}function Qm(e,t){let r=e.lastIndexOf(`
`)+1,o=e.substring(0,r),a=e.substring(r);return t.snippet=t.snippet+a,[o,t]}var Ny,Va=d(()=>{"use strict";Ft();Ny=/(\.|->|::)\w+$/;n(Xm,"announceTooltipSignatureSnippet");n(Ym,"endsWithAttributesOrMethod");n(Qm,"transferLastLineToTooltipSignature")});var Te={};Vr(Te,{HasPropertyKey:()=>fi,IsArray:()=>ie,IsAsyncIterator:()=>Wa,IsBigInt:()=>Yn,IsBoolean:()=>Rt,IsDate:()=>Tr,IsFunction:()=>Ga,IsIterator:()=>$a,IsNull:()=>za,IsNumber:()=>Ve,IsObject:()=>G,IsRegExp:()=>Qn,IsString:()=>q,IsSymbol:()=>Ha,IsUint8Array:()=>At,IsUndefined:()=>fe});function fi(e,t){return t in e}function Wa(e){return G(e)&&!ie(e)&&!At(e)&&Symbol.asyncIterator in e}function ie(e){return Array.isArray(e)}function Yn(e){return typeof e=="bigint"}function Rt(e){return typeof e=="boolean"}function Tr(e){return e instanceof globalThis.Date}function Ga(e){return typeof e=="function"}function $a(e){return G(e)&&!ie(e)&&!At(e)&&Symbol.iterator in e}function za(e){return e===null}function Ve(e){return typeof e=="number"}function G(e){return typeof e=="object"&&e!==null}function Qn(e){return e instanceof globalThis.RegExp}function q(e){return typeof e=="string"}function Ha(e){return typeof e=="symbol"}function At(e){return e instanceof globalThis.Uint8Array}function fe(e){return e===void 0}var Fe=d(()=>{n(fi,"HasPropertyKey");n(Wa,"IsAsyncIterator");n(ie,"IsArray");n(Yn,"IsBigInt");n(Rt,"IsBoolean");n(Tr,"IsDate");n(Ga,"IsFunction");n($a,"IsIterator");n(za,"IsNull");n(Ve,"IsNumber");n(G,"IsObject");n(Qn,"IsRegExp");n(q,"IsString");n(Ha,"IsSymbol");n(At,"IsUint8Array");n(fe,"IsUndefined")});function Fy(e){return e.map(t=>_i(t))}function ky(e){return new Date(e.getTime())}function Oy(e){return new Uint8Array(e)}function Ry(e){return new RegExp(e.source,e.flags)}function Ay(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=_i(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=_i(e[r]);return t}function _i(e){return ie(e)?Fy(e):Tr(e)?ky(e):At(e)?Oy(e):Qn(e)?Ry(e):G(e)?Ay(e):e}function Y(e){return _i(e)}var ke=d(()=>{Fe();n(Fy,"ArrayType");n(ky,"DateType");n(Oy,"Uint8ArrayType");n(Ry,"RegExpType");n(Ay,"ObjectType");n(_i,"Visit");n(Y,"Clone")});function eo(e,t){return t===void 0?Y(e):Y({...t,...e})}var gi=d(()=>{ke();n(eo,"CloneType")});var ep=d(()=>{gi();ke()});function tp(e){return e!==null&&typeof e=="object"}function rp(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}function np(e){return e===void 0}function op(e){return typeof e=="number"}var ip=d(()=>{n(tp,"IsObject");n(rp,"IsArray");n(np,"IsUndefined");n(op,"IsNumber")});var sp=d(()=>{ip()});var hi,ap=d(()=>{sp();(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(i,s){return e.ExactOptionalPropertyTypes?s in i:i[s]!==void 0}n(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(i){let s=tp(i);return e.AllowArrayObject?s:s&&!rp(i)}n(r,"IsObjectLike"),e.IsObjectLike=r;function o(i){return r(i)&&!(i instanceof Date)&&!(i instanceof Uint8Array)}n(o,"IsRecordLike"),e.IsRecordLike=o;function a(i){return e.AllowNaN?op(i):Number.isFinite(i)}n(a,"IsNumberLike"),e.IsNumberLike=a;function u(i){let s=np(i);return e.AllowNullVoid?s||i===null:s}n(u,"IsVoidLike"),e.IsVoidLike=u})(hi||(hi={}))});function Cy(e){return globalThis.Object.freeze(e).map(t=>to(t))}function Uy(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=to(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=to(e[r]);return globalThis.Object.freeze(t)}function to(e){return ie(e)?Cy(e):Tr(e)?e:At(e)?e:Qn(e)?e:G(e)?Uy(e):e}var up=d(()=>{Fe();n(Cy,"ImmutableArray");n(Uy,"ImmutableObject");n(to,"Immutable")});function b(e,t){let r=t!==void 0?{...t,...e}:e;switch(hi.InstanceMode){case"freeze":return to(r);case"clone":return Y(r);default:return r}}var P=d(()=>{ap();up();ke();n(b,"CreateType")});var Ct=d(()=>{P()});var qa,he,lp=d(()=>{qa=class qa extends Error{constructor(t){super(t)}};n(qa,"TypeBoxError");he=qa});var wt=d(()=>{lp()});var we,lt,Se,Je,S,ro=d(()=>{we=Symbol.for("TypeBox.Transform"),lt=Symbol.for("TypeBox.Readonly"),Se=Symbol.for("TypeBox.Optional"),Je=Symbol.for("TypeBox.Hint"),S=Symbol.for("TypeBox.Kind")});var N=d(()=>{ro()});function sn(e){return G(e)&&e[lt]==="Readonly"}function Oe(e){return G(e)&&e[Se]==="Optional"}function Za(e){return B(e,"Any")}function Ja(e){return B(e,"Argument")}function ct(e){return B(e,"Array")}function vr(e){return B(e,"AsyncIterator")}function Xa(e){return B(e,"BigInt")}function no(e){return B(e,"Boolean")}function mt(e){return B(e,"Computed")}function pt(e){return B(e,"Constructor")}function By(e){return B(e,"Date")}function dt(e){return B(e,"Function")}function Mr(e){return B(e,"Integer")}function ee(e){return B(e,"Intersect")}function Lr(e){return B(e,"Iterator")}function B(e,t){return G(e)&&S in e&&e[S]===t}function yi(e){return Rt(e)||Ve(e)||q(e)}function Ut(e){return B(e,"Literal")}function We(e){return B(e,"MappedKey")}function Q(e){return B(e,"MappedResult")}function tr(e){return B(e,"Never")}function Dy(e){return B(e,"Not")}function jy(e){return B(e,"Null")}function Pr(e){return B(e,"Number")}function se(e){return B(e,"Object")}function Nr(e){return B(e,"Promise")}function oo(e){return B(e,"Record")}function ae(e){return B(e,"Ref")}function Ya(e){return B(e,"RegExp")}function io(e){return B(e,"String")}function Ky(e){return B(e,"Symbol")}function Ge(e){return B(e,"TemplateLiteral")}function Vy(e){return B(e,"This")}function an(e){return G(e)&&we in e}function $e(e){return B(e,"Tuple")}function Wy(e){return B(e,"Undefined")}function D(e){return B(e,"Union")}function Gy(e){return B(e,"Uint8Array")}function $y(e){return B(e,"Unknown")}function zy(e){return B(e,"Unsafe")}function Hy(e){return B(e,"Void")}function qy(e){return G(e)&&S in e&&q(e[S])}function Pe(e){return Za(e)||Ja(e)||ct(e)||no(e)||Xa(e)||vr(e)||mt(e)||pt(e)||By(e)||dt(e)||Mr(e)||ee(e)||Lr(e)||Ut(e)||We(e)||Q(e)||tr(e)||Dy(e)||jy(e)||Pr(e)||se(e)||Nr(e)||oo(e)||ae(e)||Ya(e)||io(e)||Ky(e)||Ge(e)||Vy(e)||$e(e)||Wy(e)||D(e)||Gy(e)||$y(e)||zy(e)||Hy(e)||qy(e)}var j=d(()=>{Fe();N();n(sn,"IsReadonly");n(Oe,"IsOptional");n(Za,"IsAny");n(Ja,"IsArgument");n(ct,"IsArray");n(vr,"IsAsyncIterator");n(Xa,"IsBigInt");n(no,"IsBoolean");n(mt,"IsComputed");n(pt,"IsConstructor");n(By,"IsDate");n(dt,"IsFunction");n(Mr,"IsInteger");n(ee,"IsIntersect");n(Lr,"IsIterator");n(B,"IsKindOf");n(yi,"IsLiteralValue");n(Ut,"IsLiteral");n(We,"IsMappedKey");n(Q,"IsMappedResult");n(tr,"IsNever");n(Dy,"IsNot");n(jy,"IsNull");n(Pr,"IsNumber");n(se,"IsObject");n(Nr,"IsPromise");n(oo,"IsRecord");n(ae,"IsRef");n(Ya,"IsRegExp");n(io,"IsString");n(Ky,"IsSymbol");n(Ge,"IsTemplateLiteral");n(Vy,"IsThis");n(an,"IsTransform");n($e,"IsTuple");n(Wy,"IsUndefined");n(D,"IsUnion");n(Gy,"IsUint8Array");n($y,"IsUnknown");n(zy,"IsUnsafe");n(Hy,"IsVoid");n(qy,"IsKind");n(Pe,"IsSchema")});var _={};Vr(_,{IsAny:()=>dp,IsArgument:()=>fp,IsArray:()=>_p,IsAsyncIterator:()=>gp,IsBigInt:()=>hp,IsBoolean:()=>yp,IsComputed:()=>bp,IsConstructor:()=>Ip,IsDate:()=>xp,IsFunction:()=>wp,IsImport:()=>eb,IsInteger:()=>Sp,IsIntersect:()=>Ep,IsIterator:()=>Tp,IsKind:()=>Xp,IsKindOf:()=>A,IsLiteral:()=>ao,IsLiteralBoolean:()=>tb,IsLiteralNumber:()=>Mp,IsLiteralString:()=>vp,IsLiteralValue:()=>Lp,IsMappedKey:()=>Pp,IsMappedResult:()=>Np,IsNever:()=>Fp,IsNot:()=>kp,IsNull:()=>Op,IsNumber:()=>Rp,IsObject:()=>Ap,IsOptional:()=>Qy,IsPromise:()=>Cp,IsProperties:()=>bi,IsReadonly:()=>Yy,IsRecord:()=>Up,IsRecursive:()=>rb,IsRef:()=>Bp,IsRegExp:()=>Dp,IsSchema:()=>ye,IsString:()=>jp,IsSymbol:()=>Kp,IsTemplateLiteral:()=>Vp,IsThis:()=>Wp,IsTransform:()=>Gp,IsTuple:()=>$p,IsUint8Array:()=>Hp,IsUndefined:()=>zp,IsUnion:()=>ru,IsUnionLiteral:()=>nb,IsUnknown:()=>qp,IsUnsafe:()=>Zp,IsVoid:()=>Jp,TypeGuardUnknownTypeError:()=>Qa});function cp(e){try{return new RegExp(e),!0}catch{return!1}}function eu(e){if(!q(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}function mp(e){return tu(e)||ye(e)}function so(e){return fe(e)||Yn(e)}function Z(e){return fe(e)||Ve(e)}function tu(e){return fe(e)||Rt(e)}function $(e){return fe(e)||q(e)}function Jy(e){return fe(e)||q(e)&&eu(e)&&cp(e)}function Xy(e){return fe(e)||q(e)&&eu(e)}function pp(e){return fe(e)||ye(e)}function Yy(e){return G(e)&&e[lt]==="Readonly"}function Qy(e){return G(e)&&e[Se]==="Optional"}function dp(e){return A(e,"Any")&&$(e.$id)}function fp(e){return A(e,"Argument")&&Ve(e.index)}function _p(e){return A(e,"Array")&&e.type==="array"&&$(e.$id)&&ye(e.items)&&Z(e.minItems)&&Z(e.maxItems)&&tu(e.uniqueItems)&&pp(e.contains)&&Z(e.minContains)&&Z(e.maxContains)}function gp(e){return A(e,"AsyncIterator")&&e.type==="AsyncIterator"&&$(e.$id)&&ye(e.items)}function hp(e){return A(e,"BigInt")&&e.type==="bigint"&&$(e.$id)&&so(e.exclusiveMaximum)&&so(e.exclusiveMinimum)&&so(e.maximum)&&so(e.minimum)&&so(e.multipleOf)}function yp(e){return A(e,"Boolean")&&e.type==="boolean"&&$(e.$id)}function bp(e){return A(e,"Computed")&&q(e.target)&&ie(e.parameters)&&e.parameters.every(t=>ye(t))}function Ip(e){return A(e,"Constructor")&&e.type==="Constructor"&&$(e.$id)&&ie(e.parameters)&&e.parameters.every(t=>ye(t))&&ye(e.returns)}function xp(e){return A(e,"Date")&&e.type==="Date"&&$(e.$id)&&Z(e.exclusiveMaximumTimestamp)&&Z(e.exclusiveMinimumTimestamp)&&Z(e.maximumTimestamp)&&Z(e.minimumTimestamp)&&Z(e.multipleOfTimestamp)}function wp(e){return A(e,"Function")&&e.type==="Function"&&$(e.$id)&&ie(e.parameters)&&e.parameters.every(t=>ye(t))&&ye(e.returns)}function eb(e){return A(e,"Import")&&fi(e,"$defs")&&G(e.$defs)&&bi(e.$defs)&&fi(e,"$ref")&&q(e.$ref)&&e.$ref in e.$defs}function Sp(e){return A(e,"Integer")&&e.type==="integer"&&$(e.$id)&&Z(e.exclusiveMaximum)&&Z(e.exclusiveMinimum)&&Z(e.maximum)&&Z(e.minimum)&&Z(e.multipleOf)}function bi(e){return G(e)&&Object.entries(e).every(([t,r])=>eu(t)&&ye(r))}function Ep(e){return A(e,"Intersect")&&!(q(e.type)&&e.type!=="object")&&ie(e.allOf)&&e.allOf.every(t=>ye(t)&&!Gp(t))&&$(e.type)&&(tu(e.unevaluatedProperties)||pp(e.unevaluatedProperties))&&$(e.$id)}function Tp(e){return A(e,"Iterator")&&e.type==="Iterator"&&$(e.$id)&&ye(e.items)}function A(e,t){return G(e)&&S in e&&e[S]===t}function vp(e){return ao(e)&&q(e.const)}function Mp(e){return ao(e)&&Ve(e.const)}function tb(e){return ao(e)&&Rt(e.const)}function ao(e){return A(e,"Literal")&&$(e.$id)&&Lp(e.const)}function Lp(e){return Rt(e)||Ve(e)||q(e)}function Pp(e){return A(e,"MappedKey")&&ie(e.keys)&&e.keys.every(t=>Ve(t)||q(t))}function Np(e){return A(e,"MappedResult")&&bi(e.properties)}function Fp(e){return A(e,"Never")&&G(e.not)&&Object.getOwnPropertyNames(e.not).length===0}function kp(e){return A(e,"Not")&&ye(e.not)}function Op(e){return A(e,"Null")&&e.type==="null"&&$(e.$id)}function Rp(e){return A(e,"Number")&&e.type==="number"&&$(e.$id)&&Z(e.exclusiveMaximum)&&Z(e.exclusiveMinimum)&&Z(e.maximum)&&Z(e.minimum)&&Z(e.multipleOf)}function Ap(e){return A(e,"Object")&&e.type==="object"&&$(e.$id)&&bi(e.properties)&&mp(e.additionalProperties)&&Z(e.minProperties)&&Z(e.maxProperties)}function Cp(e){return A(e,"Promise")&&e.type==="Promise"&&$(e.$id)&&ye(e.item)}function Up(e){return A(e,"Record")&&e.type==="object"&&$(e.$id)&&mp(e.additionalProperties)&&G(e.patternProperties)&&(t=>{let r=Object.getOwnPropertyNames(t.patternProperties);return r.length===1&&cp(r[0])&&G(t.patternProperties)&&ye(t.patternProperties[r[0]])})(e)}function rb(e){return G(e)&&Je in e&&e[Je]==="Recursive"}function Bp(e){return A(e,"Ref")&&$(e.$id)&&q(e.$ref)}function Dp(e){return A(e,"RegExp")&&$(e.$id)&&q(e.source)&&q(e.flags)&&Z(e.maxLength)&&Z(e.minLength)}function jp(e){return A(e,"String")&&e.type==="string"&&$(e.$id)&&Z(e.minLength)&&Z(e.maxLength)&&Jy(e.pattern)&&Xy(e.format)}function Kp(e){return A(e,"Symbol")&&e.type==="symbol"&&$(e.$id)}function Vp(e){return A(e,"TemplateLiteral")&&e.type==="string"&&q(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}function Wp(e){return A(e,"This")&&$(e.$id)&&q(e.$ref)}function Gp(e){return G(e)&&we in e}function $p(e){return A(e,"Tuple")&&e.type==="array"&&$(e.$id)&&Ve(e.minItems)&&Ve(e.maxItems)&&e.minItems===e.maxItems&&(fe(e.items)&&fe(e.additionalItems)&&e.minItems===0||ie(e.items)&&e.items.every(t=>ye(t)))}function zp(e){return A(e,"Undefined")&&e.type==="undefined"&&$(e.$id)}function nb(e){return ru(e)&&e.anyOf.every(t=>vp(t)||Mp(t))}function ru(e){return A(e,"Union")&&$(e.$id)&&G(e)&&ie(e.anyOf)&&e.anyOf.every(t=>ye(t))}function Hp(e){return A(e,"Uint8Array")&&e.type==="Uint8Array"&&$(e.$id)&&Z(e.minByteLength)&&Z(e.maxByteLength)}function qp(e){return A(e,"Unknown")&&$(e.$id)}function Zp(e){return A(e,"Unsafe")}function Jp(e){return A(e,"Void")&&e.type==="void"&&$(e.$id)}function Xp(e){return G(e)&&S in e&&q(e[S])&&!Zy.includes(e[S])}function ye(e){return G(e)&&(dp(e)||fp(e)||_p(e)||yp(e)||hp(e)||gp(e)||bp(e)||Ip(e)||xp(e)||wp(e)||Sp(e)||Ep(e)||Tp(e)||ao(e)||Pp(e)||Np(e)||Fp(e)||kp(e)||Op(e)||Rp(e)||Ap(e)||Cp(e)||Up(e)||Bp(e)||Dp(e)||jp(e)||Kp(e)||Vp(e)||Wp(e)||$p(e)||zp(e)||ru(e)||Hp(e)||qp(e)||Zp(e)||Jp(e)||Xp(e))}var nu,Qa,Zy,Yp=d(()=>{Fe();N();wt();nu=class nu extends he{};n(nu,"TypeGuardUnknownTypeError");Qa=nu,Zy=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];n(cp,"IsPattern");n(eu,"IsControlCharacterFree");n(mp,"IsAdditionalProperties");n(so,"IsOptionalBigInt");n(Z,"IsOptionalNumber");n(tu,"IsOptionalBoolean");n($,"IsOptionalString");n(Jy,"IsOptionalPattern");n(Xy,"IsOptionalFormat");n(pp,"IsOptionalSchema");n(Yy,"IsReadonly");n(Qy,"IsOptional");n(dp,"IsAny");n(fp,"IsArgument");n(_p,"IsArray");n(gp,"IsAsyncIterator");n(hp,"IsBigInt");n(yp,"IsBoolean");n(bp,"IsComputed");n(Ip,"IsConstructor");n(xp,"IsDate");n(wp,"IsFunction");n(eb,"IsImport");n(Sp,"IsInteger");n(bi,"IsProperties");n(Ep,"IsIntersect");n(Tp,"IsIterator");n(A,"IsKindOf");n(vp,"IsLiteralString");n(Mp,"IsLiteralNumber");n(tb,"IsLiteralBoolean");n(ao,"IsLiteral");n(Lp,"IsLiteralValue");n(Pp,"IsMappedKey");n(Np,"IsMappedResult");n(Fp,"IsNever");n(kp,"IsNot");n(Op,"IsNull");n(Rp,"IsNumber");n(Ap,"IsObject");n(Cp,"IsPromise");n(Up,"IsRecord");n(rb,"IsRecursive");n(Bp,"IsRef");n(Dp,"IsRegExp");n(jp,"IsString");n(Kp,"IsSymbol");n(Vp,"IsTemplateLiteral");n(Wp,"IsThis");n(Gp,"IsTransform");n($p,"IsTuple");n(zp,"IsUndefined");n(nb,"IsUnionLiteral");n(ru,"IsUnion");n(Hp,"IsUint8Array");n(qp,"IsUnknown");n(Zp,"IsUnsafe");n(Jp,"IsVoid");n(Xp,"IsKind");n(ye,"IsSchema")});var ou=d(()=>{Yp();Fe()});var Qp=d(()=>{});var ed=d(()=>{Qp()});var iu,uo,su,ob,M0,rr,nr,td,rd=d(()=>{iu="(true|false)",uo="(0|[1-9][0-9]*)",su="(.*)",ob="(?!.*)",M0=`^${iu}$`,rr=`^${uo}$`,nr=`^${su}$`,td=`^${ob}$`});var lo=d(()=>{rd()});var au={};Vr(au,{Clear:()=>sb,Delete:()=>ab,Entries:()=>ib,Get:()=>cb,Has:()=>ub,Set:()=>lb});function ib(){return new Map(un)}function sb(){return un.clear()}function ab(e){return un.delete(e)}function ub(e){return un.has(e)}function lb(e,t){un.set(e,t)}function cb(e){return un.get(e)}var un,nd=d(()=>{un=new Map;n(ib,"Entries");n(sb,"Clear");n(ab,"Delete");n(ub,"Has");n(lb,"Set");n(cb,"Get")});var uu={};Vr(uu,{Clear:()=>pb,Delete:()=>db,Entries:()=>mb,Get:()=>gb,Has:()=>fb,Set:()=>_b});function mb(){return new Map(ln)}function pb(){return ln.clear()}function db(e){return ln.delete(e)}function fb(e){return ln.has(e)}function _b(e,t){ln.set(e,t)}function gb(e){return ln.get(e)}var ln,od=d(()=>{ln=new Map;n(mb,"Entries");n(pb,"Clear");n(db,"Delete");n(fb,"Has");n(_b,"Set");n(gb,"Get")});var id=d(()=>{nd();od()});function sd(e,t){return e.includes(t)}function ad(e){return[...new Set(e)]}function hb(e,t){return e.filter(r=>t.includes(r))}function yb(e,t){return e.reduce((r,o)=>hb(r,o),t)}function ud(e){return e.length===1?e[0]:e.length>1?yb(e.slice(1),e[0]):[]}function ld(e){let t=[];for(let r of e)t.push(...r);return t}var cd=d(()=>{n(sd,"SetIncludes");n(ad,"SetDistinct");n(hb,"SetIntersect");n(yb,"SetIntersectManyResolve");n(ud,"SetIntersectMany");n(ld,"SetUnionMany")});var co=d(()=>{cd()});function or(e){return b({[S]:"Any"},e)}var md=d(()=>{Ct();N();n(or,"Any")});var mo=d(()=>{md()});function ir(e,t){return b({[S]:"Array",type:"array",items:e},t)}var pd=d(()=>{P();N();n(ir,"Array")});var cn=d(()=>{pd()});function dd(e){return b({[S]:"Argument",index:e})}var fd=d(()=>{P();N();n(dd,"Argument")});var lu=d(()=>{fd()});function sr(e,t){return b({[S]:"AsyncIterator",type:"AsyncIterator",items:e},t)}var _d=d(()=>{N();P();n(sr,"AsyncIterator")});var mn=d(()=>{_d()});function J(e,t,r){return b({[S]:"Computed",target:e,parameters:t},r)}var gd=d(()=>{Ct();ro();n(J,"Computed")});var ar=d(()=>{gd()});function bb(e,t){let{[t]:r,...o}=e;return o}function te(e,t){return t.reduce((r,o)=>bb(r,o),e)}var Ii=d(()=>{n(bb,"DiscardKey");n(te,"Discard")});var Bt=d(()=>{Ii()});function U(e){return b({[S]:"Never",not:{}},e)}var hd=d(()=>{P();N();n(U,"Never")});var be=d(()=>{hd()});var yd=d(()=>{});function K(e){return b({[S]:"MappedResult",properties:e})}var cu=d(()=>{P();N();n(K,"MappedResult")});function ur(e,t,r){return b({[S]:"Constructor",type:"Constructor",parameters:e,returns:t},r)}var bd=d(()=>{P();N();n(ur,"Constructor")});var pn=d(()=>{bd()});function Xe(e,t,r){return b({[S]:"Function",type:"Function",parameters:e,returns:t},r)}var Id=d(()=>{P();N();n(Xe,"Function")});var lr=d(()=>{Id()});function po(e,t){return b({[S]:"Union",anyOf:e},t)}var mu=d(()=>{P();N();n(po,"UnionCreate")});function Ib(e){return e.some(t=>Oe(t))}function xd(e){return e.map(t=>Oe(t)?xb(t):t)}function xb(e){return te(e,[Se])}function wb(e,t){return Ib(e)?ve(po(xd(e),t)):po(xd(e),t)}function St(e,t){return e.length===1?b(e[0],t):e.length===0?U(t):wb(e,t)}var wd=d(()=>{P();N();Bt();be();Dt();mu();j();n(Ib,"IsUnionOptional");n(xd,"RemoveOptionalFromRest");n(xb,"RemoveOptionalFromType");n(wb,"ResolveUnion");n(St,"UnionEvaluated")});var Sd=d(()=>{});function V(e,t){return e.length===0?U(t):e.length===1?b(e[0],t):po(e,t)}var Ed=d(()=>{be();P();mu();n(V,"Union")});var ue=d(()=>{wd();Sd();Ed()});function Sb(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}function pu(e,t,r){return e[t]===r&&e.charCodeAt(t-1)!==92}function jt(e,t){return pu(e,t,"(")}function fo(e,t){return pu(e,t,")")}function Td(e,t){return pu(e,t,"|")}function Eb(e){if(!(jt(e,0)&&fo(e,e.length-1)))return!1;let t=0;for(let r=0;r<e.length;r++)if(jt(e,r)&&(t+=1),fo(e,r)&&(t-=1),t===0&&r!==e.length-1)return!1;return!0}function Tb(e){return e.slice(1,e.length-1)}function vb(e){let t=0;for(let r=0;r<e.length;r++)if(jt(e,r)&&(t+=1),fo(e,r)&&(t-=1),Td(e,r)&&t===0)return!0;return!1}function Mb(e){for(let t=0;t<e.length;t++)if(jt(e,t))return!0;return!1}function Lb(e){let[t,r]=[0,0],o=[];for(let u=0;u<e.length;u++)if(jt(e,u)&&(t+=1),fo(e,u)&&(t-=1),Td(e,u)&&t===0){let i=e.slice(r,u);i.length>0&&o.push(dn(i)),r=u+1}let a=e.slice(r);return a.length>0&&o.push(dn(a)),o.length===0?{type:"const",const:""}:o.length===1?o[0]:{type:"or",expr:o}}function Pb(e){function t(a,u){if(!jt(a,u))throw new xi("TemplateLiteralParser: Index must point to open parens");let i=0;for(let s=u;s<a.length;s++)if(jt(a,s)&&(i+=1),fo(a,s)&&(i-=1),i===0)return[u,s];throw new xi("TemplateLiteralParser: Unclosed group parens in expression")}n(t,"Group");function r(a,u){for(let i=u;i<a.length;i++)if(jt(a,i))return[u,i];return[u,a.length]}n(r,"Range");let o=[];for(let a=0;a<e.length;a++)if(jt(e,a)){let[u,i]=t(e,a),s=e.slice(u,i+1);o.push(dn(s)),a=i}else{let[u,i]=r(e,a),s=e.slice(u,i);s.length>0&&o.push(dn(s)),a=i-1}return o.length===0?{type:"const",const:""}:o.length===1?o[0]:{type:"and",expr:o}}function dn(e){return Eb(e)?dn(Tb(e)):vb(e)?Lb(e):Mb(e)?Pb(e):{type:"const",const:Sb(e)}}function fn(e){return dn(e.slice(1,e.length-1))}var du,xi,wi=d(()=>{wt();du=class du extends he{};n(du,"TemplateLiteralParserError");xi=du;n(Sb,"Unescape");n(pu,"IsNonEscaped");n(jt,"IsOpenParen");n(fo,"IsCloseParen");n(Td,"IsSeparator");n(Eb,"IsGroup");n(Tb,"InGroup");n(vb,"IsPrecedenceOr");n(Mb,"IsPrecedenceAnd");n(Lb,"Or");n(Pb,"And");n(dn,"TemplateLiteralParse");n(fn,"TemplateLiteralParseExact")});function Nb(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}function Fb(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}function kb(e){return e.type==="const"&&e.const===".*"}function kr(e){return Nb(e)||kb(e)?!1:Fb(e)?!0:e.type==="and"?e.expr.every(t=>kr(t)):e.type==="or"?e.expr.every(t=>kr(t)):e.type==="const"?!0:(()=>{throw new fu("Unknown expression type")})()}function vd(e){let t=fn(e.pattern);return kr(t)}var _u,fu,gu=d(()=>{wi();wt();_u=class _u extends he{};n(_u,"TemplateLiteralFiniteError");fu=_u;n(Nb,"IsNumberExpression");n(Fb,"IsBooleanExpression");n(kb,"IsStringExpression");n(kr,"IsTemplateLiteralExpressionFinite");n(vd,"IsTemplateLiteralFinite")});function*Md(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let r of Md(e.slice(1)))yield`${t}${r}`}function*Ob(e){return yield*Md(e.expr.map(t=>[..._o(t)]))}function*Rb(e){for(let t of e.expr)yield*_o(t)}function*Ab(e){return yield e.const}function*_o(e){return e.type==="and"?yield*Ob(e):e.type==="or"?yield*Rb(e):e.type==="const"?yield*Ab(e):(()=>{throw new hu("Unknown expression")})()}function Si(e){let t=fn(e.pattern);return kr(t)?[..._o(t)]:[]}var yu,hu,bu=d(()=>{gu();wi();wt();yu=class yu extends he{};n(yu,"TemplateLiteralGenerateError");hu=yu;n(Md,"GenerateReduce");n(Ob,"GenerateAnd");n(Rb,"GenerateOr");n(Ab,"GenerateConst");n(_o,"TemplateLiteralExpressionGenerate");n(Si,"TemplateLiteralGenerate")});function W(e,t){return b({[S]:"Literal",const:e,type:typeof e},t)}var Ld=d(()=>{P();N();n(W,"Literal")});var Re=d(()=>{Ld()});function Ei(e){return b({[S]:"Boolean",type:"boolean"},e)}var Pd=d(()=>{N();Ct();n(Ei,"Boolean")});var Ti=d(()=>{Pd()});function _n(e){return b({[S]:"BigInt",type:"bigint"},e)}var Nd=d(()=>{N();Ct();n(_n,"BigInt")});var go=d(()=>{Nd()});function Ye(e){return b({[S]:"Number",type:"number"},e)}var Fd=d(()=>{P();N();n(Ye,"Number")});var Or=d(()=>{Fd()});function ft(e){return b({[S]:"String",type:"string"},e)}var kd=d(()=>{P();N();n(ft,"String")});var gn=d(()=>{kd()});function*Cb(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield Ei():t==="number"?yield Ye():t==="bigint"?yield _n():t==="string"?yield ft():yield(()=>{let r=t.split("|").map(o=>W(o.trim()));return r.length===0?U():r.length===1?r[0]:St(r)})()}function*Ub(e){if(e[1]!=="{"){let t=W("$"),r=Iu(e.slice(1));return yield*[t,...r]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let r=Cb(e.slice(2,t)),o=Iu(e.slice(t+1));return yield*[...r,...o]}yield W(e)}function*Iu(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let r=W(e.slice(0,t)),o=Ub(e.slice(t));return yield*[r,...o]}yield W(e)}function Od(e){return[...Iu(e)]}var xu=d(()=>{Re();Ti();go();Or();gn();ue();be();n(Cb,"FromUnion");n(Ub,"FromTerminal");n(Iu,"FromSyntax");n(Od,"TemplateLiteralSyntax")});function Bb(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Rd(e,t){return Ge(e)?e.pattern.slice(1,e.pattern.length-1):D(e)?`(${e.anyOf.map(r=>Rd(r,t)).join("|")})`:Pr(e)?`${t}${uo}`:Mr(e)?`${t}${uo}`:Xa(e)?`${t}${uo}`:io(e)?`${t}${su}`:Ut(e)?`${t}${Bb(e.const.toString())}`:no(e)?`${t}${iu}`:(()=>{throw new wu(`Unexpected Kind '${e[S]}'`)})()}function Su(e){return`^${e.map(t=>Rd(t,"")).join("")}$`}var Eu,wu,Tu=d(()=>{lo();N();wt();j();Eu=class Eu extends he{};n(Eu,"TemplateLiteralPatternError");wu=Eu;n(Bb,"Escape");n(Rd,"Visit");n(Su,"TemplateLiteralPattern")});function Rr(e){let r=Si(e).map(o=>W(o));return St(r)}var Ad=d(()=>{ue();Re();bu();n(Rr,"TemplateLiteralToUnion")});function vi(e,t){let r=q(e)?Su(Od(e)):Su(e);return b({[S]:"TemplateLiteral",type:"string",pattern:r},t)}var Cd=d(()=>{P();xu();Tu();Fe();N();n(vi,"TemplateLiteral")});var Kt=d(()=>{gu();bu();xu();wi();Tu();Ad();Cd()});function Db(e){return Si(e).map(r=>r.toString())}function jb(e){let t=[];for(let r of e)t.push(...Ae(r));return t}function Kb(e){return[e.toString()]}function Ae(e){return[...new Set(Ge(e)?Db(e):D(e)?jb(e.anyOf):Ut(e)?Kb(e.const):Pr(e)?["[number]"]:Mr(e)?["[number]"]:[])]}var Mi=d(()=>{Kt();j();n(Db,"FromTemplateLiteral");n(jb,"FromUnion");n(Kb,"FromLiteral");n(Ae,"IndexPropertyKeys")});function Vb(e,t,r){let o={};for(let a of Object.getOwnPropertyNames(t))o[a]=cr(e,Ae(t[a]),r);return o}function Wb(e,t,r){return Vb(e,t.properties,r)}function Ud(e,t,r){let o=Wb(e,t,r);return K(o)}var vu=d(()=>{_e();Mi();Et();n(Vb,"FromProperties");n(Wb,"FromMappedResult");n(Ud,"IndexFromMappedResult")});function Dd(e,t){return e.map(r=>jd(r,t))}function Gb(e){return e.filter(t=>!tr(t))}function $b(e,t){return Li(Gb(Dd(e,t)))}function zb(e){return e.some(t=>tr(t))?[]:e}function Hb(e,t){return St(zb(Dd(e,t)))}function qb(e,t){return t in e?e[t]:t==="[number]"?St(e):U()}function Zb(e,t){return t==="[number]"?e:U()}function Jb(e,t){return t in e?e[t]:U()}function jd(e,t){var r;return ee(e)?$b(e.allOf,t):D(e)?Hb(e.anyOf,t):$e(e)?qb((r=e.items)!=null?r:[],t):ct(e)?Zb(e.items,t):se(e)?Jb(e.properties,t):U()}function Mu(e,t){return t.map(r=>jd(e,r))}function Bd(e,t){return St(Mu(e,t))}function cr(e,t,r){if(ae(e)||ae(t)){let o="Index types using Ref parameters require both Type and Key to be of TSchema";if(!Pe(e)||!Pe(t))throw new he(o);return J("Index",[e,t])}return Q(t)?Ud(e,t,r):We(t)?Kd(e,t,r):b(Pe(t)?Bd(e,Ae(t)):Bd(e,t),r)}var Lu=d(()=>{P();wt();ar();be();ze();ue();Mi();Pu();vu();j();n(Dd,"FromRest");n(Gb,"FromIntersectRest");n($b,"FromIntersect");n(zb,"FromUnionRest");n(Hb,"FromUnion");n(qb,"FromTuple");n(Zb,"FromArray");n(Jb,"FromProperty");n(jd,"IndexFromPropertyKey");n(Mu,"IndexFromPropertyKeys");n(Bd,"FromSchema");n(cr,"Index")});function Xb(e,t,r){return{[t]:cr(e,[t],Y(r))}}function Yb(e,t,r){return t.reduce((o,a)=>({...o,...Xb(e,a,r)}),{})}function Qb(e,t,r){return Yb(e,t.keys,r)}function Kd(e,t,r){let o=Qb(e,t,r);return K(o)}var Pu=d(()=>{Lu();_e();ke();n(Xb,"MappedIndexPropertyKey");n(Yb,"MappedIndexPropertyKeys");n(Qb,"MappedIndexProperties");n(Kd,"IndexFromMappedKey")});var Et=d(()=>{Pu();vu();Mi();Lu()});function mr(e,t){return b({[S]:"Iterator",type:"Iterator",items:e},t)}var Vd=d(()=>{P();N();n(mr,"Iterator")});var hn=d(()=>{Vd()});function eI(e){let t=[];for(let r in e)Oe(e[r])||t.push(r);return t}function tI(e,t){let r=eI(e),o=r.length>0?{[S]:"Object",type:"object",properties:e,required:r}:{[S]:"Object",type:"object",properties:e};return b(o,t)}var z,Wd=d(()=>{P();N();j();n(eI,"RequiredKeys");n(tI,"_Object");z=tI});var He=d(()=>{Wd()});function yn(e,t){return b({[S]:"Promise",type:"Promise",item:e},t)}var Gd=d(()=>{P();N();n(yn,"Promise")});var ho=d(()=>{Gd()});function rI(e){return b(te(e,[lt]))}function nI(e){return b({...e,[lt]:"Readonly"})}function oI(e,t){return t===!1?rI(e):nI(e)}function Ce(e,t){let r=t!=null?t:!0;return Q(e)?$d(e,r):oI(e,r)}var Nu=d(()=>{P();N();Bt();Fu();j();n(rI,"RemoveReadonly");n(nI,"AddReadonly");n(oI,"ReadonlyWithFlag");n(Ce,"Readonly")});function iI(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=Ce(e[o],t);return r}function sI(e,t){return iI(e.properties,t)}function $d(e,t){let r=sI(e,t);return K(r)}var Fu=d(()=>{_e();Nu();n(iI,"FromProperties");n(sI,"FromMappedResult");n($d,"ReadonlyFromMappedResult")});var Ar=d(()=>{Fu();Nu()});function Ue(e,t){return b(e.length>0?{[S]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[S]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}var zd=d(()=>{P();N();n(Ue,"Tuple")});var Vt=d(()=>{zd()});function Hd(e,t){return e in t?Qe(e,t[e]):K(t)}function aI(e){return{[e]:W(e)}}function uI(e){let t={};for(let r of e)t[r]=W(r);return t}function lI(e,t){return sd(t,e)?aI(e):uI(t)}function cI(e,t){let r=lI(e,t);return Hd(e,r)}function yo(e,t){return t.map(r=>Qe(e,r))}function mI(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(t))r[o]=Qe(e,t[o]);return r}function Qe(e,t){var o;let r={...t};return Oe(t)?ve(Qe(e,te(t,[Se]))):sn(t)?Ce(Qe(e,te(t,[lt]))):Q(t)?Hd(e,t.properties):We(t)?cI(e,t.keys):pt(t)?ur(yo(e,t.parameters),Qe(e,t.returns),r):dt(t)?Xe(yo(e,t.parameters),Qe(e,t.returns),r):vr(t)?sr(Qe(e,t.items),r):Lr(t)?mr(Qe(e,t.items),r):ee(t)?Ie(yo(e,t.allOf),r):D(t)?V(yo(e,t.anyOf),r):$e(t)?Ue(yo(e,(o=t.items)!=null?o:[]),r):se(t)?z(mI(e,t.properties),r):ct(t)?ir(Qe(e,t.items),r):Nr(t)?yn(Qe(e,t.item),r):t}function pI(e,t){let r={};for(let o of e)r[o]=Qe(o,t);return r}function qd(e,t,r){let o=Pe(e)?Ae(e):e,a=t({[S]:"MappedKey",keys:o}),u=pI(o,a);return z(u,r)}var Zd=d(()=>{N();Bt();cn();mn();pn();lr();Et();ze();hn();Re();He();Dt();ho();Ar();Vt();ue();co();cu();j();n(Hd,"FromMappedResult");n(aI,"MappedKeyToKnownMappedResultProperties");n(uI,"MappedKeyToUnknownMappedResultProperties");n(lI,"MappedKeyToMappedResultProperties");n(cI,"FromMappedKey");n(yo,"FromRest");n(mI,"FromProperties");n(Qe,"FromSchemaType");n(pI,"MappedFunctionReturnType");n(qd,"Mapped")});var _e=d(()=>{yd();cu();Zd()});function dI(e){return b(te(e,[Se]))}function fI(e){return b({...e,[Se]:"Optional"})}function _I(e,t){return t===!1?dI(e):fI(e)}function ve(e,t){let r=t!=null?t:!0;return Q(e)?Jd(e,r):_I(e,r)}var ku=d(()=>{P();N();Bt();Ou();j();n(dI,"RemoveOptional");n(fI,"AddOptional");n(_I,"OptionalWithFlag");n(ve,"Optional")});function gI(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=ve(e[o],t);return r}function hI(e,t){return gI(e.properties,t)}function Jd(e,t){let r=hI(e,t);return K(r)}var Ou=d(()=>{_e();ku();n(gI,"FromProperties");n(hI,"FromMappedResult");n(Jd,"OptionalFromMappedResult")});var Dt=d(()=>{Ou();ku()});function bo(e,t={}){let r=e.every(a=>se(a)),o=Pe(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return b(t.unevaluatedProperties===!1||Pe(t.unevaluatedProperties)||r?{...o,[S]:"Intersect",type:"object",allOf:e}:{...o,[S]:"Intersect",allOf:e},t)}var Ru=d(()=>{P();N();j();n(bo,"IntersectCreate")});function yI(e){return e.every(t=>Oe(t))}function bI(e){return te(e,[Se])}function Xd(e){return e.map(t=>Oe(t)?bI(t):t)}function II(e,t){return yI(e)?ve(bo(Xd(e),t)):bo(Xd(e),t)}function Li(e,t={}){if(e.length===1)return b(e[0],t);if(e.length===0)return U(t);if(e.some(r=>an(r)))throw new Error("Cannot intersect transform types");return II(e,t)}var Yd=d(()=>{N();P();Bt();be();Dt();Ru();j();n(yI,"IsIntersectOptional");n(bI,"RemoveOptionalFromType");n(Xd,"RemoveOptionalFromRest");n(II,"ResolveIntersect");n(Li,"IntersectEvaluated")});var Qd=d(()=>{});function Ie(e,t){if(e.length===1)return b(e[0],t);if(e.length===0)return U(t);if(e.some(r=>an(r)))throw new Error("Cannot intersect transform types");return bo(e,t)}var ef=d(()=>{P();be();Ru();j();n(Ie,"Intersect")});var ze=d(()=>{Yd();Qd();ef()});function Tt(...e){let[t,r]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new he("Ref: $ref must be a string");return b({[S]:"Ref",$ref:t},r)}var tf=d(()=>{wt();P();N();n(Tt,"Ref")});var Cr=d(()=>{tf()});function xI(e,t){return J("Awaited",[J(e,t)])}function wI(e){return J("Awaited",[Tt(e)])}function SI(e){return Ie(rf(e))}function EI(e){return V(rf(e))}function TI(e){return bn(e)}function rf(e){return e.map(t=>bn(t))}function bn(e,t){return b(mt(e)?xI(e.target,e.parameters):ee(e)?SI(e.allOf):D(e)?EI(e.anyOf):Nr(e)?TI(e.item):ae(e)?wI(e.$ref):e,t)}var nf=d(()=>{P();ar();ze();ue();Cr();j();n(xI,"FromComputed");n(wI,"FromRef");n(SI,"FromIntersect");n(EI,"FromUnion");n(TI,"FromPromise");n(rf,"FromRest");n(bn,"Awaited")});var Pi=d(()=>{nf()});function of(e){let t=[];for(let r of e)t.push(Io(r));return t}function vI(e){let t=of(e);return ld(t)}function MI(e){let t=of(e);return ud(t)}function LI(e){return e.map((t,r)=>r.toString())}function PI(e){return["[number]"]}function NI(e){return globalThis.Object.getOwnPropertyNames(e)}function FI(e){return kI?globalThis.Object.getOwnPropertyNames(e).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}function Io(e){var t;return ee(e)?vI(e.allOf):D(e)?MI(e.anyOf):$e(e)?LI((t=e.items)!=null?t:[]):ct(e)?PI(e.items):se(e)?NI(e.properties):oo(e)?FI(e.patternProperties):[]}var kI,Au=d(()=>{co();j();n(of,"FromRest");n(vI,"FromIntersect");n(MI,"FromUnion");n(LI,"FromTuple");n(PI,"FromArray");n(NI,"FromProperties");n(FI,"FromPatternProperties");n(Io,"KeyOfPropertyKeys");kI=!1});function OI(e,t){return J("KeyOf",[J(e,t)])}function RI(e){return J("KeyOf",[Tt(e)])}function AI(e,t){let r=Io(e),o=CI(r),a=St(o);return b(a,t)}function CI(e){return e.map(t=>t==="[number]"?Ye():W(t))}function In(e,t){return mt(e)?OI(e.target,e.parameters):ae(e)?RI(e.$ref):Q(e)?sf(e,t):AI(e,t)}var Cu=d(()=>{P();Re();Or();ar();Cr();Au();ue();Uu();j();n(OI,"FromComputed");n(RI,"FromRef");n(AI,"KeyOfFromType");n(CI,"KeyOfPropertyKeysToRest");n(In,"KeyOf")});function UI(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=In(e[o],Y(t));return r}function BI(e,t){return UI(e.properties,t)}function sf(e,t){let r=BI(e,t);return K(r)}var Uu=d(()=>{_e();Cu();ke();n(UI,"FromProperties");n(BI,"FromMappedResult");n(sf,"KeyOfFromMappedResult")});var af=d(()=>{});var xo=d(()=>{Uu();af();Au();Cu()});function DI(e){let t=[];for(let r of e)t.push(...Io(r));return ad(t)}function jI(e){return e.filter(t=>!tr(t))}function KI(e,t){let r=[];for(let o of e)r.push(...Mu(o,[t]));return jI(r)}function VI(e,t){let r={};for(let o of t)r[o]=Li(KI(e,o));return r}function uf(e,t){let r=DI(e),o=VI(e,r);return z(o,t)}var lf=d(()=>{ze();Et();xo();He();co();j();n(DI,"CompositeKeys");n(jI,"FilterNever");n(KI,"CompositeProperty");n(VI,"CompositeProperties");n(uf,"Composite")});var Bu=d(()=>{lf()});function Ni(e){return b({[S]:"Date",type:"Date"},e)}var cf=d(()=>{N();P();n(Ni,"Date")});var Fi=d(()=>{cf()});function ki(e){return b({[S]:"Null",type:"null"},e)}var mf=d(()=>{P();N();n(ki,"Null")});var Oi=d(()=>{mf()});function Ri(e){return b({[S]:"Symbol",type:"symbol"},e)}var pf=d(()=>{P();N();n(Ri,"Symbol")});var Ai=d(()=>{pf()});function Ci(e){return b({[S]:"Undefined",type:"undefined"},e)}var df=d(()=>{P();N();n(Ci,"Undefined")});var Ui=d(()=>{df()});function Bi(e){return b({[S]:"Uint8Array",type:"Uint8Array"},e)}var ff=d(()=>{P();N();n(Bi,"Uint8Array")});var Di=d(()=>{ff()});function xn(e){return b({[S]:"Unknown"},e)}var _f=d(()=>{P();N();n(xn,"Unknown")});var wo=d(()=>{_f()});function WI(e){return e.map(t=>Du(t,!1))}function GI(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Ce(Du(e[r],!1));return t}function ji(e,t){return t===!0?e:Ce(e)}function Du(e,t){return Wa(e)?ji(or(),t):$a(e)?ji(or(),t):ie(e)?Ce(Ue(WI(e))):At(e)?Bi():Tr(e)?Ni():G(e)?ji(z(GI(e)),t):Ga(e)?ji(Xe([],xn()),t):fe(e)?Ci():za(e)?ki():Ha(e)?Ri():Yn(e)?_n():Ve(e)?W(e):Rt(e)?W(e):q(e)?W(e):z({})}function gf(e,t){return b(Du(e,!0),t)}var hf=d(()=>{mo();go();Fi();lr();Re();Oi();He();Ai();Vt();Ar();Ui();Di();wo();Ct();Fe();n(WI,"FromArray");n(GI,"FromProperties");n(ji,"ConditionalReadonly");n(Du,"FromValue");n(gf,"Const")});var ju=d(()=>{hf()});function yf(e,t){return pt(e)?Ue(e.parameters,t):U(t)}var bf=d(()=>{Vt();be();j();n(yf,"ConstructorParameters")});var Ku=d(()=>{bf()});function If(e,t){if(fe(e))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(e).filter(u=>isNaN(u)).map(u=>e[u]),a=[...new Set(r)].map(u=>W(u));return V(a,{...t,[Je]:"Enum"})}var xf=d(()=>{Re();N();ue();Fe();n(If,"Enum")});var Vu=d(()=>{xf()});function et(e){return e===y.False?e:y.True}function wn(e){throw new Gu(e)}function pe(e){return _.IsNever(e)||_.IsIntersect(e)||_.IsUnion(e)||_.IsUnknown(e)||_.IsAny(e)}function de(e,t){return _.IsNever(t)?Lf(e,t):_.IsIntersect(t)?Ki(e,t):_.IsUnion(t)?qu(e,t):_.IsUnknown(t)?kf(e,t):_.IsAny(t)?Hu(e,t):wn("StructuralRight")}function Hu(e,t){return y.True}function $I(e,t){return _.IsIntersect(t)?Ki(e,t):_.IsUnion(t)&&t.anyOf.some(r=>_.IsAny(r)||_.IsUnknown(r))?y.True:_.IsUnion(t)?y.Union:_.IsUnknown(t)||_.IsAny(t)?y.True:y.Union}function zI(e,t){return _.IsUnknown(e)?y.False:_.IsAny(e)?y.Union:_.IsNever(e)?y.True:y.False}function HI(e,t){return _.IsObject(t)&&Vi(t)?y.True:pe(t)?de(e,t):_.IsArray(t)?et(H(e.items,t.items)):y.False}function qI(e,t){return pe(t)?de(e,t):_.IsAsyncIterator(t)?et(H(e.items,t.items)):y.False}function ZI(e,t){return pe(t)?de(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?tt(e,t):_.IsBigInt(t)?y.True:y.False}function vf(e,t){return _.IsLiteralBoolean(e)||_.IsBoolean(e)?y.True:y.False}function JI(e,t){return pe(t)?de(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?tt(e,t):_.IsBoolean(t)?y.True:y.False}function XI(e,t){return pe(t)?de(e,t):_.IsObject(t)?Me(e,t):_.IsConstructor(t)?e.parameters.length>t.parameters.length?y.False:e.parameters.every((r,o)=>et(H(t.parameters[o],r))===y.True)?et(H(e.returns,t.returns)):y.False:y.False}function YI(e,t){return pe(t)?de(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?tt(e,t):_.IsDate(t)?y.True:y.False}function QI(e,t){return pe(t)?de(e,t):_.IsObject(t)?Me(e,t):_.IsFunction(t)?e.parameters.length>t.parameters.length?y.False:e.parameters.every((r,o)=>et(H(t.parameters[o],r))===y.True)?et(H(e.returns,t.returns)):y.False:y.False}function Mf(e,t){return _.IsLiteral(e)&&Te.IsNumber(e.const)||_.IsNumber(e)||_.IsInteger(e)?y.True:y.False}function ex(e,t){return _.IsInteger(t)||_.IsNumber(t)?y.True:pe(t)?de(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?tt(e,t):y.False}function Ki(e,t){return t.allOf.every(r=>H(e,r)===y.True)?y.True:y.False}function tx(e,t){return e.allOf.some(r=>H(r,t)===y.True)?y.True:y.False}function rx(e,t){return pe(t)?de(e,t):_.IsIterator(t)?et(H(e.items,t.items)):y.False}function nx(e,t){return _.IsLiteral(t)&&t.const===e.const?y.True:pe(t)?de(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?tt(e,t):_.IsString(t)?Ff(e,t):_.IsNumber(t)?Pf(e,t):_.IsInteger(t)?Mf(e,t):_.IsBoolean(t)?vf(e,t):y.False}function Lf(e,t){return y.False}function ox(e,t){return y.True}function wf(e){let[t,r]=[e,0];for(;_.IsNot(t);)t=t.not,r+=1;return r%2===0?t:xn()}function ix(e,t){return _.IsNot(e)?H(wf(e),t):_.IsNot(t)?H(e,wf(t)):wn("Invalid fallthrough for Not")}function sx(e,t){return pe(t)?de(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?tt(e,t):_.IsNull(t)?y.True:y.False}function Pf(e,t){return _.IsLiteralNumber(e)||_.IsNumber(e)||_.IsInteger(e)?y.True:y.False}function ax(e,t){return pe(t)?de(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?tt(e,t):_.IsInteger(t)||_.IsNumber(t)?y.True:y.False}function Be(e,t){return Object.getOwnPropertyNames(e.properties).length===t}function Sf(e){return Vi(e)}function Ef(e){return Be(e,0)||Be(e,1)&&"description"in e.properties&&_.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(_.IsString(e.properties.description.anyOf[0])&&_.IsUndefined(e.properties.description.anyOf[1])||_.IsString(e.properties.description.anyOf[1])&&_.IsUndefined(e.properties.description.anyOf[0]))}function Wu(e){return Be(e,0)}function Tf(e){return Be(e,0)}function ux(e){return Be(e,0)}function lx(e){return Be(e,0)}function cx(e){return Vi(e)}function mx(e){let t=Ye();return Be(e,0)||Be(e,1)&&"length"in e.properties&&et(H(e.properties.length,t))===y.True}function px(e){return Be(e,0)}function Vi(e){let t=Ye();return Be(e,0)||Be(e,1)&&"length"in e.properties&&et(H(e.properties.length,t))===y.True}function dx(e){let t=Xe([or()],or());return Be(e,0)||Be(e,1)&&"then"in e.properties&&et(H(e.properties.then,t))===y.True}function Nf(e,t){return H(e,t)===y.False||_.IsOptional(e)&&!_.IsOptional(t)?y.False:y.True}function Me(e,t){return _.IsUnknown(e)?y.False:_.IsAny(e)?y.Union:_.IsNever(e)||_.IsLiteralString(e)&&Sf(t)||_.IsLiteralNumber(e)&&Wu(t)||_.IsLiteralBoolean(e)&&Tf(t)||_.IsSymbol(e)&&Ef(t)||_.IsBigInt(e)&&ux(t)||_.IsString(e)&&Sf(t)||_.IsSymbol(e)&&Ef(t)||_.IsNumber(e)&&Wu(t)||_.IsInteger(e)&&Wu(t)||_.IsBoolean(e)&&Tf(t)||_.IsUint8Array(e)&&cx(t)||_.IsDate(e)&&lx(t)||_.IsConstructor(e)&&px(t)||_.IsFunction(e)&&mx(t)?y.True:_.IsRecord(e)&&_.IsString($u(e))?t[Je]==="Record"?y.True:y.False:_.IsRecord(e)&&_.IsNumber($u(e))?Be(t,0)?y.True:y.False:y.False}function fx(e,t){return pe(t)?de(e,t):_.IsRecord(t)?tt(e,t):_.IsObject(t)?(()=>{for(let r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!_.IsOptional(t.properties[r]))return y.False;if(_.IsOptional(t.properties[r]))return y.True;if(Nf(e.properties[r],t.properties[r])===y.False)return y.False}return y.True})():y.False}function _x(e,t){return pe(t)?de(e,t):_.IsObject(t)&&dx(t)?y.True:_.IsPromise(t)?et(H(e.item,t.item)):y.False}function $u(e){return rr in e.patternProperties?Ye():nr in e.patternProperties?ft():wn("Unknown record key pattern")}function zu(e){return rr in e.patternProperties?e.patternProperties[rr]:nr in e.patternProperties?e.patternProperties[nr]:wn("Unable to get record value schema")}function tt(e,t){let[r,o]=[$u(t),zu(t)];return _.IsLiteralString(e)&&_.IsNumber(r)&&et(H(e,o))===y.True?y.True:_.IsUint8Array(e)&&_.IsNumber(r)||_.IsString(e)&&_.IsNumber(r)||_.IsArray(e)&&_.IsNumber(r)?H(e,o):_.IsObject(e)?(()=>{for(let a of Object.getOwnPropertyNames(e.properties))if(Nf(o,e.properties[a])===y.False)return y.False;return y.True})():y.False}function gx(e,t){return pe(t)?de(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?H(zu(e),zu(t)):y.False}function hx(e,t){let r=_.IsRegExp(e)?ft():e,o=_.IsRegExp(t)?ft():t;return H(r,o)}function Ff(e,t){return _.IsLiteral(e)&&Te.IsString(e.const)||_.IsString(e)?y.True:y.False}function yx(e,t){return pe(t)?de(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?tt(e,t):_.IsString(t)?y.True:y.False}function bx(e,t){return pe(t)?de(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?tt(e,t):_.IsSymbol(t)?y.True:y.False}function Ix(e,t){return _.IsTemplateLiteral(e)?H(Rr(e),t):_.IsTemplateLiteral(t)?H(e,Rr(t)):wn("Invalid fallthrough for TemplateLiteral")}function xx(e,t){return _.IsArray(t)&&e.items!==void 0&&e.items.every(r=>H(r,t.items)===y.True)}function wx(e,t){return _.IsNever(e)?y.True:_.IsUnknown(e)?y.False:_.IsAny(e)?y.Union:y.False}function Sx(e,t){return pe(t)?de(e,t):_.IsObject(t)&&Vi(t)||_.IsArray(t)&&xx(e,t)?y.True:_.IsTuple(t)?Te.IsUndefined(e.items)&&!Te.IsUndefined(t.items)||!Te.IsUndefined(e.items)&&Te.IsUndefined(t.items)?y.False:Te.IsUndefined(e.items)&&!Te.IsUndefined(t.items)||e.items.every((r,o)=>H(r,t.items[o])===y.True)?y.True:y.False:y.False}function Ex(e,t){return pe(t)?de(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?tt(e,t):_.IsUint8Array(t)?y.True:y.False}function Tx(e,t){return pe(t)?de(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?tt(e,t):_.IsVoid(t)?Lx(e,t):_.IsUndefined(t)?y.True:y.False}function qu(e,t){return t.anyOf.some(r=>H(e,r)===y.True)?y.True:y.False}function vx(e,t){return e.anyOf.every(r=>H(r,t)===y.True)?y.True:y.False}function kf(e,t){return y.True}function Mx(e,t){return _.IsNever(t)?Lf(e,t):_.IsIntersect(t)?Ki(e,t):_.IsUnion(t)?qu(e,t):_.IsAny(t)?Hu(e,t):_.IsString(t)?Ff(e,t):_.IsNumber(t)?Pf(e,t):_.IsInteger(t)?Mf(e,t):_.IsBoolean(t)?vf(e,t):_.IsArray(t)?zI(e,t):_.IsTuple(t)?wx(e,t):_.IsObject(t)?Me(e,t):_.IsUnknown(t)?y.True:y.False}function Lx(e,t){return _.IsUndefined(e)||_.IsUndefined(e)?y.True:y.False}function Px(e,t){return _.IsIntersect(t)?Ki(e,t):_.IsUnion(t)?qu(e,t):_.IsUnknown(t)?kf(e,t):_.IsAny(t)?Hu(e,t):_.IsObject(t)?Me(e,t):_.IsVoid(t)?y.True:y.False}function H(e,t){return _.IsTemplateLiteral(e)||_.IsTemplateLiteral(t)?Ix(e,t):_.IsRegExp(e)||_.IsRegExp(t)?hx(e,t):_.IsNot(e)||_.IsNot(t)?ix(e,t):_.IsAny(e)?$I(e,t):_.IsArray(e)?HI(e,t):_.IsBigInt(e)?ZI(e,t):_.IsBoolean(e)?JI(e,t):_.IsAsyncIterator(e)?qI(e,t):_.IsConstructor(e)?XI(e,t):_.IsDate(e)?YI(e,t):_.IsFunction(e)?QI(e,t):_.IsInteger(e)?ex(e,t):_.IsIntersect(e)?tx(e,t):_.IsIterator(e)?rx(e,t):_.IsLiteral(e)?nx(e,t):_.IsNever(e)?ox(e,t):_.IsNull(e)?sx(e,t):_.IsNumber(e)?ax(e,t):_.IsObject(e)?fx(e,t):_.IsRecord(e)?gx(e,t):_.IsString(e)?yx(e,t):_.IsSymbol(e)?bx(e,t):_.IsTuple(e)?Sx(e,t):_.IsPromise(e)?_x(e,t):_.IsUint8Array(e)?Ex(e,t):_.IsUndefined(e)?Tx(e,t):_.IsUnion(e)?vx(e,t):_.IsUnknown(e)?Mx(e,t):_.IsVoid(e)?Px(e,t):wn(`Unknown left type operand '${e[S]}'`)}function pr(e,t){return H(e,t)}var Zu,Gu,y,Ju=d(()=>{mo();lr();Or();gn();wo();Kt();lo();N();wt();ou();Zu=class Zu extends he{};n(Zu,"ExtendsResolverError");Gu=Zu;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(y||(y={}));n(et,"IntoBooleanResult");n(wn,"Throw");n(pe,"IsStructuralRight");n(de,"StructuralRight");n(Hu,"FromAnyRight");n($I,"FromAny");n(zI,"FromArrayRight");n(HI,"FromArray");n(qI,"FromAsyncIterator");n(ZI,"FromBigInt");n(vf,"FromBooleanRight");n(JI,"FromBoolean");n(XI,"FromConstructor");n(YI,"FromDate");n(QI,"FromFunction");n(Mf,"FromIntegerRight");n(ex,"FromInteger");n(Ki,"FromIntersectRight");n(tx,"FromIntersect");n(rx,"FromIterator");n(nx,"FromLiteral");n(Lf,"FromNeverRight");n(ox,"FromNever");n(wf,"UnwrapTNot");n(ix,"FromNot");n(sx,"FromNull");n(Pf,"FromNumberRight");n(ax,"FromNumber");n(Be,"IsObjectPropertyCount");n(Sf,"IsObjectStringLike");n(Ef,"IsObjectSymbolLike");n(Wu,"IsObjectNumberLike");n(Tf,"IsObjectBooleanLike");n(ux,"IsObjectBigIntLike");n(lx,"IsObjectDateLike");n(cx,"IsObjectUint8ArrayLike");n(mx,"IsObjectFunctionLike");n(px,"IsObjectConstructorLike");n(Vi,"IsObjectArrayLike");n(dx,"IsObjectPromiseLike");n(Nf,"Property");n(Me,"FromObjectRight");n(fx,"FromObject");n(_x,"FromPromise");n($u,"RecordKey");n(zu,"RecordValue");n(tt,"FromRecordRight");n(gx,"FromRecord");n(hx,"FromRegExp");n(Ff,"FromStringRight");n(yx,"FromString");n(bx,"FromSymbol");n(Ix,"FromTemplateLiteral");n(xx,"IsArrayOfTuple");n(wx,"FromTupleRight");n(Sx,"FromTuple");n(Ex,"FromUint8Array");n(Tx,"FromUndefined");n(qu,"FromUnionRight");n(vx,"FromUnion");n(kf,"FromUnknownRight");n(Mx,"FromUnknown");n(Lx,"FromVoidRight");n(Px,"FromVoid");n(H,"Visit");n(pr,"ExtendsCheck")});function Nx(e,t,r,o,a){let u={};for(let i of globalThis.Object.getOwnPropertyNames(e))u[i]=Sn(e[i],t,r,o,Y(a));return u}function Fx(e,t,r,o,a){return Nx(e.properties,t,r,o,a)}function Of(e,t,r,o,a){let u=Fx(e,t,r,o,a);return K(u)}var Xu=d(()=>{_e();Wi();ke();n(Nx,"FromProperties");n(Fx,"FromMappedResult");n(Of,"ExtendsFromMappedResult")});function kx(e,t,r,o){let a=pr(e,t);return a===y.Union?V([r,o]):a===y.True?r:o}function Sn(e,t,r,o,a){return Q(e)?Of(e,t,r,o,a):We(e)?b(Rf(e,t,r,o,a)):b(kx(e,t,r,o),a)}var Wi=d(()=>{P();ue();Ju();Yu();Xu();j();n(kx,"ExtendsResolve");n(Sn,"Extends")});function Ox(e,t,r,o,a){return{[e]:Sn(W(e),t,r,o,Y(a))}}function Rx(e,t,r,o,a){return e.reduce((u,i)=>({...u,...Ox(i,t,r,o,a)}),{})}function Ax(e,t,r,o,a){return Rx(e.keys,t,r,o,a)}function Rf(e,t,r,o,a){let u=Ax(e,t,r,o,a);return K(u)}var Yu=d(()=>{_e();Re();Wi();ke();n(Ox,"FromPropertyKey");n(Rx,"FromPropertyKeys");n(Ax,"FromMappedKey");n(Rf,"ExtendsFromMappedKey")});var Af=d(()=>{});var So=d(()=>{Ju();Yu();Xu();Af();Wi()});function Cf(e,t){return En(Rr(e),t)}var Qu=d(()=>{Gi();Kt();n(Cf,"ExcludeFromTemplateLiteral")});function Cx(e,t){let r=e.filter(o=>pr(o,t)===y.False);return r.length===1?r[0]:V(r)}function En(e,t,r={}){return Ge(e)?b(Cf(e,t),r):Q(e)?b(Uf(e,t),r):b(D(e)?Cx(e.anyOf,t):pr(e,t)!==y.False?U():e,r)}var Gi=d(()=>{P();ue();be();So();el();Qu();j();n(Cx,"ExcludeRest");n(En,"Exclude")});function Ux(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=En(e[o],t);return r}function Bx(e,t){return Ux(e.properties,t)}function Uf(e,t){let r=Bx(e,t);return K(r)}var el=d(()=>{_e();Gi();n(Ux,"FromProperties");n(Bx,"FromMappedResult");n(Uf,"ExcludeFromMappedResult")});var tl=d(()=>{el();Qu();Gi()});function Bf(e,t){return Tn(Rr(e),t)}var rl=d(()=>{$i();Kt();n(Bf,"ExtractFromTemplateLiteral")});function Dx(e,t){let r=e.filter(o=>pr(o,t)!==y.False);return r.length===1?r[0]:V(r)}function Tn(e,t,r){return Ge(e)?b(Bf(e,t),r):Q(e)?b(Df(e,t),r):b(D(e)?Dx(e.anyOf,t):pr(e,t)!==y.False?e:U(),r)}var $i=d(()=>{P();ue();be();So();nl();rl();j();n(Dx,"ExtractRest");n(Tn,"Extract")});function jx(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=Tn(e[o],t);return r}function Kx(e,t){return jx(e.properties,t)}function Df(e,t){let r=Kx(e,t);return K(r)}var nl=d(()=>{_e();$i();n(jx,"FromProperties");n(Kx,"FromMappedResult");n(Df,"ExtractFromMappedResult")});var ol=d(()=>{nl();rl();$i()});function jf(e,t){return pt(e)?b(e.returns,t):U(t)}var Kf=d(()=>{P();be();j();n(jf,"InstanceType")});var il=d(()=>{Kf()});function zi(e){return Ce(ve(e))}var Vf=d(()=>{Ar();Dt();n(zi,"ReadonlyOptional")});var Hi=d(()=>{Vf()});function Ur(e,t,r){return b({[S]:"Record",type:"object",patternProperties:{[e]:t}},r)}function sl(e,t,r){let o={};for(let a of e)o[a]=t;return z(o,{...r,[Je]:"Record"})}function Vx(e,t,r){return vd(e)?sl(Ae(e),t,r):Ur(e.pattern,t,r)}function Wx(e,t,r){return sl(Ae(V(e)),t,r)}function Gx(e,t,r){return sl([e.toString()],t,r)}function $x(e,t,r){return Ur(e.source,t,r)}function zx(e,t,r){let o=fe(e.pattern)?nr:e.pattern;return Ur(o,t,r)}function Hx(e,t,r){return Ur(nr,t,r)}function qx(e,t,r){return Ur(td,t,r)}function Zx(e,t,r){return z({true:t,false:t},r)}function Jx(e,t,r){return Ur(rr,t,r)}function Xx(e,t,r){return Ur(rr,t,r)}function vn(e,t,r={}){return D(e)?Wx(e.anyOf,t,r):Ge(e)?Vx(e,t,r):Ut(e)?Gx(e.const,t,r):no(e)?Zx(e,t,r):Mr(e)?Jx(e,t,r):Pr(e)?Xx(e,t,r):Ya(e)?$x(e,t,r):io(e)?zx(e,t,r):Za(e)?Hx(e,t,r):tr(e)?qx(e,t,r):U(r)}function Wf(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}function Gf(e){let t=Wf(e);return t===nr?ft():t===rr?Ye():ft({pattern:t})}function $f(e){return e.patternProperties[Wf(e)]}var zf=d(()=>{P();N();be();Or();He();gn();ue();Kt();lo();Et();Fe();j();n(Ur,"RecordCreateFromPattern");n(sl,"RecordCreateFromKeys");n(Vx,"FromTemplateLiteralKey");n(Wx,"FromUnionKey");n(Gx,"FromLiteralKey");n($x,"FromRegExpKey");n(zx,"FromStringKey");n(Hx,"FromAnyKey");n(qx,"FromNeverKey");n(Zx,"FromBooleanKey");n(Jx,"FromIntegerKey");n(Xx,"FromNumberKey");n(vn,"Record");n(Wf,"RecordPattern");n(Gf,"RecordKey");n($f,"RecordValue")});var Eo=d(()=>{zf()});function Yx(e,t){return globalThis.Object.getOwnPropertyNames(e).reduce((r,o)=>({...r,[o]:Mn(e[o],t)}),{})}function To(e,t){return e.map(r=>Mn(r,t))}function Wt(e,t){return t(e)}function Mn(e,t){let r=eo(Wt(e,t));return pt(e)?ur(To(e.parameters,t),Wt(e.returns,t),r):dt(e)?Xe(To(e.parameters,t),Wt(e.returns,t),r):ee(e)?Ie(To(e.allOf,t),r):D(e)?V(To(e.anyOf,t),r):$e(e)?Ue(To(e.items||[],t),r):ct(e)?ir(Wt(e.items,t),r):vr(e)?sr(Wt(e.items,t),r):Lr(e)?mr(Wt(e.items,t),r):Nr(e)?yn(Wt(e.items,t),r):se(e)?z(Yx(e.properties,t),r):oo(e)?vn(Wt(Gf(e),t),Wt($f(e),t),r):eo(r)}var Hf=d(()=>{He();pn();lr();ze();ue();Vt();cn();mn();hn();ho();Eo();j();gi();n(Yx,"FromProperties");n(To,"FromTypes");n(Wt,"FromType");n(Mn,"Remap")});var qi=d(()=>{Hf()});function Qx(e,t){let r=sn(e),o=Oe(e);return r&&o?zi(t):r&&!o?Ce(t):!r&&o?ve(t):t}function qf(e,t){return Mn(e,r=>Ja(r)?r.index in t?Pe(t[r.index])?Qx(r,t[r.index]):U():U():r)}var Zf=d(()=>{be();Hi();Ar();Dt();qi();j();n(Qx,"InstantiateArgument");n(qf,"Instantiate")});var al=d(()=>{Zf()});function Jf(e){return b({[S]:"Integer",type:"integer"},e)}var Xf=d(()=>{P();N();n(Jf,"Integer")});var ul=d(()=>{Xf()});function ew(e,t,r){return{[e]:_t(W(e),t,Y(r))}}function tw(e,t,r){return e.reduce((a,u)=>({...a,...ew(u,t,r)}),{})}function rw(e,t,r){return tw(e.keys,t,r)}function Yf(e,t,r){let o=rw(e,t,r);return K(o)}var ll=d(()=>{_e();Br();Re();ke();n(ew,"MappedIntrinsicPropertyKey");n(tw,"MappedIntrinsicPropertyKeys");n(rw,"MappedIntrinsicProperties");n(Yf,"IntrinsicFromMappedKey")});function nw(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),r].join("")}function ow(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),r].join("")}function iw(e){return e.toUpperCase()}function sw(e){return e.toLowerCase()}function aw(e,t,r){let o=fn(e.pattern);if(!kr(o))return{...e,pattern:Qf(e.pattern,t)};let i=[..._o(o)].map(c=>W(c)),s=e_(i,t),l=V(s);return vi([l],r)}function Qf(e,t){return typeof e=="string"?t==="Uncapitalize"?nw(e):t==="Capitalize"?ow(e):t==="Uppercase"?iw(e):t==="Lowercase"?sw(e):e:e.toString()}function e_(e,t){return e.map(r=>_t(r,t))}function _t(e,t,r={}){return We(e)?Yf(e,t,r):Ge(e)?aw(e,t,r):D(e)?V(e_(e.anyOf,t),r):Ut(e)?W(Qf(e.const,t),r):b(e,r)}var Br=d(()=>{P();Kt();ll();Re();ue();j();n(nw,"ApplyUncapitalize");n(ow,"ApplyCapitalize");n(iw,"ApplyUppercase");n(sw,"ApplyLowercase");n(aw,"FromTemplateLiteral");n(Qf,"FromLiteralValue");n(e_,"FromRest");n(_t,"Intrinsic")});function t_(e,t={}){return _t(e,"Capitalize",t)}var r_=d(()=>{Br();n(t_,"Capitalize")});function n_(e,t={}){return _t(e,"Lowercase",t)}var o_=d(()=>{Br();n(n_,"Lowercase")});function i_(e,t={}){return _t(e,"Uncapitalize",t)}var s_=d(()=>{Br();n(i_,"Uncapitalize")});function a_(e,t={}){return _t(e,"Uppercase",t)}var u_=d(()=>{Br();n(a_,"Uppercase")});var cl=d(()=>{r_();ll();Br();o_();s_();u_()});function uw(e,t,r){let o={};for(let a of globalThis.Object.getOwnPropertyNames(e))o[a]=dr(e[a],t,Y(r));return o}function lw(e,t,r){return uw(e.properties,t,r)}function l_(e,t,r){let o=lw(e,t,r);return K(o)}var ml=d(()=>{_e();Zi();ke();n(uw,"FromProperties");n(lw,"FromMappedResult");n(l_,"OmitFromMappedResult")});function cw(e,t){return e.map(r=>pl(r,t))}function mw(e,t){return e.map(r=>pl(r,t))}function pw(e,t){let{[t]:r,...o}=e;return o}function dw(e,t){return t.reduce((r,o)=>pw(r,o),e)}function fw(e,t){let r=te(e,[we,"$id","required","properties"]),o=dw(e.properties,t);return z(o,r)}function _w(e){let t=e.reduce((r,o)=>yi(o)?[...r,W(o)]:r,[]);return V(t)}function pl(e,t){return ee(e)?Ie(cw(e.allOf,t)):D(e)?V(mw(e.anyOf,t)):se(e)?fw(e,t):z({})}function dr(e,t,r){let o=ie(t)?_w(t):t,a=Pe(t)?Ae(t):t,u=ae(e),i=ae(t);return Q(e)?l_(e,a,r):We(t)?c_(e,t,r):u&&i?J("Omit",[e,o],r):!u&&i?J("Omit",[e,o],r):u&&!i?J("Omit",[e,o],r):b({...pl(e,a),...r})}var Zi=d(()=>{P();Ii();ro();ar();Re();Et();ze();ue();He();dl();ml();j();Fe();n(cw,"FromIntersect");n(mw,"FromUnion");n(pw,"FromProperty");n(dw,"FromProperties");n(fw,"FromObject");n(_w,"UnionFromPropertyKeys");n(pl,"OmitResolve");n(dr,"Omit")});function gw(e,t,r){return{[t]:dr(e,[t],Y(r))}}function hw(e,t,r){return t.reduce((o,a)=>({...o,...gw(e,a,r)}),{})}function yw(e,t,r){return hw(e,t.keys,r)}function c_(e,t,r){let o=yw(e,t,r);return K(o)}var dl=d(()=>{_e();Zi();ke();n(gw,"FromPropertyKey");n(hw,"FromPropertyKeys");n(yw,"FromMappedKey");n(c_,"OmitFromMappedKey")});var Ji=d(()=>{dl();ml();Zi()});function bw(e,t,r){let o={};for(let a of globalThis.Object.getOwnPropertyNames(e))o[a]=fr(e[a],t,Y(r));return o}function Iw(e,t,r){return bw(e.properties,t,r)}function m_(e,t,r){let o=Iw(e,t,r);return K(o)}var fl=d(()=>{_e();Xi();ke();n(bw,"FromProperties");n(Iw,"FromMappedResult");n(m_,"PickFromMappedResult")});function xw(e,t){return e.map(r=>_l(r,t))}function ww(e,t){return e.map(r=>_l(r,t))}function Sw(e,t){let r={};for(let o of t)o in e&&(r[o]=e[o]);return r}function Ew(e,t){let r=te(e,[we,"$id","required","properties"]),o=Sw(e.properties,t);return z(o,r)}function Tw(e){let t=e.reduce((r,o)=>yi(o)?[...r,W(o)]:r,[]);return V(t)}function _l(e,t){return ee(e)?Ie(xw(e.allOf,t)):D(e)?V(ww(e.anyOf,t)):se(e)?Ew(e,t):z({})}function fr(e,t,r){let o=ie(t)?Tw(t):t,a=Pe(t)?Ae(t):t,u=ae(e),i=ae(t);return Q(e)?m_(e,a,r):We(t)?p_(e,t,r):u&&i?J("Pick",[e,o],r):!u&&i?J("Pick",[e,o],r):u&&!i?J("Pick",[e,o],r):b({..._l(e,a),...r})}var Xi=d(()=>{P();Ii();ar();ze();Re();He();ue();Et();ro();j();Fe();gl();fl();n(xw,"FromIntersect");n(ww,"FromUnion");n(Sw,"FromProperties");n(Ew,"FromObject");n(Tw,"UnionFromPropertyKeys");n(_l,"PickResolve");n(fr,"Pick")});function vw(e,t,r){return{[t]:fr(e,[t],Y(r))}}function Mw(e,t,r){return t.reduce((o,a)=>({...o,...vw(e,a,r)}),{})}function Lw(e,t,r){return Mw(e,t.keys,r)}function p_(e,t,r){let o=Lw(e,t,r);return K(o)}var gl=d(()=>{_e();Xi();ke();n(vw,"FromPropertyKey");n(Mw,"FromPropertyKeys");n(Lw,"FromMappedKey");n(p_,"PickFromMappedKey")});var Yi=d(()=>{gl();fl();Xi()});function Pw(e,t){return J("Partial",[J(e,t)])}function Nw(e){return J("Partial",[Tt(e)])}function Fw(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=ve(e[r]);return t}function kw(e){let t=te(e,[we,"$id","required","properties"]),r=Fw(e.properties);return z(r,t)}function d_(e){return e.map(t=>f_(t))}function f_(e){return mt(e)?Pw(e.target,e.parameters):ae(e)?Nw(e.$ref):ee(e)?Ie(d_(e.allOf)):D(e)?V(d_(e.anyOf)):se(e)?kw(e):z({})}function Ln(e,t){return Q(e)?__(e,t):b({...f_(e),...t})}var hl=d(()=>{P();ar();Dt();He();ze();ue();Cr();Bt();N();yl();j();n(Pw,"FromComputed");n(Nw,"FromRef");n(Fw,"FromProperties");n(kw,"FromObject");n(d_,"FromRest");n(f_,"PartialResolve");n(Ln,"Partial")});function Ow(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=Ln(e[o],Y(t));return r}function Rw(e,t){return Ow(e.properties,t)}function __(e,t){let r=Rw(e,t);return K(r)}var yl=d(()=>{_e();hl();ke();n(Ow,"FromProperties");n(Rw,"FromMappedResult");n(__,"PartialFromMappedResult")});var Qi=d(()=>{yl();hl()});function Aw(e,t){return J("Required",[J(e,t)])}function Cw(e){return J("Required",[Tt(e)])}function Uw(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=te(e[r],[Se]);return t}function Bw(e){let t=te(e,[we,"$id","required","properties"]),r=Uw(e.properties);return z(r,t)}function g_(e){return e.map(t=>h_(t))}function h_(e){return mt(e)?Aw(e.target,e.parameters):ae(e)?Cw(e.$ref):ee(e)?Ie(g_(e.allOf)):D(e)?V(g_(e.anyOf)):se(e)?Bw(e):z({})}function Pn(e,t){return Q(e)?y_(e,t):b({...h_(e),...t})}var bl=d(()=>{P();ar();He();ze();ue();Cr();N();Bt();Il();j();n(Aw,"FromComputed");n(Cw,"FromRef");n(Uw,"FromProperties");n(Bw,"FromObject");n(g_,"FromRest");n(h_,"RequiredResolve");n(Pn,"Required")});function Dw(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=Pn(e[o],t);return r}function jw(e,t){return Dw(e.properties,t)}function y_(e,t){let r=jw(e,t);return K(r)}var Il=d(()=>{_e();bl();n(Dw,"FromProperties");n(jw,"FromMappedResult");n(y_,"RequiredFromMappedResult")});var es=d(()=>{Il();bl()});function Kw(e,t){return t.map(r=>ae(r)?b_(e,r.$ref):rt(e,r))}function b_(e,t){return t in e?ae(e[t])?b_(e,e[t].$ref):rt(e,e[t]):U()}function Vw(e){return bn(e[0])}function Ww(e){return cr(e[0],e[1])}function Gw(e){return In(e[0])}function $w(e){return Ln(e[0])}function zw(e){return dr(e[0],e[1])}function Hw(e){return fr(e[0],e[1])}function qw(e){return vn(e[0],e[1])}function Zw(e){return Pn(e[0])}function Jw(e,t,r){let o=Kw(e,r);return t==="Awaited"?Vw(o):t==="Index"?Ww(o):t==="KeyOf"?Gw(o):t==="Partial"?$w(o):t==="Omit"?zw(o):t==="Pick"?Hw(o):t==="Record"?qw(o):t==="Required"?Zw(o):U()}function Xw(e,t){return z(globalThis.Object.keys(t).reduce((r,o)=>({...r,[o]:rt(e,t[o])}),{}))}function Yw(e,t,r){return ur(vo(e,t),rt(e,r))}function Qw(e,t,r){return Xe(vo(e,t),rt(e,r))}function eS(e,t){return Ue(vo(e,t))}function tS(e,t){return Ie(vo(e,t))}function rS(e,t){return V(vo(e,t))}function nS(e,t){return ir(rt(e,t))}function oS(e,t){return sr(rt(e,t))}function iS(e,t){return mr(rt(e,t))}function vo(e,t){return t.map(r=>rt(e,r))}function rt(e,t){return Oe(t)?b(rt(e,te(t,[Se])),t):sn(t)?b(rt(e,te(t,[lt])),t):ct(t)?b(nS(e,t.items),t):vr(t)?b(oS(e,t.items),t):mt(t)?b(Jw(e,t.target,t.parameters)):pt(t)?b(Yw(e,t.parameters,t.returns),t):dt(t)?b(Qw(e,t.parameters,t.returns),t):ee(t)?b(tS(e,t.allOf),t):Lr(t)?b(iS(e,t.items),t):se(t)?b(Xw(e,t.properties),t):$e(t)?b(eS(e,t.items||[]),t):D(t)?b(rS(e,t.anyOf),t):t}function sS(e,t){return t in e?rt(e,e[t]):U()}function I_(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:sS(e,r)}),{})}var x_=d(()=>{Ct();Bt();cn();Pi();mn();pn();Et();lr();ze();hn();xo();He();Ji();Yi();be();Qi();Eo();es();Vt();ue();N();j();n(Kw,"DerefParameters");n(b_,"Deref");n(Vw,"FromAwaited");n(Ww,"FromIndex");n(Gw,"FromKeyOf");n($w,"FromPartial");n(zw,"FromOmit");n(Hw,"FromPick");n(qw,"FromRecord");n(Zw,"FromRequired");n(Jw,"FromComputed");n(Xw,"FromObject");n(Yw,"FromConstructor");n(Qw,"FromFunction");n(eS,"FromTuple");n(tS,"FromIntersect");n(rS,"FromUnion");n(nS,"FromArray");n(oS,"FromAsyncIterator");n(iS,"FromIterator");n(vo,"FromRest");n(rt,"FromType");n(sS,"ComputeType");n(I_,"ComputeModuleProperties")});function w_(e){return new xl(e)}var wl,xl,S_=d(()=>{Ct();N();x_();wl=class wl{constructor(t){let r=I_(t),o=this.WithIdentifiers(r);this.$defs=o}Import(t,r){let o={...this.$defs,[t]:b(this.$defs[t],r)};return b({[S]:"Import",$defs:o,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,o)=>({...r,[o]:{...t[o],$id:o}}),{})}};n(wl,"TModule");xl=wl;n(w_,"Module")});var Sl=d(()=>{S_()});function E_(e,t){return b({[S]:"Not",not:e},t)}var T_=d(()=>{P();N();n(E_,"Not")});var El=d(()=>{T_()});function v_(e,t){return dt(e)?Ue(e.parameters,t):U()}var M_=d(()=>{Vt();be();j();n(v_,"Parameters")});var Tl=d(()=>{M_()});function L_(e,t={}){fe(t.$id)&&(t.$id=`T${aS++}`);let r=eo(e({[S]:"This",$ref:`${t.$id}`}));return r.$id=t.$id,b({[Je]:"Recursive",...r},t)}var aS,P_=d(()=>{gi();P();Fe();N();aS=0;n(L_,"Recursive")});var vl=d(()=>{P_()});function N_(e,t){let r=q(e)?new globalThis.RegExp(e):e;return b({[S]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},t)}var F_=d(()=>{P();Fe();N();n(N_,"RegExp")});var Ml=d(()=>{F_()});function uS(e){var t;return ee(e)?e.allOf:D(e)?e.anyOf:$e(e)?(t=e.items)!=null?t:[]:[]}function k_(e){return uS(e)}var O_=d(()=>{j();n(uS,"RestResolve");n(k_,"Rest")});var Ll=d(()=>{O_()});function R_(e,t){return dt(e)?b(e.returns,t):U(t)}var A_=d(()=>{P();be();j();n(R_,"ReturnType")});var Pl=d(()=>{A_()});var C_=d(()=>{});var U_=d(()=>{});var B_=d(()=>{C_();U_()});var D_=d(()=>{});var j_=d(()=>{D_()});function K_(e){return new Nl(e)}var kl,Nl,Ol,Fl,V_=d(()=>{N();j();kl=class kl{constructor(t){this.schema=t}Decode(t){return new Fl(this.schema,t)}};n(kl,"TransformDecodeBuilder");Nl=kl,Ol=class Ol{constructor(t,r){this.schema=t,this.decode=r}EncodeTransform(t,r){let u={Encode:n(i=>r[we].Encode(t(i)),"Encode"),Decode:n(i=>this.decode(r[we].Decode(i)),"Decode")};return{...r,[we]:u}}EncodeSchema(t,r){let o={Decode:this.decode,Encode:t};return{...r,[we]:o}}Encode(t){return an(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};n(Ol,"TransformEncodeBuilder");Fl=Ol;n(K_,"Transform")});var Rl=d(()=>{V_()});function W_(e={}){var t;return b({[S]:(t=e[S])!=null?t:"Unsafe"},e)}var G_=d(()=>{P();N();n(W_,"Unsafe")});var Al=d(()=>{G_()});function $_(e){return b({[S]:"Void",type:"void"},e)}var z_=d(()=>{P();N();n($_,"Void")});var Cl=d(()=>{z_()});var Ul={};Vr(Ul,{Any:()=>or,Argument:()=>dd,Array:()=>ir,AsyncIterator:()=>sr,Awaited:()=>bn,BigInt:()=>_n,Boolean:()=>Ei,Capitalize:()=>t_,Composite:()=>uf,Const:()=>gf,Constructor:()=>ur,ConstructorParameters:()=>yf,Date:()=>Ni,Enum:()=>If,Exclude:()=>En,Extends:()=>Sn,Extract:()=>Tn,Function:()=>Xe,Index:()=>cr,InstanceType:()=>jf,Instantiate:()=>qf,Integer:()=>Jf,Intersect:()=>Ie,Iterator:()=>mr,KeyOf:()=>In,Literal:()=>W,Lowercase:()=>n_,Mapped:()=>qd,Module:()=>w_,Never:()=>U,Not:()=>E_,Null:()=>ki,Number:()=>Ye,Object:()=>z,Omit:()=>dr,Optional:()=>ve,Parameters:()=>v_,Partial:()=>Ln,Pick:()=>fr,Promise:()=>yn,Readonly:()=>Ce,ReadonlyOptional:()=>zi,Record:()=>vn,Recursive:()=>L_,Ref:()=>Tt,RegExp:()=>N_,Remap:()=>Mn,Required:()=>Pn,Rest:()=>k_,ReturnType:()=>R_,String:()=>ft,Symbol:()=>Ri,TemplateLiteral:()=>vi,Transform:()=>K_,Tuple:()=>Ue,Uint8Array:()=>Bi,Uncapitalize:()=>i_,Undefined:()=>Ci,Union:()=>V,Unknown:()=>xn,Unsafe:()=>W_,Uppercase:()=>a_,Void:()=>$_});var H_=d(()=>{mo();lu();cn();mn();Pi();go();Ti();Bu();ju();pn();Ku();Fi();Vu();tl();So();ol();lr();Et();il();al();ul();ze();cl();hn();xo();Re();_e();Sl();be();El();Oi();Or();He();Ji();Dt();Tl();Qi();Yi();ho();Ar();Hi();Eo();vl();Cr();Ml();qi();es();Ll();Pl();gn();Ai();Kt();Rl();Vt();Di();Ui();ue();wo();Al();Cl()});var vt,q_=d(()=>{H_();vt=Ul});var Z_=d(()=>{ep();Ct();wt();ou();ed();lo();id();co();N();mo();cn();lu();mn();Pi();go();Ti();Bu();ju();pn();Ku();Fi();Vu();tl();So();ol();lr();Et();il();al();ul();ze();hn();cl();xo();Re();Sl();_e();be();El();Oi();Or();He();Ji();Dt();Tl();Qi();Yi();ho();Ar();Hi();Eo();vl();Cr();Ml();qi();es();Ll();Pl();B_();j_();gn();Ai();Kt();Rl();Vt();Di();Ui();ue();wo();Al();Cl();q_()});function lS(){Bl={text:"",tokens:[]}}function Mt(e){var t;return e=e.toLowerCase(),(t=pS[e])!=null?t:e}async function dS(e,t={},r=[]){let o=new ts(t,e.languageId),a=st(o.tokenizerName),u=new pi(o.snippetTextProcessingPreset),i=new Mo(o.promptOrderListPreset),s=new rs(o.promptPriorityPreset),{source:l,offset:c}=e;if(c<0||c>l.length)throw new Error(`Offset ${c} is out of range.`);e.languageId=Mt(e.languageId);let m=new os(a,o.lineEnding,i,u,s),p=r.find(T=>T.provider==="path"),f=r.find(T=>T.provider==="language"),g=r.find(T=>T.provider==="trait"),h=r.find(T=>T.provider==="tooltip-signature");p!==void 0&&p.snippet.length>0?(m.append(p.snippet,"PathMarker"),f&&m.extMarkUnused({text:f.snippet,kind:"LanguageMarker",tokens:a.tokenLength(f.snippet),id:NaN,score:NaN})):f&&m.append(f.snippet,"LanguageMarker"),g!=null&&m.append(g.snippet,"Traits"),r=r.filter(T=>T.provider!=="language"&&T.provider!=="path"&&T.provider!=="tooltip-signature"&&T.provider!=="trait");function I(){og(r,e.languageId,a,s,o.numberOfSnippets).forEach(L=>{let O=ns(L.provider);m.append(L.announcedSnippet,O,L.tokens,L.score)})}n(I,"addSnippetsNow"),I();let x=l.substring(0,c);h!==void 0&&a.tokenLength(h.snippet)<=Q_?([x,h]=Qm(x,h),m.append(h.snippet,"TooltipSignature")):h!==void 0&&m.extMarkUnused({text:h.snippet,kind:"TooltipSignature",tokens:a.tokenLength(h.snippet),id:NaN,score:NaN}),m.append(x,"BeforeCursor");let w=l.slice(c),{promptInfo:F,newCachedSuffix:M}=m.fulfill(w,o,Bl);return Bl=M,F}var Bl,J_,X_,Y_,Q_,eg,cS,tg,mS,Dl,rg,ng,jl,ts,pS,Dr=d(()=>{"use strict";mi();Ot();Jm();en();Va();di();Z_();Bl={text:"",tokens:[]};n(lS,"resetSuffixCache");J_=500,X_=8192-J_,Y_=4,Q_=150,eg=10,cS=15,tg=vt.Object({relativePath:vt.Optional(vt.String()),uri:vt.String(),source:vt.String(),languageId:vt.String()}),mS=vt.Intersect([tg,vt.Object({offset:vt.Number()})]),Dl=(r=>(r.ConvertToUnix="unix",r.KeepOriginal="keep",r))(Dl||{}),rg=(r=>(r.None="none",r.FifteenPercent="fifteenPercent",r))(rg||{}),ng=(r=>(r.Equal="equal",r.Levenshtein="levenshteineditdistance",r))(ng||{}),jl=class jl{constructor(t,r){this.maxPromptLength=X_;this.lineEnding="unix";this.tokenizerName="cl100k_base";this.suffixPercent=15;this.suffixMatchThreshold=eg;this.promptOrderListPreset="default";this.promptPriorityPreset="default";this.snippetTextProcessingPreset="default";var o,a,u,i;if(Object.assign(this,t),this.suffixPercent<0||this.suffixPercent>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${this.suffixPercent}`);if(this.suffixMatchThreshold<0||this.suffixMatchThreshold>100)throw new Error(`suffixMatchThreshold must be at between 0 and 100, but was ${this.suffixMatchThreshold}`);r==="cpp"?((o=this.similarFilesOptions)!=null||(this.similarFilesOptions=ja),(a=this.numberOfSnippets)!=null||(this.numberOfSnippets=ja.maxTopSnippets)):((u=this.similarFilesOptions)!=null||(this.similarFilesOptions=zm),(i=this.numberOfSnippets)!=null||(this.numberOfSnippets=Y_))}};n(jl,"PromptOptions");ts=jl,pS={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};n(Mt,"normalizeLanguageId");n(dS,"getPrompt")});function ig(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let o=0;o<e.length;o++)r[o][0]=o;for(let o=0;o<t.length;o++)r[0][o]=o;for(let o=0;o<t.length;o++)for(let a=0;a<e.length;a++)r[a][o]=Math.min((a==0?o:r[a-1][o])+1,(o==0?a:r[a][o-1])+1,(a==0||o==0?Math.max(a,o):r[a-1][o-1])+(e[a]==t[o]?0:1));return{score:r[e.length-1][t.length-1]}}var sg=d(()=>{"use strict";n(ig,"findEditDistanceScore")});function ns(e){switch(e){case"similar-files":return"SimilarFile";case"path":return"PathMarker";case"language":return"LanguageMarker";case"tooltip-signature":return"TooltipSignature";case"trait":return"Traits";case"code":return"CodeSnippet";default:throw new Error(`Unknown snippet provider type ${e}`)}}var Lo,fS,Kl,is,Vl,ss,Wl,Mo,Gl,rs,$l,as,zl,os,di=d(()=>{"use strict";us();Dr();sg();Lo=50,fS=5,Kl=class Kl{constructor(){this.used=new Map;this.unused=new Map}add(t){for(let[r,o]of t.used)this.used.set(r,o);for(let[r,o]of t.unused)this.unused.set(r,o)}markUsed(t){this.IsSnippet(t)&&this.used.set(t.id,this.convert(t))}undoMarkUsed(t){this.IsSnippet(t)&&this.used.delete(t.id)}markUnused(t){this.IsSnippet(t)&&this.unused.set(t.id,this.convert(t))}convert(t){return{score:t.score.toFixed(4),length:t.text.length}}IsSnippet(t){return t.kind=="SimilarFile"||t.kind=="TooltipSignature"}};n(Kl,"PromptBackground");is=Kl,Vl=class Vl{constructor(){this.used=new Map;this.unused=new Map;this.usedCounts=new Map;this.unusedCounts=new Map}toJSON(){return{used:Object.fromEntries(this.used),unused:Object.fromEntries(this.unused),usedCounts:Object.fromEntries(this.usedCounts),unusedCounts:Object.fromEntries(this.unusedCounts)}}add(t){for(let[r,o]of t.used)this.used.set(r,(this.used.get(r)||0)+o);for(let[r,o]of t.unused)this.unused.set(r,(this.unused.get(r)||0)+o);for(let[r,o]of t.usedCounts)this.usedCounts.set(r,(this.usedCounts.get(r)||0)+o);for(let[r,o]of t.unusedCounts)this.unusedCounts.set(r,(this.unusedCounts.get(r)||0)+o)}markUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+1)}undoMarkUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)-t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-1)}markUnused(t){this.unused.set(t.kind,(this.unused.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+1)}};n(Vl,"PromptChoices");ss=Vl,Wl=class Wl{constructor(t="default"){this._rankedList=["LanguageMarker","PathMarker","Traits","CodeSnippet","SimilarFile","BeforeCursor","TooltipSignature"]}get rankedList(){return this._rankedList}sortElements(t){return t.sort((r,o)=>{let a=this._rankedList.indexOf(r.kind),u=this._rankedList.indexOf(o.kind);if(a===-1||u===-1)throw new Error(`Invalid element kind: ${r.kind} or ${o.kind}, not found in prompt element ordering list`);return a===u?r.id-o.id:a-u})}};n(Wl,"PromptOrderList");Mo=Wl,Gl=class Gl extends Mo{constructor(t="default"){switch(super(),t){case"office-exp":this._rankedList=["PathMarker","TooltipSignature","BeforeCursor","CodeSnippet","SimilarFile","LanguageMarker","Traits"];break;default:this._rankedList=["TooltipSignature","BeforeCursor","CodeSnippet","SimilarFile","PathMarker","LanguageMarker","Traits"]}}sortElements(t){return t.sort((r,o)=>{let a=this._rankedList.indexOf(r.kind),u=this._rankedList.indexOf(o.kind);if(a===-1||u===-1)throw new Error(`Invalid element kind: ${r.kind} or ${o.kind}, not found in snippet provider priority list`);return a===u?o.id-r.id:a-u})}};n(Gl,"PromptPriorityList");rs=Gl;n(ns,"kindForSnippetProviderType");$l=class $l{constructor(t){this.ranges=new Array;let r=0,o;for(let a of t)a.text.length!==0&&(o==="BeforeCursor"&&a.kind==="BeforeCursor"?this.ranges[this.ranges.length-1].end+=a.text.length:this.ranges.push({kind:a.kind,start:r,end:r+a.text.length}),o=a.kind,r+=a.text.length)}};n($l,"PromptElementRanges");as=$l,zl=class zl{constructor(t,r,o,a,u){this.tokenizer=t;this.lineEndingOption=r;this.orderingList=o;this.snippetTextProcessor=a;this.priorityList=u;this.content=[];this.basePromptBackground=new is;this.baseTallyOfChoices=new ss}extMarkUnused(t){this.basePromptBackground.markUnused(t),this.baseTallyOfChoices.markUnused(t)}getContent(){return[...this.content]}convertLineEndings(t){return this.lineEndingOption==="unix"&&(t=t.replace(/\r\n?/g,`
`)),t}maxPrefixTokenLength(){return this.content.reduce((t,r)=>t+=r.tokens,0)}append(t,r,o=this.tokenizer.tokenLength(t),a=NaN){t=this.convertLineEndings(t);let u=this.content.length;return this.content.push({id:u,text:t,kind:r,tokens:o,score:a}),u}fulfillPrefix(t){let r=new is;r.add(this.basePromptBackground);let o=new ss;o.add(this.baseTallyOfChoices);function a(h){r.markUsed(h),o.markUsed(h)}n(a,"markUsed");function u(h){r.undoMarkUsed(h),o.undoMarkUsed(h)}n(u,"undoMarkUsed");function i(h){r.markUnused(h),o.markUnused(h)}n(i,"markUnused"),this.priorityList.sortElements(this.content);let s,l=[],c=t;this.content.forEach(h=>{if(c>0||s===void 0){let I=h.tokens;if(c>=I)c-=I,a(h),l.push(h);else if(h.kind==="BeforeCursor"&&c>0){let{summarizedElement:x,removedMaterial:w}=this.snippetTextProcessor.summarize(this.tokenizer,h,c);h=x,I=h.tokens,c-=I,h.text.length>0&&a(h),w.text.length>0&&i(w),l.push(h)}else s===void 0?s=h:i(h)}else i(h)}),this.orderingList.sortElements(l);let m=l.reduce((h,I)=>h+I.text,""),p=this.tokenizer.tokenLength(m);for(;p>t;){this.priorityList.sortElements(l);let h=l.pop();h&&(u(h),i(h),s!==void 0&&i(s),s=void 0),this.orderingList.sortElements(l),m=l.reduce((I,x)=>I+x.text,""),p=this.tokenizer.tokenLength(m)}let f=[...l];if(s!==void 0){f.push(s),this.orderingList.sortElements(f);let h=f.reduce((x,w)=>x+w.text,""),I=this.tokenizer.tokenLength(h);if(I<=t){a(s);let x=new as(f);return{prefix:h,suffix:"",prefixLength:I,suffixLength:0,promptChoices:o,promptBackground:r,promptElementRanges:x}}else i(s)}let g=new as(l);return{prefix:m,suffix:"",prefixLength:p,suffixLength:0,promptChoices:o,promptBackground:r,promptElementRanges:g}}fulfill(t,r,o){var f;if(r.suffixPercent===0||t.length===0)return{promptInfo:this.fulfillPrefix(r.maxPromptLength),newCachedSuffix:o};let a=r.maxPromptLength-fS,u=Math.floor(a*(100-r.suffixPercent)/100),i=a-u,s=t.replace(/^.*/,"").trimStart();if(a>Lo&&i<Lo)throw new Error(`Suffix budget is smaller than MAX_EDIT_DISTANCE_LENGTH: ${i} < ${Lo}
`);let l=this.tokenizer.takeFirstTokens(s,Lo),c=!1;l.tokens.length>0&&r.suffixMatchThreshold>0&&100*((f=ig(l.tokens,o.tokens.slice(0,Lo)))==null?void 0:f.score)<r.suffixMatchThreshold*l.tokens.length&&(c=!0);let m;if(c)u=a-o.tokens.length,m=o;else{let g=this.maxPrefixTokenLength(),h=this.tokenizer.tokenLength(s);g<u?(u=g,i=a-u):h<i&&(u=a-h,i=h),m=this.tokenizer.takeFirstTokens(s,i)}let p=this.fulfillPrefix(u);return p.suffix=m.text,p.suffixLength=m.tokens.length,{promptInfo:p,newCachedSuffix:m}}};n(zl,"PromptWishlist");os=zl});function gS(e,t){let r=_S[e.semantics],o=["snippets"].includes(e.semantics)?"these":"this",u=(e.relativePath?`Compare ${o} ${r} from ${e.relativePath}:`:`Compare ${o} ${r}:`)+`
`+e.snippet;return u.endsWith(`
`)||(u+=`
`),Qt(u,t)}function ag(e){e.sort((t,r)=>r.score-t.score)}function hS(e,t,r){if(t==0)return[];let o=e.map(u=>({...u,kind:ns(u.provider)})),a=[];return r.rankedList.forEach(u=>{let i=o.filter(({kind:s})=>s===u);ag(i),a.push(...i)}),a.slice(0,t)}function og(e,t,r,o,a){let i=hS(e,a,o).map(s=>{let l=gS(s,t),c=r.tokenLength(l);return{announcedSnippet:l,provider:s.provider,score:s.score,tokens:c,relativePath:s.relativePath}}).filter(s=>s.tokens>0);return ag(i),i.reverse(),i}var Ze,kt,_S,Ot=d(()=>{"use strict";Ft();di();Ze=(i=>(i.SimilarFiles="similar-files",i.Language="language",i.Path="path",i.TooltipSignature="tooltip-signature",i.Trait="trait",i.CodeSnippet="code",i))(Ze||{}),kt=(p=>(p.Function="function",p.Snippet="snippet",p.Snippets="snippets",p.Variable="variable",p.Parameter="parameter",p.Method="method",p.Class="class",p.Module="module",p.Alias="alias",p.Enum="enum member",p.Interface="interface",p))(kt||{}),_S={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};n(gS,"announceSnippet");n(ag,"sortSnippetsDescending");n(hS,"selectSnippets");n(og,"processSnippetsForWishlist")});var Hl,gr,ql,De,Gt=d(()=>{"use strict";Jl();Hl=class Hl extends Error{constructor(t){super(t),this.name="ProviderTimeoutError"}};n(Hl,"ProviderTimeoutError");gr=Hl,ql=class ql{constructor(t){this.api=t}getSnippets(t,r){return new Promise((o,a)=>{r.aborted&&a(new _r(this.type,new gr("provider aborted"))),r.addEventListener("abort",()=>{a(new _r(this.type,new gr(`max runtime exceeded: ${Zl} ms`)))},{once:!0});let u=performance.now();this.buildSnippets(t).then(i=>{let s=performance.now();o({snippets:i,providerType:this.type,runtime:s-u})}).catch(i=>{a(new _r(this.type,i))})})}};n(ql,"SnippetProvider");De=ql});var Xl,ls,ug=d(()=>{"use strict";Ft();Ot();Gt();Xl=class Xl extends De{constructor(){super(...arguments);this.type="code"}async buildSnippets(r){var i;if(r.codeSnippets===void 0||r.codeSnippets.length===0)return[];let{codeSnippets:o}=r,a=new Map;for(let s of o){let l=(i=s.relativePath)!=null?i:s.uri,c=a.get(l);c===void 0&&(c=[],a.set(l,c)),c.push(s)}let u=[];return a.forEach((s,l)=>{let c=s.map(m=>m.value).join(`
---
`);u.push({provider:this.type,semantics:s.length>1?"snippets":"snippet",snippet:ut(c),relativePath:l,startLine:0,endLine:0,score:Math.max(...s.map(m=>{var p;return(p=m.importance)!=null?p:0}))})}),u}};n(Xl,"CodeSnippetProvider");ls=Xl});var Yl,cs,lg=d(()=>{"use strict";Ft();Dr();Ot();Gt();Yl=class Yl extends De{constructor(){super(...arguments);this.type="language"}async buildSnippets(r){let{currentFile:o}=r;return o.languageId=Mt(o.languageId),[{provider:this.type,semantics:"snippet",snippet:ut(Um(o)),relativePath:o.relativePath,startLine:0,endLine:0,score:0}]}};n(Yl,"LanguageSnippetProvider");cs=Yl});var Ql,ms,cg=d(()=>{"use strict";Ft();Dr();Ot();Gt();Ql=class Ql extends De{constructor(){super(...arguments);this.type="path"}async buildSnippets(r){let{currentFile:o}=r;return o.languageId=Mt(o.languageId),[{provider:this.type,semantics:"snippet",snippet:ut(Bm(o)),relativePath:o.relativePath,startLine:0,endLine:0,score:0}]}};n(Ql,"PathSnippetProvider");ms=Ql});var ec,ps,mg=d(()=>{"use strict";us();Gt();ec=class ec extends De{constructor(){super(...arguments);this.type="similar-files"}async buildSnippets(r){let{currentFile:o,similarFiles:a,options:u}=r;return u&&a&&a.length?await this.api.getSimilarSnippets(o,a,u.similarFilesOptions):[]}};n(ec,"SimilarFilesProvider");ps=ec});var tc,ds,pg=d(()=>{"use strict";Ft();Dr();Ot();Gt();Va();tc=class tc extends De{constructor(){super(...arguments);this.type="tooltip-signature"}async buildSnippets(r){let{currentFile:o,tooltipSignature:a}=r,u=[];return o.languageId=Mt(o.languageId),a&&Ym(o)&&u.push({provider:this.type,semantics:"snippet",snippet:ut(Xm(a,o.languageId)),relativePath:o.relativePath,startLine:0,endLine:0,score:0}),u}};n(tc,"TooltipSignatureSnippetProvider");ds=tc});var rc,_s,dg=d(()=>{"use strict";Ft();Dr();Ot();Gt();rc=class rc extends De{constructor(){super(...arguments);this.type="trait"}async buildSnippets(r){if(r.traits.length===0)return[];let{currentFile:o}=r;return o.languageId=Mt(o.languageId),[{provider:this.type,semantics:"snippet",snippet:Qt(`Consider this related information:
`+r.traits.map(a=>a.kind==="string"?ut(a.value):ut(`${a.name}: ${a.value}`)).join(""),o.languageId),relativePath:o.relativePath,startLine:0,endLine:0,score:0}]}};n(rc,"TraitProvider");_s=rc});function yS(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}var gs,Lt,fg,oc,nc,hs,_g=d(()=>{"use strict";Vo();mi();gs=kn(require("path")),Lt=require("worker_threads");n(yS,"sleep");fg=["getSimilarSnippets","sleep"],oc=class oc{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=Hm;this.sleep=yS;var t;!Lt.isMainThread&&((t=Lt.workerData)!=null&&t.port)&&(qs(),process.cwd=()=>Lt.workerData.cwd,this.configureWorkerResponse(Lt.workerData.port))}initWorker(){let{port1:t,port2:r}=new Lt.MessageChannel;this.port=t,this.worker=new Lt.Worker(gs.default.resolve(gs.default.extname(__filename)!==".ts"?__dirname:gs.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",o=>this.handleMessage(o)),this.port.on("error",o=>this.handleError(o))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of fg)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of fg){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",r=>void this.onMessage(r))}async onMessage({id:t,fn:r,args:o}){let a=this[r];if(!a)throw new Error(`Function not found: ${r}`);try{let u=await a.apply(this,o);this.port.postMessage({id:t,res:u})}catch(u){if(!(u instanceof Error))throw u;typeof u.code=="string"?this.port.postMessage({id:t,err:u,code:u.code}):this.port.postMessage({id:t,err:u})}}handleMessage({id:t,err:r,code:o,res:a}){let u=this.handlers.get(t);u&&(this.handlers.delete(t),r?(r.code=o,u.reject(r)):u.resolve(a))}handleError(t){var o;let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&((o=r.message)!=null&&o.endsWith("workerProxy.js'"))&&(r=new Xt("Failed to load workerProxy.js"));let a=new Error().stack;r.stack&&(a!=null&&a.match(/^Error\n/))&&(r.stack+=a.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&t.name==="ExitStatus"&&"status"in t&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let a of this.handlers.values())a.reject(r);throw r}proxy(t){this[t]=function(...r){let o=this.nextHandlerId++;return new Promise((a,u)=>{var i;this.handlers.set(o,{resolve:a,reject:u}),(i=this.port)==null||i.postMessage({id:o,fn:t,args:r})})}}};n(oc,"WorkerProxy");nc=oc,hs=new nc});function gg(e){return e.status==="fulfilled"}function IS(e){return e.status==="rejected"}function hg(e){return e.filter(gg).flatMap(t=>t.value.snippets)}function yg(e){return e.filter(IS).flatMap(t=>t.reason)}function bg(e){let t={},r={};return e.forEach(o=>{gg(o)?(t[o.value.providerType]=Math.round(o.value.runtime),r[o.value.providerType]=!1):xS(o.reason)&&(r[o.reason.providerType]=!0,t[o.reason.providerType]=0)}),{runtimes:t,timeouts:r}}function xS(e){return e!==null&&typeof e=="object"&&"error"in e&&e.error instanceof gr}function wS(e){return Promise.all(e.map(t=>t.then(SS,ES)))}function SS(e){return{status:"fulfilled",value:e}}function ES(e){return{status:"rejected",reason:e}}var Zl,bS,ic,_r,sc,ys,Jl=d(()=>{"use strict";ug();lg();cg();mg();Gt();pg();dg();_g();Zl=300,bS=[cs,ms,ps,ds,_s,ls],ic=class ic extends Error{constructor(r,o){super();this.providerType=r;this.error=o}};n(ic,"ProviderError");_r=ic;n(gg,"isFulfilledResult");n(IS,"isRejectedResult");n(hg,"providersSnippets");n(yg,"providersErrors");n(bg,"providersPerformance");n(xS,"isProviderTimeout");sc=class sc{constructor(t=bS){this.startThreading=n(()=>hs.startThreading(),"startThreading");this.stopThreading=n(()=>hs.stopThreading(),"stopThreading");this.providers=t.map(r=>new r(hs))}async getSnippets(t){let r=AbortSignal.timeout(Zl),o=this.providers.map(a=>a.getSnippets(t,r));return Promise.allSettled?Promise.allSettled(o):wS(o)}};n(sc,"SnippetOrchestrator");ys=sc;n(wS,"allSettledBackup");n(SS,"createPromiseFulfilledResult");n(ES,"createPromiseRejectedResult")});function TS(e,t){let r=e.lastIndexOf(`
`,t-1),o=e.indexOf(`
`,t);return o<0&&(o=e.length),e.slice(r+1,o)}function xg(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}function Ig(e,t){let r=e.startIndex,o=e.startIndex-e.startPosition.column,a=t.substring(o,r);if(/^\s*$/.test(a))return a}function vS(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let o=Ig(e,r),a=Ig(t,r);return o!==void 0&&a!==void 0&&o.startsWith(a)}function xs(e){if(!nn(e))throw new Error(`Language ${e} is not supported`);return MS[Xn(e)]}async function LS(e,t,r){return nn(e)?xs(e).isEmptyBlockStart(t,r):!1}async function PS(e,t,r,o){if(nn(e))return xs(e).isBlockBodyFinished(t,r,o)}async function NS(e,t,r){if(nn(e))return xs(e).getNodeStart(t,r)}var ac,bs,uc,Is,lc,hr,MS,wg=d(()=>{"use strict";li();ac=class ac{constructor(t,r,o){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=o}async getNodeMatchAtPosition(t,r,o){let a=await on(this.languageId,t);try{let i=a.rootNode.descendantForIndex(r);for(;i;){let s=this.nodeMatch[i.type];if(s){if(!this.nodeTypesWithBlockOrStmtChild.has(i.type))break;let l=this.nodeTypesWithBlockOrStmtChild.get(i.type),c=l==""?i.namedChildren[0]:i.childForFieldName(l);if((c==null?void 0:c.type)==s)break}i=i.parent}return i?o(i):void 0}finally{a.delete()}}getNextBlockAtPosition(t,r,o){return this.getNodeMatchAtPosition(t,r,a=>{let u=a.children.reverse().find(i=>i.type==this.nodeMatch[a.type]);if(u){if(this.languageId=="python"&&u.parent){let i=u.parent.type==":"?u.parent.parent:u.parent,s=i==null?void 0:i.nextSibling;for(;s&&s.type=="comment";){let l=s.startPosition.row==u.endPosition.row&&s.startPosition.column>=u.endPosition.column,c=s.startPosition.row>i.endPosition.row&&s.startPosition.column>i.startPosition.column;if(l||c)u=s,s=s.nextSibling;else break}}if(!(u.endIndex>=u.tree.rootNode.endIndex-1&&(u.hasError()||u.parent.hasError())))return o(u)}})}async isBlockBodyFinished(t,r,o){let a=(t+r).trimEnd(),u=await this.getNextBlockAtPosition(a,o,i=>i.endIndex);if(u!==void 0&&u<a.length){let i=u-t.length;return i>0?i:void 0}}getNodeStart(t,r){let o=t.trimEnd();return this.getNodeMatchAtPosition(o,r,a=>a.startIndex)}};n(ac,"BaseBlockParser");bs=ac,uc=class uc extends bs{constructor(r,o,a,u,i){super(r,u,i);this.blockEmptyMatch=o;this.lineMatch=a}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,o){let a=await this.getNextBlockAtPosition(r,o,u=>{u.startIndex<o&&(o=u.startIndex);let i=r.substring(o,u.endIndex).trim();return i==""||i.replace(/\s/g,"")==this.blockEmptyMatch});return a===void 0||a}async isEmptyBlockStart(r,o){return o=xg(r,o),this.isBlockStart(TS(r,o))&&this.isBlockBodyEmpty(r,o)}};n(uc,"RegexBasedBlockParser");Is=uc;n(TS,"getLineAtOffset");n(xg,"rewindToNearestNonWs");n(Ig,"indent");n(vS,"outdented");lc=class lc extends bs{constructor(r,o,a,u,i,s,l){super(r,o,a);this.startKeywords=u;this.blockNodeType=i;this.emptyStatementType=s;this.curlyBraceLanguage=l}isBlockEmpty(r,o){var u,i;let a=r.text.trim();return this.curlyBraceLanguage&&(a.startsWith("{")&&(a=a.slice(1)),a.endsWith("}")&&(a=a.slice(0,-1)),a=a.trim()),!!(a.length==0||this.languageId=="python"&&(((u=r.parent)==null?void 0:u.type)=="class_definition"||((i=r.parent)==null?void 0:i.type)=="function_definition")&&r.children.length==1&&Ba(r.parent))}async isEmptyBlockStart(r,o){var u,i,s,l;if(o>r.length)throw new RangeError("Invalid offset");for(let c=o;c<r.length&&r.charAt(c)!=`
`;c++)if(/\S/.test(r.charAt(c)))return!1;o=xg(r,o);let a=await on(this.languageId,r);try{let c=a.rootNode.descendantForIndex(o-1);if(c==null||this.curlyBraceLanguage&&c.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&c.parent&&c.parent.type=="object"&&c.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let h=c;for(;h.parent;){if(h.type=="function_signature"||h.type=="method_signature"){let I=c.nextSibling;return I&&h.hasError()&&vS(h,I,r)?!0:!h.children.find(w=>w.type==";")&&h.endIndex<=o}h=h.parent}}let m=null,p=null,f=null,g=c;for(;g!=null;){if(g.type==this.blockNodeType){p=g;break}if(this.nodeMatch[g.type]){f=g;break}if(g.type=="ERROR"){m=g;break}g=g.parent}if(p!=null){if(!p.parent||!this.nodeMatch[p.parent.type])return!1;if(this.languageId=="python"){let h=p.previousSibling;if(h!=null&&h.hasError()&&(h.text.startsWith('"""')||h.text.startsWith("'''")))return!0}return this.isBlockEmpty(p,o)}if(m!=null){if(((u=m.previousSibling)==null?void 0:u.type)=="module"||((i=m.previousSibling)==null?void 0:i.type)=="internal_module"||((s=m.previousSibling)==null?void 0:s.type)=="def")return!0;let h=[...m.children].reverse(),I=h.find(w=>this.startKeywords.includes(w.type)),x=h.find(w=>w.type==this.blockNodeType);if(I){switch(this.languageId){case"python":{I.type=="try"&&c.type=="identifier"&&c.text.length>4&&(x=(l=h.find(M=>M.hasError()))==null?void 0:l.children.find(M=>M.type=="block"));let w,F=0;for(let M of m.children){if(M.type==":"&&F==0){w=M;break}M.type=="("&&(F+=1),M.type==")"&&(F-=1)}if(w&&I.endIndex<=w.startIndex&&w.nextSibling){if(I.type=="def"){let M=w.nextSibling;if(M.type=='"'||M.type=="'"||M.type=="ERROR"&&(M.text=='"""'||M.text=="'''"))return!0}return!1}break}case"javascript":{let w=h.find(T=>T.type=="formal_parameters");if(I.type=="class"&&w)return!0;let F=h.find(T=>T.type=="{");if(F&&F.startIndex>I.endIndex&&F.nextSibling!=null||h.find(T=>T.type=="do")&&I.type=="while"||I.type=="=>"&&I.nextSibling&&I.nextSibling.type!="{")return!1;break}case"typescript":{let w=h.find(M=>M.type=="{");if(w&&w.startIndex>I.endIndex&&w.nextSibling!=null||h.find(M=>M.type=="do")&&I.type=="while"||I.type=="=>"&&I.nextSibling&&I.nextSibling.type!="{")return!1;break}}return x&&x.startIndex>I.endIndex?this.isBlockEmpty(x,o):!0}}if(f!=null){let h=this.nodeMatch[f.type],I=f.children.slice().reverse().find(x=>x.type==h);if(I)return this.isBlockEmpty(I,o);if(this.nodeTypesWithBlockOrStmtChild.has(f.type)){let x=this.nodeTypesWithBlockOrStmtChild.get(f.type),w=x==""?f.children[0]:f.childForFieldName(x);if(w&&w.type!=this.blockNodeType&&w.type!=this.emptyStatementType)return!1}return!0}return!1}finally{a.delete()}}};n(lc,"TreeSitterBasedBlockParser");hr=lc,MS={python:new hr("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new hr("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new hr("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new hr("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new Is("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new Is("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new hr("csharp",{},new Map([]),[],"block",null,!0),java:new hr("java",{},new Map([]),[],"block",null,!0)};n(xs,"getBlockParser");n(LS,"isEmptyBlockStart");n(PS,"isBlockBodyFinished");n(NS,"getNodeStart")});var Eg={};Vr(Eg,{DEFAULT_MAX_COMPLETION_LENGTH:()=>J_,DEFAULT_MAX_PROMPT_LENGTH:()=>X_,DEFAULT_NUM_SNIPPETS:()=>Y_,DEFAULT_SUFFIX_MATCH_THRESHOLD:()=>eg,DEFAULT_SUFFIX_PERCENT:()=>cS,DEFAULT_TREE_TRAVERSAL_CONFIG:()=>om,DocumentInfoSchema:()=>tg,DocumentInfoWithOffsetSchema:()=>mS,ElidableText:()=>Gn,LineEndingOptions:()=>Dl,LineWithValueAndCost:()=>tn,MAX_TOOLTIP_SIGNATURE_TOKENS:()=>Q_,PromptOptions:()=>ts,ProviderError:()=>_r,ProviderTimeoutError:()=>gr,SnippetOrchestrator:()=>ys,SnippetProviderType:()=>Ze,SnippetSemantics:()=>kt,SuffixMatchOption:()=>ng,SuffixOption:()=>rg,TTokenizer:()=>Zo,TokenizerName:()=>Jo,WASMLanguage:()=>Wm,blankNode:()=>Bo,buildLabelRules:()=>Jr,clearLabels:()=>$c,clearLabelsIf:()=>Js,combineClosersAndOpeners:()=>Do,comment:()=>Zn,commentBlockAsSingles:()=>Qt,createWorker:()=>kS,cutTreeAfterLine:()=>gh,deparseAndCutTree:()=>vh,deparseLine:()=>Vn,deparseTree:()=>Yc,describeTree:()=>Qc,duplicateTree:()=>hh,elidableTextForDiff:()=>sy,elidableTextForSourceCode:()=>Qs,encodeTree:()=>em,firstLineOf:()=>tm,flattenVirtual:()=>bt,foldTree:()=>Dn,fromTreeWithFocussedLines:()=>Yr,fromTreeWithValuedLines:()=>im,getBlockCloseToken:()=>yy,getBlockParser:()=>xs,getCursorContext:()=>Er,getLanguage:()=>Gm,getNodeStart:()=>NS,getPrompt:()=>dS,getTokenizer:()=>st,groupBlocks:()=>Xs,isBlank:()=>re,isBlockBodyFinished:()=>PS,isEmptyBlockStart:()=>LS,isLine:()=>it,isSupportedLanguageId:()=>nn,isTop:()=>Zt,isVirtual:()=>Ke,labelLines:()=>Zr,labelVirtualInherited:()=>Kn,languageCommentMarkers:()=>La,languageIdToWasmLanguage:()=>Xn,lastLineOf:()=>rm,lineNode:()=>Zs,mapLabels:()=>yt,normalizeLanguageId:()=>Mt,parseRaw:()=>zc,parseTree:()=>Jt,parseTreeSitter:()=>on,providersErrors:()=>yg,providersPerformance:()=>bg,providersSnippets:()=>hg,queryPythonIsDocstring:()=>Ba,rebuildTree:()=>jn,registerLanguageSpecificParser:()=>jo,resetLineNumbers:()=>yh,resetSuffixCache:()=>lS,topNode:()=>Bn,virtualNode:()=>Uo,visitTree:()=>oe,visitTreeConditionally:()=>bh});function kS(e,t){return new Sg.Worker(ws.default.resolve(ws.default.extname(__filename)!==".ts"?__dirname:ws.default.resolve(__dirname,"../../dist"),e),{workerData:t})}var ws,Sg,us=d(()=>{"use strict";ws=kn(require("path")),Sg=require("worker_threads");Am();Wn();Ft();Jl();li();wg();Dr();ni();oi();mi();Ot();Gt();en();n(kS,"createWorker")});qs();var Tg=(us(),Fg(Eg)),{parentPort:Po,workerData:Ss}=require("worker_threads");Ss!=null&&Ss.cwd&&(process.cwd=()=>Ss.cwd);Po.on("message",async({id:e,fn:t,args:r})=>{try{if(t==="getPrompt"){let o=await Tg.getPrompt(...r);Po.postMessage({id:e,res:o})}else{let o=await Tg[t](...r);Po.postMessage({id:e,res:o})}}catch(o){if(!(o instanceof Error))throw o;typeof o.code=="string"?Po.postMessage({id:e,err:o,code:o.code}):Po.postMessage({id:e,err:o})}});
//# sourceMappingURL=worker.js.map
